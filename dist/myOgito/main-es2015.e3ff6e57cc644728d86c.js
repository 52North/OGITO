(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+qDs":function(module,exports){module.exports="object"==typeof self?self.FormData:window.FormData},"+qE3":function(module,exports,__webpack_require__){"use strict";var ReflectOwnKeys,R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,console&&console.warn&&console.warn(w)}return target}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=onceWrapper.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.on=EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},"/4Cu":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_State_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bYNo"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EwAT"),_proj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("JW8z"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Source=function(_super){function Source(options){var _this=_super.call(this)||this;return _this.projection_=Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(options.projection),_this.attributions_=adaptAttributions(options.attributions),_this.attributionsCollapsible_=void 0===options.attributionsCollapsible||options.attributionsCollapsible,_this.loading=!1,_this.state_=void 0!==options.state?options.state:_State_js__WEBPACK_IMPORTED_MODULE_1__.a.READY,_this.wrapX_=void 0!==options.wrapX&&options.wrapX,_this}return __extends(Source,_super),Source.prototype.getAttributions=function(){return this.attributions_},Source.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},Source.prototype.getProjection=function(){return this.projection_},Source.prototype.getResolutions=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Source.prototype.getState=function(){return this.state_},Source.prototype.getWrapX=function(){return this.wrapX_},Source.prototype.getContextOptions=function(){},Source.prototype.refresh=function(){this.changed()},Source.prototype.setAttributions=function(attributions){this.attributions_=adaptAttributions(attributions),this.changed()},Source.prototype.setState=function(state){this.state_=state,this.changed()},Source}(_Object_js__WEBPACK_IMPORTED_MODULE_0__.a);function adaptAttributions(attributionLike){return attributionLike?Array.isArray(attributionLike)?function(frameState){return attributionLike}:"function"==typeof attributionLike?attributionLike:function(frameState){return[attributionLike]}:null}__webpack_exports__.a=Source},"/O31":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return METERS_PER_UNIT});var Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},METERS_PER_UNIT={};METERS_PER_UNIT[Units.DEGREES]=2*Math.PI*6370997/360,METERS_PER_UNIT[Units.FEET]=.3048,METERS_PER_UNIT[Units.METERS]=1,METERS_PER_UNIT[Units.USFEET]=1200/3937,__webpack_exports__.b=Units},"/U2p":function(module,__webpack_exports__,__webpack_require__){"use strict";function forEach(flatCoordinates,offset,end,stride,callback){for(var ret,point1=[flatCoordinates[offset],flatCoordinates[offset+1]],point2=[];offset+stride<end;offset+=stride){if(point2[0]=flatCoordinates[offset+stride],point2[1]=flatCoordinates[offset+stride+1],ret=callback(point1,point2))return ret;point1[0]=point2[0],point1[1]=point2[1]}return!1}__webpack_require__.d(__webpack_exports__,"a",function(){return forEach})},0:function(module,exports,__webpack_require__){module.exports=__webpack_require__("zUnb")},"01Jf":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("AdTM"),_Geometry_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("jzee"),_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("9iPr"),_extent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("CvXi"),_events_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),GeometryCollection=function(_super){function GeometryCollection(opt_geometries){var _this=_super.call(this)||this;return _this.geometries_=opt_geometries||null,_this.changeEventsKeys_=[],_this.listenGeometriesChange_(),_this}return __extends(GeometryCollection,_super),GeometryCollection.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(_events_js__WEBPACK_IMPORTED_MODULE_4__.c),this.changeEventsKeys_.length=0},GeometryCollection.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var i=0,ii=this.geometries_.length;i<ii;++i)this.changeEventsKeys_.push(Object(_events_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.geometries_[i],_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.a.CHANGE,this.changed,this))},GeometryCollection.prototype.clone=function(){var geometryCollection=new GeometryCollection(null);return geometryCollection.setGeometries(this.geometries_),geometryCollection.applyProperties(this),geometryCollection},GeometryCollection.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){if(minSquaredDistance<Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.e)(this.getExtent(),x,y))return minSquaredDistance;for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)minSquaredDistance=geometries[i].closestPointXY(x,y,closestPoint,minSquaredDistance);return minSquaredDistance},GeometryCollection.prototype.containsXY=function(x,y){for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)if(geometries[i].containsXY(x,y))return!0;return!1},GeometryCollection.prototype.computeExtent=function(extent){Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.l)(extent);for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.q)(extent,geometries[i].getExtent());return extent},GeometryCollection.prototype.getGeometries=function(){return cloneGeometries(this.geometries_)},GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_},GeometryCollection.prototype.getGeometriesArrayRecursive=function(){for(var geometriesArray=[],geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)geometries[i].getType()===this.getType()?geometriesArray=geometriesArray.concat(geometries[i].getGeometriesArrayRecursive()):geometriesArray.push(geometries[i]);return geometriesArray},GeometryCollection.prototype.getSimplifiedGeometry=function(squaredTolerance){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),squaredTolerance<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&squaredTolerance<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var simplifiedGeometries=[],geometries=this.geometries_,simplified=!1,i=0,ii=geometries.length;i<ii;++i){var geometry=geometries[i],simplifiedGeometry=geometry.getSimplifiedGeometry(squaredTolerance);simplifiedGeometries.push(simplifiedGeometry),simplifiedGeometry!==geometry&&(simplified=!0)}if(simplified){var simplifiedGeometryCollection=new GeometryCollection(null);return simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries),simplifiedGeometryCollection}return this.simplifiedGeometryMaxMinSquaredTolerance=squaredTolerance,this},GeometryCollection.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.GEOMETRY_COLLECTION},GeometryCollection.prototype.intersectsExtent=function(extent){for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)if(geometries[i].intersectsExtent(extent))return!0;return!1},GeometryCollection.prototype.isEmpty=function(){return 0===this.geometries_.length},GeometryCollection.prototype.rotate=function(angle,anchor){for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)geometries[i].rotate(angle,anchor);this.changed()},GeometryCollection.prototype.scale=function(sx,opt_sy,opt_anchor){var anchor=opt_anchor;anchor||(anchor=Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.x)(this.getExtent()));for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)geometries[i].scale(sx,opt_sy,anchor);this.changed()},GeometryCollection.prototype.setGeometries=function(geometries){this.setGeometriesArray(cloneGeometries(geometries))},GeometryCollection.prototype.setGeometriesArray=function(geometries){this.unlistenGeometriesChange_(),this.geometries_=geometries,this.listenGeometriesChange_(),this.changed()},GeometryCollection.prototype.applyTransform=function(transformFn){for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)geometries[i].applyTransform(transformFn);this.changed()},GeometryCollection.prototype.translate=function(deltaX,deltaY){for(var geometries=this.geometries_,i=0,ii=geometries.length;i<ii;++i)geometries[i].translate(deltaX,deltaY);this.changed()},GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),_super.prototype.disposeInternal.call(this)},GeometryCollection}(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a);function cloneGeometries(geometries){for(var clonedGeometries=[],i=0,ii=geometries.length;i<ii;++i)clonedGeometries.push(geometries[i].clone());return clonedGeometries}__webpack_exports__.a=GeometryCollection},"0FFk":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Collection_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4wAk"),_events_Event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("zvco"),_Property_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("v2Km"),_Pointer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("QQWy"),_functions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("V8uu"),_Object_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4mld"),_array_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("n15R"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),TranslateEvent=function(_super){function TranslateEvent(type,features,coordinate,startCoordinate,mapBrowserEvent){var _this=_super.call(this,type)||this;return _this.features=features,_this.coordinate=coordinate,_this.startCoordinate=startCoordinate,_this.mapBrowserEvent=mapBrowserEvent,_this}return __extends(TranslateEvent,_super),TranslateEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_1__.a),Translate=function(_super){function Translate(opt_options){var layerFilter,_this=this,options=opt_options||{};if((_this=_super.call(this,options)||this).lastCoordinate_=null,_this.startCoordinate_=null,_this.features_=void 0!==options.features?options.features:null,options.layers)if("function"==typeof options.layers)layerFilter=options.layers;else{var layers_1=options.layers;layerFilter=function(layer){return Object(_array_js__WEBPACK_IMPORTED_MODULE_6__.d)(layers_1,layer)}}else layerFilter=_functions_js__WEBPACK_IMPORTED_MODULE_4__.b;return _this.layerFilter_=layerFilter,_this.filter_=options.filter?options.filter:_functions_js__WEBPACK_IMPORTED_MODULE_4__.b,_this.hitTolerance_=options.hitTolerance?options.hitTolerance:0,_this.lastFeature_=null,_this.addEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_5__.b)(_Property_js__WEBPACK_IMPORTED_MODULE_2__.a.ACTIVE),_this.handleActiveChanged_),_this}return __extends(Translate,_super),Translate.prototype.handleDownEvent=function(event){if(this.lastFeature_=this.featuresAtPixel_(event.pixel,event.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=event.coordinate,this.lastCoordinate_=event.coordinate,this.handleMoveEvent(event);var features=this.features_||new _Collection_js__WEBPACK_IMPORTED_MODULE_0__.a([this.lastFeature_]);return this.dispatchEvent(new TranslateEvent("translatestart",features,event.coordinate,this.startCoordinate_,event)),!0}return!1},Translate.prototype.handleUpEvent=function(event){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(event);var features=this.features_||new _Collection_js__WEBPACK_IMPORTED_MODULE_0__.a([this.lastFeature_]);return this.dispatchEvent(new TranslateEvent("translateend",features,event.coordinate,this.startCoordinate_,event)),this.startCoordinate_=null,!0}return!1},Translate.prototype.handleDragEvent=function(event){if(this.lastCoordinate_){var newCoordinate=event.coordinate,deltaX_1=newCoordinate[0]-this.lastCoordinate_[0],deltaY_1=newCoordinate[1]-this.lastCoordinate_[1],features=this.features_||new _Collection_js__WEBPACK_IMPORTED_MODULE_0__.a([this.lastFeature_]);features.forEach(function(feature){var geom=feature.getGeometry();geom.translate(deltaX_1,deltaY_1),feature.setGeometry(geom)}),this.lastCoordinate_=newCoordinate,this.dispatchEvent(new TranslateEvent("translating",features,newCoordinate,this.startCoordinate_,event))}},Translate.prototype.handleMoveEvent=function(event){var elem=event.map.getViewport();this.featuresAtPixel_(event.pixel,event.map)?(elem.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),elem.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):elem.classList.remove("ol-grab","ol-grabbing")},Translate.prototype.featuresAtPixel_=function(pixel,map){return map.forEachFeatureAtPixel(pixel,(function(feature,layer){if(this.filter_(feature,layer)&&(!this.features_||Object(_array_js__WEBPACK_IMPORTED_MODULE_6__.d)(this.features_.getArray(),feature)))return feature}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},Translate.prototype.getHitTolerance=function(){return this.hitTolerance_},Translate.prototype.setHitTolerance=function(hitTolerance){this.hitTolerance_=hitTolerance},Translate.prototype.setMap=function(map){var oldMap=this.getMap();_super.prototype.setMap.call(this,map),this.updateState_(oldMap)},Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)},Translate.prototype.updateState_=function(oldMap){var map=this.getMap(),active=this.getActive();map&&active||(map=map||oldMap)&&map.getViewport().classList.remove("ol-grab","ol-grabbing")},Translate}(_Pointer_js__WEBPACK_IMPORTED_MODULE_3__.b);__webpack_exports__.a=Translate},"0Hnp":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},"0dQ4":function(module,exports){(function(){module.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},"0gJn":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"1+OA":function(module,exports,__webpack_require__){(function(){var NodeType,XMLDTDAttList,XMLDTDElement,XMLDTDEntity,XMLDTDNotation,XMLNamedNodeMap,XMLNode,isObject,hasProp={}.hasOwnProperty;isObject=__webpack_require__("RfOz").isObject,XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),XMLDTDAttList=__webpack_require__("GI8a"),XMLDTDEntity=__webpack_require__("FYWk"),XMLDTDElement=__webpack_require__("OzLs"),XMLDTDNotation=__webpack_require__("tuH/"),XMLNamedNodeMap=__webpack_require__("XCq/"),module.exports=function(superClass){function XMLDocType(parent,pubID,sysID){var child,i,len,ref,ref1,ref2;if(XMLDocType.__super__.constructor.call(this,parent),this.type=NodeType.DocType,parent.children)for(i=0,len=(ref=parent.children).length;i<len;i++)if((child=ref[i]).type===NodeType.Element){this.name=child.name;break}this.documentObject=parent,isObject(pubID)&&(pubID=(ref1=pubID).pubID,sysID=ref1.sysID),null==sysID&&(sysID=(ref2=[pubID,sysID])[0],pubID=ref2[1]),null!=pubID&&(this.pubID=this.stringify.dtdPubID(pubID)),null!=sysID&&(this.sysID=this.stringify.dtdSysID(sysID))}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDocType,superClass),Object.defineProperty(XMLDocType.prototype,"entities",{get:function(){var child,i,len,nodes,ref;for(nodes={},i=0,len=(ref=this.children).length;i<len;i++)(child=ref[i]).type!==NodeType.EntityDeclaration||child.pe||(nodes[child.name]=child);return new XMLNamedNodeMap(nodes)}}),Object.defineProperty(XMLDocType.prototype,"notations",{get:function(){var child,i,len,nodes,ref;for(nodes={},i=0,len=(ref=this.children).length;i<len;i++)(child=ref[i]).type===NodeType.NotationDeclaration&&(nodes[child.name]=child);return new XMLNamedNodeMap(nodes)}}),Object.defineProperty(XMLDocType.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(XMLDocType.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(XMLDocType.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),XMLDocType.prototype.element=function(name,value){var child;return child=new XMLDTDElement(this,name,value),this.children.push(child),this},XMLDocType.prototype.attList=function(elementName,attributeName,attributeType,defaultValueType,defaultValue){var child;return child=new XMLDTDAttList(this,elementName,attributeName,attributeType,defaultValueType,defaultValue),this.children.push(child),this},XMLDocType.prototype.entity=function(name,value){var child;return child=new XMLDTDEntity(this,!1,name,value),this.children.push(child),this},XMLDocType.prototype.pEntity=function(name,value){var child;return child=new XMLDTDEntity(this,!0,name,value),this.children.push(child),this},XMLDocType.prototype.notation=function(name,value){var child;return child=new XMLDTDNotation(this,name,value),this.children.push(child),this},XMLDocType.prototype.toString=function(options){return this.options.writer.docType(this,this.options.writer.filterOptions(options))},XMLDocType.prototype.ele=function(name,value){return this.element(name,value)},XMLDocType.prototype.att=function(elementName,attributeName,attributeType,defaultValueType,defaultValue){return this.attList(elementName,attributeName,attributeType,defaultValueType,defaultValue)},XMLDocType.prototype.ent=function(name,value){return this.entity(name,value)},XMLDocType.prototype.pent=function(name,value){return this.pEntity(name,value)},XMLDocType.prototype.not=function(name,value){return this.notation(name,value)},XMLDocType.prototype.up=function(){return this.root()||this.documentObject},XMLDocType.prototype.isEqualNode=function(node){return!!XMLDocType.__super__.isEqualNode.apply(this,arguments).isEqualNode(node)&&node.name===this.name&&node.publicId===this.publicId&&node.systemId===this.systemId},XMLDocType}(XMLNode)}).call(this)},"27Ei":function(module,exports,__webpack_require__){"use strict";module.exports=function(_ref){var name=_ref.name,type=_ref.type;this.uri=_ref.uri,this.name=name,this.type=type}},"2lwS":function(module,__webpack_exports__,__webpack_require__){"use strict";var Disposable=function(){function Disposable(){this.disposed=!1}return Disposable.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},Disposable.prototype.disposeInternal=function(){},Disposable}();__webpack_exports__.a=Disposable},"30zj":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},"3X/P":function(module,exports,__webpack_require__){module.exports=function(){var t={9662:function(t,e,n){var o=n(614),r=n(6330);t.exports=function(t){if(o(t))return t;throw TypeError(r(t)+" is not a function")}},9483:function(t,e,n){var o=n(4411),r=n(6330);t.exports=function(t){if(o(t))return t;throw TypeError(r(t)+" is not a constructor")}},6077:function(t,e,n){var o=n(614);t.exports=function(t){if("object"==typeof t||o(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},1223:function(t,e,n){var o=n(5112),r=n(30),i=n(3070),a=o("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:r(null)}),t.exports=function(t){s[a][t]=!0}},1530:function(t,e,n){"use strict";var o=n(8710).charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},9670:function(t,e,n){var o=n(111);t.exports=function(t){if(o(t))return t;throw TypeError(String(t)+" is not an object")}},8533:function(t,e,n){"use strict";var o=n(2092).forEach,r=n(9341)("forEach");t.exports=r?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,n){"use strict";var o=n(9974),r=n(7908),i=n(3411),a=n(7659),s=n(4411),u=n(7466),c=n(6135),l=n(8554),f=n(1246);t.exports=function(t){var e=r(t),n=s(this),d=arguments.length,p=d>1?arguments[1]:void 0,h=void 0!==p;h&&(p=o(p,d>2?arguments[2]:void 0,2));var v,g,y,m,b,x,w=f(e),E=0;if(!w||this==Array&&a(w))for(v=u(e.length),g=n?new this(v):Array(v);v>E;E++)x=h?p(e[E],E):e[E],c(g,E,x);else for(b=(m=l(e,w)).next,g=n?new this:[];!(y=b.call(m)).done;E++)x=h?i(m,p,[y.value,E],!0):y.value,c(g,E,x);return g.length=E,g}},1318:function(t,e,n){var o=n(5656),r=n(7466),i=n(1400),a=function(t){return function(e,n,a){var s,u=o(e),c=r(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var o=n(9974),r=n(8361),i=n(7908),a=n(7466),s=n(5417),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,d=7==t,p=5==t||f;return function(h,v,g,y){for(var m,b,x=i(h),w=r(x),E=o(v,g,3),O=a(w.length),S=0,k=y||s,I=e?k(h,O):n||d?k(h,0):void 0;O>S;S++)if((p||S in w)&&(b=E(m=w[S],S,x),t))if(e)I[S]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:u.call(I,m)}else switch(t){case 4:return!1;case 7:u.call(I,m)}return f?-1:c||l?l:I}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:function(t,e,n){var o=n(7293),r=n(5112),i=n(7392),a=r("species");t.exports=function(t){return i>=51||!o(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},9341:function(t,e,n){"use strict";var o=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&o(function(){n.call(null,e||function(){throw 1},1)})}},3671:function(t,e,n){var o=n(9662),r=n(7908),i=n(8361),a=n(7466),s=function(t){return function(e,n,s,u){o(n);var c=r(e),l=i(c),f=a(c.length),d=t?f-1:0,p=t?-1:1;if(s<2)for(;;){if(d in l){u=l[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in l&&(u=n(u,l[d],d,c));return u}};t.exports={left:s(!1),right:s(!0)}},4362:function(t){var e=Math.floor,n=function(t,i){var a=t.length,s=e(a/2);return a<8?o(t,i):r(n(t.slice(0,s),i),n(t.slice(s),i),i)},o=function(t,e){for(var n,o,r=t.length,i=1;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},r=function(t,e,n){for(var o=t.length,r=e.length,i=0,a=0,s=[];i<o||a<r;)s.push(i<o&&a<r?n(t[i],e[a])<=0?t[i++]:e[a++]:i<o?t[i++]:e[a++]);return s};t.exports=n},7475:function(t,e,n){var o=n(3157),r=n(4411),i=n(111),a=n(5112)("species");t.exports=function(t){var e;return o(t)&&(r(e=t.constructor)&&(e===Array||o(e.prototype))||i(e)&&null===(e=e[a]))&&(e=void 0),void 0===e?Array:e}},5417:function(t,e,n){var o=n(7475);t.exports=function(t,e){return new(o(t))(0===e?0:e)}},3411:function(t,e,n){var o=n(9670),r=n(9212);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){r(t,"throw",e)}}},7072:function(t,e,n){var o=n(5112)("iterator"),r=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){r=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i={};i[o]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var o=n(1694),r=n(614),i=n(4326),a=n(5112)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=o?i:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:s?i(e):"Object"==(o=i(e))&&r(e.callee)?"Arguments":o}},9920:function(t,e,n){var o=n(6656),r=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e){for(var n=r(e),s=a.f,u=i.f,c=0;c<n.length;c++){var l=n[c];o(t,l)||s(t,l,u(e,l))}}},4964:function(t,e,n){var o=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,n){var o=n(7293);t.exports=!o(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},4994:function(t,e,n){"use strict";var o=n(3383).IteratorPrototype,r=n(30),i=n(9114),a=n(8003),s=n(7497),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=r(o,{next:i(1,n)}),a(t,c,!1,!0),s[c]=u,t}},8880:function(t,e,n){var o=n(9781),r=n(3070),i=n(9114);t.exports=o?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var o=n(4948),r=n(3070),i=n(9114);t.exports=function(t,e,n){var a=o(e);a in t?r.f(t,a,i(0,n)):t[a]=n}},654:function(t,e,n){"use strict";var o=n(2109),r=n(1913),i=n(6530),a=n(614),s=n(4994),u=n(9518),c=n(7674),l=n(8003),f=n(8880),d=n(1320),p=n(5112),h=n(7497),v=n(3383),g=i.PROPER,y=i.CONFIGURABLE,m=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,x=p("iterator"),w="keys",E="values",O="entries",S=function(){return this};t.exports=function(t,e,n,i,p,v,k){s(n,e,i);var I,C,P,A=function(t){if(t===p&&j)return j;if(!b&&t in N)return N[t];switch(t){case w:case E:case O:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",T=!1,N=t.prototype,D=N[x]||N["@@iterator"]||p&&N[p],j=!b&&D||A(p),L="Array"==e&&N.entries||D;if(L&&(I=u(L.call(new t)))!==Object.prototype&&I.next&&(r||u(I)===m||(c?c(I,m):a(I[x])||d(I,x,S)),l(I,M,!0,!0),r&&(h[M]=S)),g&&p==E&&D&&D.name!==E&&(!r&&y?f(N,"name",E):(T=!0,j=function(){return D.call(this)})),p)if(C={values:A(E),keys:v?j:A(w),entries:A(O)},k)for(P in C)(b||T||!(P in N))&&d(N,P,C[P]);else o({target:e,proto:!0,forced:b||T},C);return r&&!k||N[x]===j||d(N,x,j,{name:p}),h[e]=j,C}},7235:function(t,e,n){var o=n(857),r=n(6656),i=n(6061),a=n(3070).f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});r(e,t)||a(e,t,{value:i.f(t)})}},9781:function(t,e,n){var o=n(7293);t.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},317:function(t,e,n){var o=n(7854),r=n(111),i=o.document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var o=n(317)("span").classList,r=o&&o.constructor&&o.constructor.prototype;t.exports=r===Object.prototype?void 0:r},8886:function(t,e,n){var o=n(8113).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},256:function(t,e,n){var o=n(8113);t.exports=/MSIE|Trident/.test(o)},5268:function(t,e,n){var o=n(4326),r=n(7854);t.exports="process"==o(r.process)},8113:function(t,e,n){var o=n(5005);t.exports=o("navigator","userAgent")||""},7392:function(t,e,n){var o,r,i=n(7854),a=n(8113),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l?r=(o=l.split("."))[0]<4?1:o[0]+o[1]:a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(r=o[1]),t.exports=r&&+r},8008:function(t,e,n){var o=n(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var o=n(7854),r=n(1236).f,i=n(8880),a=n(1320),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,f,d,p,h=t.target,v=t.global,g=t.stat;if(n=v?o:g?o[h]||s(h,{}):(o[h]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(p=r(n,l))&&p.value:n[l],!c(v?l:h+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var o=n(1320),r=n(2261),i=n(7293),a=n(5112),s=n(8880),u=a("species"),c=RegExp.prototype;t.exports=function(t,e,n,l){var f=a(t),d=!i(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d&&!i(function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e});if(!d||!p||n){var h=/./[f],v=e(f,""[t],function(t,e,n,o,i){var a=e.exec;return a===r||a===c.exec?d&&!i?{done:!0,value:h.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}});o(String.prototype,t,v[0]),o(c,f,v[1])}l&&s(c[f],"sham",!0)}},9974:function(t,e,n){var o=n(9662);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},6530:function(t,e,n){var o=n(9781),r=n(6656),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=r(i,"name"),u=s&&"something"===(function(){}).name,c=s&&(!o||o&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},5005:function(t,e,n){var o=n(7854),r=n(614),i=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(o[t]):o[t]&&o[t][e]}},1246:function(t,e,n){var o=n(648),r=n(8173),i=n(7497),a=n(5112)("iterator");t.exports=function(t){if(null!=t)return r(t,a)||r(t,"@@iterator")||i[o(t)]}},8554:function(t,e,n){var o=n(9662),r=n(9670),i=n(1246);t.exports=function(t,e){var n=arguments.length<2?i(t):e;if(o(n))return r(n.call(t));throw TypeError(String(t)+" is not iterable")}},8173:function(t,e,n){var o=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:o(n)}},647:function(t,e,n){var o=n(7908),r=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,u,c,l){var f=n+t.length,d=u.length,p=s;return void 0!==c&&(c=o(c),p=a),i.call(l,p,function(o,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(f);case"<":a=c[i.slice(1,-1)];break;default:var s=+i;if(0===s)return o;if(s>d){var l=r(s/10);return 0===l?o:l<=d?void 0===u[l-1]?i.charAt(1):u[l-1]+i.charAt(1):o}a=u[s-1]}return void 0===a?"":a})}},7854:function(t,e,n){var o=function(t){return t&&t.Math==Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t,e,n){var o=n(7908),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(o(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var o=n(5005);t.exports=o("document","documentElement")},4664:function(t,e,n){var o=n(9781),r=n(7293),i=n(317);t.exports=!o&&!r(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},8361:function(t,e,n){var o=n(7293),r=n(4326),i="".split;t.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?i.call(t,""):Object(t)}:Object},9587:function(t,e,n){var o=n(614),r=n(111),i=n(7674);t.exports=function(t,e,n){var a,s;return i&&o(a=e.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&i(t,s),t}},2788:function(t,e,n){var o=n(614),r=n(5465),i=Function.toString;o(r.inspectSource)||(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var o,r,i,a=n(8536),s=n(7854),u=n(111),c=n(8880),l=n(6656),f=n(5465),d=n(6200),p=n(3501),h="Object already initialized";if(a||f.state){var g=f.state||(f.state=new(0,s.WeakMap)),y=g.get,m=g.has,b=g.set;o=function(t,e){if(m.call(g,t))throw new TypeError(h);return e.facade=t,b.call(g,t,e),e},r=function(t){return y.call(g,t)||{}},i=function(t){return m.call(g,t)}}else{var x=d("state");p[x]=!0,o=function(t,e){if(l(t,x))throw new TypeError(h);return e.facade=t,c(t,x,e),e},r=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:o,get:r,has:i,enforce:function(t){return i(t)?r(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var o=n(5112),r=n(7497),i=o("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},3157:function(t,e,n){var o=n(4326);t.exports=Array.isArray||function(t){return"Array"==o(t)}},614:function(t){t.exports=function(t){return"function"==typeof t}},4411:function(t,e,n){var o=n(7293),r=n(614),i=n(648),a=n(5005),s=n(2788),u=[],c=a("Reflect","construct"),l=/^\s*(?:class|function)\b/,f=l.exec,d=!l.exec(function(){}),p=function(t){if(!r(t))return!1;try{return c(Object,u,t),!0}catch(t){return!1}};t.exports=!c||o(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?function(t){if(!r(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return d||!!f.call(l,s(t))}:p},4705:function(t,e,n){var o=n(7293),r=n(614),i=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(r(e)?o(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},8730:function(t,e,n){var o=n(111),r=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&r(t)===t}},111:function(t,e,n){var o=n(614);t.exports=function(t){return"object"==typeof t?null!==t:o(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var o=n(111),r=n(4326),i=n(5112)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},2190:function(t,e,n){var o=n(614),r=n(5005),i=n(3307);t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&Object(t)instanceof e}},9212:function(t,e,n){var o=n(9670),r=n(8173);t.exports=function(t,e,n){var i,a;o(t);try{if(!(i=r(t,"return"))){if("throw"===e)throw n;return n}i=i.call(t)}catch(t){a=!0,i=t}if("throw"===e)throw n;if(a)throw i;return o(i),n}},3383:function(t,e,n){"use strict";var o,r,i,a=n(7293),s=n(614),u=n(30),c=n(9518),l=n(1320),f=n(5112),d=n(1913),p=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(r=c(c(i)))!==Object.prototype&&(o=r):h=!0),null==o||a(function(){var t={};return o[p].call(t)!==t})?o={}:d&&(o=u(o)),s(o[p])||l(o,p,function(){return this}),t.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},7497:function(t){t.exports={}},133:function(t,e,n){var o=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41})},8536:function(t,e,n){var o=n(7854),r=n(614),i=n(2788),a=o.WeakMap;t.exports=r(a)&&/native code/.test(i(a))},3929:function(t,e,n){var o=n(7850);t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){"use strict";var o=n(9781),r=n(7293),i=n(1956),a=n(5181),s=n(5296),u=n(7908),c=n(8361),l=Object.assign,f=Object.defineProperty;t.exports=!l||r(function(){if(o&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||i(l({},e)).join("")!=r})?function(t,e){for(var n=u(t),r=arguments.length,l=1,f=a.f,d=s.f;r>l;)for(var p,h=c(arguments[l++]),v=f?i(h).concat(f(h)):i(h),g=v.length,y=0;g>y;)p=v[y++],o&&!d.call(h,p)||(n[p]=h[p]);return n}:l},30:function(t,e,n){var o,r=n(9670),i=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),f=n(6200)("IE_PROTO"),d=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{o=new ActiveXObject("htmlfile")}catch(t){}var t,e;v="undefined"!=typeof document?document.domain&&o?h(o):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):h(o);for(var n=a.length;n--;)delete v.prototype[a[n]];return v()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=r(t),n=new d,d.prototype=null,n[f]=t):n=v(),void 0===e?n:i(n,e)}},6048:function(t,e,n){var o=n(9781),r=n(3070),i=n(9670),a=n(1956);t.exports=o?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,u=0;s>u;)r.f(t,n=o[u++],e[n]);return t}},3070:function(t,e,n){var o=n(9781),r=n(4664),i=n(9670),a=n(4948),s=Object.defineProperty;e.f=o?s:function(t,e,n){if(i(t),e=a(e),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var o=n(9781),r=n(5296),i=n(9114),a=n(5656),s=n(4948),u=n(6656),c=n(4664),l=Object.getOwnPropertyDescriptor;e.f=o?l:function(t,e){if(t=a(t),e=s(e),c)try{return l(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},1156:function(t,e,n){var o=n(5656),r=n(8006).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(o(t))}},8006:function(t,e,n){var o=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var o=n(6656),r=n(614),i=n(7908),a=n(6200),s=n(8544),u=a("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){var e=i(t);if(o(e,u))return e[u];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof Object?c:null}},6324:function(t,e,n){var o=n(6656),r=n(5656),i=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)!o(a,n)&&o(s,n)&&c.push(n);for(;e.length>u;)o(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},1956:function(t,e,n){var o=n(6324),r=n(748);t.exports=Object.keys||function(t){return o(t,r)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},9026:function(t,e,n){"use strict";var o=n(1913),r=n(7854),i=n(7293),a=n(8008);t.exports=o||!i(function(){if(!(a&&a<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r[t]}})},7674:function(t,e,n){var o=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return o(n),r(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},288:function(t,e,n){"use strict";var o=n(1694),r=n(648);t.exports=o?{}.toString:function(){return"[object "+r(this)+"]"}},2140:function(t,e,n){var o=n(614),r=n(111);t.exports=function(t,e){var n,i;if("string"===e&&o(n=t.toString)&&!r(i=n.call(t)))return i;if(o(n=t.valueOf)&&!r(i=n.call(t)))return i;if("string"!==e&&o(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},3887:function(t,e,n){var o=n(5005),r=n(8006),i=n(5181),a=n(9670);t.exports=o("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},857:function(t,e,n){var o=n(7854);t.exports=o},1320:function(t,e,n){var o=n(7854),r=n(614),i=n(6656),a=n(8880),s=n(3505),u=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,f=c.get,d=c.enforce,p=String(String).split("String");(t.exports=function(t,e,n,u){var c,f=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:e;r(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==g)&&a(n,"name",g),(c=d(n)).source||(c.source=p.join("string"==typeof g?g:""))),t!==o?(f?!v&&t[e]&&(h=!0):delete t[e],h?t[e]=n:a(t,e,n)):h?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return r(this)&&f(this).source||u(this)})},7651:function(t,e,n){var o=n(9670),r=n(614),i=n(4326),a=n(2261);t.exports=function(t,e){var n=t.exec;if(r(n)){var s=n.call(t,e);return null!==s&&o(s),s}if("RegExp"===i(t))return a.call(t,e);throw TypeError("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var o,r,i=n(1340),a=n(7066),s=n(2999),u=n(2309),c=n(30),l=n(9909).get,f=n(9441),d=n(7168),p=RegExp.prototype.exec,h=u("native-string-replace",String.prototype.replace),v=p,g=(r=/b*/g,p.call(o=/a/,"a"),p.call(r,"a"),0!==o.lastIndex||0!==r.lastIndex),y=s.UNSUPPORTED_Y||s.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(g||m||y||f||d)&&(v=function(t){var e,n,o,r,s,u,f,d=this,b=l(d),x=i(t),w=b.raw;if(w)return w.lastIndex=d.lastIndex,e=v.call(w,x),d.lastIndex=w.lastIndex,e;var E=b.groups,O=y&&d.sticky,S=a.call(d),k=d.source,I=0,C=x;if(O&&(-1===(S=S.replace("y","")).indexOf("g")&&(S+="g"),C=x.slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==x.charAt(d.lastIndex-1))&&(k="(?: "+k+")",C=" "+C,I++),n=new RegExp("^(?:"+k+")",S)),m&&(n=new RegExp("^"+k+"$(?!\\s)",S)),g&&(o=d.lastIndex),r=p.call(O?n:d,C),O?r?(r.input=r.input.slice(I),r[0]=r[0].slice(I),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:g&&r&&(d.lastIndex=d.global?r.index+r[0].length:o),m&&r&&r.length>1&&h.call(r[0],n,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)}),r&&E)for(r.groups=u=c(null),s=0;s<E.length;s++)u[(f=E[s])[0]]=r[f[1]];return r}),t.exports=v},7066:function(t,e,n){"use strict";var o=n(9670);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){var o=n(7293),r=n(7854).RegExp;e.UNSUPPORTED_Y=o(function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=o(function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},9441:function(t,e,n){var o=n(7293),r=n(7854).RegExp;t.exports=o(function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})},7168:function(t,e,n){var o=n(7293),r=n(7854).RegExp;t.exports=o(function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var o=n(7854);t.exports=function(t,e){try{Object.defineProperty(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e}},6340:function(t,e,n){"use strict";var o=n(5005),r=n(3070),i=n(5112),a=n(9781),s=i("species");t.exports=function(t){var e=o(t);a&&e&&!e[s]&&(0,r.f)(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var o=n(3070).f,r=n(6656),i=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},6200:function(t,e,n){var o=n(2309),r=n(9711),i=o("keys");t.exports=function(t){return i[t]||(i[t]=r(t))}},5465:function(t,e,n){var o=n(7854),r=n(3505),i="__core-js_shared__",a=o[i]||r(i,{});t.exports=a},2309:function(t,e,n){var o=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.1",mode:o?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var o=n(9670),r=n(9483),i=n(5112)("species");t.exports=function(t,e){var n,a=o(t).constructor;return void 0===a||null==(n=o(a)[i])?e:r(n)}},8710:function(t,e,n){var o=n(9958),r=n(1340),i=n(4488),a=function(t){return function(e,n){var a,s,u=r(i(e)),c=o(n),l=u.length;return c<0||c>=l?t?"":void 0:(a=u.charCodeAt(c))<55296||a>56319||c+1===l||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):a:t?u.slice(c,c+2):s-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},6091:function(t,e,n){var o=n(6530).PROPER,r=n(7293),i=n(1361);t.exports=function(t){return r(function(){return!!i[t]()||""!==""[t]()||o&&i[t].name!==t})}},3111:function(t,e,n){var o=n(4488),r=n(1340),i="["+n(1361)+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),u=function(t){return function(e){var n=r(o(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},1400:function(t,e,n){var o=n(9958),r=Math.max,i=Math.min;t.exports=function(t,e){var n=o(t);return n<0?r(n+e,0):i(n,e)}},5656:function(t,e,n){var o=n(8361),r=n(4488);t.exports=function(t){return o(r(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var o=n(9958),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},7908:function(t,e,n){var o=n(4488);t.exports=function(t){return Object(o(t))}},7593:function(t,e,n){var o=n(111),r=n(2190),i=n(8173),a=n(2140),s=n(5112)("toPrimitive");t.exports=function(t,e){if(!o(t)||r(t))return t;var n,u=i(t,s);if(u){if(void 0===e&&(e="default"),n=u.call(t,e),!o(n)||r(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:function(t,e,n){var o=n(7593),r=n(2190);t.exports=function(t){var e=o(t,"string");return r(e)?e:String(e)}},1694:function(t,e,n){var o={};o[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var o=n(648);t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},6330:function(t){t.exports=function(t){try{return String(t)}catch(t){return"Object"}}},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var o=n(133);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(t,e,n){var o=n(5112);e.f=o},5112:function(t,e,n){var o=n(7854),r=n(2309),i=n(6656),a=n(9711),s=n(133),u=n(3307),c=r("wks"),l=o.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return i(c,t)&&(s||"string"==typeof c[t])||(c[t]=s&&i(l,t)?l[t]:f("Symbol."+t)),c[t]}},1361:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:function(t,e,n){"use strict";var o=n(2109),r=n(7293),i=n(3157),a=n(111),s=n(7908),u=n(7466),c=n(6135),l=n(5417),f=n(1194),d=n(5112),p=n(7392),h=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",y=p>=51||!r(function(){var t=[];return t[h]=!1,t.concat()[0]!==t}),m=f("concat"),b=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)};o({target:"Array",proto:!0,forced:!y||!m},{concat:function(t){var e,n,o,r,i,a=s(this),f=l(a,0),d=0;for(e=-1,o=arguments.length;e<o;e++)if(b(i=-1===e?a:arguments[e])){if(d+(r=u(i.length))>v)throw TypeError(g);for(n=0;n<r;n++,d++)n in i&&c(f,d,i[n])}else{if(d>=v)throw TypeError(g);c(f,d++,i)}return f.length=d,f}})},7327:function(t,e,n){"use strict";var o=n(2109),r=n(2092).filter;o({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:function(t,e,n){var o=n(2109),r=n(8457);o({target:"Array",stat:!0,forced:!n(7072)(function(t){Array.from(t)})},{from:r})},6699:function(t,e,n){"use strict";var o=n(2109),r=n(1318).includes,i=n(1223);o({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},2772:function(t,e,n){"use strict";var o=n(2109),r=n(1318).indexOf,i=n(9341),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,u=i("indexOf");o({target:"Array",proto:!0,forced:s||!u},{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},6992:function(t,e,n){"use strict";var o=n(5656),r=n(1223),i=n(7497),a=n(9909),s=n(654),u="Array Iterator",c=a.set,l=a.getterFor(u);t.exports=s(Array,"Array",function(t,e){c(this,{type:u,target:o(t),index:0,kind:e})},function(){var t=l(this),e=t.target,n=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},9600:function(t,e,n){"use strict";var o=n(2109),r=n(8361),i=n(5656),a=n(9341),s=[].join,u=r!=Object,c=a("join",",");o({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},1249:function(t,e,n){"use strict";var o=n(2109),r=n(2092).map;o({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:function(t,e,n){"use strict";var o=n(2109),r=n(3671).left,i=n(9341),a=n(7392),s=n(5268);o({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,n){"use strict";var o=n(2109),r=n(3157),i=n(4411),a=n(111),s=n(1400),u=n(7466),c=n(5656),l=n(6135),f=n(5112),d=n(1194)("slice"),p=f("species"),h=[].slice,v=Math.max;o({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,o,f,d=c(this),g=u(d.length),y=s(t,g),m=s(void 0===e?g:e,g);if(r(d)&&((i(n=d.constructor)&&(n===Array||r(n.prototype))||a(n)&&null===(n=n[p]))&&(n=void 0),n===Array||void 0===n))return h.call(d,y,m);for(o=new(void 0===n?Array:n)(v(m-y,0)),f=0;y<m;y++,f++)y in d&&l(o,f,d[y]);return o.length=f,o}})},2707:function(t,e,n){"use strict";var o=n(2109),r=n(9662),i=n(7908),a=n(7466),s=n(1340),u=n(7293),c=n(4362),l=n(9341),f=n(8886),d=n(256),p=n(7392),h=n(8008),v=[],g=v.sort,y=u(function(){v.sort(void 0)}),m=u(function(){v.sort(null)}),b=l("sort"),x=!u(function(){if(p)return p<70;if(!(f&&f>3)){if(d)return!0;if(h)return h<603;var t,e,n,o,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)v.push({k:e+o,v:n})}for(v.sort(function(t,e){return e.v-t.v}),o=0;o<v.length;o++)e=v[o].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}});o({target:"Array",proto:!0,forced:y||!m||!b||!x},{sort:function(t){void 0!==t&&r(t);var e=i(this);if(x)return void 0===t?g.call(e):g.call(e,t);var n,o,u=[],l=a(e.length);for(o=0;o<l;o++)o in e&&u.push(e[o]);for(n=(u=c(u,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}}(t))).length,o=0;o<n;)e[o]=u[o++];for(;o<l;)delete e[o++];return e}})},561:function(t,e,n){"use strict";var o=n(2109),r=n(1400),i=n(9958),a=n(7466),s=n(7908),u=n(5417),c=n(6135),l=n(1194)("splice"),f=Math.max,d=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,o,l,v,g,y,m=s(this),b=a(m.length),x=r(t,b),w=arguments.length;if(0===w?n=o=0:1===w?(n=0,o=b-x):(n=w-2,o=d(f(i(e),0),b-x)),b+n-o>p)throw TypeError(h);for(l=u(m,o),v=0;v<o;v++)(g=x+v)in m&&c(l,v,m[g]);if(l.length=o,n<o){for(v=x;v<b-o;v++)y=v+n,(g=v+o)in m?m[y]=m[g]:delete m[y];for(v=b;v>b-o+n;v--)delete m[v-1]}else if(n>o)for(v=b-o;v>x;v--)y=v+n-1,(g=v+o-1)in m?m[y]=m[g]:delete m[y];for(v=0;v<n;v++)m[v+x]=arguments[v+2];return m.length=b-o+n,l}})},8309:function(t,e,n){var o=n(9781),r=n(6530).EXISTS,i=n(3070).f,a=Function.prototype,s=a.toString,u=/^\s*function ([^ (]*)/;o&&!r&&i(a,"name",{configurable:!0,get:function(){try{return s.call(this).match(u)[1]}catch(t){return""}}})},9653:function(t,e,n){"use strict";var o=n(9781),r=n(7854),i=n(4705),a=n(1320),s=n(6656),u=n(4326),c=n(9587),l=n(2190),f=n(7593),d=n(7293),p=n(30),h=n(8006).f,v=n(1236).f,g=n(3070).f,y=n(3111).trim,m="Number",b=r.Number,x=b.prototype,w=u(p(x))==m,E=function(t){if(l(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,o,r,i,a,s,u,c=f(t,"number");if("string"==typeof c&&c.length>2)if(43===(e=(c=y(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>r)return NaN;return parseInt(i,o)}return+c};if(i(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var O,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(w?d(function(){x.valueOf.call(n)}):u(n)!=m)?c(new b(E(e)),n,S):E(e)},k=o?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;k.length>I;I++)s(b,O=k[I])&&!s(S,O)&&g(S,O,v(b,O));S.prototype=x,x.constructor=S,a(r,m,S)}},3161:function(t,e,n){n(2109)({target:"Number",stat:!0},{isInteger:n(8730)})},9601:function(t,e,n){var o=n(2109),r=n(1574);o({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},9595:function(t,e,n){"use strict";var o=n(2109),r=n(9781),i=n(9026),a=n(9662),s=n(7908),u=n(3070);r&&o({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){u.f(s(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},5003:function(t,e,n){var o=n(2109),r=n(7293),i=n(5656),a=n(1236).f,s=n(9781),u=r(function(){a(1)});o({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},9337:function(t,e,n){var o=n(2109),r=n(9781),i=n(3887),a=n(5656),s=n(1236),u=n(6135);o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,n,o=a(t),r=s.f,c=i(o),l={},f=0;c.length>f;)void 0!==(n=r(o,e=c[f++]))&&u(l,e,n);return l}})},6210:function(t,e,n){var o=n(2109),r=n(7293),i=n(1156).f;o({target:"Object",stat:!0,forced:r(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},7941:function(t,e,n){var o=n(2109),r=n(7908),i=n(1956);o({target:"Object",stat:!0,forced:n(7293)(function(){i(1)})},{keys:function(t){return i(r(t))}})},1539:function(t,e,n){var o=n(1694),r=n(1320),i=n(288);o||r(Object.prototype,"toString",i,{unsafe:!0})},4603:function(t,e,n){var o=n(9781),r=n(7854),i=n(4705),a=n(9587),s=n(8880),u=n(3070).f,c=n(8006).f,l=n(7850),f=n(1340),d=n(7066),p=n(2999),h=n(1320),v=n(7293),g=n(6656),y=n(9909).enforce,m=n(6340),b=n(5112),x=n(9441),w=n(7168),E=b("match"),O=r.RegExp,S=O.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,I=/a/g,C=/a/g,P=new O(I)!==I,A=p.UNSUPPORTED_Y;if(i("RegExp",o&&(!P||A||x||w||v(function(){return C[E]=!1,O(I)!=I||O(C)==C||"/a/i"!=O(I,"i")})))){for(var T=function(t,e){var n,o,r,i,u,c,p=this instanceof T,h=l(t),v=void 0===e,m=[],b=t;if(!p&&h&&v&&t.constructor===T)return t;if((h||t instanceof T)&&(t=t.source,v&&(e="flags"in b?b.flags:d.call(b))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),b=t,x&&"dotAll"in I&&(o=!!e&&e.indexOf("s")>-1)&&(e=e.replace(/s/g,"")),n=e,A&&"sticky"in I&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,"")),w&&(t=(i=function(t){for(var e,n=t.length,o=0,r="",i=[],a={},s=!1,u=!1,c=0,l="";o<=n;o++){if("\\"===(e=t.charAt(o)))e+=t.charAt(++o);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:k.test(t.slice(o+1))&&(o+=2,u=!0),r+=e,c++;continue;case">"===e&&u:if(""===l||g(a,l))throw new SyntaxError("Invalid capture group name");a[l]=!0,i.push([l,c]),u=!1,l="";continue}u?l+=e:r+=e}return[r,i]}(t))[0],m=i[1]),u=a(O(t,e),p?this:S,T),(o||r||m.length)&&(c=y(u),o&&(c.dotAll=!0,c.raw=T(function(t){for(var e,n=t.length,o=0,r="",i=!1;o<=n;o++)"\\"!==(e=t.charAt(o))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),r+=e):r+="[\\s\\S]":r+=e+t.charAt(++o);return r}(t),n)),r&&(c.sticky=!0),m.length&&(c.groups=m)),t!==b)try{s(u,"source",""===b?"(?:)":b)}catch(t){}return u},N=function(t){t in T||u(T,t,{configurable:!0,get:function(){return O[t]},set:function(e){O[t]=e}})},D=c(O),j=0;D.length>j;)N(D[j++]);S.constructor=T,T.prototype=S,h(r,"RegExp",T)}m("RegExp")},4916:function(t,e,n){"use strict";var o=n(2109),r=n(2261);o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:function(t,e,n){"use strict";var o=n(6530).PROPER,r=n(1320),i=n(9670),a=n(1340),s=n(7293),u=n(7066),c="toString",l=RegExp.prototype,f=l.toString;(s(function(){return"/a/b"!=f.call({source:"a",flags:"b"})})||o&&f.name!=c)&&r(RegExp.prototype,c,function(){var t=i(this),e=a(t.source),n=t.flags;return"/"+e+"/"+a(void 0===n&&t instanceof RegExp&&!("flags"in l)?u.call(t):n)},{unsafe:!0})},2023:function(t,e,n){"use strict";var o=n(2109),r=n(3929),i=n(4488),a=n(1340);o({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(t){return!!~a(i(this)).indexOf(a(r(t)),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,n){"use strict";var o=n(8710).charAt,r=n(1340),i=n(9909),a=n(654),s="String Iterator",u=i.set,c=i.getterFor(s);a(String,"String",function(t){u(this,{type:s,string:r(t),index:0})},function(){var t,e=c(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=o(n,r),e.index+=t.length,{value:t,done:!1})})},4723:function(t,e,n){"use strict";var o=n(7007),r=n(9670),i=n(7466),a=n(1340),s=n(4488),u=n(8173),c=n(1530),l=n(7651);o("match",function(t,e,n){return[function(e){var n=s(this),o=null==e?void 0:u(e,t);return o?o.call(e,n):new RegExp(e)[t](a(n))},function(t){var o=r(this),s=a(t),u=n(e,o,s);if(u.done)return u.value;if(!o.global)return l(o,s);var f=o.unicode;o.lastIndex=0;for(var d,p=[],h=0;null!==(d=l(o,s));){var v=a(d[0]);p[h]=v,""===v&&(o.lastIndex=c(s,i(o.lastIndex),f)),h++}return 0===h?null:p}]})},5306:function(t,e,n){"use strict";var o=n(7007),r=n(7293),i=n(9670),a=n(614),s=n(9958),u=n(7466),c=n(1340),l=n(4488),f=n(1530),d=n(8173),p=n(647),h=n(7651),v=n(5112)("replace"),g=Math.max,y=Math.min,m="$0"==="a".replace(/./,"$0"),b=!!/./[v]&&""===/./[v]("a","$0");o("replace",function(t,e,n){var o=b?"$":"$0";return[function(t,n){var o=l(this),r=null==t?void 0:d(t,v);return r?r.call(t,o,n):e.call(c(o),t,n)},function(t,r){var l=i(this),d=c(t);if("string"==typeof r&&-1===r.indexOf(o)&&-1===r.indexOf("$<")){var v=n(e,l,d,r);if(v.done)return v.value}var m=a(r);m||(r=c(r));var b=l.global;if(b){var x=l.unicode;l.lastIndex=0}for(var w=[];;){var E=h(l,d);if(null===E)break;if(w.push(E),!b)break;""===c(E[0])&&(l.lastIndex=f(d,u(l.lastIndex),x))}for(var O,S="",k=0,I=0;I<w.length;I++){for(var C=c((E=w[I])[0]),P=g(y(s(E.index),d.length),0),A=[],M=1;M<E.length;M++)A.push(void 0===(O=E[M])?O:String(O));var T=E.groups;if(m){var N=[C].concat(A,P,d);void 0!==T&&N.push(T);var D=c(r.apply(void 0,N))}else D=p(C,d,P,A,T,r);P>=k&&(S+=d.slice(k,P)+D,k=P+C.length)}return S+d.slice(k)}]},!!r(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!m||b)},3123:function(t,e,n){"use strict";var o=n(7007),r=n(7850),i=n(9670),a=n(4488),s=n(6707),u=n(1530),c=n(7466),l=n(1340),f=n(8173),d=n(7651),p=n(2261),h=n(2999),v=n(7293),g=h.UNSUPPORTED_Y,y=[].push,m=Math.min,b=4294967295;o("split",function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=l(a(this)),i=void 0===n?b:n>>>0;if(0===i)return[];if(void 0===t)return[o];if(!r(t))return e.call(o,t,i);for(var s,u,c,f=[],h=0,v=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(s=p.call(v,o))&&!((u=v.lastIndex)>h&&(f.push(o.slice(h,s.index)),s.length>1&&s.index<o.length&&y.apply(f,s.slice(1)),c=s[0].length,h=u,f.length>=i));)v.lastIndex===s.index&&v.lastIndex++;return h===o.length?!c&&v.test("")||f.push(""):f.push(o.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),i=null==e?void 0:f(e,t);return i?i.call(e,r,n):o.call(l(r),e,n)},function(t,r){var a=i(this),f=l(t),p=n(o,a,f,r,o!==e);if(p.done)return p.value;var h=s(a,RegExp),v=a.unicode,x=new h(g?"^(?:"+a.source+")":a,(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y")),w=void 0===r?b:r>>>0;if(0===w)return[];if(0===f.length)return null===d(x,f)?[f]:[];for(var E=0,O=0,S=[];O<f.length;){x.lastIndex=g?0:O;var k,I=d(x,g?f.slice(O):f);if(null===I||(k=m(c(x.lastIndex+(g?O:0)),f.length))===E)O=u(f,O,v);else{if(S.push(f.slice(E,O)),S.length===w)return S;for(var C=1;C<=I.length-1;C++)if(S.push(I[C]),S.length===w)return S;O=E=k}}return S.push(f.slice(E)),S}]},!!v(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),g)},3210:function(t,e,n){"use strict";var o=n(2109),r=n(3111).trim;o({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},1817:function(t,e,n){"use strict";var o=n(2109),r=n(9781),i=n(7854),a=n(6656),s=n(614),u=n(111),c=n(3070).f,l=n(9920),f=i.Symbol;if(r&&s(f)&&(!("description"in f.prototype)||void 0!==f().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new f(t):void 0===t?f():f(t);return""===t&&(d[e]=!0),e};l(p,f);var h=p.prototype=f.prototype;h.constructor=p;var v=h.toString,g="Symbol(test)"==String(f("test")),y=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=v.call(t);if(a(d,t))return"";var n=g?e.slice(7,-1):e.replace(y,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:p})}},2165:function(t,e,n){n(7235)("iterator")},2526:function(t,e,n){"use strict";var o=n(2109),r=n(7854),i=n(5005),a=n(1913),s=n(9781),u=n(133),c=n(7293),l=n(6656),f=n(3157),d=n(614),p=n(111),h=n(2190),v=n(9670),g=n(7908),y=n(5656),m=n(4948),b=n(1340),x=n(9114),w=n(30),E=n(1956),O=n(8006),S=n(1156),k=n(5181),I=n(1236),C=n(3070),P=n(5296),A=n(1320),M=n(2309),T=n(6200),N=n(3501),D=n(9711),j=n(5112),L=n(6061),R=n(7235),B=n(8003),_=n(9909),F=n(2092).forEach,K=T("hidden"),U="Symbol",H=j("toPrimitive"),G=_.set,$=_.getterFor(U),V=Object.prototype,z=r.Symbol,Y=i("JSON","stringify"),W=I.f,X=C.f,J=S.f,q=P.f,Q=M("symbols"),Z=M("op-symbols"),tt=M("string-to-symbol-registry"),et=M("symbol-to-string-registry"),nt=M("wks"),ot=r.QObject,rt=!ot||!ot.prototype||!ot.prototype.findChild,it=s&&c(function(){return 7!=w(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=W(V,e);o&&delete V[e],X(t,e,n),o&&t!==V&&X(V,e,o)}:X,at=function(t,e){var n=Q[t]=w(z.prototype);return G(n,{type:U,tag:t,description:e}),s||(n.description=e),n},st=function(t,e,n){t===V&&st(Z,e,n),v(t);var o=m(e);return v(n),l(Q,o)?(n.enumerable?(l(t,K)&&t[K][o]&&(t[K][o]=!1),n=w(n,{enumerable:x(0,!1)})):(l(t,K)||X(t,K,x(1,{})),t[K][o]=!0),it(t,o,n)):X(t,o,n)},ut=function(t,e){v(t);var n=y(e),o=E(n).concat(dt(n));return F(o,function(e){s&&!ct.call(n,e)||st(t,e,n[e])}),t},ct=function(t){var e=m(t),n=q.call(this,e);return!(this===V&&l(Q,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(Q,e)||l(this,K)&&this[K][e])||n)},lt=function(t,e){var n=y(t),o=m(e);if(n!==V||!l(Q,o)||l(Z,o)){var r=W(n,o);return!r||!l(Q,o)||l(n,K)&&n[K][o]||(r.enumerable=!0),r}},ft=function(t){var e=J(y(t)),n=[];return F(e,function(t){l(Q,t)||l(N,t)||n.push(t)}),n},dt=function(t){var e=t===V,n=J(e?Z:y(t)),o=[];return F(n,function(t){!l(Q,t)||e&&!l(V,t)||o.push(Q[t])}),o};if(u||(A((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,e=D(t),n=function(t){this===V&&n.call(Z,t),l(this,K)&&l(this[K],e)&&(this[K][e]=!1),it(this,e,x(1,t))};return s&&rt&&it(V,e,{configurable:!0,set:n}),at(e,t)}).prototype,"toString",function(){return $(this).tag}),A(z,"withoutSetter",function(t){return at(D(t),t)}),P.f=ct,C.f=st,I.f=lt,O.f=S.f=ft,k.f=dt,L.f=function(t){return at(j(t),t)},s&&(X(z.prototype,"description",{configurable:!0,get:function(){return $(this).description}}),a||A(V,"propertyIsEnumerable",ct,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),F(E(nt),function(t){R(t)}),o({target:U,stat:!0,forced:!u},{for:function(t){var e=b(t);if(l(tt,e))return tt[e];var n=z(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!h(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),o({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?w(t):ut(w(t),e)},defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:lt}),o({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ft,getOwnPropertySymbols:dt}),o({target:"Object",stat:!0,forced:c(function(){k.f(1)})},{getOwnPropertySymbols:function(t){return k.f(g(t))}}),Y&&o({target:"JSON",stat:!0,forced:!u||c(function(){var t=z();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))})},{stringify:function(t,e,n){for(var o,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(o=e,(p(e)||void 0!==t)&&!h(t))return f(e)||(e=function(t,e){if(d(o)&&(e=o.call(this,t,e)),!h(e))return e}),r[1]=e,Y.apply(null,r)}}),!z.prototype[H]){var pt=z.prototype.valueOf;A(z.prototype,H,function(){return pt.apply(this,arguments)})}B(z,U),N[K]=!0},4747:function(t,e,n){var o=n(7854),r=n(8324),i=n(8509),a=n(8533),s=n(8880),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in r)r[c]&&u(o[c]&&o[c].prototype);u(i)},3948:function(t,e,n){var o=n(7854),r=n(8324),i=n(8509),a=n(6992),s=n(8880),u=n(5112),c=u("iterator"),l=u("toStringTag"),f=a.values,d=function(t,e){if(t){if(t[c]!==f)try{s(t,c,f)}catch(e){t[c]=f}if(t[l]||s(t,l,e),r[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var p in r)d(o[p]&&o[p].prototype,p);d(i,"DOMTokenList")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(o),n.d(o,{default:function(){return E}}),n(3210),n(4916),n(5306),n(2772),n(8309),n(3123),n(1539),n(9714),n(561),n(9600),n(9595),n(7042),"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n=t.Element.prototype,o=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new a("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(t,e)},u=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],o=0,i=n.length;o<i;o++)this.push(n[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u.prototype=[],l=function(){return new u(this)};if(a.prototype=Error.prototype,c.item=function(t){return this[t]||null},c.contains=function(t){return~s(this,t+"")},c.add=function(){var t,e=arguments,n=0,o=e.length,r=!1;do{~s(this,t=e[n]+"")||(this.push(t),r=!0)}while(++n<o);r&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,o=0,r=n.length,i=!1;do{for(e=s(this,t=n[o]+"");~e;)this.splice(e,1),i=!0,e=s(this,t)}while(++o<r);i&&this._updateClassName()},c.toggle=function(t,e){var n=this.contains(t),o=n?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),!0===e||!1===e?e:!n},c.replace=function(t,e){var n=s(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},c.toString=function(){return this.join(" ")},o.defineProperty){var f={get:l,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,f)}catch(t){void 0!==t.number&&-2146823252!==t.number||(f.enumerable=!1,o.defineProperty(n,e,f))}}else o.prototype.__defineGetter__&&n.__defineGetter__(e,l)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,o=arguments.length;for(n=0;n<o;n++)e.call(this,t=arguments[n])}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),o=n.indexOf(t+"");~o&&(n=n.slice(o),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),n(7327),n(2222),n(7941),n(4603),n(2707),n(6699),n(2023),n(4747),n(9601),n(1249),n(1038),n(8783),n(2526),n(5003),n(9337),n(1817),n(2165),n(6992),n(3948),n(3161),n(9653),n(4723),n(5827),n(6210);var u=function(){function n(t){var e=t.getOptions,o=t.getCaretPosition,r=t.getCaretPositionEnd,i=t.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,"isStandardButton",function(t){return t&&!("{"===t[0]&&"}"===t[t.length-1])}),this.getOptions=e,this.getCaretPosition=o,this.getCaretPositionEnd=r,this.dispatch=i,n.bindMethods(n,this)}var o,r,u;return o=n,u=[{key:"bindMethods",value:function(t,n){var o,r=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=e(t))){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==o.return||o.return()}finally{if(u)throw a}}}}(Object.getOwnPropertyNames(t.prototype));try{for(r.s();!(o=r.n()).done;){var i=o.value;"constructor"===i||"bindMethods"===i||(n[i]=n[i].bind(n))}}catch(t){r.e(t)}finally{r.f()}}}],(r=[{key:"getButtonType",value:function(t){return t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(t){var e=this.getButtonType(t),n=t.replace("{","").replace("}",""),o="";return"standardBtn"!==e&&(o=" hg-button-".concat(n)),"hg-".concat(e).concat(o)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"","{arrowleft}":"","{arrowdown}":"","{arrowright}":"","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return(e=n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=this.getOptions(),a=[n,o,r],s=e;return("{bksp}"===t||"{backspace}"===t)&&s.length>0?s=this.removeAt.apply(this,[s].concat(a)):("{delete}"===t||"{forwarddelete}"===t)&&s.length>0?s=this.removeForwardsAt.apply(this,[s].concat(a)):"{space}"===t?s=this.addStringAt.apply(this,[s," "].concat(a)):"{tab}"!==t||"boolean"==typeof i.tabCharOnTab&&!1===i.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!i.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?s=this.addStringAt.apply(this,[s,t[t.length-2]].concat(a)):"{numpaddivide}"===t?s=this.addStringAt.apply(this,[s,"/"].concat(a)):"{numpadmultiply}"===t?s=this.addStringAt.apply(this,[s,"*"].concat(a)):"{numpadsubtract}"===t?s=this.addStringAt.apply(this,[s,"-"].concat(a)):"{numpadadd}"===t?s=this.addStringAt.apply(this,[s,"+"].concat(a)):"{numpaddecimal}"===t?s=this.addStringAt.apply(this,[s,"."].concat(a)):"{"===t||"}"===t?s=this.addStringAt.apply(this,[s,t].concat(a)):t.includes("{")||t.includes("}")||(s=this.addStringAt.apply(this,[s,t].concat(a))):s=this.addStringAt.apply(this,[s,"\n"].concat(a)):s=this.addStringAt.apply(this,[s,"\t"].concat(a)),s}},{key:"updateCaretPos",value:function(t){var n=this.updateCaretPosAction(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);this.dispatch(function(t){t.setCaretPosition(n)})}},{key:"updateCaretPosAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOptions(),o=this.getCaretPosition();return null!=o&&(e?o>0&&(o-=t):o+=t),n.debug&&console.log("Caret at:",o),o}},{key:"addStringAt",value:function(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o||0===o?(n=[t.slice(0,o),e,t.slice(r)].join(""),this.isMaxLengthReached()||i&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===o)return t;if(n===o){var i=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(i)?(e=t.substr(0,n-2)+t.substr(n),r&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),r&&this.updateCaretPos(1,!0)):t.slice(-2).match(i)?(e=t.slice(0,-2),r&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),r&&this.updateCaretPos(1,!0))}else e=t.slice(0,n)+t.slice(o),r&&this.dispatch(function(t){t.setCaretPosition(n)});return e}},{key:"removeForwardsAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==t||!t.length||null===n)return t;if(n===o){var i=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;e=t.substring(n,n+2).match(i)?t.substr(0,n)+t.substr(n+2):t.substr(0,n)+t.substr(n+1)}else e=t.slice(0,n)+t.slice(o),r&&this.dispatch(function(t){t.setCaretPosition(n)});return e}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),o=n.maxLength,a=e.length-1>=o;if(e.length<=t[n.inputName||"default"].length)return!1;if(Number.isInteger(o))return n.debug&&console.log("maxLength (num) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===i(o)){var s=e.length-1>=o[n.inputName||"default"];return n.debug&&console.log("maxLength (obj) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(t){return t?t.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t}):""}},{key:"chunkArray",value:function(e,n){return t(Array(Math.ceil(e.length/n))).map(function(t,o){return e.slice(n*o,n+n*o)})}}])&&a(o.prototype,r),u&&a(o,u),n}();s(u,"noop",function(){});var c=u;var f=function(){function t(e){var n=e.dispatch,o=e.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dispatch=n,this.getOptions=o,c.bindMethods(t,this)}var n;return(n=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch(function(o){var r,i,a=o.getButtonElement(n),s=o.getButtonElement("{".concat(n,"}"));if(a)r=a,i=n;else{if(!s)return;r=s,i="{".concat(n,"}")}r&&(r.style.backgroundColor=e.physicalKeyboardHighlightBgColor||"#dadce4",r.style.color=e.physicalKeyboardHighlightTextColor||"black",e.physicalKeyboardHighlightPress&&(e.physicalKeyboardHighlightPressUseClick?r.click():o.handleButtonClicked(i,t)))})}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getSimpleKeyboardLayoutKey(t);this.dispatch(function(t){var n=t.getButtonElement(e)||t.getButtonElement("{".concat(e,"}"));n&&n.removeAttribute&&n.removeAttribute("style")})}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e,n,o=t.code||t.key||this.keyCodeToKey(null==t?void 0:t.keyCode);return(n=null!=o&&o.includes("Numpad")||null!=o&&o.includes("Shift")||null!=o&&o.includes("Space")||null!=o&&o.includes("Backspace")||null!=o&&o.includes("Control")||null!=o&&o.includes("Alt")||null!=o&&o.includes("Meta")?t.code||"":t.key||this.keyCodeToKey(null==t?void 0:t.keyCode)||"").length>1?null===(e=n)||void 0===e?void 0:e.toLowerCase():n}},{key:"keyCodeToKey",value:function(t){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[t]}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,n),t}();var p=function(){function t(e){var o,i=e.utilities;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o="pageIndex")in this?Object.defineProperty(this,o,{value:0,enumerable:!0,configurable:!0,writable:!0}):this[o]=0,this.utilities=i,c.bindMethods(t,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5}var n;return(n=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(t){var e=this,n=t.candidateValue,o=t.targetElement,r=t.onSelect;if(n&&n.length){var i=this.utilities.chunkArray(n.split(" "),this.pageSize);this.renderPage({candidateListPages:i,targetElement:o,pageIndex:this.pageIndex,nbPages:i.length,onItemSelected:function(t,n){r(t,n),e.destroy()}})}}},{key:"renderPage",value:function(t){var e,n=this,o=t.candidateListPages,r=t.targetElement,i=t.pageIndex,a=t.nbPages,s=t.onItemSelected;null===(e=this.candidateBoxElement)||void 0===e||e.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var u=document.createElement("ul");u.className="hg-candidate-box-list",o[i].forEach(function(t){var e=document.createElement("li"),n=function(){var t=new MouseEvent("click");return Object.defineProperty(t,"target",{value:e}),t};e.className="hg-candidate-box-list-item",e.textContent=t,e.onclick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n();return s(t,e)},u.appendChild(e)});var c=i>0,l=document.createElement("div");l.classList.add("hg-candidate-box-prev"),c&&l.classList.add("hg-candidate-box-btn-active"),l.onclick=function(){c&&n.renderPage({candidateListPages:o,targetElement:r,pageIndex:i-1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(l),this.candidateBoxElement.appendChild(u);var f=i<a-1,d=document.createElement("div");d.classList.add("hg-candidate-box-next"),f&&d.classList.add("hg-candidate-box-btn-active"),d.onclick=function(){f&&n.renderPage({candidateListPages:o,targetElement:r,pageIndex:i+1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(d),r.prepend(this.candidateBoxElement)}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,n),t}();function h(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){w(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(){function t(){var e=this;if(b(this,t),w(this,"defaultName","default"),w(this,"activeInputElement",null),w(this,"handleParams",function(t){var e,n,o;if("string"==typeof t[0])e=t[0].split(".").join(""),n=document.querySelector(".".concat(e)),o=t[1];else if(t[0]instanceof HTMLDivElement){if(!t[0].className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");e=t[0].className.split(" ")[0],n=t[0],o=t[1]}else e="simple-keyboard",n=document.querySelector(".".concat(e)),o=t[0];return{keyboardDOMClass:e,keyboardDOM:n,options:o}}),w(this,"getOptions",function(){return e.options}),w(this,"getCaretPosition",function(){return e.caretPosition}),w(this,"getCaretPositionEnd",function(){return e.caretPositionEnd}),w(this,"registerModule",function(t,n){e.modules[t]||(e.modules[t]={}),n(e.modules[t])}),w(this,"getKeyboardClassString",function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return[e.keyboardDOMClass].concat(n).filter(function(t){return!!t}).join(" ")}),"undefined"!=typeof window){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=this.handleParams(o),a=i.keyboardDOMClass,s=i.keyboardDOM,u=i.options,l=void 0===u?{}:u;this.utilities=new c({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=s,this.options=m({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},l),this.keyboardPluginClasses="",c.bindMethods(t,this);var d=this.options.inputName,h=void 0===d?this.defaultName:d;if(this.input={},this.input[h]="",this.keyboardDOMClass=a,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new f({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new p({utilities:this.utilities}):null,!this.keyboardDOM)throw console.warn('".'.concat(a,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}}var n;return(n=[{key:"setCaretPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.caretPosition=t,this.caretPositionEnd=e}},{key:"getInputCandidates",value:function(t){var e=this,n=this.options.layoutCandidates;if(!n||"object"!==g(n))return{};var o=Object.keys(n).filter(function(n){var o=t.substring(0,e.getCaretPositionEnd()||0)||t,r=new RegExp("".concat(n,"$"),"g");return!!h(o.matchAll(r)).length});if(o.length>1){var r=o.sort(function(t,e){return e.length-t.length})[0];return{candidateKey:r,candidateValue:n[r]}}if(o.length){var i=o[0];return{candidateKey:i,candidateValue:n[i]}}return{}}},{key:"showCandidatesBox",value:function(t,e,n){var o=this;this.candidateBox&&this.candidateBox.show({candidateValue:e,targetElement:n,onSelect:function(e,n){var r=o.getInput(o.options.inputName,!0),i=o.getCaretPositionEnd()||0,a=r.substring(0,i||0)||r,s=new RegExp("".concat(t,"$"),"g"),u=a.replace(s,e),c=r.replace(a,u),f=(i||r.length)+(u.length-a.length);f<0&&(f=0),o.setInput(c,o.options.inputName,!0),o.setCaretPosition(f),"function"==typeof o.options.onChange&&o.options.onChange(o.getInput(o.options.inputName,!0),n),"function"==typeof o.options.onChangeAll&&o.options.onChangeAll(o.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(t,e){var n=this.options,o=n.inputName,r=void 0===o?this.defaultName:o,i=n.debug;if("{//}"!==t){this.input[r]||(this.input[r]="");var a=this.utilities.getUpdatedInput(t,this.input[r],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(t)&&this.activeInputElement&&this.input[r]&&this.input[r]===a&&0===this.caretPosition&&this.caretPositionEnd===a.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(t,e);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(t,e),this.input[r]!==a&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(a))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,a))return;var s=this.utilities.getUpdatedInput(t,this.input[r],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(s,this.options.inputName,!0),i&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")")),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),e),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),e),null!=e&&e.target&&this.options.enableLayoutCandidates){var u,c=this.getInputCandidates(a),l=c.candidateKey,f=c.candidateValue;l&&f?this.showCandidatesBox(l,f,this.keyboardDOM):null===(u=this.candidateBox)||void 0===u||u.destroy()}}i&&console.log("Key pressed:",t)}}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;e&&(this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.isMouseHold=!0,this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(n.isMouseHold&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t)),clearTimeout(n.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(t,e){var n=this;e&&(this.options.preventMouseUpDefault&&e.preventDefault&&e.preventDefault(),this.options.stopMouseUpPropagation&&e.stopPropagation&&e.stopPropagation(),!(e.target===this.keyboardDOM||e.target&&this.keyboardDOM.contains(e.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(e.target===this.candidateBox.candidateBoxElement||e.target&&this.candidateBox.candidateBoxElement.contains(e.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(t){t.classList.remove(n.activeButtonClass)}),this.isMouseHold=!1,this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(t)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){e.isMouseHold?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch(function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd)})}},{key:"clearInput",value:function(){this.input[arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;return this.options.syncInstanceInputs&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this.syncInstanceInputs(),this.options.rtl?""+this.input[t].replace("","").replace("","")+"":this.input[t]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach(function(n){e[n]=t.getInput(n,!0)}),e}},{key:"setInput",value:function(t){var n=arguments.length>2?arguments[2]:void 0;this.input[arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName]=t,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter(function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])})}},{key:"onSetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(t.includes("layoutCandidatesPageSize")||t.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new p({utilities:this.utilities}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(e){t(window.SimpleKeyboardInstances[e],e)})}},{key:"addButtonTheme",value:function(t,e){var n=this;e&&t&&(t.split(" ").forEach(function(o){e.split(" ").forEach(function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var r=!1;n.options.buttonTheme.map(function(t){if(null!=t&&t.class.split(" ").includes(e)){r=!0;var n=t.buttons.split(" ");n.includes(o)||(r=!0,n.push(o),t.buttons=n.join(" "))}return t}),r||n.options.buttonTheme.push({class:e,buttons:t})})}),this.render())}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],void this.render();t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach(function(t){var o,r;null===(o=n.options)||void 0===o||null===(r=o.buttonTheme)||void 0===r||r.map(function(o,r){if(o&&e&&e.includes(o.class)||!e){var i,a,s=null===(i=o)||void 0===i?void 0:i.buttons.split(" ").filter(function(e){return e!==t});o&&null!=s&&s.length?o.buttons=s.join(" "):(null===(a=n.options.buttonTheme)||void 0===a||a.splice(r,1),o=null)}return o})}),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])&&t){var o=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(o?"passed":"did not pass!")),o}return!0}},{key:"setEventListeners",value:function(){!this.isFirstKeyboardInstance&&this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),document.addEventListener("select",this.handleSelect),document.addEventListener("selectionchange",this.handleSelectionChange))}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"handleSelect",value:function(t){this.caretEventHandler(t)}},{key:"handleSelectionChange",value:function(t){this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e,n=this;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch(function(o){var r=t.target===o.keyboardDOM||t.target&&o.keyboardDOM.contains(t.target);o.isMouseHold&&(o.isMouseHold=!1),("textarea"===e||"input"===e&&["text","search","url","tel","password"].includes(t.target.type))&&!o.options.disableCaretPositioning?(o.setCaretPosition(t.target.selectionStart,t.target.selectionEnd),n.activeInputElement=t.target,o.options.debug&&console.log("Caret at: ",o.getCaretPosition(),o.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(o.keyboardDOMClass,")"))):!o.options.disableCaretPositioning&&r||"selectionchange"===(null==t?void 0:t.type)||(o.setCaretPosition(null),n.activeInputElement=null,o.options.debug&&console.log('Caret position reset due to "'.concat(null==t?void 0:t.type,'" event'),t))})}},{key:"recurseButtons",value:function(t){var e=this;t&&Object.keys(this.buttonElements).forEach(function(n){return e.buttonElements[n].forEach(t)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName)),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(t){t&&(t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach(function(e){if(e&&e.class&&"string"==typeof e.class&&e.buttons&&"string"==typeof e.buttons){var o=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(h(n),h(o)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)}),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach(function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value&&n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(e){var n=new e(t);n.init&&n.init(t)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,o){var r=this,i=Array.from(t.children),a=0;return i.length&&n.forEach(function(n,s){var u=o[s];if(!(u&&u>n))return!1;var c=n-a,l=u-a,f=document.createElement("div");f.className+="hg-button-container";var d="".concat(r.options.layoutName,"-r").concat(e,"c").concat(s);f.setAttribute("data-skUID",d);var p=i.splice(c,l-c+1);a=l-c,p.forEach(function(t){return f.appendChild(t)}),i.splice(c,0,f),t.innerHTML="",i.forEach(function(e){return t.appendChild(e)}),r.options.debug&&console.log("rowDOMContainer",p,c,l,a+1)}),t}},{key:"render",value:function(){var t=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},o=this.options.useTouchEvents||!1,i=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,o?"hg-touch-events":""),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",n[this.options.layoutName||this.defaultName].forEach(function(e,n){var r=e.split(" ");t.options.excludeFromLayout&&t.options.excludeFromLayout[t.options.layoutName||t.defaultName]&&(r=r.filter(function(e){return t.options.excludeFromLayout&&!t.options.excludeFromLayout[t.options.layoutName||t.defaultName].includes(e)}));var s=document.createElement("div");s.className+="hg-row";var u=[],c=[];r.forEach(function(e,r){var l,f=!a&&"string"==typeof e&&e.length>1&&0===e.indexOf("["),d=!a&&"string"==typeof e&&e.length>1&&e.indexOf("]")===e.length-1;f&&(u.push(r),e=e.replace(/\[/g,"")),d&&(c.push(r),e=e.replace(/\]/g,""));var p=t.utilities.getButtonClass(e),v=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),y=document.createElement(t.options.useButtonTag?"button":"div");y.className+="hg-button ".concat(p),(l=y.classList).add.apply(l,h(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,function(t,e){y.setAttribute(t,e)}),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||o||i?o?(y.ontouchstart=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},y.ontouchend=function(n){t.handleButtonMouseUp(e,n)},y.ontouchcancel=function(n){t.handleButtonMouseUp(e,n)}):(y.onclick=function(n){t.isMouseHold=!1,t.handleButtonClicked(e,n)},y.onmousedown=function(n){t.handleButtonMouseDown(e,n)},y.onmouseup=function(n){t.handleButtonMouseUp(e,n)}):(y.onpointerdown=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},y.onpointerup=function(n){t.handleButtonMouseUp(e,n)},y.onpointercancel=function(n){t.handleButtonMouseUp(e,n)}),y.setAttribute("data-skBtn",e);var m="".concat(t.options.layoutName,"-r").concat(n,"b").concat(r);y.setAttribute("data-skBtnUID",m);var b=document.createElement("span");b.innerHTML=v,y.appendChild(b),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(y),s.appendChild(y)}),s=t.parseRowDOMContainers(s,n,u,c),t.keyboardRowsDOM.appendChild(s)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||o||i?o?(document.ontouchend=function(e){return t.handleButtonMouseUp(void 0,e)},document.ontouchcancel=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):o||(document.onmouseup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,n),t}()}(),o}()},"3er3":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return defaultFont}),__webpack_require__.d(__webpack_exports__,"c",function(){return defaultFillStyle}),__webpack_require__.d(__webpack_exports__,"e",function(){return defaultLineCap}),__webpack_require__.d(__webpack_exports__,"f",function(){return defaultLineDash}),__webpack_require__.d(__webpack_exports__,"g",function(){return defaultLineDashOffset}),__webpack_require__.d(__webpack_exports__,"h",function(){return defaultLineJoin}),__webpack_require__.d(__webpack_exports__,"j",function(){return defaultMiterLimit}),__webpack_require__.d(__webpack_exports__,"l",function(){return defaultStrokeStyle}),__webpack_require__.d(__webpack_exports__,"m",function(){return defaultTextAlign}),__webpack_require__.d(__webpack_exports__,"n",function(){return defaultTextBaseline}),__webpack_require__.d(__webpack_exports__,"k",function(){return defaultPadding}),__webpack_require__.d(__webpack_exports__,"i",function(){return defaultLineWidth}),__webpack_require__.d(__webpack_exports__,"a",function(){return checkedFonts}),__webpack_require__.d(__webpack_exports__,"s",function(){return registerFont}),__webpack_require__.d(__webpack_exports__,"q",function(){return measureTextHeight}),__webpack_require__.d(__webpack_exports__,"p",function(){return measureAndCacheTextWidth}),__webpack_require__.d(__webpack_exports__,"r",function(){return measureTextWidths}),__webpack_require__.d(__webpack_exports__,"t",function(){return rotateAtOffset}),__webpack_require__.d(__webpack_exports__,"o",function(){return drawImageOrLabel}),__webpack_require__.d(__webpack_exports__,"b",function(){return createTransformString});var _Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_events_Target_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("DsAt"),_has_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("YX0d"),_obj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("OPOH"),_dom_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("CZmH"),_css_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("zX6e"),_transform_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qJZF"),defaultFont="10px sans-serif",defaultFillStyle="#000",defaultLineCap="round",defaultLineDash=[],defaultLineDashOffset=0,defaultLineJoin="round",defaultMiterLimit=10,defaultStrokeStyle="#000",defaultTextAlign="center",defaultTextBaseline="middle",defaultPadding=[0,0,0,0],defaultLineWidth=1,checkedFonts=new _Object_js__WEBPACK_IMPORTED_MODULE_0__.a;(new _events_Target_js__WEBPACK_IMPORTED_MODULE_1__.a).setSize=function(){console.warn("labelCache is deprecated.")};var measureFont,div,measureContext=null,textHeights={},registerFont=function(){var interval,referenceWidth,referenceFonts=["monospace","serif"],len=referenceFonts.length,text="wmytzilWMYTZIL@#/&?$%10";function isAvailable(fontStyle,fontWeight,fontFamily){for(var available=!0,i=0;i<len;++i){var referenceFont=referenceFonts[i];if(referenceWidth=measureTextWidth(fontStyle+" "+fontWeight+" 32px "+referenceFont,text),fontFamily!=referenceFont){var width=measureTextWidth(fontStyle+" "+fontWeight+" 32px "+fontFamily+","+referenceFont,text);available=available&&width!=referenceWidth}}return!!available}function check(){for(var done=!0,fonts=checkedFonts.getKeys(),i=0,ii=fonts.length;i<ii;++i){var font=fonts[i];checkedFonts.get(font)<100&&(isAvailable.apply(this,font.split("\n"))?(Object(_obj_js__WEBPACK_IMPORTED_MODULE_3__.b)(textHeights),measureContext=null,measureFont=void 0,checkedFonts.set(font,100)):(checkedFonts.set(font,checkedFonts.get(font)+1,!0),done=!1))}done&&(clearInterval(interval),interval=void 0)}return function(fontSpec){var font=Object(_css_js__WEBPACK_IMPORTED_MODULE_5__.f)(fontSpec);if(font)for(var families=font.families,i=0,ii=families.length;i<ii;++i){var family=families[i],key=font.style+"\n"+font.weight+"\n"+family;void 0===checkedFonts.get(key)&&(checkedFonts.set(key,100,!0),isAvailable(font.style,font.weight,family)||(checkedFonts.set(key,0,!0),void 0===interval&&(interval=setInterval(check,32))))}}}(),measureTextHeight=function(fontSpec){var height=textHeights[fontSpec];if(null==height){if(_has_js__WEBPACK_IMPORTED_MODULE_2__.g){var font=Object(_css_js__WEBPACK_IMPORTED_MODULE_5__.f)(fontSpec),metrics=measureText(fontSpec,"g");height=(isNaN(Number(font.lineHeight))?1.2:Number(font.lineHeight))*(metrics.actualBoundingBoxAscent+metrics.actualBoundingBoxDescent)}else div||((div=document.createElement("div")).innerHTML="M",div.style.margin="0 !important",div.style.padding="0 !important",div.style.position="absolute !important",div.style.left="-99999px !important"),div.style.font=fontSpec,document.body.appendChild(div),height=div.offsetHeight,document.body.removeChild(div);textHeights[fontSpec]=height}return height};function measureText(font,text){return measureContext||(measureContext=Object(_dom_js__WEBPACK_IMPORTED_MODULE_4__.a)(1,1)),font!=measureFont&&(measureContext.font=font,measureFont=measureContext.font),measureContext.measureText(text)}function measureTextWidth(font,text){return measureText(font,text).width}function measureAndCacheTextWidth(font,text,cache){if(text in cache)return cache[text];var width=measureTextWidth(font,text);return cache[text]=width,width}function measureTextWidths(font,lines,widths){for(var numLines=lines.length,width=0,i=0;i<numLines;++i){var currentWidth=measureTextWidth(font,lines[i]);width=Math.max(width,currentWidth),widths.push(currentWidth)}return width}function rotateAtOffset(context,rotation,offsetX,offsetY){0!==rotation&&(context.translate(offsetX,offsetY),context.rotate(rotation),context.translate(-offsetX,-offsetY))}function drawImageOrLabel(context,transform,opacity,labelOrImage,originX,originY,w,h,x,y,scale){context.save(),1!==opacity&&(context.globalAlpha*=opacity),transform&&context.setTransform.apply(context,transform),labelOrImage.contextInstructions?(context.translate(x,y),context.scale(scale[0],scale[1]),function(label,context){for(var contextInstructions=label.contextInstructions,i=0,ii=contextInstructions.length;i<ii;i+=2)Array.isArray(contextInstructions[i+1])?context[contextInstructions[i]].apply(context,contextInstructions[i+1]):context[contextInstructions[i]]=contextInstructions[i+1]}(labelOrImage,context)):scale[0]<0||scale[1]<0?(context.translate(x,y),context.scale(scale[0],scale[1]),context.drawImage(labelOrImage,originX,originY,w,h,0,0,w,h)):context.drawImage(labelOrImage,originX,originY,w,h,x,y,w*scale[0],h*scale[1]),context.restore()}var createTransformStringCanvas=null;function createTransformString(transform){return _has_js__WEBPACK_IMPORTED_MODULE_2__.g?Object(_transform_js__WEBPACK_IMPORTED_MODULE_6__.i)(transform):(createTransformStringCanvas||(createTransformStringCanvas=Object(_dom_js__WEBPACK_IMPORTED_MODULE_4__.a)(1,1).canvas),createTransformStringCanvas.style.transform=Object(_transform_js__WEBPACK_IMPORTED_MODULE_6__.i)(transform),createTransformStringCanvas.style.transform)}},"49sm":function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},"4mld":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getChangeEventType});var extendStatics,_events_Event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("zvco"),_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e0/R"),_Observable_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Nafy"),_obj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("OPOH"),_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("EwAT"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ObjectEvent=function(_super){function ObjectEvent(type,key,oldValue){var _this=_super.call(this,type)||this;return _this.key=key,_this.oldValue=oldValue,_this}return __extends(ObjectEvent,_super),ObjectEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_0__.a),BaseObject=function(_super){function BaseObject(opt_values){var _this=_super.call(this)||this;return Object(_util_js__WEBPACK_IMPORTED_MODULE_4__.c)(_this),_this.values_=null,void 0!==opt_values&&_this.setProperties(opt_values),_this}return __extends(BaseObject,_super),BaseObject.prototype.get=function(key){var value;return this.values_&&this.values_.hasOwnProperty(key)&&(value=this.values_[key]),value},BaseObject.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},BaseObject.prototype.getProperties=function(){return this.values_&&Object(_obj_js__WEBPACK_IMPORTED_MODULE_3__.a)({},this.values_)||{}},BaseObject.prototype.hasProperties=function(){return!!this.values_},BaseObject.prototype.notify=function(key,oldValue){var eventType;eventType=getChangeEventType(key),this.dispatchEvent(new ObjectEvent(eventType,key,oldValue)),this.dispatchEvent(new ObjectEvent(eventType=_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.PROPERTYCHANGE,key,oldValue))},BaseObject.prototype.set=function(key,value,opt_silent){var values=this.values_||(this.values_={});if(opt_silent)values[key]=value;else{var oldValue=values[key];values[key]=value,oldValue!==value&&this.notify(key,oldValue)}},BaseObject.prototype.setProperties=function(values,opt_silent){for(var key in values)this.set(key,values[key],opt_silent)},BaseObject.prototype.applyProperties=function(source){source.values_&&Object(_obj_js__WEBPACK_IMPORTED_MODULE_3__.a)(this.values_||(this.values_={}),source.values_)},BaseObject.prototype.unset=function(key,opt_silent){if(this.values_&&key in this.values_){var oldValue=this.values_[key];delete this.values_[key],Object(_obj_js__WEBPACK_IMPORTED_MODULE_3__.d)(this.values_)&&(this.values_=null),opt_silent||this.notify(key,oldValue)}},BaseObject}(_Observable_js__WEBPACK_IMPORTED_MODULE_2__.a),changeEventTypeCache={};function getChangeEventType(key){return changeEventTypeCache.hasOwnProperty(key)?changeEventTypeCache[key]:changeEventTypeCache[key]="change:"+key}__webpack_exports__.a=BaseObject},"4wAk":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_AssertionError_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("g1uh"),_Object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4mld"),_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("GDrd"),_events_Event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("zvco"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),CollectionEvent=function(_super){function CollectionEvent(type,opt_element,opt_index){var _this=_super.call(this,type)||this;return _this.element=opt_element,_this.index=opt_index,_this}return __extends(CollectionEvent,_super),CollectionEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_3__.a),Collection=function(_super){function Collection(opt_array,opt_options){var _this=_super.call(this)||this;if(_this.unique_=!!(opt_options||{}).unique,_this.array_=opt_array||[],_this.unique_)for(var i=0,ii=_this.array_.length;i<ii;++i)_this.assertUnique_(_this.array_[i],i);return _this.updateLength_(),_this}return __extends(Collection,_super),Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},Collection.prototype.extend=function(arr){for(var i=0,ii=arr.length;i<ii;++i)this.push(arr[i]);return this},Collection.prototype.forEach=function(f){for(var array=this.array_,i=0,ii=array.length;i<ii;++i)f(array[i],i,array)},Collection.prototype.getArray=function(){return this.array_},Collection.prototype.item=function(index){return this.array_[index]},Collection.prototype.getLength=function(){return this.get("length")},Collection.prototype.insertAt=function(index,elem){this.unique_&&this.assertUnique_(elem),this.array_.splice(index,0,elem),this.updateLength_(),this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__.a.ADD,elem,index))},Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Collection.prototype.push=function(elem){this.unique_&&this.assertUnique_(elem);var n=this.getLength();return this.insertAt(n,elem),this.getLength()},Collection.prototype.remove=function(elem){for(var arr=this.array_,i=0,ii=arr.length;i<ii;++i)if(arr[i]===elem)return this.removeAt(i)},Collection.prototype.removeAt=function(index){var prev=this.array_[index];return this.array_.splice(index,1),this.updateLength_(),this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__.a.REMOVE,prev,index)),prev},Collection.prototype.setAt=function(index,elem){var n=this.getLength();if(index<n){this.unique_&&this.assertUnique_(elem,index);var prev=this.array_[index];this.array_[index]=elem,this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__.a.REMOVE,prev,index)),this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__.a.ADD,elem,index))}else{for(var j=n;j<index;++j)this.insertAt(j,void 0);this.insertAt(index,elem)}},Collection.prototype.updateLength_=function(){this.set("length",this.array_.length)},Collection.prototype.assertUnique_=function(elem,opt_except){for(var i=0,ii=this.array_.length;i<ii;++i)if(this.array_[i]===elem&&i!==opt_except)throw new _AssertionError_js__WEBPACK_IMPORTED_MODULE_0__.a(58)},Collection}(_Object_js__WEBPACK_IMPORTED_MODULE_1__.a);__webpack_exports__.a=Collection},"62BN":function(module,exports){exports.every=function(str){return new Every(str)};var time={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var key in time)"millisecond"===key?time.ms=time[key]:time[key.charAt(0)]=time[key],time[key+"s"]=time[key];function Every(str){this.count=0;var m=function(str){var m=str.match(reg);return m&&time[m[2]]?m.slice(1):null}(str);m&&(this.time=Number(m[0])*time[m[1]],this.type=m[1])}Every.prototype.do=function(cb){this.time&&(this.interval=setInterval(function(){that.count++,cb.call(that)},this.time));var that=this;return this},Every.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var reg=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/},"6FLb":function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!((t=(t=_.trys).length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.gql=exports.request=exports.rawRequest=exports.GraphQLClient=exports.ClientError=void 0;var cross_fetch_1=__importStar(__webpack_require__("XWHH")),CrossFetch=cross_fetch_1,printer_1=__webpack_require__("dQau"),createRequestBody_1=__importDefault(__webpack_require__("fhSp")),types_1=__webpack_require__("E7DV"),types_2=__webpack_require__("E7DV");Object.defineProperty(exports,"ClientError",{enumerable:!0,get:function(){return types_2.ClientError}});var resolveHeaders=function(headers){var oHeaders={};return headers&&("undefined"!=typeof Headers&&headers instanceof Headers||headers instanceof CrossFetch.Headers?oHeaders=function(headers){var o={};return headers.forEach(function(v,k){o[k]=v}),o}(headers):Array.isArray(headers)?headers.forEach(function(_a){oHeaders[_a[0]]=_a[1]}):oHeaders=headers),oHeaders},GraphQLClient=function(){function GraphQLClient(url,options){this.url=url,this.options=options||{}}return GraphQLClient.prototype.rawRequest=function(query,variables,requestHeaders){return __awaiter(this,void 0,void 0,function(){var _a,headers,_b,localFetch,others,body,response,result,headers_1,status_1;return __generator(this,function(_c){switch(_c.label){case 0:return headers=(_a=this.options).headers,localFetch=void 0===(_b=_a.fetch)?cross_fetch_1.default:_b,others=__rest(_a,["headers","fetch"]),body=createRequestBody_1.default(query,variables),[4,localFetch(this.url,__assign({method:"POST",headers:__assign(__assign(__assign({},"string"==typeof body?{"Content-Type":"application/json"}:{}),resolveHeaders(headers)),resolveHeaders(requestHeaders)),body:body},others))];case 1:return[4,getResult(response=_c.sent())];case 2:if(result=_c.sent(),response.ok&&!result.errors&&result.data)return headers_1=response.headers,status_1=response.status,[2,__assign(__assign({},result),{headers:headers_1,status:status_1})];throw new types_1.ClientError(__assign(__assign({},"string"==typeof result?{error:result}:result),{status:response.status,headers:response.headers}),{query:query,variables:variables})}})})},GraphQLClient.prototype.request=function(document,variables,requestHeaders){return __awaiter(this,void 0,void 0,function(){var _a,headers,_b,localFetch,others,resolvedDoc,body,response,result;return __generator(this,function(_c){switch(_c.label){case 0:return headers=(_a=this.options).headers,localFetch=void 0===(_b=_a.fetch)?cross_fetch_1.default:_b,others=__rest(_a,["headers","fetch"]),resolvedDoc=function(document){return"string"==typeof document?document:printer_1.print(document)}(document),body=createRequestBody_1.default(resolvedDoc,variables),[4,localFetch(this.url,__assign({method:"POST",headers:__assign(__assign(__assign({},"string"==typeof body?{"Content-Type":"application/json"}:{}),resolveHeaders(headers)),resolveHeaders(requestHeaders)),body:body},others))];case 1:return[4,getResult(response=_c.sent())];case 2:if(result=_c.sent(),response.ok&&!result.errors&&result.data)return[2,result.data];throw new types_1.ClientError(__assign(__assign({},"string"==typeof result?{error:result}:result),{status:response.status}),{query:resolvedDoc,variables:variables})}})})},GraphQLClient.prototype.setHeaders=function(headers){return this.options.headers=headers,this},GraphQLClient.prototype.setHeader=function(key,value){var _a,headers=this.options.headers;return headers?headers[key]=value:this.options.headers=((_a={})[key]=value,_a),this},GraphQLClient}();function request(url,document,variables){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new GraphQLClient(url).request(document,variables)]})})}function getResult(response){var contentType=response.headers.get("Content-Type");return contentType&&contentType.startsWith("application/json")?response.json():response.text()}exports.GraphQLClient=GraphQLClient,exports.rawRequest=function(url,query,variables){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new GraphQLClient(url).rawRequest(query,variables)]})})},exports.request=request,exports.default=request,exports.gql=function(chunks){for(var variables=[],_i=1;_i<arguments.length;_i++)variables[_i-1]=arguments[_i];return chunks.reduce(function(accumulator,chunk,index){return""+accumulator+chunk+(index in variables?variables[index]:"")},"")}},"6Y3p":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return asColorLike});var _color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("XDhV");function asColorLike(color){return Array.isArray(color)?Object(_color_js__WEBPACK_IMPORTED_MODULE_0__.c)(color):color}},"83mf":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Pointer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QQWy"),_functions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("V8uu"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),PinchZoom=function(_super){function PinchZoom(opt_options){var _this=this,options=opt_options||{},pointerOptions=options;return pointerOptions.stopDown||(pointerOptions.stopDown=_functions_js__WEBPACK_IMPORTED_MODULE_1__.a),(_this=_super.call(this,pointerOptions)||this).anchor_=null,_this.duration_=void 0!==options.duration?options.duration:400,_this.lastDistance_=void 0,_this.lastScaleDelta_=1,_this}return __extends(PinchZoom,_super),PinchZoom.prototype.handleDragEvent=function(mapBrowserEvent){var scaleDelta=1,touch0=this.targetPointers[0],touch1=this.targetPointers[1],dx=touch0.clientX-touch1.clientX,dy=touch0.clientY-touch1.clientY,distance=Math.sqrt(dx*dx+dy*dy);void 0!==this.lastDistance_&&(scaleDelta=this.lastDistance_/distance),this.lastDistance_=distance;var map=mapBrowserEvent.map,view=map.getView();1!=scaleDelta&&(this.lastScaleDelta_=scaleDelta);var viewportPosition=map.getViewport().getBoundingClientRect(),centroid=Object(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.a)(this.targetPointers);centroid[0]-=viewportPosition.left,centroid[1]-=viewportPosition.top,this.anchor_=map.getCoordinateFromPixelInternal(centroid),map.render(),view.adjustResolutionInternal(scaleDelta,this.anchor_)},PinchZoom.prototype.handleUpEvent=function(mapBrowserEvent){return!(this.targetPointers.length<2&&(mapBrowserEvent.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},PinchZoom.prototype.handleDownEvent=function(mapBrowserEvent){if(this.targetPointers.length>=2){var map=mapBrowserEvent.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1},PinchZoom}(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.b);__webpack_exports__.a=PinchZoom},"8BaB":function(module,exports,__webpack_require__){(function(){var NodeType,XMLCharacterData,hasProp={}.hasOwnProperty;NodeType=__webpack_require__("Bl63"),XMLCharacterData=__webpack_require__("V4+3"),module.exports=function(superClass){function XMLProcessingInstruction(parent,target,value){if(XMLProcessingInstruction.__super__.constructor.call(this,parent),null==target)throw new Error("Missing instruction target. "+this.debugInfo());this.type=NodeType.ProcessingInstruction,this.target=this.stringify.insTarget(target),this.name=this.target,value&&(this.value=this.stringify.insValue(value))}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLProcessingInstruction,superClass),XMLProcessingInstruction.prototype.clone=function(){return Object.create(this)},XMLProcessingInstruction.prototype.toString=function(options){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(options))},XMLProcessingInstruction.prototype.isEqualNode=function(node){return!!XMLProcessingInstruction.__super__.isEqualNode.apply(this,arguments).isEqualNode(node)&&node.target===this.target},XMLProcessingInstruction}(XMLCharacterData)}).call(this)},"94wz":function(module,__webpack_exports__,__webpack_require__){"use strict";var VectorContext=function(){function VectorContext(){}return VectorContext.prototype.drawCustom=function(geometry,feature,renderer){},VectorContext.prototype.drawGeometry=function(geometry){},VectorContext.prototype.setStyle=function(style){},VectorContext.prototype.drawCircle=function(circleGeometry,feature){},VectorContext.prototype.drawFeature=function(feature,style){},VectorContext.prototype.drawGeometryCollection=function(geometryCollectionGeometry,feature){},VectorContext.prototype.drawLineString=function(lineStringGeometry,feature){},VectorContext.prototype.drawMultiLineString=function(multiLineStringGeometry,feature){},VectorContext.prototype.drawMultiPoint=function(multiPointGeometry,feature){},VectorContext.prototype.drawMultiPolygon=function(multiPolygonGeometry,feature){},VectorContext.prototype.drawPoint=function(pointGeometry,feature){},VectorContext.prototype.drawPolygon=function(polygonGeometry,feature){},VectorContext.prototype.drawText=function(geometry,feature){},VectorContext.prototype.setFillStrokeStyle=function(fillStyle,strokeStyle){},VectorContext.prototype.setImageStyle=function(imageStyle,opt_declutterImageWithText){},VectorContext.prototype.setTextStyle=function(textStyle,opt_declutterImageWithText){},VectorContext}();__webpack_exports__.a=VectorContext},"9ANI":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9iPr"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("mrzG"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("CvXi"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("q7cr"),_math_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("f8l7"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Point=function(_super){function Point(coordinates,opt_layout){var _this=_super.call(this)||this;return _this.setCoordinates(coordinates,opt_layout),_this}return __extends(Point,_super),Point.prototype.clone=function(){var point=new Point(this.flatCoordinates.slice(),this.layout);return point.applyProperties(this),point},Point.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){var flatCoordinates=this.flatCoordinates,squaredDistance=Object(_math_js__WEBPACK_IMPORTED_MODULE_4__.g)(x,y,flatCoordinates[0],flatCoordinates[1]);if(squaredDistance<minSquaredDistance){for(var stride=this.stride,i=0;i<stride;++i)closestPoint[i]=flatCoordinates[i];return closestPoint.length=stride,squaredDistance}return minSquaredDistance},Point.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},Point.prototype.computeExtent=function(extent){return Object(_extent_js__WEBPACK_IMPORTED_MODULE_2__.m)(this.flatCoordinates,extent)},Point.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POINT},Point.prototype.intersectsExtent=function(extent){return Object(_extent_js__WEBPACK_IMPORTED_MODULE_2__.h)(extent,this.flatCoordinates[0],this.flatCoordinates[1])},Point.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(_flat_deflate_js__WEBPACK_IMPORTED_MODULE_3__.a)(this.flatCoordinates,0,coordinates,this.stride),this.changed()},Point}(_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_1__.a);__webpack_exports__.a=Point},"9d2U":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Units_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("/O31"),Projection=function(){function Projection(options){this.code_=options.code,this.units_=options.units,this.extent_=void 0!==options.extent?options.extent:null,this.worldExtent_=void 0!==options.worldExtent?options.worldExtent:null,this.axisOrientation_=void 0!==options.axisOrientation?options.axisOrientation:"enu",this.global_=void 0!==options.global&&options.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=options.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=options.metersPerUnit}return Projection.prototype.canWrapX=function(){return this.canWrapX_},Projection.prototype.getCode=function(){return this.code_},Projection.prototype.getExtent=function(){return this.extent_},Projection.prototype.getUnits=function(){return this.units_},Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||_Units_js__WEBPACK_IMPORTED_MODULE_0__.a[this.units_]},Projection.prototype.getWorldExtent=function(){return this.worldExtent_},Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_},Projection.prototype.isGlobal=function(){return this.global_},Projection.prototype.setGlobal=function(global){this.global_=global,this.canWrapX_=!(!global||!this.extent_)},Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Projection.prototype.setDefaultTileGrid=function(tileGrid){this.defaultTileGrid_=tileGrid},Projection.prototype.setExtent=function(extent){this.extent_=extent,this.canWrapX_=!(!this.global_||!extent)},Projection.prototype.setWorldExtent=function(worldExtent){this.worldExtent_=worldExtent},Projection.prototype.setGetPointResolution=function(func){this.getPointResolutionFunc_=func},Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},Projection}();__webpack_exports__.a=Projection},"9iPr":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},AdTM:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},Aotg:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_DragBox_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("JfxD"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("CvXi"),_easing_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ykKD"),_events_condition_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Bviv"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),DragZoom=function(_super){function DragZoom(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,{condition:options.condition?options.condition:_events_condition_js__WEBPACK_IMPORTED_MODULE_3__.k,className:options.className||"ol-dragzoom",minArea:options.minArea})||this).duration_=void 0!==options.duration?options.duration:200,_this.out_=void 0!==options.out&&options.out,_this}return __extends(DragZoom,_super),DragZoom.prototype.onBoxEnd=function(event){var map=this.getMap(),view=map.getView(),size=map.getSize(),extent=this.getGeometry().getExtent();if(this.out_){var mapExtent=view.calculateExtentInternal(size),boxPixelExtent=Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.n)([map.getPixelFromCoordinateInternal(Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.v)(extent)),map.getPixelFromCoordinateInternal(Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.C)(extent))]),factor=view.getResolutionForExtentInternal(boxPixelExtent,size);Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.I)(mapExtent,1/factor),extent=mapExtent}var resolution=view.getConstrainedResolution(view.getResolutionForExtentInternal(extent,size)),center=view.getConstrainedCenter(Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.x)(extent),resolution);view.animateInternal({resolution:resolution,center:center,duration:this.duration_,easing:_easing_js__WEBPACK_IMPORTED_MODULE_2__.a})},DragZoom}(_DragBox_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=DragZoom},BF0p:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},BJ1j:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Uhtb"),_GeometryType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9iPr"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("mrzG"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("l2lA"),_extent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("CvXi"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("q7cr"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("HEh+"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("u2yf"),_flat_area_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("tYnX"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),LinearRing=function(_super){function LinearRing(coordinates,opt_layout){var _this=_super.call(this)||this;return _this.maxDelta_=-1,_this.maxDeltaRevision_=-1,void 0===opt_layout||Array.isArray(coordinates[0])?_this.setCoordinates(coordinates,opt_layout):_this.setFlatCoordinates(opt_layout,coordinates),_this}return __extends(LinearRing,_super),LinearRing.prototype.clone=function(){return new LinearRing(this.flatCoordinates.slice(),this.layout)},LinearRing.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))},LinearRing.prototype.getArea=function(){return Object(_flat_area_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},LinearRing.prototype.getCoordinates=function(){return Object(_flat_inflate_js__WEBPACK_IMPORTED_MODULE_7__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},LinearRing.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[];return simplifiedFlatCoordinates.length=Object(_flat_simplify_js__WEBPACK_IMPORTED_MODULE_6__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,squaredTolerance,simplifiedFlatCoordinates,0),new LinearRing(simplifiedFlatCoordinates,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XY)},LinearRing.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_1__.a.LINEAR_RING},LinearRing.prototype.intersectsExtent=function(extent){return!1},LinearRing.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(_flat_deflate_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.flatCoordinates,0,coordinates,this.stride),this.changed()},LinearRing}(_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_2__.a);__webpack_exports__.a=LinearRing},BMbm:function(module,exports){(function(){module.exports=function(){function XMLNodeList(nodes){this.nodes=nodes}return Object.defineProperty(XMLNodeList.prototype,"length",{get:function(){return this.nodes.length||0}}),XMLNodeList.prototype.clone=function(){return this.nodes=null},XMLNodeList.prototype.item=function(index){return this.nodes[index]||null},XMLNodeList}()}).call(this)},Bl63:function(module,exports){(function(){module.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},Bviv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return all}),__webpack_require__.d(__webpack_exports__,"b",function(){return altShiftKeysOnly}),__webpack_require__.d(__webpack_exports__,"e",function(){return focusWithTabindex}),__webpack_require__.d(__webpack_exports__,"c",function(){return always}),__webpack_require__.d(__webpack_exports__,"d",function(){return click}),__webpack_require__.d(__webpack_exports__,"f",function(){return mouseActionButton}),__webpack_require__.d(__webpack_exports__,"h",function(){return never}),__webpack_require__.d(__webpack_exports__,"l",function(){return singleClick}),__webpack_require__.d(__webpack_exports__,"i",function(){return noModifierKeys}),__webpack_require__.d(__webpack_exports__,"k",function(){return shiftKeyOnly}),__webpack_require__.d(__webpack_exports__,"m",function(){return targetNotEditable}),__webpack_require__.d(__webpack_exports__,"g",function(){return mouseOnly}),__webpack_require__.d(__webpack_exports__,"n",function(){return touchOnly}),__webpack_require__.d(__webpack_exports__,"j",function(){return primaryAction});var _MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Cy2j"),_functions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("V8uu"),_has_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("YX0d"),_asserts_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("kvpX");function all(var_args){var conditions=arguments;return function(event){for(var pass=!0,i=0,ii=conditions.length;i<ii&&(pass=pass&&conditions[i](event));++i);return pass}}var altShiftKeysOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&originalEvent.shiftKey},focusWithTabindex=function(event){return!event.map.getTargetElement().hasAttribute("tabindex")||function(event){return event.target.getTargetElement().contains(document.activeElement)}(event)},always=_functions_js__WEBPACK_IMPORTED_MODULE_1__.b,click=function(mapBrowserEvent){return mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__.a.CLICK},mouseActionButton=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return 0==originalEvent.button&&!(_has_js__WEBPACK_IMPORTED_MODULE_2__.f&&_has_js__WEBPACK_IMPORTED_MODULE_2__.d&&originalEvent.ctrlKey)},never=_functions_js__WEBPACK_IMPORTED_MODULE_1__.a,singleClick=function(mapBrowserEvent){return mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__.a.SINGLECLICK},noModifierKeys=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&!originalEvent.shiftKey},shiftKeyOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&originalEvent.shiftKey},targetNotEditable=function(mapBrowserEvent){var tagName=mapBrowserEvent.originalEvent.target.tagName;return"INPUT"!==tagName&&"SELECT"!==tagName&&"TEXTAREA"!==tagName},mouseOnly=function(mapBrowserEvent){var pointerEvent=mapBrowserEvent.originalEvent;return Object(_asserts_js__WEBPACK_IMPORTED_MODULE_3__.a)(void 0!==pointerEvent,56),"mouse"==pointerEvent.pointerType},touchOnly=function(mapBrowserEvent){var pointerEvt=mapBrowserEvent.originalEvent;return Object(_asserts_js__WEBPACK_IMPORTED_MODULE_3__.a)(void 0!==pointerEvt,56),"touch"===pointerEvt.pointerType},primaryAction=function(mapBrowserEvent){var pointerEvent=mapBrowserEvent.originalEvent;return Object(_asserts_js__WEBPACK_IMPORTED_MODULE_3__.a)(void 0!==pointerEvent,56),pointerEvent.isPrimary&&0===pointerEvent.button}},Bw0W:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},CDzl:function(module,exports,__webpack_require__){(function(){"use strict";var builder,defaults,parser,processors,hasProp={}.hasOwnProperty;defaults=__webpack_require__("pn46"),builder=__webpack_require__("QVo3"),parser=__webpack_require__("qxDF"),processors=__webpack_require__("gTaY"),exports.defaults=defaults.defaults,exports.processors=processors,exports.ValidationError=function(superClass){function ValidationError(message){this.message=message}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(ValidationError,Error),ValidationError}(),exports.Builder=builder.Builder,exports.Parser=parser.Parser,exports.parseString=parser.parseString,exports.parseStringPromise=parser.parseStringPromise}).call(this)},CYXk:function(module,exports){(function(){module.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},CZmH:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createCanvasContext2D}),__webpack_require__.d(__webpack_exports__,"c",function(){return outerWidth}),__webpack_require__.d(__webpack_exports__,"b",function(){return outerHeight}),__webpack_require__.d(__webpack_exports__,"g",function(){return replaceNode}),__webpack_require__.d(__webpack_exports__,"e",function(){return removeNode}),__webpack_require__.d(__webpack_exports__,"d",function(){return removeChildren}),__webpack_require__.d(__webpack_exports__,"f",function(){return replaceChildren});var _has_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("YX0d");function createCanvasContext2D(opt_width,opt_height,opt_canvasPool){var canvas=opt_canvasPool&&opt_canvasPool.length?opt_canvasPool.shift():_has_js__WEBPACK_IMPORTED_MODULE_0__.g?new OffscreenCanvas(opt_width||300,opt_height||300):document.createElement("canvas");return opt_width&&(canvas.width=opt_width),opt_height&&(canvas.height=opt_height),canvas.getContext("2d")}function outerWidth(element){var width=element.offsetWidth,style=getComputedStyle(element);return width+(parseInt(style.marginLeft,10)+parseInt(style.marginRight,10))}function outerHeight(element){var height=element.offsetHeight,style=getComputedStyle(element);return height+(parseInt(style.marginTop,10)+parseInt(style.marginBottom,10))}function replaceNode(newNode,oldNode){var parent=oldNode.parentNode;parent&&parent.replaceChild(newNode,oldNode)}function removeNode(node){return node&&node.parentNode?node.parentNode.removeChild(node):null}function removeChildren(node){for(;node.lastChild;)node.removeChild(node.lastChild)}function replaceChildren(node,children){for(var oldChildren=node.childNodes,i=0;;++i){var oldChild=oldChildren[i],newChild=children[i];if(!oldChild&&!newChild)break;oldChild!==newChild&&(oldChild?newChild?node.insertBefore(newChild,oldChild):(node.removeChild(oldChild),--i):node.appendChild(newChild))}}},Cm3p:function(module,exports){(function(){module.exports=function(){function XMLDOMImplementation(){}return XMLDOMImplementation.prototype.hasFeature=function(feature,version){return!0},XMLDOMImplementation.prototype.createDocumentType=function(qualifiedName,publicId,systemId){throw new Error("This DOM method is not implemented.")},XMLDOMImplementation.prototype.createDocument=function(namespaceURI,qualifiedName,doctype){throw new Error("This DOM method is not implemented.")},XMLDOMImplementation.prototype.createHTMLDocument=function(title){throw new Error("This DOM method is not implemented.")},XMLDOMImplementation.prototype.getFeature=function(feature,version){throw new Error("This DOM method is not implemented.")},XMLDOMImplementation}()}).call(this)},Cp04:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getInteriorPointOfArray}),__webpack_require__.d(__webpack_exports__,"b",function(){return getInteriorPointsOfMultiArray});var _contains_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("JfHk"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("n15R");function getInteriorPointOfArray(flatCoordinates,offset,ends,stride,flatCenters,flatCentersOffset,opt_dest){for(var i,ii,x,x1,x2,y1,y2,y=flatCenters[flatCentersOffset+1],intersections=[],r=0,rr=ends.length;r<rr;++r){var end=ends[r];for(x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1],i=offset;i<end;i+=stride)x2=flatCoordinates[i],y2=flatCoordinates[i+1],(y<=y1&&y2<=y||y1<=y&&y<=y2)&&intersections.push(x=(y-y1)/(y2-y1)*(x2-x1)+x1),x1=x2,y1=y2}var pointX=NaN,maxSegmentLength=-1/0;for(intersections.sort(_array_js__WEBPACK_IMPORTED_MODULE_1__.f),x1=intersections[0],i=1,ii=intersections.length;i<ii;++i){x2=intersections[i];var segmentLength=Math.abs(x2-x1);segmentLength>maxSegmentLength&&(x=(x1+x2)/2,Object(_contains_js__WEBPACK_IMPORTED_MODULE_0__.c)(flatCoordinates,offset,ends,stride,x,y)&&(pointX=x,maxSegmentLength=segmentLength)),x1=x2}return isNaN(pointX)&&(pointX=flatCenters[flatCentersOffset]),opt_dest?(opt_dest.push(pointX,y,maxSegmentLength),opt_dest):[pointX,y,maxSegmentLength]}function getInteriorPointsOfMultiArray(flatCoordinates,offset,endss,stride,flatCenters){for(var interiorPoints=[],i=0,ii=endss.length;i<ii;++i){var ends=endss[i];interiorPoints=getInteriorPointOfArray(flatCoordinates,offset,ends,stride,flatCenters,2*i,interiorPoints),offset=ends[ends.length-1]}return interiorPoints}},CvXi:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return boundingExtent}),__webpack_require__.d(__webpack_exports__,"c",function(){return buffer}),__webpack_require__.d(__webpack_exports__,"d",function(){return clone}),__webpack_require__.d(__webpack_exports__,"e",function(){return closestSquaredDistanceXY}),__webpack_require__.d(__webpack_exports__,"f",function(){return containsCoordinate}),__webpack_require__.d(__webpack_exports__,"g",function(){return containsExtent}),__webpack_require__.d(__webpack_exports__,"h",function(){return containsXY}),__webpack_require__.d(__webpack_exports__,"i",function(){return coordinateRelationship}),__webpack_require__.d(__webpack_exports__,"j",function(){return createEmpty}),__webpack_require__.d(__webpack_exports__,"k",function(){return createOrUpdate}),__webpack_require__.d(__webpack_exports__,"l",function(){return createOrUpdateEmpty}),__webpack_require__.d(__webpack_exports__,"m",function(){return createOrUpdateFromCoordinate}),__webpack_require__.d(__webpack_exports__,"n",function(){return createOrUpdateFromCoordinates}),__webpack_require__.d(__webpack_exports__,"o",function(){return createOrUpdateFromFlatCoordinates}),__webpack_require__.d(__webpack_exports__,"p",function(){return equals}),__webpack_require__.d(__webpack_exports__,"q",function(){return extend}),__webpack_require__.d(__webpack_exports__,"r",function(){return extendCoordinate}),__webpack_require__.d(__webpack_exports__,"s",function(){return extendFlatCoordinates}),__webpack_require__.d(__webpack_exports__,"t",function(){return forEachCorner}),__webpack_require__.d(__webpack_exports__,"u",function(){return getArea}),__webpack_require__.d(__webpack_exports__,"v",function(){return getBottomLeft}),__webpack_require__.d(__webpack_exports__,"w",function(){return getBottomRight}),__webpack_require__.d(__webpack_exports__,"x",function(){return getCenter}),__webpack_require__.d(__webpack_exports__,"y",function(){return getForViewAndSize}),__webpack_require__.d(__webpack_exports__,"z",function(){return getHeight}),__webpack_require__.d(__webpack_exports__,"A",function(){return getIntersection}),__webpack_require__.d(__webpack_exports__,"B",function(){return getTopLeft}),__webpack_require__.d(__webpack_exports__,"C",function(){return getTopRight}),__webpack_require__.d(__webpack_exports__,"D",function(){return getWidth}),__webpack_require__.d(__webpack_exports__,"E",function(){return extent_intersects}),__webpack_require__.d(__webpack_exports__,"G",function(){return isEmpty}),__webpack_require__.d(__webpack_exports__,"H",function(){return returnOrUpdate}),__webpack_require__.d(__webpack_exports__,"I",function(){return scaleFromCenter}),__webpack_require__.d(__webpack_exports__,"F",function(){return intersectsSegment}),__webpack_require__.d(__webpack_exports__,"a",function(){return applyTransform}),__webpack_require__.d(__webpack_exports__,"J",function(){return wrapX});var Relationship=__webpack_require__("BF0p");function boundingExtent(coordinates){for(var extent=[1/0,1/0,-1/0,-1/0],i=0,ii=coordinates.length;i<ii;++i)extendCoordinate(extent,coordinates[i]);return extent}function buffer(extent,value,opt_extent){return opt_extent?(opt_extent[0]=extent[0]-value,opt_extent[1]=extent[1]-value,opt_extent[2]=extent[2]+value,opt_extent[3]=extent[3]+value,opt_extent):[extent[0]-value,extent[1]-value,extent[2]+value,extent[3]+value]}function clone(extent,opt_extent){return opt_extent?(opt_extent[0]=extent[0],opt_extent[1]=extent[1],opt_extent[2]=extent[2],opt_extent[3]=extent[3],opt_extent):extent.slice()}function closestSquaredDistanceXY(extent,x,y){var dx,dy;return(dx=x<extent[0]?extent[0]-x:extent[2]<x?x-extent[2]:0)*dx+(dy=y<extent[1]?extent[1]-y:extent[3]<y?y-extent[3]:0)*dy}function containsCoordinate(extent,coordinate){return containsXY(extent,coordinate[0],coordinate[1])}function containsExtent(extent1,extent2){return extent1[0]<=extent2[0]&&extent2[2]<=extent1[2]&&extent1[1]<=extent2[1]&&extent2[3]<=extent1[3]}function containsXY(extent,x,y){return extent[0]<=x&&x<=extent[2]&&extent[1]<=y&&y<=extent[3]}function coordinateRelationship(extent,coordinate){var x=coordinate[0],y=coordinate[1],relationship=Relationship.a.UNKNOWN;return x<extent[0]?relationship|=Relationship.a.LEFT:x>extent[2]&&(relationship|=Relationship.a.RIGHT),y<extent[1]?relationship|=Relationship.a.BELOW:y>extent[3]&&(relationship|=Relationship.a.ABOVE),relationship===Relationship.a.UNKNOWN&&(relationship=Relationship.a.INTERSECTING),relationship}function createEmpty(){return[1/0,1/0,-1/0,-1/0]}function createOrUpdate(minX,minY,maxX,maxY,opt_extent){return opt_extent?(opt_extent[0]=minX,opt_extent[1]=minY,opt_extent[2]=maxX,opt_extent[3]=maxY,opt_extent):[minX,minY,maxX,maxY]}function createOrUpdateEmpty(opt_extent){return createOrUpdate(1/0,1/0,-1/0,-1/0,opt_extent)}function createOrUpdateFromCoordinate(coordinate,opt_extent){var x=coordinate[0],y=coordinate[1];return createOrUpdate(x,y,x,y,opt_extent)}function createOrUpdateFromCoordinates(coordinates,opt_extent){return function(extent,coordinates){for(var i=0,ii=coordinates.length;i<ii;++i)extendCoordinate(extent,coordinates[i]);return extent}(createOrUpdateEmpty(opt_extent),coordinates)}function createOrUpdateFromFlatCoordinates(flatCoordinates,offset,end,stride,opt_extent){return extendFlatCoordinates(createOrUpdateEmpty(opt_extent),flatCoordinates,offset,end,stride)}function equals(extent1,extent2){return extent1[0]==extent2[0]&&extent1[2]==extent2[2]&&extent1[1]==extent2[1]&&extent1[3]==extent2[3]}function extend(extent1,extent2){return extent2[0]<extent1[0]&&(extent1[0]=extent2[0]),extent2[2]>extent1[2]&&(extent1[2]=extent2[2]),extent2[1]<extent1[1]&&(extent1[1]=extent2[1]),extent2[3]>extent1[3]&&(extent1[3]=extent2[3]),extent1}function extendCoordinate(extent,coordinate){coordinate[0]<extent[0]&&(extent[0]=coordinate[0]),coordinate[0]>extent[2]&&(extent[2]=coordinate[0]),coordinate[1]<extent[1]&&(extent[1]=coordinate[1]),coordinate[1]>extent[3]&&(extent[3]=coordinate[1])}function extendFlatCoordinates(extent,flatCoordinates,offset,end,stride){for(;offset<end;offset+=stride)extendXY(extent,flatCoordinates[offset],flatCoordinates[offset+1]);return extent}function extendXY(extent,x,y){extent[0]=Math.min(extent[0],x),extent[1]=Math.min(extent[1],y),extent[2]=Math.max(extent[2],x),extent[3]=Math.max(extent[3],y)}function forEachCorner(extent,callback){var val;return(val=callback(getBottomLeft(extent)))||(val=callback(getBottomRight(extent)))||(val=callback(getTopRight(extent)))?val:(val=callback(getTopLeft(extent)))||!1}function getArea(extent){var area=0;return isEmpty(extent)||(area=getWidth(extent)*getHeight(extent)),area}function getBottomLeft(extent){return[extent[0],extent[1]]}function getBottomRight(extent){return[extent[2],extent[1]]}function getCenter(extent){return[(extent[0]+extent[2])/2,(extent[1]+extent[3])/2]}function getForViewAndSize(center,resolution,rotation,size,opt_extent){var dx=resolution*size[0]/2,dy=resolution*size[1]/2,cosRotation=Math.cos(rotation),sinRotation=Math.sin(rotation),xCos=dx*cosRotation,xSin=dx*sinRotation,yCos=dy*cosRotation,ySin=dy*sinRotation,x=center[0],y=center[1],x0=x-xCos+ySin,x1=x-xCos-ySin,x2=x+xCos-ySin,x3=x+xCos+ySin,y0=y-xSin-yCos,y1=y-xSin+yCos,y2=y+xSin+yCos,y3=y+xSin-yCos;return createOrUpdate(Math.min(x0,x1,x2,x3),Math.min(y0,y1,y2,y3),Math.max(x0,x1,x2,x3),Math.max(y0,y1,y2,y3),opt_extent)}function getHeight(extent){return extent[3]-extent[1]}function getIntersection(extent1,extent2,opt_extent){var intersection=opt_extent||[1/0,1/0,-1/0,-1/0];return extent_intersects(extent1,extent2)?(intersection[0]=extent1[0]>extent2[0]?extent1[0]:extent2[0],intersection[1]=extent1[1]>extent2[1]?extent1[1]:extent2[1],intersection[2]=extent1[2]<extent2[2]?extent1[2]:extent2[2],intersection[3]=extent1[3]<extent2[3]?extent1[3]:extent2[3]):createOrUpdateEmpty(intersection),intersection}function getTopLeft(extent){return[extent[0],extent[3]]}function getTopRight(extent){return[extent[2],extent[3]]}function getWidth(extent){return extent[2]-extent[0]}function extent_intersects(extent1,extent2){return extent1[0]<=extent2[2]&&extent1[2]>=extent2[0]&&extent1[1]<=extent2[3]&&extent1[3]>=extent2[1]}function isEmpty(extent){return extent[2]<extent[0]||extent[3]<extent[1]}function returnOrUpdate(extent,opt_extent){return opt_extent?(opt_extent[0]=extent[0],opt_extent[1]=extent[1],opt_extent[2]=extent[2],opt_extent[3]=extent[3],opt_extent):extent}function scaleFromCenter(extent,value){var deltaX=(extent[2]-extent[0])/2*(value-1),deltaY=(extent[3]-extent[1])/2*(value-1);extent[0]-=deltaX,extent[2]+=deltaX,extent[1]-=deltaY,extent[3]+=deltaY}function intersectsSegment(extent,start,end){var intersects=!1,startRel=coordinateRelationship(extent,start),endRel=coordinateRelationship(extent,end);if(startRel===Relationship.a.INTERSECTING||endRel===Relationship.a.INTERSECTING)intersects=!0;else{var minX=extent[0],minY=extent[1],maxX=extent[2],maxY=extent[3],endX=end[0],endY=end[1],slope=(endY-start[1])/(endX-start[0]),x=void 0,y=void 0;endRel&Relationship.a.ABOVE&&!(startRel&Relationship.a.ABOVE)&&(intersects=(x=endX-(endY-maxY)/slope)>=minX&&x<=maxX),intersects||!(endRel&Relationship.a.RIGHT)||startRel&Relationship.a.RIGHT||(intersects=(y=endY-(endX-maxX)*slope)>=minY&&y<=maxY),intersects||!(endRel&Relationship.a.BELOW)||startRel&Relationship.a.BELOW||(intersects=(x=endX-(endY-minY)/slope)>=minX&&x<=maxX),intersects||!(endRel&Relationship.a.LEFT)||startRel&Relationship.a.LEFT||(intersects=(y=endY-(endX-minX)*slope)>=minY&&y<=maxY)}return intersects}function applyTransform(extent,transformFn,opt_extent,opt_stops){var coordinates=[];if(opt_stops>1)for(var width=extent[2]-extent[0],height=extent[3]-extent[1],i=0;i<opt_stops;++i)coordinates.push(extent[0]+width*i/opt_stops,extent[1],extent[2],extent[1]+height*i/opt_stops,extent[2]-width*i/opt_stops,extent[3],extent[0],extent[3]-height*i/opt_stops);else coordinates=[extent[0],extent[1],extent[2],extent[1],extent[2],extent[3],extent[0],extent[3]];transformFn(coordinates,coordinates,2);for(var xs=[],ys=[],l=(i=0,coordinates.length);i<l;i+=2)xs.push(coordinates[i]),ys.push(coordinates[i+1]);return function(xs,ys,opt_extent){return createOrUpdate(Math.min.apply(null,xs),Math.min.apply(null,ys),Math.max.apply(null,xs),Math.max.apply(null,ys),opt_extent)}(xs,ys,opt_extent)}function wrapX(extent,projection){var projectionExtent=projection.getExtent(),center=getCenter(extent);if(projection.canWrapX()&&(center[0]<projectionExtent[0]||center[0]>=projectionExtent[2])){var worldWidth=getWidth(projectionExtent),offset=Math.floor((center[0]-projectionExtent[0])/worldWidth)*worldWidth;extent[0]-=offset,extent[2]-=offset}return extent}__webpack_require__("kvpX")},Cy2j:function(module,__webpack_exports__,__webpack_require__){"use strict";var _events_EventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("AdTM");__webpack_exports__.a={SINGLECLICK:"singleclick",CLICK:_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.a.CLICK,DBLCLICK:_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},DD3b:function(module,exports,__webpack_require__){var Emitter=__webpack_require__("pSrk");function Stream(){Emitter.call(this)}Stream.prototype=new Emitter,module.exports=Stream,Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),!this.hasListeners("error"))throw er}function cleanup(){source.off("data",ondata),dest.off("drain",ondrain),source.off("end",onend),source.off("close",onclose),source.off("error",onerror),dest.off("error",onerror),source.off("end",cleanup),source.off("close",cleanup),dest.off("end",cleanup),dest.off("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("end",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},Dh7r:function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,hasProp={}.hasOwnProperty;XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),module.exports=function(superClass){function XMLDummy(parent){XMLDummy.__super__.constructor.call(this,parent),this.type=NodeType.Dummy}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDummy,superClass),XMLDummy.prototype.clone=function(){return Object.create(this)},XMLDummy.prototype.toString=function(options){return""},XMLDummy}(XMLNode)}).call(this)},DsAt:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Disposable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2lwS"),_Event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("zvco"),_functions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("V8uu"),_obj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("OPOH"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Target=function(_super){function Target(opt_target){var _this=_super.call(this)||this;return _this.eventTarget_=opt_target,_this.pendingRemovals_=null,_this.dispatching_=null,_this.listeners_=null,_this}return __extends(Target,_super),Target.prototype.addEventListener=function(type,listener){if(type&&listener){var listeners=this.listeners_||(this.listeners_={}),listenersForType=listeners[type]||(listeners[type]=[]);-1===listenersForType.indexOf(listener)&&listenersForType.push(listener)}},Target.prototype.dispatchEvent=function(event){var evt="string"==typeof event?new _Event_js__WEBPACK_IMPORTED_MODULE_1__.a(event):event,type=evt.type;evt.target||(evt.target=this.eventTarget_||this);var propagate,listeners=this.listeners_&&this.listeners_[type];if(listeners){var dispatching=this.dispatching_||(this.dispatching_={}),pendingRemovals=this.pendingRemovals_||(this.pendingRemovals_={});type in dispatching||(dispatching[type]=0,pendingRemovals[type]=0),++dispatching[type];for(var i=0,ii=listeners.length;i<ii;++i)if(!1===(propagate="handleEvent"in listeners[i]?listeners[i].handleEvent(evt):listeners[i].call(this,evt))||evt.propagationStopped){propagate=!1;break}if(--dispatching[type],0===dispatching[type]){var pr=pendingRemovals[type];for(delete pendingRemovals[type];pr--;)this.removeEventListener(type,_functions_js__WEBPACK_IMPORTED_MODULE_2__.c);delete dispatching[type]}return propagate}},Target.prototype.disposeInternal=function(){this.listeners_&&Object(_obj_js__WEBPACK_IMPORTED_MODULE_3__.b)(this.listeners_)},Target.prototype.getListeners=function(type){return this.listeners_&&this.listeners_[type]||void 0},Target.prototype.hasListener=function(opt_type){return!!this.listeners_&&(opt_type?opt_type in this.listeners_:Object.keys(this.listeners_).length>0)},Target.prototype.removeEventListener=function(type,listener){var listeners=this.listeners_&&this.listeners_[type];if(listeners){var index=listeners.indexOf(listener);-1!==index&&(this.pendingRemovals_&&type in this.pendingRemovals_?(listeners[index]=_functions_js__WEBPACK_IMPORTED_MODULE_2__.c,++this.pendingRemovals_[type]):(listeners.splice(index,1),0===listeners.length&&delete this.listeners_[type]))}},Target}(_Disposable_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=Target},Dtfp:function(module,exports,__webpack_require__){"use strict";var ReactNativeFile=__webpack_require__("27Ei");module.exports=function(value){return"undefined"!=typeof File&&value instanceof File||"undefined"!=typeof Blob&&value instanceof Blob||value instanceof ReactNativeFile}},E35u:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,EventType=__webpack_require__("AdTM"),ImageState=__webpack_require__("hp/u"),Observable=__webpack_require__("Nafy"),State=__webpack_require__("bYNo"),util=__webpack_require__("EwAT"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Layer=function(_super){function LayerRenderer(layer){var _this=_super.call(this)||this;return _this.boundHandleImageChange_=_this.handleImageChange_.bind(_this),_this.layer_=layer,_this.declutterExecutorGroup=null,_this}return __extends(LayerRenderer,_super),LayerRenderer.prototype.getFeatures=function(pixel){return Object(util.b)()},LayerRenderer.prototype.prepareFrame=function(frameState){return Object(util.b)()},LayerRenderer.prototype.renderFrame=function(frameState,target){return Object(util.b)()},LayerRenderer.prototype.loadedTileCallback=function(tiles,zoom,tile){tiles[zoom]||(tiles[zoom]={}),tiles[zoom][tile.tileCoord.toString()]=tile},LayerRenderer.prototype.createLoadedTileFinder=function(source,projection,tiles){return(function(zoom,tileRange){var callback=this.loadedTileCallback.bind(this,tiles,zoom);return source.forEachLoadedTile(projection,zoom,tileRange,callback)}).bind(this)},LayerRenderer.prototype.forEachFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,callback,matches){},LayerRenderer.prototype.getDataAtPixel=function(pixel,frameState,hitTolerance){return Object(util.b)()},LayerRenderer.prototype.getLayer=function(){return this.layer_},LayerRenderer.prototype.handleFontsChanged=function(){},LayerRenderer.prototype.handleImageChange_=function(event){event.target.getState()===ImageState.a.LOADED&&this.renderIfReadyAndVisible()},LayerRenderer.prototype.loadImage=function(image){var imageState=image.getState();return imageState!=ImageState.a.LOADED&&imageState!=ImageState.a.ERROR&&image.addEventListener(EventType.a.CHANGE,this.boundHandleImageChange_),imageState==ImageState.a.IDLE&&(image.load(),imageState=image.getState()),imageState==ImageState.a.LOADED},LayerRenderer.prototype.renderIfReadyAndVisible=function(){var layer=this.getLayer();layer.getVisible()&&layer.getSourceState()==State.a.READY&&layer.changed()},LayerRenderer}(Observable.a),Event=__webpack_require__("MzMb"),render_EventType=__webpack_require__("Bw0W"),ol_transform=__webpack_require__("qJZF"),ol_extent=__webpack_require__("CvXi"),dom=__webpack_require__("CZmH"),render_canvas=__webpack_require__("3er3"),Layer_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Layer_CanvasLayerRenderer=function(_super){function CanvasLayerRenderer(layer){var _this=_super.call(this,layer)||this;return _this.container=null,_this.tempTransform=Object(ol_transform.c)(),_this.pixelTransform=Object(ol_transform.c)(),_this.inversePixelTransform=Object(ol_transform.c)(),_this.context=null,_this.containerReused=!1,_this}return Layer_extends(CanvasLayerRenderer,_super),CanvasLayerRenderer.prototype.useContainer=function(target,transform,opacity){var container,context,layerClassName=this.getLayer().getClassName();if(target&&""===target.style.opacity&&target.className===layerClassName&&(canvas=target.firstElementChild)instanceof HTMLCanvasElement&&(context=canvas.getContext("2d")),!context||0!==context.canvas.width&&context.canvas.style.transform!==transform?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=target,this.context=context,this.containerReused=!0),!this.container){(container=document.createElement("div")).className=layerClassName;var canvas,style=container.style;style.position="absolute",style.width="100%",style.height="100%",context=Object(dom.a)(),container.appendChild(canvas=context.canvas),(style=canvas.style).position="absolute",style.left="0",style.transformOrigin="top left",this.container=container,this.context=context}},CanvasLayerRenderer.prototype.clip=function(context,frameState,extent){var pixelRatio=frameState.pixelRatio,halfWidth=frameState.size[0]*pixelRatio/2,halfHeight=frameState.size[1]*pixelRatio/2,rotation=frameState.viewState.rotation,topLeft=Object(ol_extent.B)(extent),topRight=Object(ol_extent.C)(extent),bottomRight=Object(ol_extent.w)(extent),bottomLeft=Object(ol_extent.v)(extent);Object(ol_transform.a)(frameState.coordinateToPixelTransform,topLeft),Object(ol_transform.a)(frameState.coordinateToPixelTransform,topRight),Object(ol_transform.a)(frameState.coordinateToPixelTransform,bottomRight),Object(ol_transform.a)(frameState.coordinateToPixelTransform,bottomLeft),context.save(),Object(render_canvas.t)(context,-rotation,halfWidth,halfHeight),context.beginPath(),context.moveTo(topLeft[0]*pixelRatio,topLeft[1]*pixelRatio),context.lineTo(topRight[0]*pixelRatio,topRight[1]*pixelRatio),context.lineTo(bottomRight[0]*pixelRatio,bottomRight[1]*pixelRatio),context.lineTo(bottomLeft[0]*pixelRatio,bottomLeft[1]*pixelRatio),context.clip(),Object(render_canvas.t)(context,rotation,halfWidth,halfHeight)},CanvasLayerRenderer.prototype.clipUnrotated=function(context,frameState,extent){var topLeft=Object(ol_extent.B)(extent),topRight=Object(ol_extent.C)(extent),bottomRight=Object(ol_extent.w)(extent),bottomLeft=Object(ol_extent.v)(extent);Object(ol_transform.a)(frameState.coordinateToPixelTransform,topLeft),Object(ol_transform.a)(frameState.coordinateToPixelTransform,topRight),Object(ol_transform.a)(frameState.coordinateToPixelTransform,bottomRight),Object(ol_transform.a)(frameState.coordinateToPixelTransform,bottomLeft);var inverted=this.inversePixelTransform;Object(ol_transform.a)(inverted,topLeft),Object(ol_transform.a)(inverted,topRight),Object(ol_transform.a)(inverted,bottomRight),Object(ol_transform.a)(inverted,bottomLeft),context.save(),context.beginPath(),context.moveTo(Math.round(topLeft[0]),Math.round(topLeft[1])),context.lineTo(Math.round(topRight[0]),Math.round(topRight[1])),context.lineTo(Math.round(bottomRight[0]),Math.round(bottomRight[1])),context.lineTo(Math.round(bottomLeft[0]),Math.round(bottomLeft[1])),context.clip()},CanvasLayerRenderer.prototype.dispatchRenderEvent_=function(type,context,frameState){var layer=this.getLayer();if(layer.hasListener(type)){var event_1=new Event.a(type,this.inversePixelTransform,frameState,context);layer.dispatchEvent(event_1)}},CanvasLayerRenderer.prototype.preRender=function(context,frameState){this.dispatchRenderEvent_(render_EventType.a.PRERENDER,context,frameState)},CanvasLayerRenderer.prototype.postRender=function(context,frameState){this.dispatchRenderEvent_(render_EventType.a.POSTRENDER,context,frameState)},CanvasLayerRenderer.prototype.getRenderTransform=function(center,resolution,rotation,pixelRatio,width,height,offsetX){var dx1=width/2,dy1=height/2,sx=pixelRatio/resolution,sy=-sx,dx2=-center[0]+offsetX,dy2=-center[1];return Object(ol_transform.b)(this.tempTransform,dx1,dy1,sx,sy,-rotation,dx2,dy2)},CanvasLayerRenderer.prototype.getDataAtPixel=function(pixel,frameState,hitTolerance){var data,renderPixel=Object(ol_transform.a)(this.inversePixelTransform,pixel.slice()),context=this.context,layerExtent=this.getLayer().getExtent();if(layerExtent){var renderCoordinate=Object(ol_transform.a)(frameState.pixelToCoordinateTransform,pixel.slice());if(!Object(ol_extent.f)(layerExtent,renderCoordinate))return null}try{var x=Math.round(renderPixel[0]),y=Math.round(renderPixel[1]),newCanvas=document.createElement("canvas"),newContext=newCanvas.getContext("2d");newCanvas.width=1,newCanvas.height=1,newContext.clearRect(0,0,1,1),newContext.drawImage(context.canvas,x,y,1,1,0,0,1,1),data=newContext.getImageData(0,0,1,1).data}catch(err){return"SecurityError"===err.name?new Uint8Array:data}return 0===data[3]?null:data},CanvasLayerRenderer}(Layer);__webpack_exports__.a=Layer_CanvasLayerRenderer},E7DV:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClientError=void 0;var ClientError=function(_super){function ClientError(response,request){var _this=this,message=ClientError.extractMessage(response)+": "+JSON.stringify({response:response,request:request});return _this=_super.call(this,message)||this,Object.setPrototypeOf(_this,ClientError.prototype),_this.response=response,_this.request=request,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_this,ClientError),_this}return __extends(ClientError,_super),ClientError.extractMessage=function(response){try{return response.errors[0].message}catch(e){return"GraphQL Error (Code: "+response.status+")"}},ClientError}(Error);exports.ClientError=ClientError},EwAT:function(module,__webpack_exports__,__webpack_require__){"use strict";function abstract(){return function(){throw new Error("Unimplemented abstract method.")}()}__webpack_require__.d(__webpack_exports__,"b",function(){return abstract}),__webpack_require__.d(__webpack_exports__,"c",function(){return getUid}),__webpack_require__.d(__webpack_exports__,"a",function(){return VERSION});var uidCounter_=0;function getUid(obj){return obj.ol_uid||(obj.ol_uid=String(++uidCounter_))}var VERSION="6.5.0"},FYWk:function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,isObject,hasProp={}.hasOwnProperty;isObject=__webpack_require__("RfOz").isObject,XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),module.exports=function(superClass){function XMLDTDEntity(parent,pe,name,value){if(XMLDTDEntity.__super__.constructor.call(this,parent),null==name)throw new Error("Missing DTD entity name. "+this.debugInfo(name));if(null==value)throw new Error("Missing DTD entity value. "+this.debugInfo(name));if(this.pe=!!pe,this.name=this.stringify.name(name),this.type=NodeType.EntityDeclaration,isObject(value)){if(!value.pubID&&!value.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(name));if(value.pubID&&!value.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(name));if(this.internal=!1,null!=value.pubID&&(this.pubID=this.stringify.dtdPubID(value.pubID)),null!=value.sysID&&(this.sysID=this.stringify.dtdSysID(value.sysID)),null!=value.nData&&(this.nData=this.stringify.dtdNData(value.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(name))}else this.value=this.stringify.dtdEntityValue(value),this.internal=!0}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDTDEntity,superClass),Object.defineProperty(XMLDTDEntity.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(XMLDTDEntity.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(XMLDTDEntity.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(XMLDTDEntity.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(XMLDTDEntity.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(XMLDTDEntity.prototype,"xmlVersion",{get:function(){return null}}),XMLDTDEntity.prototype.toString=function(options){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(options))},XMLDTDEntity}(XMLNode)}).call(this)},"G/lS":function(module,exports){(function(){module.exports=function(){function XMLDOMStringList(arr){this.arr=arr||[]}return Object.defineProperty(XMLDOMStringList.prototype,"length",{get:function(){return this.arr.length}}),XMLDOMStringList.prototype.item=function(index){return this.arr[index]||null},XMLDOMStringList.prototype.contains=function(str){return-1!==this.arr.indexOf(str)},XMLDOMStringList}()}).call(this)},GDrd:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={ADD:"add",REMOVE:"remove"}},GI8a:function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,hasProp={}.hasOwnProperty;XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),module.exports=function(superClass){function XMLDTDAttList(parent,elementName,attributeName,attributeType,defaultValueType,defaultValue){if(XMLDTDAttList.__super__.constructor.call(this,parent),null==elementName)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==attributeName)throw new Error("Missing DTD attribute name. "+this.debugInfo(elementName));if(!attributeType)throw new Error("Missing DTD attribute type. "+this.debugInfo(elementName));if(!defaultValueType)throw new Error("Missing DTD attribute default. "+this.debugInfo(elementName));if(0!==defaultValueType.indexOf("#")&&(defaultValueType="#"+defaultValueType),!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(elementName));if(defaultValue&&!defaultValueType.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(elementName));this.elementName=this.stringify.name(elementName),this.type=NodeType.AttributeDeclaration,this.attributeName=this.stringify.name(attributeName),this.attributeType=this.stringify.dtdAttType(attributeType),defaultValue&&(this.defaultValue=this.stringify.dtdAttDefault(defaultValue)),this.defaultValueType=defaultValueType}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDTDAttList,superClass),XMLDTDAttList.prototype.toString=function(options){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(options))},XMLDTDAttList}(XMLNode)}).call(this)},GvmM:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return inView});var extendStatics,_Base_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("VWR+"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_Property_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("30zj"),_render_EventType_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Bw0W"),_source_State_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bYNo"),_asserts_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("kvpX"),_obj_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("OPOH"),_Object_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("4mld"),_events_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Layer=function(_super){function Layer(options){var _this=this,baseOptions=Object(_obj_js__WEBPACK_IMPORTED_MODULE_6__.a)({},options);return delete baseOptions.source,(_this=_super.call(this,baseOptions)||this).mapPrecomposeKey_=null,_this.mapRenderKey_=null,_this.sourceChangeKey_=null,_this.renderer_=null,options.render&&(_this.render=options.render),options.map&&_this.setMap(options.map),_this.addEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_7__.b)(_Property_js__WEBPACK_IMPORTED_MODULE_2__.a.SOURCE),_this.handleSourcePropertyChange_),_this.setSource(options.source?options.source:null),_this}return __extends(Layer,_super),Layer.prototype.getLayersArray=function(opt_array){var array=opt_array||[];return array.push(this),array},Layer.prototype.getLayerStatesArray=function(opt_states){var states=opt_states||[];return states.push(this.getLayerState()),states},Layer.prototype.getSource=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_2__.a.SOURCE)||null},Layer.prototype.getSourceState=function(){var source=this.getSource();return source?source.getState():_source_State_js__WEBPACK_IMPORTED_MODULE_4__.a.UNDEFINED},Layer.prototype.handleSourceChange_=function(){this.changed()},Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(_events_js__WEBPACK_IMPORTED_MODULE_8__.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var source=this.getSource();source&&(this.sourceChangeKey_=Object(_events_js__WEBPACK_IMPORTED_MODULE_8__.a)(source,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CHANGE,this.handleSourceChange_,this)),this.changed()},Layer.prototype.getFeatures=function(pixel){return this.renderer_.getFeatures(pixel)},Layer.prototype.render=function(frameState,target){var layerRenderer=this.getRenderer();if(layerRenderer.prepareFrame(frameState))return layerRenderer.renderFrame(frameState,target)},Layer.prototype.setMap=function(map){this.mapPrecomposeKey_&&(Object(_events_js__WEBPACK_IMPORTED_MODULE_8__.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),map||this.changed(),this.mapRenderKey_&&(Object(_events_js__WEBPACK_IMPORTED_MODULE_8__.c)(this.mapRenderKey_),this.mapRenderKey_=null),map&&(this.mapPrecomposeKey_=Object(_events_js__WEBPACK_IMPORTED_MODULE_8__.a)(map,_render_EventType_js__WEBPACK_IMPORTED_MODULE_3__.a.PRECOMPOSE,function(evt){var layerStatesArray=evt.frameState.layerStatesArray,layerState=this.getLayerState(!1);Object(_asserts_js__WEBPACK_IMPORTED_MODULE_5__.a)(!layerStatesArray.some(function(arrayLayerState){return arrayLayerState.layer===layerState.layer}),67),layerStatesArray.push(layerState)},this),this.mapRenderKey_=Object(_events_js__WEBPACK_IMPORTED_MODULE_8__.a)(this,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CHANGE,map.render,map),this.changed())},Layer.prototype.setSource=function(source){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_2__.a.SOURCE,source)},Layer.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},Layer.prototype.hasRenderer=function(){return!!this.renderer_},Layer.prototype.createRenderer=function(){return null},Layer.prototype.disposeInternal=function(){this.setSource(null),_super.prototype.disposeInternal.call(this)},Layer}(_Base_js__WEBPACK_IMPORTED_MODULE_0__.a);function inView(layerState,viewState){if(!layerState.visible)return!1;var resolution=viewState.resolution;if(resolution<layerState.minResolution||resolution>=layerState.maxResolution)return!1;var zoom=viewState.zoom;return zoom>layerState.minZoom&&zoom<=layerState.maxZoom}__webpack_exports__.a=Layer},H7XF:function(module,exports,__webpack_require__){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),placeHoldersLen=lens[1];return 3*(lens[0]+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp),arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?parts.push(lookup[(tmp=uint8[len-1])>>2]+lookup[tmp<<4&63]+"=="):2===extraBytes&&parts.push(lookup[(tmp=(uint8[len-2]<<8)+uint8[len-1])>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="),parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var num,output=[],i=start;i<end;i+=3)output.push(lookup[(num=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]))>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},"HEh+":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return douglasPeucker}),__webpack_require__.d(__webpack_exports__,"b",function(){return douglasPeuckerArray}),__webpack_require__.d(__webpack_exports__,"e",function(){return snap}),__webpack_require__.d(__webpack_exports__,"c",function(){return quantizeArray}),__webpack_require__.d(__webpack_exports__,"d",function(){return quantizeMultiArray});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f8l7");function douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset){var n=(end-offset)/stride;if(n<3){for(;offset<end;offset+=stride)simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+1];return simplifiedOffset}var markers=new Array(n);markers[0]=1,markers[n-1]=1;for(var stack=[offset,end-stride],index=0;stack.length>0;){for(var last=stack.pop(),first=stack.pop(),maxSquaredDistance=0,x1=flatCoordinates[first],y1=flatCoordinates[first+1],x2=flatCoordinates[last],y2=flatCoordinates[last+1],i=first+stride;i<last;i+=stride){var x=flatCoordinates[i],y=flatCoordinates[i+1],squaredDistance_1=Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.h)(x,y,x1,y1,x2,y2);squaredDistance_1>maxSquaredDistance&&(index=i,maxSquaredDistance=squaredDistance_1)}maxSquaredDistance>squaredTolerance&&(markers[(index-offset)/stride]=1,first+stride<index&&stack.push(first,index),index+stride<last&&stack.push(index,last))}for(i=0;i<n;++i)markers[i]&&(simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+i*stride],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+i*stride+1]);return simplifiedOffset}function douglasPeuckerArray(flatCoordinates,offset,ends,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];simplifiedOffset=douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset),simplifiedEnds.push(simplifiedOffset),offset=end}return simplifiedOffset}function snap(value,tolerance){return tolerance*Math.round(value/tolerance)}function quantize(flatCoordinates,offset,end,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset){if(offset==end)return simplifiedOffset;var x2,y2,x1=snap(flatCoordinates[offset],tolerance),y1=snap(flatCoordinates[offset+1],tolerance);offset+=stride,simplifiedFlatCoordinates[simplifiedOffset++]=x1,simplifiedFlatCoordinates[simplifiedOffset++]=y1;do{if(x2=snap(flatCoordinates[offset],tolerance),y2=snap(flatCoordinates[offset+1],tolerance),(offset+=stride)==end)return simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,simplifiedOffset}while(x2==x1&&y2==y1);for(;offset<end;){var x3=snap(flatCoordinates[offset],tolerance),y3=snap(flatCoordinates[offset+1],tolerance);if(offset+=stride,x3!=x2||y3!=y2){var dx1=x2-x1,dy1=y2-y1,dx2=x3-x1,dy2=y3-y1;dx1*dy2==dy1*dx2&&(dx1<0&&dx2<dx1||dx1==dx2||dx1>0&&dx2>dx1)&&(dy1<0&&dy2<dy1||dy1==dy2||dy1>0&&dy2>dy1)?(x2=x3,y2=y3):(simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,x1=x2,y1=y2,x2=x3,y2=y3)}}return simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,simplifiedOffset}function quantizeArray(flatCoordinates,offset,ends,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];simplifiedOffset=quantize(flatCoordinates,offset,end,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset),simplifiedEnds.push(simplifiedOffset),offset=end}return simplifiedOffset}function quantizeMultiArray(flatCoordinates,offset,endss,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEndss){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i],simplifiedEnds=[];simplifiedOffset=quantizeArray(flatCoordinates,offset,ends,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds),simplifiedEndss.push(simplifiedEnds),offset=ends[ends.length-1]}return simplifiedOffset}},HgA5:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Control_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("OQAH"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_pointer_EventType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("0Hnp"),_css_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("zX6e"),_math_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("f8l7"),_easing_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ykKD"),_events_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("Ho3V"),_events_Event_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("zvco"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ZoomSlider=function(_super){function ZoomSlider(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{element:document.createElement("div"),render:options.render})||this).dragListenerKeys_=[],_this.currentResolution_=void 0,_this.direction_=0,_this.heightLimit_=0,_this.widthLimit_=0,_this.thumbSize_=null,_this.sliderInitialized_=!1,_this.duration_=void 0!==options.duration?options.duration:200;var className=void 0!==options.className?options.className:"ol-zoomslider",thumbElement=document.createElement("button");thumbElement.setAttribute("type","button"),thumbElement.className=className+"-thumb "+_css_js__WEBPACK_IMPORTED_MODULE_3__.e;var containerElement=_this.element;return containerElement.className=className+" "+_css_js__WEBPACK_IMPORTED_MODULE_3__.e+" "+_css_js__WEBPACK_IMPORTED_MODULE_3__.b,containerElement.appendChild(thumbElement),containerElement.addEventListener(_pointer_EventType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINTERDOWN,_this.handleDraggerStart_.bind(_this),!1),containerElement.addEventListener(_pointer_EventType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINTERMOVE,_this.handleDraggerDrag_.bind(_this),!1),containerElement.addEventListener(_pointer_EventType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINTERUP,_this.handleDraggerEnd_.bind(_this),!1),containerElement.addEventListener(_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CLICK,_this.handleContainerClick_.bind(_this),!1),thumbElement.addEventListener(_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CLICK,_events_Event_js__WEBPACK_IMPORTED_MODULE_7__.b,!1),_this}return __extends(ZoomSlider,_super),ZoomSlider.prototype.setMap=function(map){_super.prototype.setMap.call(this,map),map&&map.render()},ZoomSlider.prototype.initSlider_=function(){var container=this.element,containerWidth=container.offsetWidth,containerHeight=container.offsetHeight;if(0===containerWidth&&0===containerHeight)return this.sliderInitialized_=!1;var thumb=container.firstElementChild,computedStyle=getComputedStyle(thumb),thumbWidth=thumb.offsetWidth+parseFloat(computedStyle.marginRight)+parseFloat(computedStyle.marginLeft),thumbHeight=thumb.offsetHeight+parseFloat(computedStyle.marginTop)+parseFloat(computedStyle.marginBottom);return this.thumbSize_=[thumbWidth,thumbHeight],containerWidth>containerHeight?(this.direction_=1,this.widthLimit_=containerWidth-thumbWidth):(this.direction_=0,this.heightLimit_=containerHeight-thumbHeight),this.sliderInitialized_=!0},ZoomSlider.prototype.handleContainerClick_=function(event){var view=this.getMap().getView(),relativePosition=this.getRelativePosition_(event.offsetX-this.thumbSize_[0]/2,event.offsetY-this.thumbSize_[1]/2),resolution=this.getResolutionForPosition_(relativePosition),zoom=view.getConstrainedZoom(view.getZoomForResolution(resolution));view.animateInternal({zoom:zoom,duration:this.duration_,easing:_easing_js__WEBPACK_IMPORTED_MODULE_5__.a})},ZoomSlider.prototype.handleDraggerStart_=function(event){if(!this.dragging_&&event.target===this.element.firstElementChild){var element=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=event.clientX-parseFloat(element.style.left),this.startY_=event.clientY-parseFloat(element.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var drag=this.handleDraggerDrag_,end=this.handleDraggerEnd_,doc=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(_events_js__WEBPACK_IMPORTED_MODULE_6__.a)(doc,_pointer_EventType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINTERMOVE,drag,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_6__.a)(doc,_pointer_EventType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINTERUP,end,this))}}},ZoomSlider.prototype.handleDraggerDrag_=function(event){if(this.dragging_){var relativePosition=this.getRelativePosition_(event.clientX-this.startX_,event.clientY-this.startY_);this.currentResolution_=this.getResolutionForPosition_(relativePosition),this.getMap().getView().setResolution(this.currentResolution_)}},ZoomSlider.prototype.handleDraggerEnd_=function(event){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(_events_js__WEBPACK_IMPORTED_MODULE_6__.c),this.dragListenerKeys_.length=0)},ZoomSlider.prototype.setThumbPosition_=function(res){var position=this.getPositionForResolution_(res),thumb=this.element.firstElementChild;1==this.direction_?thumb.style.left=this.widthLimit_*position+"px":thumb.style.top=this.heightLimit_*position+"px"},ZoomSlider.prototype.getRelativePosition_=function(x,y){var amount;return amount=1===this.direction_?x/this.widthLimit_:y/this.heightLimit_,Object(_math_js__WEBPACK_IMPORTED_MODULE_4__.a)(amount,0,1)},ZoomSlider.prototype.getResolutionForPosition_=function(position){return this.getMap().getView().getResolutionForValueFunction()(1-position)},ZoomSlider.prototype.getPositionForResolution_=function(res){var fn=this.getMap().getView().getValueForResolutionFunction();return Object(_math_js__WEBPACK_IMPORTED_MODULE_4__.a)(1-fn(res),0,1)},ZoomSlider.prototype.render=function(mapEvent){if(mapEvent.frameState&&(this.sliderInitialized_||this.initSlider_())){var res=mapEvent.frameState.viewState.resolution;this.currentResolution_=res,this.setThumbPosition_(res)}},ZoomSlider}(_Control_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=ZoomSlider},Ho3V:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return listen}),__webpack_require__.d(__webpack_exports__,"b",function(){return listenOnce}),__webpack_require__.d(__webpack_exports__,"c",function(){return unlistenByKey});var _obj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("OPOH");function listen(target,type,listener,opt_this,opt_once){if(opt_this&&opt_this!==target&&(listener=listener.bind(opt_this)),opt_once){var originalListener_1=listener;listener=function(){target.removeEventListener(type,listener),originalListener_1.apply(this,arguments)}}var eventsKey={target:target,type:type,listener:listener};return target.addEventListener(type,listener),eventsKey}function listenOnce(target,type,listener,opt_this){return listen(target,type,listener,opt_this,!0)}function unlistenByKey(key){key&&key.target&&(key.target.removeEventListener(key.type,key.listener),Object(_obj_js__WEBPACK_IMPORTED_MODULE_0__.b)(key))}},Hsuu:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},HwjW:function(module,exports,__webpack_require__){(function(){var XMLWriterBase,hasProp={}.hasOwnProperty;XMLWriterBase=__webpack_require__("pLb+"),module.exports=function(superClass){function XMLStringWriter(options){XMLStringWriter.__super__.constructor.call(this,options)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLStringWriter,superClass),XMLStringWriter.prototype.document=function(doc,options){var i,len,r,ref;for(options=this.filterOptions(options),r="",i=0,len=(ref=doc.children).length;i<len;i++)r+=this.writeChildNode(ref[i],options,0);return options.pretty&&r.slice(-options.newline.length)===options.newline&&(r=r.slice(0,-options.newline.length)),r},XMLStringWriter}(XMLWriterBase)}).call(this)},Iab2:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");j.download=g=g||b.name||"download",j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4e4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(function(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4e4)}});f.saveAs=g.saveAs=g,module.exports=g})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,[]):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},IoDD:function(module,exports,__webpack_require__){(function(){var NodeType;NodeType=__webpack_require__("Bl63"),__webpack_require__("kud4"),module.exports=function(){function XMLAttribute(parent,name,value){if(this.parent=parent,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==name)throw new Error("Missing attribute name. "+this.debugInfo(name));this.name=this.stringify.name(name),this.value=this.stringify.attValue(value),this.type=NodeType.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(XMLAttribute.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(XMLAttribute.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(XMLAttribute.prototype,"textContent",{get:function(){return this.value},set:function(value){return this.value=value||""}}),Object.defineProperty(XMLAttribute.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(XMLAttribute.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(XMLAttribute.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(XMLAttribute.prototype,"specified",{get:function(){return!0}}),XMLAttribute.prototype.clone=function(){return Object.create(this)},XMLAttribute.prototype.toString=function(options){return this.options.writer.attribute(this,this.options.writer.filterOptions(options))},XMLAttribute.prototype.debugInfo=function(name){return null==(name=name||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+name+"}, parent: <"+this.parent.name+">"},XMLAttribute.prototype.isEqualNode=function(node){return node.namespaceURI===this.namespaceURI&&node.prefix===this.prefix&&node.localName===this.localName&&node.value===this.value},XMLAttribute}()}).call(this)},JW8z:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Units.a}),__webpack_require__.d(__webpack_exports__,"d",function(){return addProjection}),__webpack_require__.d(__webpack_exports__,"j",function(){return proj_get}),__webpack_require__.d(__webpack_exports__,"k",function(){return getPointResolution}),__webpack_require__.d(__webpack_exports__,"c",function(){return addEquivalentProjections}),__webpack_require__.d(__webpack_exports__,"e",function(){return createProjection}),__webpack_require__.d(__webpack_exports__,"b",function(){return addCoordinateTransforms}),__webpack_require__.d(__webpack_exports__,"g",function(){return equivalent}),__webpack_require__.d(__webpack_exports__,"m",function(){return getTransformFromProjections}),__webpack_require__.d(__webpack_exports__,"l",function(){return getTransform}),__webpack_require__.d(__webpack_exports__,"q",function(){return proj_transform}),__webpack_require__.d(__webpack_exports__,"r",function(){return transformExtent}),__webpack_require__.d(__webpack_exports__,"n",function(){return getUserProjection}),__webpack_require__.d(__webpack_exports__,"o",function(){return toUserCoordinate}),__webpack_require__.d(__webpack_exports__,"h",function(){return fromUserCoordinate}),__webpack_require__.d(__webpack_exports__,"p",function(){return toUserExtent}),__webpack_require__.d(__webpack_exports__,"i",function(){return fromUserExtent}),__webpack_require__.d(__webpack_exports__,"f",function(){return createSafeCoordinateTransform});var extendStatics,projections2,forwardTransform,inverseTransform,Units=__webpack_require__("/O31"),Projection=__webpack_require__("9d2U"),math=__webpack_require__("f8l7"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),HALF_SIZE=6378137*Math.PI,EXTENT=[-HALF_SIZE,-HALF_SIZE,HALF_SIZE,HALF_SIZE],WORLD_EXTENT=[-180,-85,180,85],MAX_SAFE_Y=6378137*Math.log(Math.tan(Math.PI/2)),epsg3857_EPSG3857Projection=function(_super){function EPSG3857Projection(code){return _super.call(this,{code:code,units:Units.b.METERS,extent:EXTENT,global:!0,worldExtent:WORLD_EXTENT,getPointResolution:function(resolution,point){return resolution/Object(math.b)(point[1]/6378137)}})||this}return __extends(EPSG3857Projection,_super),EPSG3857Projection}(Projection.a),PROJECTIONS=[new epsg3857_EPSG3857Projection("EPSG:3857"),new epsg3857_EPSG3857Projection("EPSG:102100"),new epsg3857_EPSG3857Projection("EPSG:102113"),new epsg3857_EPSG3857Projection("EPSG:900913"),new epsg3857_EPSG3857Projection("http://www.opengis.net/gml/srs/epsg.xml#3857")],epsg4326_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),epsg4326_EXTENT=[-180,-90,180,90],METERS_PER_UNIT=6378137*Math.PI/180,epsg4326_EPSG4326Projection=function(_super){function EPSG4326Projection(code,opt_axisOrientation){return _super.call(this,{code:code,units:Units.b.DEGREES,extent:epsg4326_EXTENT,axisOrientation:opt_axisOrientation,global:!0,metersPerUnit:METERS_PER_UNIT,worldExtent:epsg4326_EXTENT})||this}return epsg4326_extends(EPSG4326Projection,_super),EPSG4326Projection}(Projection.a),epsg4326_PROJECTIONS=[new epsg4326_EPSG4326Projection("CRS:84"),new epsg4326_EPSG4326Projection("EPSG:4326","neu"),new epsg4326_EPSG4326Projection("urn:ogc:def:crs:OGC:1.3:CRS84"),new epsg4326_EPSG4326Projection("urn:ogc:def:crs:OGC:2:84"),new epsg4326_EPSG4326Projection("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],cache={},transforms=__webpack_require__("wVse"),ol_extent=__webpack_require__("CvXi"),sphere=__webpack_require__("eQqr"),ol_coordinate=__webpack_require__("pWiS");function cloneTransform(input,opt_output,opt_dimension){var output;if(void 0!==opt_output){for(var i=0,ii=input.length;i<ii;++i)opt_output[i]=input[i];output=opt_output}else output=input.slice();return output}function identityTransform(input,opt_output,opt_dimension){if(void 0!==opt_output&&input!==opt_output){for(var i=0,ii=input.length;i<ii;++i)opt_output[i]=input[i];input=opt_output}return input}function addProjection(projection){!function(code,projection){cache[code]=projection}(projection.getCode(),projection),Object(transforms.a)(projection,projection,cloneTransform)}function proj_get(projectionLike){return"string"==typeof projectionLike?cache[code=projectionLike]||cache[code.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:projectionLike||null;var code}function getPointResolution(projection,resolution,point,opt_units){var pointResolution,getter=(projection=proj_get(projection)).getPointResolutionFunc();if(getter)pointResolution=getter(resolution,point),opt_units&&opt_units!==projection.getUnits()&&(metersPerUnit=projection.getMetersPerUnit())&&(pointResolution=pointResolution*metersPerUnit/Units.a[opt_units]);else{var units=projection.getUnits();if(units==Units.b.DEGREES&&!opt_units||opt_units==Units.b.DEGREES)pointResolution=resolution;else{var metersPerUnit,toEPSG4326_1=getTransformFromProjections(projection,proj_get("EPSG:4326"));if(toEPSG4326_1===identityTransform&&units!==Units.b.DEGREES)pointResolution=resolution*projection.getMetersPerUnit();else{var vertices=[point[0]-resolution/2,point[1],point[0]+resolution/2,point[1],point[0],point[1]-resolution/2,point[0],point[1]+resolution/2];vertices=toEPSG4326_1(vertices,vertices,2),pointResolution=(Object(sphere.b)(vertices.slice(0,2),vertices.slice(2,4))+Object(sphere.b)(vertices.slice(4,6),vertices.slice(6,8)))/2}void 0!==(metersPerUnit=opt_units?Units.a[opt_units]:projection.getMetersPerUnit())&&(pointResolution/=metersPerUnit)}}return pointResolution}function addEquivalentProjections(projections){!function(projections){projections.forEach(addProjection)}(projections),projections.forEach(function(source){projections.forEach(function(destination){source!==destination&&Object(transforms.a)(source,destination,cloneTransform)})})}function createProjection(projection,defaultCode){return projection?"string"==typeof projection?proj_get(projection):projection:proj_get(defaultCode)}function createTransformFromCoordinateTransform(coordTransform){return function(input,opt_output,opt_dimension){for(var length=input.length,dimension=void 0!==opt_dimension?opt_dimension:2,output=void 0!==opt_output?opt_output:new Array(length),i=0;i<length;i+=dimension){var point=coordTransform([input[i],input[i+1]]);output[i]=point[0],output[i+1]=point[1];for(var j=dimension-1;j>=2;--j)output[i+j]=input[i+j]}return output}}function addCoordinateTransforms(source,destination,forward,inverse){var sourceProj=proj_get(source),destProj=proj_get(destination);Object(transforms.a)(sourceProj,destProj,createTransformFromCoordinateTransform(forward)),Object(transforms.a)(destProj,sourceProj,createTransformFromCoordinateTransform(inverse))}function equivalent(projection1,projection2){if(projection1===projection2)return!0;var equalUnits=projection1.getUnits()===projection2.getUnits();return(projection1.getCode()===projection2.getCode()||getTransformFromProjections(projection1,projection2)===cloneTransform)&&equalUnits}function getTransformFromProjections(sourceProjection,destinationProjection){var sourceCode=sourceProjection.getCode(),destinationCode=destinationProjection.getCode(),transformFunc=Object(transforms.c)(sourceCode,destinationCode);return transformFunc||(transformFunc=identityTransform),transformFunc}function getTransform(source,destination){return getTransformFromProjections(proj_get(source),proj_get(destination))}function proj_transform(coordinate,source,destination){return getTransform(source,destination)(coordinate,void 0,coordinate.length)}function transformExtent(extent,source,destination,opt_stops){var transformFunc=getTransform(source,destination);return Object(ol_extent.a)(extent,transformFunc,void 0,opt_stops)}function getUserProjection(){return null}function toUserCoordinate(coordinate,sourceProjection){return coordinate}function fromUserCoordinate(coordinate,destProjection){return coordinate}function toUserExtent(extent,sourceProjection){return extent}function fromUserExtent(extent,destProjection){return extent}function createSafeCoordinateTransform(sourceProj,destProj,transform){return function(coord){var transformed,worldsAway,sourceX=coord[0],sourceY=coord[1];if(sourceProj.canWrapX()){var sourceExtent=sourceProj.getExtent(),sourceExtentWidth=Object(ol_extent.D)(sourceExtent);(worldsAway=Object(ol_coordinate.f)(coord,sourceProj,sourceExtentWidth))&&(sourceX-=worldsAway*sourceExtentWidth),sourceX=Object(math.a)(sourceX,sourceExtent[0],sourceExtent[2]),sourceY=Object(math.a)(sourceY,sourceExtent[1],sourceExtent[3]),transformed=transform([sourceX,sourceY])}else transformed=transform(coord);return worldsAway&&destProj.canWrapX()&&(transformed[0]+=worldsAway*Object(ol_extent.D)(destProj.getExtent())),transformed}}addEquivalentProjections(PROJECTIONS),addEquivalentProjections(epsg4326_PROJECTIONS),projections2=PROJECTIONS,forwardTransform=function(input,opt_output,opt_dimension){var length=input.length,dimension=opt_dimension>1?opt_dimension:2,output=opt_output;void 0===output&&(output=dimension>2?input.slice():new Array(length));for(var i=0;i<length;i+=dimension){output[i]=HALF_SIZE*input[i]/180;var y=6378137*Math.log(Math.tan(Math.PI*(+input[i+1]+90)/360));y>MAX_SAFE_Y?y=MAX_SAFE_Y:y<-MAX_SAFE_Y&&(y=-MAX_SAFE_Y),output[i+1]=y}return output},inverseTransform=function(input,opt_output,opt_dimension){var length=input.length,dimension=opt_dimension>1?opt_dimension:2,output=opt_output;void 0===output&&(output=dimension>2?input.slice():new Array(length));for(var i=0;i<length;i+=dimension)output[i]=180*input[i]/HALF_SIZE,output[i+1]=360*Math.atan(Math.exp(input[i+1]/6378137))/Math.PI-90;return output},epsg4326_PROJECTIONS.forEach(function(projection1){projections2.forEach(function(projection2){Object(transforms.a)(projection1,projection2,forwardTransform),Object(transforms.a)(projection2,projection1,inverseTransform)})})},JaUx:function(module,exports,__webpack_require__){module.exports=function(){"use strict";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(e,Math.floor(r-s*f/o+u)),Math.min(a,Math.floor(r+(o-s)*f/o+u)),h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r}()},JfHk:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return linearRingContainsExtent}),__webpack_require__.d(__webpack_exports__,"b",function(){return linearRingContainsXY}),__webpack_require__.d(__webpack_exports__,"c",function(){return linearRingsContainsXY}),__webpack_require__.d(__webpack_exports__,"d",function(){return linearRingssContainsXY});var _extent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("CvXi");function linearRingContainsExtent(flatCoordinates,offset,end,stride,extent){return!Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.t)(extent,function(coordinate){return!linearRingContainsXY(flatCoordinates,offset,end,stride,coordinate[0],coordinate[1])})}function linearRingContainsXY(flatCoordinates,offset,end,stride,x,y){for(var wn=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];y1<=y?y2>y&&(x2-x1)*(y-y1)-(x-x1)*(y2-y1)>0&&wn++:y2<=y&&(x2-x1)*(y-y1)-(x-x1)*(y2-y1)<0&&wn--,x1=x2,y1=y2}return 0!==wn}function linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y){if(0===ends.length)return!1;if(!linearRingContainsXY(flatCoordinates,offset,ends[0],stride,x,y))return!1;for(var i=1,ii=ends.length;i<ii;++i)if(linearRingContainsXY(flatCoordinates,ends[i-1],ends[i],stride,x,y))return!1;return!0}function linearRingssContainsXY(flatCoordinates,offset,endss,stride,x,y){if(0===endss.length)return!1;for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];if(linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y))return!0;offset=ends[ends.length-1]}return!1}},JfxD:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,Event=__webpack_require__("zvco"),Pointer=__webpack_require__("QQWy"),Disposable=__webpack_require__("2lwS"),Polygon=__webpack_require__("W8M7"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Box=function(_super){function RenderBox(className){var _this=_super.call(this)||this;return _this.geometry_=null,_this.element_=document.createElement("div"),_this.element_.style.position="absolute",_this.element_.style.pointerEvents="auto",_this.element_.className="ol-box "+className,_this.map_=null,_this.startPixel_=null,_this.endPixel_=null,_this}return __extends(RenderBox,_super),RenderBox.prototype.disposeInternal=function(){this.setMap(null)},RenderBox.prototype.render_=function(){var startPixel=this.startPixel_,endPixel=this.endPixel_,style=this.element_.style;style.left=Math.min(startPixel[0],endPixel[0])+"px",style.top=Math.min(startPixel[1],endPixel[1])+"px",style.width=Math.abs(endPixel[0]-startPixel[0])+"px",style.height=Math.abs(endPixel[1]-startPixel[1])+"px"},RenderBox.prototype.setMap=function(map){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var style=this.element_.style;style.left="inherit",style.top="inherit",style.width="inherit",style.height="inherit"}this.map_=map,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},RenderBox.prototype.setPixels=function(startPixel,endPixel){this.startPixel_=startPixel,this.endPixel_=endPixel,this.createOrUpdateGeometry(),this.render_()},RenderBox.prototype.createOrUpdateGeometry=function(){var startPixel=this.startPixel_,endPixel=this.endPixel_,coordinates=[startPixel,[startPixel[0],endPixel[1]],endPixel,[endPixel[0],startPixel[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);coordinates[4]=coordinates[0].slice(),this.geometry_?this.geometry_.setCoordinates([coordinates]):this.geometry_=new Polygon.a([coordinates])},RenderBox.prototype.getGeometry=function(){return this.geometry_},RenderBox}(Disposable.a),condition=__webpack_require__("Bviv"),DragBox_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),DragBoxEvent=function(_super){function DragBoxEvent(type,coordinate,mapBrowserEvent){var _this=_super.call(this,type)||this;return _this.coordinate=coordinate,_this.mapBrowserEvent=mapBrowserEvent,_this}return DragBox_extends(DragBoxEvent,_super),DragBoxEvent}(Event.a),DragBox_DragBox=function(_super){function DragBox(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.box_=new Box(options.className||"ol-dragbox"),_this.minArea_=void 0!==options.minArea?options.minArea:64,options.onBoxEnd&&(_this.onBoxEnd=options.onBoxEnd),_this.startPixel_=null,_this.condition_=options.condition?options.condition:condition.f,_this.boxEndCondition_=options.boxEndCondition?options.boxEndCondition:_this.defaultBoxEndCondition,_this}return DragBox_extends(DragBox,_super),DragBox.prototype.defaultBoxEndCondition=function(mapBrowserEvent,startPixel,endPixel){var width=endPixel[0]-startPixel[0],height=endPixel[1]-startPixel[1];return width*width+height*height>=this.minArea_},DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()},DragBox.prototype.handleDragEvent=function(mapBrowserEvent){this.box_.setPixels(this.startPixel_,mapBrowserEvent.pixel),this.dispatchEvent(new DragBoxEvent("boxdrag",mapBrowserEvent.coordinate,mapBrowserEvent))},DragBox.prototype.handleUpEvent=function(mapBrowserEvent){this.box_.setMap(null);var completeBox=this.boxEndCondition_(mapBrowserEvent,this.startPixel_,mapBrowserEvent.pixel);return completeBox&&this.onBoxEnd(mapBrowserEvent),this.dispatchEvent(new DragBoxEvent(completeBox?"boxend":"boxcancel",mapBrowserEvent.coordinate,mapBrowserEvent)),!1},DragBox.prototype.handleDownEvent=function(mapBrowserEvent){return!!this.condition_(mapBrowserEvent)&&(this.startPixel_=mapBrowserEvent.pixel,this.box_.setMap(mapBrowserEvent.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new DragBoxEvent("boxstart",mapBrowserEvent.coordinate,mapBrowserEvent)),!0)},DragBox.prototype.onBoxEnd=function(event){},DragBox}(Pointer.b);__webpack_exports__.a=DragBox_DragBox},KfZV:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={POINT:"point",LINE:"line"}},"LOJ/":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Collection_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4wAk"),_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("GDrd"),_events_Event_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zvco"),_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("9iPr"),_Interaction_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("QzRn"),_functions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("V8uu"),_obj_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("OPOH"),_style_Style_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("bHcU"),_array_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("n15R"),_util_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("EwAT"),_events_condition_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("Bviv"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),SelectEvent=function(_super){function SelectEvent(type,selected,deselected,mapBrowserEvent){var _this=_super.call(this,type)||this;return _this.selected=selected,_this.deselected=deselected,_this.mapBrowserEvent=mapBrowserEvent,_this}return __extends(SelectEvent,_super),SelectEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_2__.a),originalFeatureStyles={},Select=function(_super){function Select(opt_options){var styles,layerFilter,_this=_super.call(this)||this,options=opt_options||{};if(_this.boundAddFeature_=_this.addFeature_.bind(_this),_this.boundRemoveFeature_=_this.removeFeature_.bind(_this),_this.condition_=options.condition?options.condition:_events_condition_js__WEBPACK_IMPORTED_MODULE_10__.l,_this.addCondition_=options.addCondition?options.addCondition:_events_condition_js__WEBPACK_IMPORTED_MODULE_10__.h,_this.removeCondition_=options.removeCondition?options.removeCondition:_events_condition_js__WEBPACK_IMPORTED_MODULE_10__.h,_this.toggleCondition_=options.toggleCondition?options.toggleCondition:_events_condition_js__WEBPACK_IMPORTED_MODULE_10__.k,_this.multi_=!!options.multi&&options.multi,_this.filter_=options.filter?options.filter:_functions_js__WEBPACK_IMPORTED_MODULE_5__.b,_this.hitTolerance_=options.hitTolerance?options.hitTolerance:0,_this.style_=void 0!==options.style?options.style:(styles=Object(_style_Style_js__WEBPACK_IMPORTED_MODULE_7__.b)(),Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.c)(styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_3__.a.POLYGON],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_3__.a.LINE_STRING]),Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.c)(styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_3__.a.GEOMETRY_COLLECTION],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_3__.a.LINE_STRING]),function(feature){return feature.getGeometry()?styles[feature.getGeometry().getType()]:null}),_this.features_=options.features||new _Collection_js__WEBPACK_IMPORTED_MODULE_0__.a,options.layers)if("function"==typeof options.layers)layerFilter=options.layers;else{var layers_1=options.layers;layerFilter=function(layer){return Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.d)(layers_1,layer)}}else layerFilter=_functions_js__WEBPACK_IMPORTED_MODULE_5__.b;return _this.layerFilter_=layerFilter,_this.featureLayerAssociation_={},_this}return __extends(Select,_super),Select.prototype.addFeatureLayerAssociation_=function(feature,layer){this.featureLayerAssociation_[Object(_util_js__WEBPACK_IMPORTED_MODULE_9__.c)(feature)]=layer},Select.prototype.getFeatures=function(){return this.features_},Select.prototype.getHitTolerance=function(){return this.hitTolerance_},Select.prototype.getLayer=function(feature){return this.featureLayerAssociation_[Object(_util_js__WEBPACK_IMPORTED_MODULE_9__.c)(feature)]},Select.prototype.setHitTolerance=function(hitTolerance){this.hitTolerance_=hitTolerance},Select.prototype.setMap=function(map){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),_super.prototype.setMap.call(this,map),map?(this.features_.addEventListener(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.ADD,this.boundAddFeature_),this.features_.addEventListener(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.ADD,this.boundAddFeature_),this.features_.removeEventListener(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.REMOVE,this.boundRemoveFeature_))},Select.prototype.addFeature_=function(evt){this.style_&&this.applySelectedStyle_(evt.element)},Select.prototype.removeFeature_=function(evt){this.style_&&this.restorePreviousStyle_(evt.element)},Select.prototype.getStyle=function(){return this.style_},Select.prototype.applySelectedStyle_=function(feature){var key=Object(_util_js__WEBPACK_IMPORTED_MODULE_9__.c)(feature);key in originalFeatureStyles||(originalFeatureStyles[key]=feature.getStyle()),feature.setStyle(this.style_)},Select.prototype.restorePreviousStyle_=function(feature){for(var interactions=this.getMap().getInteractions().getArray(),i=interactions.length-1;i>=0;--i){var interaction=interactions[i];if(interaction!==this&&interaction instanceof Select&&interaction.getStyle()&&-1!==interaction.getFeatures().getArray().lastIndexOf(feature))return void feature.setStyle(interaction.getStyle())}var key=Object(_util_js__WEBPACK_IMPORTED_MODULE_9__.c)(feature);feature.setStyle(originalFeatureStyles[key]),delete originalFeatureStyles[key]},Select.prototype.removeFeatureLayerAssociation_=function(feature){delete this.featureLayerAssociation_[Object(_util_js__WEBPACK_IMPORTED_MODULE_9__.c)(feature)]},Select.prototype.handleEvent=function(mapBrowserEvent){if(!this.condition_(mapBrowserEvent))return!0;var add=this.addCondition_(mapBrowserEvent),remove=this.removeCondition_(mapBrowserEvent),toggle=this.toggleCondition_(mapBrowserEvent),set=!add&&!remove&&!toggle,map=mapBrowserEvent.map,features=this.getFeatures(),deselected=[],selected=[];if(set){Object(_obj_js__WEBPACK_IMPORTED_MODULE_6__.b)(this.featureLayerAssociation_),map.forEachFeatureAtPixel(mapBrowserEvent.pixel,(function(feature,layer){if(this.filter_(feature,layer))return selected.push(feature),this.addFeatureLayerAssociation_(feature,layer),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var i=features.getLength()-1;i>=0;--i){var feature=features.item(i),index=selected.indexOf(feature);index>-1?selected.splice(index,1):(features.remove(feature),deselected.push(feature))}0!==selected.length&&features.extend(selected)}else{map.forEachFeatureAtPixel(mapBrowserEvent.pixel,(function(feature,layer){if(this.filter_(feature,layer))return!add&&!toggle||Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.d)(features.getArray(),feature)?(remove||toggle)&&Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.d)(features.getArray(),feature)&&(deselected.push(feature),this.removeFeatureLayerAssociation_(feature)):(selected.push(feature),this.addFeatureLayerAssociation_(feature,layer)),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var j=deselected.length-1;j>=0;--j)features.remove(deselected[j]);features.extend(selected)}return(selected.length>0||deselected.length>0)&&this.dispatchEvent(new SelectEvent("select",selected,deselected,mapBrowserEvent)),!0},Select}(_Interaction_js__WEBPACK_IMPORTED_MODULE_4__.a);__webpack_exports__.a=Select},MNGd:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return defaultOrder}),__webpack_require__.d(__webpack_exports__,"b",function(){return getSquaredTolerance}),__webpack_require__.d(__webpack_exports__,"c",function(){return getTolerance}),__webpack_require__.d(__webpack_exports__,"d",function(){return renderFeature});var _render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("N0mK"),_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9iPr"),_ImageState_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("hp/u"),_util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("EwAT"),GEOMETRY_RENDERERS={Point:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var declutterImageWithText,imageStyle=style.getImage(),textStyle=style.getText();if(opt_declutterBuilderGroup&&(builderGroup=opt_declutterBuilderGroup,declutterImageWithText=imageStyle&&textStyle&&textStyle.getText()?{}:void 0),imageStyle){if(imageStyle.getImageState()!=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.LOADED)return;var imageReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.IMAGE);imageReplay.setImageStyle(imageStyle,declutterImageWithText),imageReplay.drawPoint(geometry,feature)}if(textStyle&&textStyle.getText()){var textReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle,declutterImageWithText),textReplay.drawText(geometry,feature)}},LineString:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var strokeStyle=style.getStroke();if(strokeStyle){var lineStringReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINE_STRING);lineStringReplay.setFillStrokeStyle(null,strokeStyle),lineStringReplay.drawLineString(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},Polygon:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var fillStyle=style.getFill(),strokeStyle=style.getStroke();if(fillStyle||strokeStyle){var polygonReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.POLYGON);polygonReplay.setFillStrokeStyle(fillStyle,strokeStyle),polygonReplay.drawPolygon(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},MultiPoint:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var declutterImageWithText,imageStyle=style.getImage(),textStyle=style.getText();if(opt_declutterBuilderGroup&&(builderGroup=opt_declutterBuilderGroup,declutterImageWithText=imageStyle&&textStyle&&textStyle.getText()?{}:void 0),imageStyle){if(imageStyle.getImageState()!=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.LOADED)return;var imageReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.IMAGE);imageReplay.setImageStyle(imageStyle,declutterImageWithText),imageReplay.drawMultiPoint(geometry,feature)}if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle,declutterImageWithText),textReplay.drawText(geometry,feature)}},MultiLineString:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var strokeStyle=style.getStroke();if(strokeStyle){var lineStringReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINE_STRING);lineStringReplay.setFillStrokeStyle(null,strokeStyle),lineStringReplay.drawMultiLineString(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},MultiPolygon:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var fillStyle=style.getFill(),strokeStyle=style.getStroke();if(strokeStyle||fillStyle){var polygonReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.POLYGON);polygonReplay.setFillStrokeStyle(fillStyle,strokeStyle),polygonReplay.drawMultiPolygon(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},GeometryCollection:function(replayGroup,geometry,style,feature,opt_declutterBuilderGroup){var i,ii,geometries=geometry.getGeometriesArray();for(i=0,ii=geometries.length;i<ii;++i)(0,GEOMETRY_RENDERERS[geometries[i].getType()])(replayGroup,geometries[i],style,feature,opt_declutterBuilderGroup)},Circle:function(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var fillStyle=style.getFill(),strokeStyle=style.getStroke();if(fillStyle||strokeStyle){var circleReplay=builderGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.CIRCLE);circleReplay.setFillStrokeStyle(fillStyle,strokeStyle),circleReplay.drawCircle(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.TEXT);textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}}};function defaultOrder(feature1,feature2){return parseInt(Object(_util_js__WEBPACK_IMPORTED_MODULE_3__.c)(feature1),10)-parseInt(Object(_util_js__WEBPACK_IMPORTED_MODULE_3__.c)(feature2),10)}function getSquaredTolerance(resolution,pixelRatio){var tolerance=getTolerance(resolution,pixelRatio);return tolerance*tolerance}function getTolerance(resolution,pixelRatio){return.5*resolution/pixelRatio}function renderFeature(replayGroup,feature,style,squaredTolerance,listener,opt_transform,opt_declutterBuilderGroup){var loading=!1,imageStyle=style.getImage();if(imageStyle){var imageState=imageStyle.getImageState();imageState==_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.LOADED||imageState==_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.ERROR?imageStyle.unlistenImageChange(listener):(imageState==_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.IDLE&&imageStyle.load(),imageState=imageStyle.getImageState(),imageStyle.listenImageChange(listener),loading=!0)}return function(replayGroup,feature,style,squaredTolerance,opt_transform,opt_declutterBuilderGroup){var geometry=style.getGeometryFunction()(feature);if(geometry){var simplifiedGeometry=geometry.simplifyTransformed(squaredTolerance,opt_transform);style.getRenderer()?renderGeometry(replayGroup,simplifiedGeometry,style,feature):(0,GEOMETRY_RENDERERS[simplifiedGeometry.getType()])(replayGroup,simplifiedGeometry,style,feature,opt_declutterBuilderGroup)}}(replayGroup,feature,style,squaredTolerance,opt_transform,opt_declutterBuilderGroup),loading}function renderGeometry(replayGroup,geometry,style,feature){if(geometry.getType()!=_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_1__.a.GEOMETRY_COLLECTION)replayGroup.getBuilder(style.getZIndex(),_render_canvas_BuilderType_js__WEBPACK_IMPORTED_MODULE_0__.a.DEFAULT).drawCustom(geometry,feature,style.getRenderer());else for(var geometries=geometry.getGeometries(),i=0,ii=geometries.length;i<ii;++i)renderGeometry(replayGroup,geometries[i],style,feature)}},MXF5:function(module,exports,__webpack_require__){!function(sax){sax.parser=function(strict,opt){return new SAXParser(strict,opt)},sax.SAXParser=SAXParser,sax.SAXStream=SAXStream,sax.createStream=function(strict,opt){return new SAXStream(strict,opt)},sax.MAX_BUFFER_LENGTH=65536;var Stream,buffers=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function SAXParser(strict,opt){if(!(this instanceof SAXParser))return new SAXParser(strict,opt);!function(parser){for(var i=0,l=buffers.length;i<l;i++)parser[buffers[i]]=""}(this),this.q=this.c="",this.bufferCheckPosition=sax.MAX_BUFFER_LENGTH,this.opt=opt||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!strict,this.noscript=!(!strict&&!this.opt.noscript),this.state=S.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=Object.create(this.strictEntities?sax.XML_ENTITIES:sax.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(rootNS)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),emit(this,"onready")}sax.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(o){function F(){}return F.prototype=o,new F}),Object.keys||(Object.keys=function(o){var a=[];for(var i in o)o.hasOwnProperty(i)&&a.push(i);return a}),SAXParser.prototype={end:function(){end(this)},write:function(chunk){if(this.error)throw this.error;if(this.closed)return error(this,"Cannot write after close. Assign an onready handler.");if(null===chunk)return end(this);"object"==typeof chunk&&(chunk=chunk.toString());for(var num,entity,entityLC,numStr,i=0,c="";c=charAt(chunk,i++),this.c=c,c;)switch(this.trackPosition&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++),this.state){case S.BEGIN:if(this.state=S.BEGIN_WHITESPACE,"\ufeff"===c)continue;beginWhiteSpace(this,c);continue;case S.BEGIN_WHITESPACE:beginWhiteSpace(this,c);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var starti=i-1;c&&"<"!==c&&"&"!==c;)(c=charAt(chunk,i++))&&this.trackPosition&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++);this.textNode+=chunk.substring(starti,i-1)}"<"!==c||this.sawRoot&&this.closedRoot&&!this.strict?(isWhitespace(c)||this.sawRoot&&!this.closedRoot||strictFail(this,"Text data outside of root node."),"&"===c?this.state=S.TEXT_ENTITY:this.textNode+=c):(this.state=S.OPEN_WAKA,this.startTagPosition=this.position);continue;case S.SCRIPT:"<"===c?this.state=S.SCRIPT_ENDING:this.script+=c;continue;case S.SCRIPT_ENDING:"/"===c?this.state=S.CLOSE_TAG:(this.script+="<"+c,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:"!"===c?(this.state=S.SGML_DECL,this.sgmlDecl=""):isWhitespace(c)||(isMatch(nameStart,c)?(this.state=S.OPEN_TAG,this.tagName=c):"/"===c?(this.state=S.CLOSE_TAG,this.tagName=""):"?"===c?(this.state=S.PROC_INST,this.procInstName=this.procInstBody=""):(strictFail(this,"Unencoded <"),this.startTagPosition+1<this.position&&(c=new Array(this.position-this.startTagPosition).join(" ")+c),this.textNode+="<"+c,this.state=S.TEXT));continue;case S.SGML_DECL:"[CDATA["===(this.sgmlDecl+c).toUpperCase()?(emitNode(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+c==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+c).toUpperCase()?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&strictFail(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===c?(emitNode(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):isQuote(c)?(this.state=S.SGML_DECL_QUOTED,this.sgmlDecl+=c):this.sgmlDecl+=c;continue;case S.SGML_DECL_QUOTED:c===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=c;continue;case S.DOCTYPE:">"===c?(this.state=S.TEXT,emitNode(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=c,"["===c?this.state=S.DOCTYPE_DTD:isQuote(c)&&(this.state=S.DOCTYPE_QUOTED,this.q=c));continue;case S.DOCTYPE_QUOTED:this.doctype+=c,c===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=c,"]"===c?this.state=S.DOCTYPE:isQuote(c)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=c);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=c,c===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===c?this.state=S.COMMENT_ENDING:this.comment+=c;continue;case S.COMMENT_ENDING:"-"===c?(this.state=S.COMMENT_ENDED,this.comment=textopts(this.opt,this.comment),this.comment&&emitNode(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+c,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==c?(strictFail(this,"Malformed comment"),this.comment+="--"+c,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===c?this.state=S.CDATA_ENDING:this.cdata+=c;continue;case S.CDATA_ENDING:"]"===c?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+c,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===c?(this.cdata&&emitNode(this,"oncdata",this.cdata),emitNode(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===c?this.cdata+="]":(this.cdata+="]]"+c,this.state=S.CDATA);continue;case S.PROC_INST:"?"===c?this.state=S.PROC_INST_ENDING:isWhitespace(c)?this.state=S.PROC_INST_BODY:this.procInstName+=c;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&isWhitespace(c))continue;"?"===c?this.state=S.PROC_INST_ENDING:this.procInstBody+=c;continue;case S.PROC_INST_ENDING:">"===c?(emitNode(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+c,this.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:isMatch(nameBody,c)?this.tagName+=c:(newTag(this),">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:(isWhitespace(c)||strictFail(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===c?(openTag(this,!0),closeTag(this)):(strictFail(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(isWhitespace(c))continue;">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:isMatch(nameStart,c)?(this.attribName=c,this.attribValue="",this.state=S.ATTRIB_NAME):strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===c?this.state=S.ATTRIB_VALUE:">"===c?(strictFail(this,"Attribute without value"),this.attribValue=this.attribName,attrib(this),openTag(this)):isWhitespace(c)?this.state=S.ATTRIB_NAME_SAW_WHITE:isMatch(nameBody,c)?this.attribName+=c:strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===c)this.state=S.ATTRIB_VALUE;else{if(isWhitespace(c))continue;strictFail(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",emitNode(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===c?openTag(this):isMatch(nameStart,c)?(this.attribName=c,this.state=S.ATTRIB_NAME):(strictFail(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(isWhitespace(c))continue;isQuote(c)?(this.q=c,this.state=S.ATTRIB_VALUE_QUOTED):(strictFail(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=c);continue;case S.ATTRIB_VALUE_QUOTED:if(c!==this.q){"&"===c?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=c;continue}attrib(this),this.q="",this.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:isWhitespace(c)?this.state=S.ATTRIB:">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:isMatch(nameStart,c)?(strictFail(this,"No whitespace between attributes"),this.attribName=c,this.attribValue="",this.state=S.ATTRIB_NAME):strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!isAttribEnd(c)){"&"===c?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=c;continue}attrib(this),">"===c?openTag(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===c?closeTag(this):isMatch(nameBody,c)?this.tagName+=c:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=S.SCRIPT):(isWhitespace(c)||strictFail(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(isWhitespace(c))continue;notMatch(nameStart,c)?this.script?(this.script+="</"+c,this.state=S.SCRIPT):strictFail(this,"Invalid tagname in closing tag."):this.tagName=c}continue;case S.CLOSE_TAG_SAW_WHITE:if(isWhitespace(c))continue;">"===c?closeTag(this):strictFail(this,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var returnState,buffer;switch(this.state){case S.TEXT_ENTITY:returnState=S.TEXT,buffer="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:returnState=S.ATTRIB_VALUE_QUOTED,buffer="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:returnState=S.ATTRIB_VALUE_UNQUOTED,buffer="attribValue"}";"===c?(this[buffer]+=(num=void 0,entity=void 0,void 0,numStr=void 0,entityLC=(entity=this.entity).toLowerCase(),numStr="",this.ENTITIES[entity]?this.ENTITIES[entity]:this.ENTITIES[entityLC]?this.ENTITIES[entityLC]:("#"===(entity=entityLC).charAt(0)&&("x"===entity.charAt(1)?(entity=entity.slice(2),numStr=(num=parseInt(entity,16)).toString(16)):(entity=entity.slice(1),numStr=(num=parseInt(entity,10)).toString(10))),entity=entity.replace(/^0+/,""),isNaN(num)||numStr.toLowerCase()!==entity?(strictFail(this,"Invalid character entity"),"&"+this.entity+";"):String.fromCodePoint(num))),this.entity="",this.state=returnState):isMatch(this.entity.length?entityBody:entityStart,c)?this.entity+=c:(strictFail(this,"Invalid character in entity name"),this[buffer]+="&"+this.entity+c,this.entity="",this.state=returnState);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(parser){for(var maxAllowed=Math.max(sax.MAX_BUFFER_LENGTH,10),maxActual=0,i=0,l=buffers.length;i<l;i++){var len=parser[buffers[i]].length;if(len>maxAllowed)switch(buffers[i]){case"textNode":closeText(parser);break;case"cdata":emitNode(parser,"oncdata",parser.cdata),parser.cdata="";break;case"script":emitNode(parser,"onscript",parser.script),parser.script="";break;default:error(parser,"Max buffer length exceeded: "+buffers[i])}maxActual=Math.max(maxActual,len)}parser.bufferCheckPosition=sax.MAX_BUFFER_LENGTH-maxActual+parser.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){closeText(this),""!==this.cdata&&(emitNode(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(emitNode(this,"onscript",this.script),this.script="")}};try{Stream=__webpack_require__("DD3b").Stream}catch(ex){Stream=function(){}}var streamWraps=sax.EVENTS.filter(function(ev){return"error"!==ev&&"end"!==ev});function SAXStream(strict,opt){if(!(this instanceof SAXStream))return new SAXStream(strict,opt);Stream.apply(this),this._parser=new SAXParser(strict,opt),this.writable=!0,this.readable=!0;var me=this;this._parser.onend=function(){me.emit("end")},this._parser.onerror=function(er){me.emit("error",er),me._parser.error=null},this._decoder=null,streamWraps.forEach(function(ev){Object.defineProperty(me,"on"+ev,{get:function(){return me._parser["on"+ev]},set:function(h){if(!h)return me.removeAllListeners(ev),me._parser["on"+ev]=h,h;me.on(ev,h)},enumerable:!0,configurable:!1})})}(SAXStream.prototype=Object.create(Stream.prototype,{constructor:{value:SAXStream}})).write=function(data){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(data)){if(!this._decoder){var SD=__webpack_require__("fXKp").StringDecoder;this._decoder=new SD("utf8")}data=this._decoder.write(data)}return this._parser.write(data.toString()),this.emit("data",data),!0},SAXStream.prototype.end=function(chunk){return chunk&&chunk.length&&this.write(chunk),this._parser.end(),!0},SAXStream.prototype.on=function(ev,handler){var me=this;return me._parser["on"+ev]||-1===streamWraps.indexOf(ev)||(me._parser["on"+ev]=function(){var args=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);args.splice(0,0,ev),me.emit.apply(me,args)}),Stream.prototype.on.call(me,ev,handler)};var XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",rootNS={xml:XML_NAMESPACE,xmlns:"http://www.w3.org/2000/xmlns/"},nameStart=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameBody=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,entityStart=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,entityBody=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function isWhitespace(c){return" "===c||"\n"===c||"\r"===c||"\t"===c}function isQuote(c){return'"'===c||"'"===c}function isAttribEnd(c){return">"===c||isWhitespace(c)}function isMatch(regex,c){return regex.test(c)}function notMatch(regex,c){return!isMatch(regex,c)}var stringFromCharCode,floor,fromCodePoint,S=0;for(var s in sax.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},sax.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},sax.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(sax.ENTITIES).forEach(function(key){var e=sax.ENTITIES[key],s="number"==typeof e?String.fromCharCode(e):e;sax.ENTITIES[key]=s}),sax.STATE)sax.STATE[sax.STATE[s]]=s;function emit(parser,event,data){parser[event]&&parser[event](data)}function emitNode(parser,nodeType,data){parser.textNode&&closeText(parser),emit(parser,nodeType,data)}function closeText(parser){parser.textNode=textopts(parser.opt,parser.textNode),parser.textNode&&emit(parser,"ontext",parser.textNode),parser.textNode=""}function textopts(opt,text){return opt.trim&&(text=text.trim()),opt.normalize&&(text=text.replace(/\s+/g," ")),text}function error(parser,er){return closeText(parser),parser.trackPosition&&(er+="\nLine: "+parser.line+"\nColumn: "+parser.column+"\nChar: "+parser.c),er=new Error(er),parser.error=er,emit(parser,"onerror",er),parser}function end(parser){return parser.sawRoot&&!parser.closedRoot&&strictFail(parser,"Unclosed root tag"),parser.state!==S.BEGIN&&parser.state!==S.BEGIN_WHITESPACE&&parser.state!==S.TEXT&&error(parser,"Unexpected end"),closeText(parser),parser.c="",parser.closed=!0,emit(parser,"onend"),SAXParser.call(parser,parser.strict,parser.opt),parser}function strictFail(parser,message){if("object"!=typeof parser||!(parser instanceof SAXParser))throw new Error("bad call to strictFail");parser.strict&&error(parser,message)}function newTag(parser){parser.strict||(parser.tagName=parser.tagName[parser.looseCase]());var parent=parser.tags[parser.tags.length-1]||parser,tag=parser.tag={name:parser.tagName,attributes:{}};parser.opt.xmlns&&(tag.ns=parent.ns),parser.attribList.length=0,emitNode(parser,"onopentagstart",tag)}function qname(name,attribute){var qualName=name.indexOf(":")<0?["",name]:name.split(":"),prefix=qualName[0],local=qualName[1];return attribute&&"xmlns"===name&&(prefix="xmlns",local=""),{prefix:prefix,local:local}}function attrib(parser){if(parser.strict||(parser.attribName=parser.attribName[parser.looseCase]()),-1!==parser.attribList.indexOf(parser.attribName)||parser.tag.attributes.hasOwnProperty(parser.attribName))parser.attribName=parser.attribValue="";else{if(parser.opt.xmlns){var qn=qname(parser.attribName,!0),local=qn.local;if("xmlns"===qn.prefix)if("xml"===local&&parser.attribValue!==XML_NAMESPACE)strictFail(parser,"xml: prefix must be bound to "+XML_NAMESPACE+"\nActual: "+parser.attribValue);else if("xmlns"===local&&"http://www.w3.org/2000/xmlns/"!==parser.attribValue)strictFail(parser,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+parser.attribValue);else{var tag=parser.tag,parent=parser.tags[parser.tags.length-1]||parser;tag.ns===parent.ns&&(tag.ns=Object.create(parent.ns)),tag.ns[local]=parser.attribValue}parser.attribList.push([parser.attribName,parser.attribValue])}else parser.tag.attributes[parser.attribName]=parser.attribValue,emitNode(parser,"onattribute",{name:parser.attribName,value:parser.attribValue});parser.attribName=parser.attribValue=""}}function openTag(parser,selfClosing){if(parser.opt.xmlns){var tag=parser.tag,qn=qname(parser.tagName);tag.prefix=qn.prefix,tag.local=qn.local,tag.uri=tag.ns[qn.prefix]||"",tag.prefix&&!tag.uri&&(strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(parser.tagName)),tag.uri=qn.prefix),tag.ns&&(parser.tags[parser.tags.length-1]||parser).ns!==tag.ns&&Object.keys(tag.ns).forEach(function(p){emitNode(parser,"onopennamespace",{prefix:p,uri:tag.ns[p]})});for(var i=0,l=parser.attribList.length;i<l;i++){var nv=parser.attribList[i],name=nv[0],value=nv[1],qualName=qname(name,!0),prefix=qualName.prefix,uri=""===prefix?"":tag.ns[prefix]||"",a={name:name,value:value,prefix:prefix,local:qualName.local,uri:uri};prefix&&"xmlns"!==prefix&&!uri&&(strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(prefix)),a.uri=prefix),parser.tag.attributes[name]=a,emitNode(parser,"onattribute",a)}parser.attribList.length=0}parser.tag.isSelfClosing=!!selfClosing,parser.sawRoot=!0,parser.tags.push(parser.tag),emitNode(parser,"onopentag",parser.tag),selfClosing||(parser.state=parser.noscript||"script"!==parser.tagName.toLowerCase()?S.TEXT:S.SCRIPT,parser.tag=null,parser.tagName=""),parser.attribName=parser.attribValue="",parser.attribList.length=0}function closeTag(parser){if(!parser.tagName)return strictFail(parser,"Weird empty close tag."),parser.textNode+="</>",void(parser.state=S.TEXT);if(parser.script){if("script"!==parser.tagName)return parser.script+="</"+parser.tagName+">",parser.tagName="",void(parser.state=S.SCRIPT);emitNode(parser,"onscript",parser.script),parser.script=""}var t=parser.tags.length,tagName=parser.tagName;parser.strict||(tagName=tagName[parser.looseCase]());for(var closeTo=tagName;t--&&parser.tags[t].name!==closeTo;)strictFail(parser,"Unexpected close tag");if(t<0)return strictFail(parser,"Unmatched closing tag: "+parser.tagName),parser.textNode+="</"+parser.tagName+">",void(parser.state=S.TEXT);parser.tagName=tagName;for(var s=parser.tags.length;s-- >t;){var tag=parser.tag=parser.tags.pop();parser.tagName=parser.tag.name,emitNode(parser,"onclosetag",parser.tagName);var x={};for(var i in tag.ns)x[i]=tag.ns[i];parser.opt.xmlns&&tag.ns!==(parser.tags[parser.tags.length-1]||parser).ns&&Object.keys(tag.ns).forEach(function(p){emitNode(parser,"onclosenamespace",{prefix:p,uri:tag.ns[p]})})}0===t&&(parser.closedRoot=!0),parser.tagName=parser.attribValue=parser.attribName="",parser.attribList.length=0,parser.state=S.TEXT}function beginWhiteSpace(parser,c){"<"===c?(parser.state=S.OPEN_WAKA,parser.startTagPosition=parser.position):isWhitespace(c)||(strictFail(parser,"Non-whitespace before first tag."),parser.textNode=c,parser.state=S.TEXT)}function charAt(chunk,i){var result="";return i<chunk.length&&(result=chunk.charAt(i)),result}S=sax.STATE,String.fromCodePoint||(stringFromCharCode=String.fromCharCode,floor=Math.floor,fromCodePoint=function(){var MAX_SIZE=16384,codeUnits=[],index=-1,length=arguments.length;if(!length)return"";for(var result="";++index<length;){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint)throw RangeError("Invalid code point: "+codePoint);codePoint<=65535?codeUnits.push(codePoint):codeUnits.push(55296+((codePoint-=65536)>>10),codePoint%1024+56320),(index+1===length||codeUnits.length>MAX_SIZE)&&(result+=stringFromCharCode.apply(null,codeUnits),codeUnits.length=0)}return result},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:fromCodePoint,configurable:!0,writable:!0}):String.fromCodePoint=fromCodePoint)}(exports)},MzMb:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_events_Event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("zvco"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),RenderEvent=function(_super){function RenderEvent(type,opt_inversePixelTransform,opt_frameState,opt_context){var _this=_super.call(this,type)||this;return _this.inversePixelTransform=opt_inversePixelTransform,_this.frameState=opt_frameState,_this.context=opt_context,_this}return __extends(RenderEvent,_super),RenderEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=RenderEvent},N0mK:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},NF0S:function(module,__webpack_exports__,__webpack_require__){"use strict";function hasArea(size){return size[0]>0&&size[1]>0}function toSize(size,opt_size){return Array.isArray(size)?size:(void 0===opt_size?opt_size=[size,size]:(opt_size[0]=size,opt_size[1]=size),opt_size)}__webpack_require__.d(__webpack_exports__,"a",function(){return hasArea}),__webpack_require__.d(__webpack_exports__,"b",function(){return toSize})},Nafy:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return unByKey});var extendStatics,_events_Target_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("DsAt"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_events_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Observable=function(_super){function Observable(){var _this=_super.call(this)||this;return _this.revision_=0,_this}return __extends(Observable,_super),Observable.prototype.changed=function(){++this.revision_,this.dispatchEvent(_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CHANGE)},Observable.prototype.getRevision=function(){return this.revision_},Observable.prototype.on=function(type,listener){if(Array.isArray(type)){for(var len=type.length,keys=new Array(len),i=0;i<len;++i)keys[i]=Object(_events_js__WEBPACK_IMPORTED_MODULE_2__.a)(this,type[i],listener);return keys}return Object(_events_js__WEBPACK_IMPORTED_MODULE_2__.a)(this,type,listener)},Observable.prototype.once=function(type,listener){var key;if(Array.isArray(type)){var len=type.length;key=new Array(len);for(var i=0;i<len;++i)key[i]=Object(_events_js__WEBPACK_IMPORTED_MODULE_2__.b)(this,type[i],listener)}else key=Object(_events_js__WEBPACK_IMPORTED_MODULE_2__.b)(this,type,listener);return listener.ol_key=key,key},Observable.prototype.un=function(type,listener){var key=listener.ol_key;if(key)unByKey(key);else if(Array.isArray(type))for(var i=0,ii=type.length;i<ii;++i)this.removeEventListener(type[i],listener);else this.removeEventListener(type,listener)},Observable}(_events_Target_js__WEBPACK_IMPORTED_MODULE_0__.a);function unByKey(key){if(Array.isArray(key))for(var i=0,ii=key.length;i<ii;++i)Object(_events_js__WEBPACK_IMPORTED_MODULE_2__.c)(key[i]);else Object(_events_js__WEBPACK_IMPORTED_MODULE_2__.c)(key)}__webpack_exports__.a=Observable},OPOH:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return assign}),__webpack_require__.d(__webpack_exports__,"b",function(){return clear}),__webpack_require__.d(__webpack_exports__,"c",function(){return getValues}),__webpack_require__.d(__webpack_exports__,"d",function(){return isEmpty});var assign="function"==typeof Object.assign?Object.assign:function(target,var_sources){if(null==target)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(target),i=1,ii=arguments.length;i<ii;++i){var source=arguments[i];if(null!=source)for(var key in source)source.hasOwnProperty(key)&&(output[key]=source[key])}return output};function clear(object){for(var property in object)delete object[property]}var getValues="function"==typeof Object.values?Object.values:function(object){var values=[];for(var property in object)values.push(object[property]);return values};function isEmpty(object){var property;for(property in object)return!1;return!property}},OQAH:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_MapEventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("WS2v"),_functions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("V8uu"),_events_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Ho3V"),_dom_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("CZmH"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Control=function(_super){function Control(options){var _this=_super.call(this)||this,element=options.element;return!element||options.target||element.style.pointerEvents||(element.style.pointerEvents="auto"),_this.element=element||null,_this.target_=null,_this.map_=null,_this.listenerKeys=[],options.render&&(_this.render=options.render),options.target&&_this.setTarget(options.target),_this}return __extends(Control,_super),Control.prototype.disposeInternal=function(){Object(_dom_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.element),_super.prototype.disposeInternal.call(this)},Control.prototype.getMap=function(){return this.map_},Control.prototype.setMap=function(map){this.map_&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.element);for(var i=0,ii=this.listenerKeys.length;i<ii;++i)Object(_events_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=map,this.map_&&((this.target_?this.target_:map.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==_functions_js__WEBPACK_IMPORTED_MODULE_2__.c&&this.listenerKeys.push(Object(_events_js__WEBPACK_IMPORTED_MODULE_3__.a)(map,_MapEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POSTRENDER,this.render,this)),map.render())},Control.prototype.render=function(mapEvent){},Control.prototype.setTarget=function(target){this.target_="string"==typeof target?document.getElementById(target):target},Control}(_Object_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=Control},"Ojm/":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return defaults});var extendStatics,Collection=__webpack_require__("4wAk"),Interaction=__webpack_require__("QzRn"),MapBrowserEventType=__webpack_require__("Cy2j"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),interaction_DoubleClickZoom=function(_super){function DoubleClickZoom(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.delta_=options.delta?options.delta:1,_this.duration_=void 0!==options.duration?options.duration:250,_this}return __extends(DoubleClickZoom,_super),DoubleClickZoom.prototype.handleEvent=function(mapBrowserEvent){var stopEvent=!1;if(mapBrowserEvent.type==MapBrowserEventType.a.DBLCLICK){var browserEvent=mapBrowserEvent.originalEvent,anchor=mapBrowserEvent.coordinate,delta=browserEvent.shiftKey?-this.delta_:this.delta_,view=mapBrowserEvent.map.getView();Object(Interaction.c)(view,delta,anchor,this.duration_),browserEvent.preventDefault(),stopEvent=!0}return!stopEvent},DoubleClickZoom}(Interaction.a),DragPan=__webpack_require__("y3bx"),DragRotate=__webpack_require__("y23+"),DragZoom=__webpack_require__("Aotg"),EventType=__webpack_require__("AdTM"),events_condition=__webpack_require__("Bviv"),coordinate=__webpack_require__("pWiS"),KeyboardPan_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),interaction_KeyboardPan=function(_super){function KeyboardPan(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.defaultCondition_=function(mapBrowserEvent){return Object(events_condition.i)(mapBrowserEvent)&&Object(events_condition.m)(mapBrowserEvent)},_this.condition_=void 0!==options.condition?options.condition:_this.defaultCondition_,_this.duration_=void 0!==options.duration?options.duration:100,_this.pixelDelta_=void 0!==options.pixelDelta?options.pixelDelta:128,_this}return KeyboardPan_extends(KeyboardPan,_super),KeyboardPan.prototype.handleEvent=function(mapBrowserEvent){var stopEvent=!1;if(mapBrowserEvent.type==EventType.a.KEYDOWN){var keyEvent=mapBrowserEvent.originalEvent,keyCode=keyEvent.keyCode;if(this.condition_(mapBrowserEvent)&&(40==keyCode||37==keyCode||39==keyCode||38==keyCode)){var view=mapBrowserEvent.map.getView(),mapUnitsDelta=view.getResolution()*this.pixelDelta_,deltaX=0,deltaY=0;40==keyCode?deltaY=-mapUnitsDelta:37==keyCode?deltaX=-mapUnitsDelta:39==keyCode?deltaX=mapUnitsDelta:deltaY=mapUnitsDelta;var delta=[deltaX,deltaY];Object(coordinate.g)(delta,view.getRotation()),Object(Interaction.b)(view,delta,this.duration_),keyEvent.preventDefault(),stopEvent=!0}}return!stopEvent},KeyboardPan}(Interaction.a),KeyboardZoom_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),interaction_KeyboardZoom=function(_super){function KeyboardZoom(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.condition_=options.condition?options.condition:events_condition.m,_this.delta_=options.delta?options.delta:1,_this.duration_=void 0!==options.duration?options.duration:100,_this}return KeyboardZoom_extends(KeyboardZoom,_super),KeyboardZoom.prototype.handleEvent=function(mapBrowserEvent){var stopEvent=!1;if(mapBrowserEvent.type==EventType.a.KEYDOWN||mapBrowserEvent.type==EventType.a.KEYPRESS){var keyEvent=mapBrowserEvent.originalEvent,charCode=keyEvent.charCode;if(this.condition_(mapBrowserEvent)&&(charCode=="+".charCodeAt(0)||charCode=="-".charCodeAt(0))){var map=mapBrowserEvent.map,delta=charCode=="+".charCodeAt(0)?this.delta_:-this.delta_,view=map.getView();Object(Interaction.c)(view,delta,void 0,this.duration_),keyEvent.preventDefault(),stopEvent=!0}}return!stopEvent},KeyboardZoom}(Interaction.a),ol_Kinetic=function(){function Kinetic(decay,minVelocity,delay){this.decay_=decay,this.minVelocity_=minVelocity,this.delay_=delay,this.points_=[],this.angle_=0,this.initialVelocity_=0}return Kinetic.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Kinetic.prototype.update=function(x,y){this.points_.push(x,y,Date.now())},Kinetic.prototype.end=function(){if(this.points_.length<6)return!1;var delay=Date.now()-this.delay_,lastIndex=this.points_.length-3;if(this.points_[lastIndex+2]<delay)return!1;for(var firstIndex=lastIndex-3;firstIndex>0&&this.points_[firstIndex+2]>delay;)firstIndex-=3;var duration=this.points_[lastIndex+2]-this.points_[firstIndex+2];if(duration<1e3/60)return!1;var dx=this.points_[lastIndex]-this.points_[firstIndex],dy=this.points_[lastIndex+1]-this.points_[firstIndex+1];return this.angle_=Math.atan2(dy,dx),this.initialVelocity_=Math.sqrt(dx*dx+dy*dy)/duration,this.initialVelocity_>this.minVelocity_},Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Kinetic.prototype.getAngle=function(){return this.angle_},Kinetic}(),has=__webpack_require__("YX0d"),math=__webpack_require__("f8l7"),MouseWheelZoom_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),interaction_MouseWheelZoom=function(_super){function MouseWheelZoom(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,options)||this).totalDelta_=0,_this.lastDelta_=0,_this.maxDelta_=void 0!==options.maxDelta?options.maxDelta:1,_this.duration_=void 0!==options.duration?options.duration:250,_this.timeout_=void 0!==options.timeout?options.timeout:80,_this.useAnchor_=void 0===options.useAnchor||options.useAnchor,_this.constrainResolution_=void 0!==options.constrainResolution&&options.constrainResolution;var condition=options.condition?options.condition:events_condition.c;return _this.condition_=options.onFocusOnly?Object(events_condition.a)(events_condition.e,condition):condition,_this.lastAnchor_=null,_this.startTime_=void 0,_this.mode_=void 0,_this.trackpadEventGap_=400,_this.deltaPerZoom_=300,_this}return MouseWheelZoom_extends(MouseWheelZoom,_super),MouseWheelZoom.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},MouseWheelZoom.prototype.handleEvent=function(mapBrowserEvent){if(!this.condition_(mapBrowserEvent))return!0;if(mapBrowserEvent.type!==EventType.a.WHEEL)return!0;var delta,map=mapBrowserEvent.map,wheelEvent=mapBrowserEvent.originalEvent;if(wheelEvent.preventDefault(),this.useAnchor_&&(this.lastAnchor_=mapBrowserEvent.coordinate),mapBrowserEvent.type==EventType.a.WHEEL&&(delta=wheelEvent.deltaY,has.b&&wheelEvent.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(delta/=has.a),wheelEvent.deltaMode===WheelEvent.DOM_DELTA_LINE&&(delta*=40)),0===delta)return!1;this.lastDelta_=delta;var now=Date.now();void 0===this.startTime_&&(this.startTime_=now),(!this.mode_||now-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(delta)<4?"trackpad":"wheel");var view=map.getView();if("trackpad"===this.mode_&&!view.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(view.getAnimating()&&view.cancelAnimations(),view.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),view.adjustZoom(-delta/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=now,!1;this.totalDelta_+=delta;var timeLeft=Math.max(this.timeout_-(now-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,map),timeLeft),!1},MouseWheelZoom.prototype.handleWheelZoom_=function(map){var view=map.getView();view.getAnimating()&&view.cancelAnimations();var delta=-Object(math.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(view.getConstrainResolution()||this.constrainResolution_)&&(delta=delta?delta>0?1:-1:0),Object(Interaction.c)(view,delta,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},MouseWheelZoom.prototype.setMouseAnchor=function(useAnchor){this.useAnchor_=useAnchor,useAnchor||(this.lastAnchor_=null)},MouseWheelZoom}(Interaction.a),PinchRotate=__webpack_require__("UI7K"),PinchZoom=__webpack_require__("83mf");function defaults(opt_options){var options=opt_options||{},interactions=new Collection.a,kinetic=new ol_Kinetic(-.005,.05,100);return(void 0===options.altShiftDragRotate||options.altShiftDragRotate)&&interactions.push(new DragRotate.a),(void 0===options.doubleClickZoom||options.doubleClickZoom)&&interactions.push(new interaction_DoubleClickZoom({delta:options.zoomDelta,duration:options.zoomDuration})),(void 0===options.dragPan||options.dragPan)&&interactions.push(new DragPan.a({onFocusOnly:options.onFocusOnly,kinetic:kinetic})),(void 0===options.pinchRotate||options.pinchRotate)&&interactions.push(new PinchRotate.a),(void 0===options.pinchZoom||options.pinchZoom)&&interactions.push(new PinchZoom.a({duration:options.zoomDuration})),(void 0===options.keyboard||options.keyboard)&&(interactions.push(new interaction_KeyboardPan),interactions.push(new interaction_KeyboardZoom({delta:options.zoomDelta,duration:options.zoomDuration}))),(void 0===options.mouseWheelZoom||options.mouseWheelZoom)&&interactions.push(new interaction_MouseWheelZoom({onFocusOnly:options.onFocusOnly,duration:options.zoomDuration})),(void 0===options.shiftDragZoom||options.shiftDragZoom)&&interactions.push(new DragZoom.a({duration:options.zoomDuration})),interactions}},OzLs:function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,hasProp={}.hasOwnProperty;XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),module.exports=function(superClass){function XMLDTDElement(parent,name,value){if(XMLDTDElement.__super__.constructor.call(this,parent),null==name)throw new Error("Missing DTD element name. "+this.debugInfo());value||(value="(#PCDATA)"),Array.isArray(value)&&(value="("+value.join(",")+")"),this.name=this.stringify.name(name),this.type=NodeType.ElementDeclaration,this.value=this.stringify.dtdElementValue(value)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDTDElement,superClass),XMLDTDElement.prototype.toString=function(options){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(options))},XMLDTDElement}(XMLNode)}).call(this)},PCLV:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return shared});var _color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("XDhV");function getKey(src,crossOrigin,color){return crossOrigin+":"+src+":"+(color?Object(_color_js__WEBPACK_IMPORTED_MODULE_0__.b)(color):"null")}var shared=new(function(){function IconImageCache(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return IconImageCache.prototype.clear=function(){this.cache_={},this.cacheSize_=0},IconImageCache.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},IconImageCache.prototype.expire=function(){if(this.canExpireCache()){var i=0;for(var key in this.cache_)0!=(3&i++)||this.cache_[key].hasListener()||(delete this.cache_[key],--this.cacheSize_)}},IconImageCache.prototype.get=function(src,crossOrigin,color){var key=getKey(src,crossOrigin,color);return key in this.cache_?this.cache_[key]:null},IconImageCache.prototype.set=function(src,crossOrigin,color,iconImage){var key=getKey(src,crossOrigin,color);this.cache_[key]=iconImage,++this.cacheSize_},IconImageCache.prototype.setSize=function(maxCacheSize){this.maxCacheSize_=maxCacheSize,this.expire()},IconImageCache}())},Pmt0:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,Layer=__webpack_require__("GvmM"),rbush_min=__webpack_require__("JaUx"),rbush_min_default=__webpack_require__.n(rbush_min),obj=__webpack_require__("OPOH"),Style=__webpack_require__("bHcU"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),BaseVector=function(_super){function BaseVectorLayer(opt_options){var _this=this,options=opt_options||{},baseOptions=Object(obj.a)({},options);return delete baseOptions.style,delete baseOptions.renderBuffer,delete baseOptions.updateWhileAnimating,delete baseOptions.updateWhileInteracting,(_this=_super.call(this,baseOptions)||this).declutter_=void 0!==options.declutter&&options.declutter,_this.renderBuffer_=void 0!==options.renderBuffer?options.renderBuffer:100,_this.style_=null,_this.styleFunction_=void 0,_this.setStyle(options.style),_this.updateWhileAnimating_=void 0!==options.updateWhileAnimating&&options.updateWhileAnimating,_this.updateWhileInteracting_=void 0!==options.updateWhileInteracting&&options.updateWhileInteracting,_this}return __extends(BaseVectorLayer,_super),BaseVectorLayer.prototype.getDeclutter=function(){return this.declutter_},BaseVectorLayer.prototype.getFeatures=function(pixel){return _super.prototype.getFeatures.call(this,pixel)},BaseVectorLayer.prototype.getRenderBuffer=function(){return this.renderBuffer_},BaseVectorLayer.prototype.getRenderOrder=function(){return this.get("renderOrder")},BaseVectorLayer.prototype.getStyle=function(){return this.style_},BaseVectorLayer.prototype.getStyleFunction=function(){return this.styleFunction_},BaseVectorLayer.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},BaseVectorLayer.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},BaseVectorLayer.prototype.renderDeclutter=function(frameState){frameState.declutterTree||(frameState.declutterTree=new rbush_min_default.a(9)),this.getRenderer().renderDeclutter(frameState)},BaseVectorLayer.prototype.setRenderOrder=function(renderOrder){this.set("renderOrder",renderOrder)},BaseVectorLayer.prototype.setStyle=function(opt_style){this.style_=void 0!==opt_style?opt_style:Style.a,this.styleFunction_=null===opt_style?void 0:Object(Style.d)(this.style_),this.changed()},BaseVectorLayer}(Layer.a),Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Instruction_fillInstruction=[Instruction.FILL],Instruction_strokeInstruction=[Instruction.STROKE],beginPathInstruction=[Instruction.BEGIN_PATH],closePathInstruction=[Instruction.CLOSE_PATH],canvas_Instruction=Instruction,GeometryType=__webpack_require__("9iPr"),Relationship=__webpack_require__("BF0p"),VectorContext=__webpack_require__("94wz"),colorlike=__webpack_require__("6Y3p"),ol_extent=__webpack_require__("CvXi"),render_canvas=__webpack_require__("3er3"),array=__webpack_require__("n15R"),inflate=__webpack_require__("u2yf"),Builder_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Builder=function(_super){function CanvasBuilder(tolerance,maxExtent,resolution,pixelRatio){var _this=_super.call(this)||this;return _this.tolerance=tolerance,_this.maxExtent=maxExtent,_this.pixelRatio=pixelRatio,_this.maxLineWidth=0,_this.resolution=resolution,_this.beginGeometryInstruction1_=null,_this.beginGeometryInstruction2_=null,_this.bufferedMaxExtent_=null,_this.instructions=[],_this.coordinates=[],_this.tmpCoordinate_=[],_this.hitDetectionInstructions=[],_this.state={},_this}return Builder_extends(CanvasBuilder,_super),CanvasBuilder.prototype.applyPixelRatio=function(dashArray){var pixelRatio=this.pixelRatio;return 1==pixelRatio?dashArray:dashArray.map(function(dash){return dash*pixelRatio})},CanvasBuilder.prototype.appendFlatPointCoordinates=function(flatCoordinates,stride){for(var extent=this.getBufferedMaxExtent(),tmpCoord=this.tmpCoordinate_,coordinates=this.coordinates,myEnd=coordinates.length,i=0,ii=flatCoordinates.length;i<ii;i+=stride)tmpCoord[0]=flatCoordinates[i],tmpCoord[1]=flatCoordinates[i+1],Object(ol_extent.f)(extent,tmpCoord)&&(coordinates[myEnd++]=tmpCoord[0],coordinates[myEnd++]=tmpCoord[1]);return myEnd},CanvasBuilder.prototype.appendFlatLineCoordinates=function(flatCoordinates,offset,end,stride,closed,skipFirst){var coordinates=this.coordinates,myEnd=coordinates.length,extent=this.getBufferedMaxExtent();skipFirst&&(offset+=stride);var i,lastRel,nextRel,lastXCoord=flatCoordinates[offset],lastYCoord=flatCoordinates[offset+1],nextCoord=this.tmpCoordinate_,skipped=!0;for(i=offset+stride;i<end;i+=stride)nextCoord[0]=flatCoordinates[i],nextCoord[1]=flatCoordinates[i+1],(nextRel=Object(ol_extent.i)(extent,nextCoord))!==lastRel?(skipped&&(coordinates[myEnd++]=lastXCoord,coordinates[myEnd++]=lastYCoord,skipped=!1),coordinates[myEnd++]=nextCoord[0],coordinates[myEnd++]=nextCoord[1]):nextRel===Relationship.a.INTERSECTING?(coordinates[myEnd++]=nextCoord[0],coordinates[myEnd++]=nextCoord[1],skipped=!1):skipped=!0,lastXCoord=nextCoord[0],lastYCoord=nextCoord[1],lastRel=nextRel;return(closed&&skipped||i===offset+stride)&&(coordinates[myEnd++]=lastXCoord,coordinates[myEnd++]=lastYCoord),myEnd},CanvasBuilder.prototype.drawCustomCoordinates_=function(flatCoordinates,offset,ends,stride,builderEnds){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i],builderEnd=this.appendFlatLineCoordinates(flatCoordinates,offset,end,stride,!1,!1);builderEnds.push(builderEnd),offset=end}return offset},CanvasBuilder.prototype.drawCustom=function(geometry,feature,renderer){this.beginGeometry(geometry,feature);var flatCoordinates,builderEnd,builderEnds,builderEndss,offset,type=geometry.getType(),stride=geometry.getStride(),builderBegin=this.coordinates.length;if(type==GeometryType.a.MULTI_POLYGON){flatCoordinates=geometry.getOrientedFlatCoordinates(),builderEndss=[];var endss=geometry.getEndss();offset=0;for(var i=0,ii=endss.length;i<ii;++i){var myEnds=[];offset=this.drawCustomCoordinates_(flatCoordinates,offset,endss[i],stride,myEnds),builderEndss.push(myEnds)}this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEndss,geometry,renderer,inflate.c])}else type==GeometryType.a.POLYGON||type==GeometryType.a.MULTI_LINE_STRING?(builderEnds=[],flatCoordinates=type==GeometryType.a.POLYGON?geometry.getOrientedFlatCoordinates():geometry.getFlatCoordinates(),offset=this.drawCustomCoordinates_(flatCoordinates,0,geometry.getEnds(),stride,builderEnds),this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnds,geometry,renderer,inflate.b])):type==GeometryType.a.LINE_STRING||type==GeometryType.a.CIRCLE?(flatCoordinates=geometry.getFlatCoordinates(),builderEnd=this.appendFlatLineCoordinates(flatCoordinates,0,flatCoordinates.length,stride,!1,!1),this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,renderer,inflate.a])):type==GeometryType.a.MULTI_POINT?(flatCoordinates=geometry.getFlatCoordinates(),(builderEnd=this.appendFlatPointCoordinates(flatCoordinates,stride))>builderBegin&&this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,renderer,inflate.a])):type==GeometryType.a.POINT&&(flatCoordinates=geometry.getFlatCoordinates(),this.coordinates.push(flatCoordinates[0],flatCoordinates[1]),this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd=this.coordinates.length,geometry,renderer]));this.endGeometry(feature)},CanvasBuilder.prototype.beginGeometry=function(geometry,feature){this.beginGeometryInstruction1_=[canvas_Instruction.BEGIN_GEOMETRY,feature,0,geometry],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[canvas_Instruction.BEGIN_GEOMETRY,feature,0,geometry],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},CanvasBuilder.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},CanvasBuilder.prototype.reverseHitDetectionInstructions=function(){var i,hitDetectionInstructions=this.hitDetectionInstructions;hitDetectionInstructions.reverse();var instruction,type,n=hitDetectionInstructions.length,begin=-1;for(i=0;i<n;++i)(type=(instruction=hitDetectionInstructions[i])[0])==canvas_Instruction.END_GEOMETRY?begin=i:type==canvas_Instruction.BEGIN_GEOMETRY&&(instruction[2]=i,Object(array.g)(this.hitDetectionInstructions,begin,i),begin=-1)},CanvasBuilder.prototype.setFillStrokeStyle=function(fillStyle,strokeStyle){var state=this.state;if(fillStyle){var fillStyleColor=fillStyle.getColor();state.fillStyle=Object(colorlike.a)(fillStyleColor||render_canvas.c)}else state.fillStyle=void 0;if(strokeStyle){var strokeStyleColor=strokeStyle.getColor();state.strokeStyle=Object(colorlike.a)(strokeStyleColor||render_canvas.l);var strokeStyleLineCap=strokeStyle.getLineCap();state.lineCap=void 0!==strokeStyleLineCap?strokeStyleLineCap:render_canvas.e;var strokeStyleLineDash=strokeStyle.getLineDash();state.lineDash=strokeStyleLineDash?strokeStyleLineDash.slice():render_canvas.f;var strokeStyleLineDashOffset=strokeStyle.getLineDashOffset();state.lineDashOffset=strokeStyleLineDashOffset||render_canvas.g;var strokeStyleLineJoin=strokeStyle.getLineJoin();state.lineJoin=void 0!==strokeStyleLineJoin?strokeStyleLineJoin:render_canvas.h;var strokeStyleWidth=strokeStyle.getWidth();state.lineWidth=void 0!==strokeStyleWidth?strokeStyleWidth:render_canvas.i;var strokeStyleMiterLimit=strokeStyle.getMiterLimit();state.miterLimit=void 0!==strokeStyleMiterLimit?strokeStyleMiterLimit:render_canvas.j,state.lineWidth>this.maxLineWidth&&(this.maxLineWidth=state.lineWidth,this.bufferedMaxExtent_=null)}else state.strokeStyle=void 0,state.lineCap=void 0,state.lineDash=null,state.lineDashOffset=void 0,state.lineJoin=void 0,state.lineWidth=void 0,state.miterLimit=void 0},CanvasBuilder.prototype.createFill=function(state){var fillStyle=state.fillStyle,fillInstruction=[canvas_Instruction.SET_FILL_STYLE,fillStyle];return"string"!=typeof fillStyle&&fillInstruction.push(!0),fillInstruction},CanvasBuilder.prototype.applyStroke=function(state){this.instructions.push(this.createStroke(state))},CanvasBuilder.prototype.createStroke=function(state){return[canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth*this.pixelRatio,state.lineCap,state.lineJoin,state.miterLimit,this.applyPixelRatio(state.lineDash),state.lineDashOffset*this.pixelRatio]},CanvasBuilder.prototype.updateFillStyle=function(state,createFill){var fillStyle=state.fillStyle;"string"==typeof fillStyle&&state.currentFillStyle==fillStyle||(void 0!==fillStyle&&this.instructions.push(createFill.call(this,state)),state.currentFillStyle=fillStyle)},CanvasBuilder.prototype.updateStrokeStyle=function(state,applyStroke){var strokeStyle=state.strokeStyle,lineCap=state.lineCap,lineDash=state.lineDash,lineDashOffset=state.lineDashOffset,lineJoin=state.lineJoin,lineWidth=state.lineWidth,miterLimit=state.miterLimit;(state.currentStrokeStyle!=strokeStyle||state.currentLineCap!=lineCap||lineDash!=state.currentLineDash&&!Object(array.b)(state.currentLineDash,lineDash)||state.currentLineDashOffset!=lineDashOffset||state.currentLineJoin!=lineJoin||state.currentLineWidth!=lineWidth||state.currentMiterLimit!=miterLimit)&&(void 0!==strokeStyle&&applyStroke.call(this,state),state.currentStrokeStyle=strokeStyle,state.currentLineCap=lineCap,state.currentLineDash=lineDash,state.currentLineDashOffset=lineDashOffset,state.currentLineJoin=lineJoin,state.currentLineWidth=lineWidth,state.currentMiterLimit=miterLimit)},CanvasBuilder.prototype.endGeometry=function(feature){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var endGeometryInstruction=[canvas_Instruction.END_GEOMETRY,feature];this.instructions.push(endGeometryInstruction),this.hitDetectionInstructions.push(endGeometryInstruction)},CanvasBuilder.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(ol_extent.d)(this.maxExtent),this.maxLineWidth>0)){var width=this.resolution*(this.maxLineWidth+1)/2;Object(ol_extent.c)(this.bufferedMaxExtent_,width,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},CanvasBuilder}(VectorContext.a),ImageBuilder_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ImageBuilder=function(_super){function CanvasImageBuilder(tolerance,maxExtent,resolution,pixelRatio){var _this=_super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this;return _this.hitDetectionImage_=null,_this.image_=null,_this.imagePixelRatio_=void 0,_this.anchorX_=void 0,_this.anchorY_=void 0,_this.height_=void 0,_this.opacity_=void 0,_this.originX_=void 0,_this.originY_=void 0,_this.rotateWithView_=void 0,_this.rotation_=void 0,_this.scale_=void 0,_this.width_=void 0,_this.declutterImageWithText_=void 0,_this}return ImageBuilder_extends(CanvasImageBuilder,_super),CanvasImageBuilder.prototype.drawPoint=function(pointGeometry,feature){if(this.image_){this.beginGeometry(pointGeometry,feature);var flatCoordinates=pointGeometry.getFlatCoordinates(),stride=pointGeometry.getStride(),myBegin=this.coordinates.length,myEnd=this.appendFlatPointCoordinates(flatCoordinates,stride);this.instructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(feature)}},CanvasImageBuilder.prototype.drawMultiPoint=function(multiPointGeometry,feature){if(this.image_){this.beginGeometry(multiPointGeometry,feature);var flatCoordinates=multiPointGeometry.getFlatCoordinates(),stride=multiPointGeometry.getStride(),myBegin=this.coordinates.length,myEnd=this.appendFlatPointCoordinates(flatCoordinates,stride);this.instructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(feature)}},CanvasImageBuilder.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,_super.prototype.finish.call(this)},CanvasImageBuilder.prototype.setImageStyle=function(imageStyle,opt_sharedData){var anchor=imageStyle.getAnchor(),size=imageStyle.getSize(),hitDetectionImage=imageStyle.getHitDetectionImage(),image=imageStyle.getImage(this.pixelRatio),origin=imageStyle.getOrigin();this.imagePixelRatio_=imageStyle.getPixelRatio(this.pixelRatio),this.anchorX_=anchor[0],this.anchorY_=anchor[1],this.hitDetectionImage_=hitDetectionImage,this.image_=image,this.height_=size[1],this.opacity_=imageStyle.getOpacity(),this.originX_=origin[0],this.originY_=origin[1],this.rotateWithView_=imageStyle.getRotateWithView(),this.rotation_=imageStyle.getRotation(),this.scale_=imageStyle.getScaleArray(),this.width_=size[0],this.declutterImageWithText_=opt_sharedData},CanvasImageBuilder}(Builder),LineStringBuilder_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),LineStringBuilder=function(_super){function CanvasLineStringBuilder(tolerance,maxExtent,resolution,pixelRatio){return _super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this}return LineStringBuilder_extends(CanvasLineStringBuilder,_super),CanvasLineStringBuilder.prototype.drawFlatCoordinates_=function(flatCoordinates,offset,end,stride){var myBegin=this.coordinates.length,myEnd=this.appendFlatLineCoordinates(flatCoordinates,offset,end,stride,!1,!1),moveToLineToInstruction=[canvas_Instruction.MOVE_TO_LINE_TO,myBegin,myEnd];return this.instructions.push(moveToLineToInstruction),this.hitDetectionInstructions.push(moveToLineToInstruction),end},CanvasLineStringBuilder.prototype.drawLineString=function(lineStringGeometry,feature){var state=this.state;if(void 0!==state.strokeStyle&&void 0!==state.lineWidth){this.updateStrokeStyle(state,this.applyStroke),this.beginGeometry(lineStringGeometry,feature),this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset],beginPathInstruction);var flatCoordinates=lineStringGeometry.getFlatCoordinates(),stride=lineStringGeometry.getStride();this.drawFlatCoordinates_(flatCoordinates,0,flatCoordinates.length,stride),this.hitDetectionInstructions.push(Instruction_strokeInstruction),this.endGeometry(feature)}},CanvasLineStringBuilder.prototype.drawMultiLineString=function(multiLineStringGeometry,feature){var state=this.state;if(void 0!==state.strokeStyle&&void 0!==state.lineWidth){this.updateStrokeStyle(state,this.applyStroke),this.beginGeometry(multiLineStringGeometry,feature),this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset],beginPathInstruction);for(var ends=multiLineStringGeometry.getEnds(),flatCoordinates=multiLineStringGeometry.getFlatCoordinates(),stride=multiLineStringGeometry.getStride(),offset=0,i=0,ii=ends.length;i<ii;++i)offset=this.drawFlatCoordinates_(flatCoordinates,offset,ends[i],stride);this.hitDetectionInstructions.push(Instruction_strokeInstruction),this.endGeometry(feature)}},CanvasLineStringBuilder.prototype.finish=function(){var state=this.state;return null!=state.lastStroke&&state.lastStroke!=this.coordinates.length&&this.instructions.push(Instruction_strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,_super.prototype.finish.call(this)},CanvasLineStringBuilder.prototype.applyStroke=function(state){null!=state.lastStroke&&state.lastStroke!=this.coordinates.length&&(this.instructions.push(Instruction_strokeInstruction),state.lastStroke=this.coordinates.length),state.lastStroke=0,_super.prototype.applyStroke.call(this,state),this.instructions.push(beginPathInstruction)},CanvasLineStringBuilder}(Builder),simplify=__webpack_require__("HEh+"),PolygonBuilder_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PolygonBuilder=function(_super){function CanvasPolygonBuilder(tolerance,maxExtent,resolution,pixelRatio){return _super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this}return PolygonBuilder_extends(CanvasPolygonBuilder,_super),CanvasPolygonBuilder.prototype.drawFlatCoordinatess_=function(flatCoordinates,offset,ends,stride){var state=this.state,fill=void 0!==state.fillStyle,stroke=void 0!==state.strokeStyle,numEnds=ends.length;this.instructions.push(beginPathInstruction),this.hitDetectionInstructions.push(beginPathInstruction);for(var i=0;i<numEnds;++i){var end=ends[i],myBegin=this.coordinates.length,myEnd=this.appendFlatLineCoordinates(flatCoordinates,offset,end,stride,!0,!stroke),moveToLineToInstruction=[canvas_Instruction.MOVE_TO_LINE_TO,myBegin,myEnd];this.instructions.push(moveToLineToInstruction),this.hitDetectionInstructions.push(moveToLineToInstruction),stroke&&(this.instructions.push(closePathInstruction),this.hitDetectionInstructions.push(closePathInstruction)),offset=end}return fill&&(this.instructions.push(Instruction_fillInstruction),this.hitDetectionInstructions.push(Instruction_fillInstruction)),stroke&&(this.instructions.push(Instruction_strokeInstruction),this.hitDetectionInstructions.push(Instruction_strokeInstruction)),offset},CanvasPolygonBuilder.prototype.drawCircle=function(circleGeometry,feature){var state=this.state;if(void 0!==state.fillStyle||void 0!==state.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(circleGeometry,feature),void 0!==state.fillStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_FILL_STYLE,render_canvas.c]),void 0!==state.strokeStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset]);var flatCoordinates=circleGeometry.getFlatCoordinates(),stride=circleGeometry.getStride(),myBegin=this.coordinates.length;this.appendFlatLineCoordinates(flatCoordinates,0,flatCoordinates.length,stride,!1,!1);var circleInstruction=[canvas_Instruction.CIRCLE,myBegin];this.instructions.push(beginPathInstruction,circleInstruction),this.hitDetectionInstructions.push(beginPathInstruction,circleInstruction),void 0!==state.fillStyle&&(this.instructions.push(Instruction_fillInstruction),this.hitDetectionInstructions.push(Instruction_fillInstruction)),void 0!==state.strokeStyle&&(this.instructions.push(Instruction_strokeInstruction),this.hitDetectionInstructions.push(Instruction_strokeInstruction)),this.endGeometry(feature)}},CanvasPolygonBuilder.prototype.drawPolygon=function(polygonGeometry,feature){var state=this.state;if(void 0!==state.fillStyle||void 0!==state.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(polygonGeometry,feature),void 0!==state.fillStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_FILL_STYLE,render_canvas.c]),void 0!==state.strokeStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset]);var ends=polygonGeometry.getEnds(),flatCoordinates=polygonGeometry.getOrientedFlatCoordinates(),stride=polygonGeometry.getStride();this.drawFlatCoordinatess_(flatCoordinates,0,ends,stride),this.endGeometry(feature)}},CanvasPolygonBuilder.prototype.drawMultiPolygon=function(multiPolygonGeometry,feature){var state=this.state;if(void 0!==state.fillStyle||void 0!==state.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(multiPolygonGeometry,feature),void 0!==state.fillStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_FILL_STYLE,render_canvas.c]),void 0!==state.strokeStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset]);for(var endss=multiPolygonGeometry.getEndss(),flatCoordinates=multiPolygonGeometry.getOrientedFlatCoordinates(),stride=multiPolygonGeometry.getStride(),offset=0,i=0,ii=endss.length;i<ii;++i)offset=this.drawFlatCoordinatess_(flatCoordinates,offset,endss[i],stride);this.endGeometry(feature)}},CanvasPolygonBuilder.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var tolerance=this.tolerance;if(0!==tolerance)for(var coordinates=this.coordinates,i=0,ii=coordinates.length;i<ii;++i)coordinates[i]=Object(simplify.e)(coordinates[i],tolerance);return _super.prototype.finish.call(this)},CanvasPolygonBuilder.prototype.setFillStrokeStyles_=function(){var state=this.state;void 0!==state.fillStyle&&this.updateFillStyle(state,this.createFill),void 0!==state.strokeStyle&&this.updateStrokeStyle(state,this.applyStroke)},CanvasPolygonBuilder}(Builder),TextPlacement=__webpack_require__("KfZV"),util=__webpack_require__("EwAT");function matchingChunk(maxAngle,flatCoordinates,offset,end,stride){var i,m12,m23,x1,y1,x12,y12,x23,y23,chunkStart=offset,chunkEnd=offset,chunkM=0,m=0,start=offset;for(i=offset;i<end;i+=stride){var x2=flatCoordinates[i],y2=flatCoordinates[i+1];void 0!==x1&&(x23=x2-x1,y23=y2-y1,m23=Math.sqrt(x23*x23+y23*y23),void 0!==x12&&(m+=m12,Math.acos((x12*x23+y12*y23)/(m12*m23))>maxAngle&&(m>chunkM&&(chunkM=m,chunkStart=start,chunkEnd=i),m=0,start=i-stride)),m12=m23,x12=x23,y12=y23),x1=x2,y1=y2}return(m+=m23)>chunkM?[start,i]:[chunkStart,chunkEnd]}var TextBuilder_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},BATCH_CONSTRUCTORS={Circle:PolygonBuilder,Default:Builder,Image:ImageBuilder,LineString:LineStringBuilder,Polygon:PolygonBuilder,Text:function(_super){function CanvasTextBuilder(tolerance,maxExtent,resolution,pixelRatio){var _this=_super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this;return _this.labels_=null,_this.text_="",_this.textOffsetX_=0,_this.textOffsetY_=0,_this.textRotateWithView_=void 0,_this.textRotation_=0,_this.textFillState_=null,_this.fillStates={},_this.textStrokeState_=null,_this.strokeStates={},_this.textState_={},_this.textStates={},_this.textKey_="",_this.fillKey_="",_this.strokeKey_="",_this.declutterImageWithText_=void 0,_this}return TextBuilder_extends(CanvasTextBuilder,_super),CanvasTextBuilder.prototype.finish=function(){var instructions=_super.prototype.finish.call(this);return instructions.textStates=this.textStates,instructions.fillStates=this.fillStates,instructions.strokeStates=this.strokeStates,instructions},CanvasTextBuilder.prototype.drawText=function(geometry,feature){var textState=this.textState_;if(""!==this.text_&&textState&&(this.textFillState_||this.textStrokeState_)){var coordinates=this.coordinates,begin=coordinates.length,geometryType=geometry.getType(),flatCoordinates=null,stride=geometry.getStride();if(textState.placement!==TextPlacement.a.LINE||geometryType!=GeometryType.a.LINE_STRING&&geometryType!=GeometryType.a.MULTI_LINE_STRING&&geometryType!=GeometryType.a.POLYGON&&geometryType!=GeometryType.a.MULTI_POLYGON){var geometryWidths=textState.overflow?null:[];switch(geometryType){case GeometryType.a.POINT:case GeometryType.a.MULTI_POINT:flatCoordinates=geometry.getFlatCoordinates();break;case GeometryType.a.LINE_STRING:flatCoordinates=geometry.getFlatMidpoint();break;case GeometryType.a.CIRCLE:flatCoordinates=geometry.getCenter();break;case GeometryType.a.MULTI_LINE_STRING:flatCoordinates=geometry.getFlatMidpoints(),stride=2;break;case GeometryType.a.POLYGON:flatCoordinates=geometry.getFlatInteriorPoint(),textState.overflow||geometryWidths.push(flatCoordinates[2]/this.resolution),stride=3;break;case GeometryType.a.MULTI_POLYGON:var interiorPoints=geometry.getFlatInteriorPoints();for(flatCoordinates=[],i=0,ii=interiorPoints.length;i<ii;i+=3)textState.overflow||geometryWidths.push(interiorPoints[i+2]/this.resolution),flatCoordinates.push(interiorPoints[i],interiorPoints[i+1]);if(0===flatCoordinates.length)return;stride=2}if((end=this.appendFlatPointCoordinates(flatCoordinates,stride))===begin)return;this.saveTextStates_(),(textState.backgroundFill||textState.backgroundStroke)&&(this.setFillStrokeStyle(textState.backgroundFill,textState.backgroundStroke),textState.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),textState.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(geometry,feature);var padding=textState.padding;if(padding!=render_canvas.k&&(textState.scale[0]<0||textState.scale[1]<0)){var p0=textState.padding[0],p1=textState.padding[1],p2=textState.padding[2],p3=textState.padding[3];textState.scale[0]<0&&(p1=-p1,p3=-p3),textState.scale[1]<0&&(p0=-p0,p2=-p2),padding=[p0,p1,p2,p3]}var pixelRatio_1=this.pixelRatio;this.instructions.push([canvas_Instruction.DRAW_IMAGE,begin,end,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,padding==render_canvas.k?render_canvas.k:padding.map(function(p){return p*pixelRatio_1}),!!textState.backgroundFill,!!textState.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,geometryWidths]);var scale=1/pixelRatio_1;this.hitDetectionInstructions.push([canvas_Instruction.DRAW_IMAGE,begin,end,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[scale,scale],NaN,this.declutterImageWithText_,padding,!!textState.backgroundFill,!!textState.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,geometryWidths]),this.endGeometry(feature)}else{if(!Object(ol_extent.E)(this.getBufferedMaxExtent(),geometry.getExtent()))return;var ends=void 0;if(flatCoordinates=geometry.getFlatCoordinates(),geometryType==GeometryType.a.LINE_STRING)ends=[flatCoordinates.length];else if(geometryType==GeometryType.a.MULTI_LINE_STRING)ends=geometry.getEnds();else if(geometryType==GeometryType.a.POLYGON)ends=geometry.getEnds().slice(0,1);else if(geometryType==GeometryType.a.MULTI_POLYGON){var endss=geometry.getEndss();ends=[];for(var i=0,ii=endss.length;i<ii;++i)ends.push(endss[i][0])}this.beginGeometry(geometry,feature);for(var textAlign=textState.textAlign,flatOffset=0,flatEnd=void 0,o=0,oo=ends.length;o<oo;++o){if(null==textAlign){var range=matchingChunk(textState.maxAngle,flatCoordinates,flatOffset,ends[o],stride);flatOffset=range[0],flatEnd=range[1]}else flatEnd=ends[o];for(i=flatOffset;i<flatEnd;i+=stride)coordinates.push(flatCoordinates[i],flatCoordinates[i+1]);var end;flatOffset=ends[o],this.drawChars_(begin,end=coordinates.length),begin=end}this.endGeometry(feature)}}},CanvasTextBuilder.prototype.saveTextStates_=function(){var strokeState=this.textStrokeState_,textState=this.textState_,fillState=this.textFillState_,strokeKey=this.strokeKey_;strokeState&&(strokeKey in this.strokeStates||(this.strokeStates[strokeKey]={strokeStyle:strokeState.strokeStyle,lineCap:strokeState.lineCap,lineDashOffset:strokeState.lineDashOffset,lineWidth:strokeState.lineWidth,lineJoin:strokeState.lineJoin,miterLimit:strokeState.miterLimit,lineDash:strokeState.lineDash}));var textKey=this.textKey_;textKey in this.textStates||(this.textStates[textKey]={font:textState.font,textAlign:textState.textAlign||render_canvas.m,textBaseline:textState.textBaseline||render_canvas.n,scale:textState.scale});var fillKey=this.fillKey_;fillState&&(fillKey in this.fillStates||(this.fillStates[fillKey]={fillStyle:fillState.fillStyle}))},CanvasTextBuilder.prototype.drawChars_=function(begin,end){var strokeState=this.textStrokeState_,textState=this.textState_,strokeKey=this.strokeKey_,textKey=this.textKey_,fillKey=this.fillKey_;this.saveTextStates_();var pixelRatio=this.pixelRatio,baseline=TEXT_ALIGN[textState.textBaseline],offsetY=this.textOffsetY_*pixelRatio,text=this.text_,strokeWidth=strokeState?strokeState.lineWidth*Math.abs(textState.scale[0])/2:0;this.instructions.push([canvas_Instruction.DRAW_CHARS,begin,end,baseline,textState.overflow,fillKey,textState.maxAngle,pixelRatio,offsetY,strokeKey,strokeWidth*pixelRatio,text,textKey,1]),this.hitDetectionInstructions.push([canvas_Instruction.DRAW_CHARS,begin,end,baseline,textState.overflow,fillKey,textState.maxAngle,1,offsetY,strokeKey,strokeWidth,text,textKey,1/pixelRatio])},CanvasTextBuilder.prototype.setTextStyle=function(textStyle,opt_sharedData){var textState,fillState,strokeState;if(textStyle){var textFillStyle=textStyle.getFill();textFillStyle?((fillState=this.textFillState_)||(this.textFillState_=fillState={}),fillState.fillStyle=Object(colorlike.a)(textFillStyle.getColor()||render_canvas.c)):this.textFillState_=fillState=null;var textStrokeStyle=textStyle.getStroke();if(textStrokeStyle){(strokeState=this.textStrokeState_)||(this.textStrokeState_=strokeState={});var lineDash=textStrokeStyle.getLineDash(),lineDashOffset=textStrokeStyle.getLineDashOffset(),lineWidth=textStrokeStyle.getWidth(),miterLimit=textStrokeStyle.getMiterLimit();strokeState.lineCap=textStrokeStyle.getLineCap()||render_canvas.e,strokeState.lineDash=lineDash?lineDash.slice():render_canvas.f,strokeState.lineDashOffset=void 0===lineDashOffset?render_canvas.g:lineDashOffset,strokeState.lineJoin=textStrokeStyle.getLineJoin()||render_canvas.h,strokeState.lineWidth=void 0===lineWidth?render_canvas.i:lineWidth,strokeState.miterLimit=void 0===miterLimit?render_canvas.j:miterLimit,strokeState.strokeStyle=Object(colorlike.a)(textStrokeStyle.getColor()||render_canvas.l)}else this.textStrokeState_=strokeState=null;textState=this.textState_;var font=textStyle.getFont()||render_canvas.d;Object(render_canvas.s)(font);var textScale=textStyle.getScaleArray();textState.overflow=textStyle.getOverflow(),textState.font=font,textState.maxAngle=textStyle.getMaxAngle(),textState.placement=textStyle.getPlacement(),textState.textAlign=textStyle.getTextAlign(),textState.textBaseline=textStyle.getTextBaseline()||render_canvas.n,textState.backgroundFill=textStyle.getBackgroundFill(),textState.backgroundStroke=textStyle.getBackgroundStroke(),textState.padding=textStyle.getPadding()||render_canvas.k,textState.scale=void 0===textScale?[1,1]:textScale;var textOffsetX=textStyle.getOffsetX(),textOffsetY=textStyle.getOffsetY(),textRotateWithView=textStyle.getRotateWithView(),textRotation=textStyle.getRotation();this.text_=textStyle.getText()||"",this.textOffsetX_=void 0===textOffsetX?0:textOffsetX,this.textOffsetY_=void 0===textOffsetY?0:textOffsetY,this.textRotateWithView_=void 0!==textRotateWithView&&textRotateWithView,this.textRotation_=void 0===textRotation?0:textRotation,this.strokeKey_=strokeState?("string"==typeof strokeState.strokeStyle?strokeState.strokeStyle:Object(util.c)(strokeState.strokeStyle))+strokeState.lineCap+strokeState.lineDashOffset+"|"+strokeState.lineWidth+strokeState.lineJoin+strokeState.miterLimit+"["+strokeState.lineDash.join()+"]":"",this.textKey_=textState.font+textState.scale+(textState.textAlign||"?")+(textState.textBaseline||"?"),this.fillKey_=fillState?"string"==typeof fillState.fillStyle?fillState.fillStyle:"|"+Object(util.c)(fillState.fillStyle):""}else this.text_="";this.declutterImageWithText_=opt_sharedData},CanvasTextBuilder}(Builder)},canvas_BuilderGroup=function(){function BuilderGroup(tolerance,maxExtent,resolution,pixelRatio){this.tolerance_=tolerance,this.maxExtent_=maxExtent,this.pixelRatio_=pixelRatio,this.resolution_=resolution,this.buildersByZIndex_={}}return BuilderGroup.prototype.finish=function(){var builderInstructions={};for(var zKey in this.buildersByZIndex_){builderInstructions[zKey]=builderInstructions[zKey]||{};var builders=this.buildersByZIndex_[zKey];for(var builderKey in builders){var builderInstruction=builders[builderKey].finish();builderInstructions[zKey][builderKey]=builderInstruction}}return builderInstructions},BuilderGroup.prototype.getBuilder=function(zIndex,builderType){var zIndexKey=void 0!==zIndex?zIndex.toString():"0",replays=this.buildersByZIndex_[zIndexKey];void 0===replays&&(this.buildersByZIndex_[zIndexKey]=replays={});var replay=replays[builderType];return void 0===replay&&(replay=new(0,BATCH_CONSTRUCTORS[builderType])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),replays[builderType]=replay),replay},BuilderGroup}(),canvas_Layer=__webpack_require__("E35u"),BuilderType=__webpack_require__("N0mK"),has=__webpack_require__("YX0d"),ol_transform=__webpack_require__("qJZF"),math=__webpack_require__("f8l7"),flat_transform=__webpack_require__("vvg4");function drawTextOnPath(flatCoordinates,offset,end,stride,text,startM,maxAngle,scale,measureAndCacheTextWidth,font,cache,rotation){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1],x1=0,y1=0,segmentLength=0,segmentM=0;function advance(){x1=x2,y1=y2,x2=flatCoordinates[offset+=stride],y2=flatCoordinates[offset+1],segmentM+=segmentLength,segmentLength=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))}do{advance()}while(offset<end-stride&&segmentM+segmentLength<startM);for(var interpolate=(startM-segmentM)/segmentLength,beginX=Object(math.c)(x1,x2,interpolate),beginY=Object(math.c)(y1,y2,interpolate),startOffset=offset-stride,startLength=segmentM,endM=startM+scale*measureAndCacheTextWidth(font,text,cache);offset<end-stride&&segmentM+segmentLength<endM;)advance();interpolate=(endM-segmentM)/segmentLength;var reverse,endX=Object(math.c)(x1,x2,interpolate),endY=Object(math.c)(y1,y2,interpolate);if(rotation){var flat=[beginX,beginY,endX,endY];Object(flat_transform.a)(flat,0,4,2,rotation,flat,flat),reverse=flat[0]>flat[2]}else reverse=beginX>endX;var previousAngle,PI=Math.PI,result=[],singleSegment=startOffset+stride===offset;if(segmentLength=0,segmentM=startLength,x2=flatCoordinates[offset=startOffset],y2=flatCoordinates[offset+1],singleSegment){advance();var previousAngle_1=Math.atan2(y2-y1,x2-x1);return reverse&&(previousAngle_1+=previousAngle_1>0?-PI:PI),result[0]=[x=(endX+beginX)/2,y=(endY+beginY)/2,(endM-startM)/2,previousAngle_1,text],result}for(var i=0,ii=text.length;i<ii;){advance();var angle=Math.atan2(y2-y1,x2-x1);if(reverse&&(angle+=angle>0?-PI:PI),void 0!==previousAngle){var delta=angle-previousAngle;if(delta+=delta>PI?-2*PI:delta<-PI?2*PI:0,Math.abs(delta)>maxAngle)return null}previousAngle=angle;for(var iStart=i,charLength=0;i<ii;++i){var len=scale*measureAndCacheTextWidth(font,text[reverse?ii-i-1:i],cache);if(offset+stride<end&&segmentM+segmentLength<startM+charLength+len/2)break;charLength+=len}if(i!==iStart){var chars=reverse?text.substring(ii-iStart,ii-i):text.substring(iStart,i);interpolate=(startM+charLength/2-segmentM)/segmentLength;var x=Object(math.c)(x1,x2,interpolate),y=Object(math.c)(y1,y2,interpolate);result.push([x,y,charLength/2,angle,chars]),startM+=charLength}}return result}var flat_length=__webpack_require__("WTjQ"),tmpExtent=Object(ol_extent.j)(),Executor_p1=[],Executor_p2=[],Executor_p3=[],p4=[];function getDeclutterBox(replayImageOrLabelArgs){return replayImageOrLabelArgs[3].declutterBox}var rtlRegEx=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function horizontalTextAlign(text,align){return"start"!==align&&"end"!==align||rtlRegEx.test(text)||(align="start"===align?"left":"right"),TEXT_ALIGN[align]}var canvas_Executor=function(){function Executor(resolution,pixelRatio,overlaps,instructions,renderBuffer){this.overlaps=overlaps,this.pixelRatio=pixelRatio,this.resolution=resolution,this.instructions=instructions.instructions,this.coordinates=instructions.coordinates,this.coordinateCache_={},this.renderBuffer_=renderBuffer,this.renderedTransform_=Object(ol_transform.c)(),this.hitDetectionInstructions=instructions.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=instructions.fillStates||{},this.strokeStates=instructions.strokeStates||{},this.textStates=instructions.textStates||{},this.widths_={},this.labels_={}}return Executor.prototype.createLabel=function(text,textKey,fillKey,strokeKey){var key=text+textKey+fillKey+strokeKey;if(this.labels_[key])return this.labels_[key];var strokeState=strokeKey?this.strokeStates[strokeKey]:null,fillState=fillKey?this.fillStates[fillKey]:null,textState=this.textStates[textKey],pixelRatio=this.pixelRatio,scale=[textState.scale[0]*pixelRatio,textState.scale[1]*pixelRatio],align=horizontalTextAlign(text,textState.textAlign||render_canvas.m),strokeWidth=strokeKey&&strokeState.lineWidth?strokeState.lineWidth:0,lines=text.split("\n"),numLines=lines.length,widths=[],width=Object(render_canvas.r)(textState.font,lines,widths),lineHeight=Object(render_canvas.q)(textState.font),renderWidth=width+strokeWidth,contextInstructions=[],w=(renderWidth+2)*scale[0],h=(lineHeight*numLines+strokeWidth)*scale[1],label={width:w<0?Math.floor(w):Math.ceil(w),height:h<0?Math.floor(h):Math.ceil(h),contextInstructions:contextInstructions};1==scale[0]&&1==scale[1]||contextInstructions.push("scale",scale),contextInstructions.push("font",textState.font),strokeKey&&(contextInstructions.push("strokeStyle",strokeState.strokeStyle),contextInstructions.push("lineWidth",strokeWidth),contextInstructions.push("lineCap",strokeState.lineCap),contextInstructions.push("lineJoin",strokeState.lineJoin),contextInstructions.push("miterLimit",strokeState.miterLimit),(has.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(contextInstructions.push("setLineDash",[strokeState.lineDash]),contextInstructions.push("lineDashOffset",strokeState.lineDashOffset))),fillKey&&contextInstructions.push("fillStyle",fillState.fillStyle),contextInstructions.push("textBaseline","middle"),contextInstructions.push("textAlign","center");var i,leftRight=.5-align,x=align*renderWidth+leftRight*strokeWidth;if(strokeKey)for(i=0;i<numLines;++i)contextInstructions.push("strokeText",[lines[i],x+leftRight*widths[i],.5*(strokeWidth+lineHeight)+i*lineHeight]);if(fillKey)for(i=0;i<numLines;++i)contextInstructions.push("fillText",[lines[i],x+leftRight*widths[i],.5*(strokeWidth+lineHeight)+i*lineHeight]);return this.labels_[key]=label,label},Executor.prototype.replayTextBackground_=function(context,p1,p2,p3,p4,fillInstruction,strokeInstruction){context.beginPath(),context.moveTo.apply(context,p1),context.lineTo.apply(context,p2),context.lineTo.apply(context,p3),context.lineTo.apply(context,p4),context.lineTo.apply(context,p1),fillInstruction&&(this.alignFill_=fillInstruction[2],this.fill_(context)),strokeInstruction&&(this.setStrokeStyle_(context,strokeInstruction),context.stroke())},Executor.prototype.calculateImageOrLabelDimensions_=function(sheetWidth,sheetHeight,centerX,centerY,width,height,anchorX,anchorY,originX,originY,rotation,scale,snapToPixel,padding,fillStroke,feature){var transform,x=centerX-(anchorX*=scale[0]),y=centerY-(anchorY*=scale[1]),w=width+originX>sheetWidth?sheetWidth-originX:width,h=height+originY>sheetHeight?sheetHeight-originY:height,boxW=padding[3]+w*scale[0]+padding[1],boxH=padding[0]+h*scale[1]+padding[2],boxX=x-padding[3],boxY=y-padding[0];return(fillStroke||0!==rotation)&&(Executor_p1[0]=boxX,p4[0]=boxX,Executor_p1[1]=boxY,Executor_p2[1]=boxY,Executor_p2[0]=boxX+boxW,Executor_p3[0]=Executor_p2[0],Executor_p3[1]=boxY+boxH,p4[1]=Executor_p3[1]),0!==rotation?(transform=Object(ol_transform.b)(Object(ol_transform.c)(),centerX,centerY,1,1,rotation,-centerX,-centerY),Object(ol_transform.a)(transform,Executor_p1),Object(ol_transform.a)(transform,Executor_p2),Object(ol_transform.a)(transform,Executor_p3),Object(ol_transform.a)(transform,p4),Object(ol_extent.k)(Math.min(Executor_p1[0],Executor_p2[0],Executor_p3[0],p4[0]),Math.min(Executor_p1[1],Executor_p2[1],Executor_p3[1],p4[1]),Math.max(Executor_p1[0],Executor_p2[0],Executor_p3[0],p4[0]),Math.max(Executor_p1[1],Executor_p2[1],Executor_p3[1],p4[1]),tmpExtent)):Object(ol_extent.k)(Math.min(boxX,boxX+boxW),Math.min(boxY,boxY+boxH),Math.max(boxX,boxX+boxW),Math.max(boxY,boxY+boxH),tmpExtent),snapToPixel&&(x=Math.round(x),y=Math.round(y)),{drawImageX:x,drawImageY:y,drawImageW:w,drawImageH:h,originX:originX,originY:originY,declutterBox:{minX:tmpExtent[0],minY:tmpExtent[1],maxX:tmpExtent[2],maxY:tmpExtent[3],value:feature},canvasTransform:transform,scale:scale}},Executor.prototype.replayImageOrLabel_=function(context,contextScale,imageOrLabel,dimensions,opacity,fillInstruction,strokeInstruction){var box=dimensions.declutterBox,canvas=context.canvas,strokePadding=strokeInstruction?strokeInstruction[2]*dimensions.scale[0]/2:0;return box.minX-strokePadding<=canvas.width/contextScale&&box.maxX+strokePadding>=0&&box.minY-strokePadding<=canvas.height/contextScale&&box.maxY+strokePadding>=0&&(!(!fillInstruction&&!strokeInstruction)&&this.replayTextBackground_(context,Executor_p1,Executor_p2,Executor_p3,p4,fillInstruction,strokeInstruction),Object(render_canvas.o)(context,dimensions.canvasTransform,opacity,imageOrLabel,dimensions.originX,dimensions.originY,dimensions.drawImageW,dimensions.drawImageH,dimensions.drawImageX,dimensions.drawImageY,dimensions.scale)),!0},Executor.prototype.fill_=function(context){if(this.alignFill_){var origin_1=Object(ol_transform.a)(this.renderedTransform_,[0,0]),repeatSize=512*this.pixelRatio;context.save(),context.translate(origin_1[0]%repeatSize,origin_1[1]%repeatSize),context.rotate(this.viewRotation_)}context.fill(),this.alignFill_&&context.restore()},Executor.prototype.setStrokeStyle_=function(context,instruction){context.strokeStyle=instruction[1],context.lineWidth=instruction[2],context.lineCap=instruction[3],context.lineJoin=instruction[4],context.miterLimit=instruction[5],context.setLineDash&&(context.lineDashOffset=instruction[7],context.setLineDash(instruction[6]))},Executor.prototype.drawLabelWithPointPlacement_=function(text,textKey,strokeKey,fillKey){var textState=this.textStates[textKey],label=this.createLabel(text,textKey,fillKey,strokeKey),strokeState=this.strokeStates[strokeKey],pixelRatio=this.pixelRatio,align=horizontalTextAlign(text,textState.textAlign||render_canvas.m),baseline=TEXT_ALIGN[textState.textBaseline||render_canvas.n],strokeWidth=strokeState&&strokeState.lineWidth?strokeState.lineWidth:0;return{label:label,anchorX:align*(label.width/pixelRatio-2*textState.scale[0])+2*(.5-align)*strokeWidth,anchorY:baseline*label.height/pixelRatio+2*(.5-baseline)*strokeWidth}},Executor.prototype.execute_=function(context,contextScale,transform,instructions,snapToPixel,opt_featureCallback,opt_hitExtent,opt_declutterTree){var pixelCoordinates;this.pixelCoordinates_&&Object(array.b)(transform,this.renderedTransform_)?pixelCoordinates=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),pixelCoordinates=Object(flat_transform.c)(this.coordinates,0,this.coordinates.length,2,transform,this.pixelCoordinates_),Object(ol_transform.h)(this.renderedTransform_,transform));for(var dd,anchorX,anchorY,prevX,prevY,roundX,roundY,image,text,textKey,strokeKey,fillKey,feature,x,y,currentGeometry,i=0,ii=instructions.length,d=0,pendingFill=0,pendingStroke=0,lastFillInstruction=null,lastStrokeInstruction=null,coordinateCache=this.coordinateCache_,viewRotation=this.viewRotation_,viewRotationFromTransform=Math.round(1e12*Math.atan2(-transform[1],transform[0]))/1e12,state={context:context,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:viewRotation},batchSize=this.instructions!=instructions||this.overlaps?0:200;i<ii;){var instruction=instructions[i];switch(instruction[0]){case canvas_Instruction.BEGIN_GEOMETRY:currentGeometry=instruction[3],(feature=instruction[1]).getGeometry()?void 0===opt_hitExtent||Object(ol_extent.E)(opt_hitExtent,currentGeometry.getExtent())?++i:i=instruction[2]+1:i=instruction[2];break;case canvas_Instruction.BEGIN_PATH:pendingFill>batchSize&&(this.fill_(context),pendingFill=0),pendingStroke>batchSize&&(context.stroke(),pendingStroke=0),pendingFill||pendingStroke||(context.beginPath(),prevX=NaN,prevY=NaN),++i;break;case canvas_Instruction.CIRCLE:var x1=pixelCoordinates[d=instruction[1]],y1=pixelCoordinates[d+1],dx=pixelCoordinates[d+2]-x1,dy=pixelCoordinates[d+3]-y1,r=Math.sqrt(dx*dx+dy*dy);context.moveTo(x1+r,y1),context.arc(x1,y1,r,0,2*Math.PI,!0),++i;break;case canvas_Instruction.CLOSE_PATH:context.closePath(),++i;break;case canvas_Instruction.CUSTOM:d=instruction[1],dd=instruction[2];var renderer=instruction[4],fn=6==instruction.length?instruction[5]:void 0;state.geometry=instruction[3],state.feature=feature,i in coordinateCache||(coordinateCache[i]=[]);var coords=coordinateCache[i];fn?fn(pixelCoordinates,d,dd,2,coords):(coords[0]=pixelCoordinates[d],coords[1]=pixelCoordinates[d+1],coords.length=2),renderer(coords,state),++i;break;case canvas_Instruction.DRAW_IMAGE:d=instruction[1],dd=instruction[2],anchorX=instruction[4],anchorY=instruction[5];var height=instruction[6],opacity=instruction[7],originX=instruction[8],originY=instruction[9],rotateWithView=instruction[10],rotation=instruction[11],scale=instruction[12],width=instruction[13],declutterImageWithText=instruction[14];if(!(image=instruction[3])&&instruction.length>=19){var labelWithAnchor=this.drawLabelWithPointPlacement_(text=instruction[18],textKey=instruction[19],strokeKey=instruction[20],fillKey=instruction[21]);instruction[3]=image=labelWithAnchor.label,instruction[4]=anchorX=(labelWithAnchor.anchorX-instruction[22])*this.pixelRatio,instruction[5]=anchorY=(labelWithAnchor.anchorY-instruction[23])*this.pixelRatio,instruction[6]=height=image.height,instruction[13]=width=image.width}var geometryWidths=void 0;instruction.length>24&&(geometryWidths=instruction[24]);var padding=void 0,backgroundFill=void 0,backgroundStroke=void 0;instruction.length>16?(padding=instruction[15],backgroundFill=instruction[16],backgroundStroke=instruction[17]):(padding=render_canvas.k,backgroundFill=!1,backgroundStroke=!1),rotateWithView&&viewRotationFromTransform?rotation+=viewRotation:rotateWithView||viewRotationFromTransform||(rotation-=viewRotation);for(var widthIndex=0;d<dd;d+=2)if(!(geometryWidths&&geometryWidths[widthIndex++]<width/this.pixelRatio)){var args=[context,contextScale,image,dimensions=this.calculateImageOrLabelDimensions_(image.width,image.height,pixelCoordinates[d],pixelCoordinates[d+1],width,height,anchorX,anchorY,originX,originY,rotation,scale,snapToPixel,padding,backgroundFill||backgroundStroke,feature),opacity,backgroundFill?lastFillInstruction:null,backgroundStroke?lastStrokeInstruction:null],imageArgs=void 0,imageDeclutterBox=void 0;if(opt_declutterTree&&declutterImageWithText){if(!declutterImageWithText[d]){declutterImageWithText[d]=args;continue}if(imageArgs=declutterImageWithText[d],delete declutterImageWithText[d],imageDeclutterBox=getDeclutterBox(imageArgs),opt_declutterTree.collides(imageDeclutterBox))continue}opt_declutterTree&&opt_declutterTree.collides(dimensions.declutterBox)||(imageArgs&&(opt_declutterTree&&opt_declutterTree.insert(imageDeclutterBox),this.replayImageOrLabel_.apply(this,imageArgs)),opt_declutterTree&&opt_declutterTree.insert(dimensions.declutterBox),this.replayImageOrLabel_.apply(this,args))}++i;break;case canvas_Instruction.DRAW_CHARS:var begin=instruction[1],end=instruction[2],baseline=instruction[3],overflow=instruction[4];fillKey=instruction[5];var maxAngle=instruction[6],measurePixelRatio=instruction[7],offsetY=instruction[8];strokeKey=instruction[9];var strokeWidth=instruction[10];text=instruction[11];var pixelRatioScale=[instruction[13],instruction[13]],textState=this.textStates[textKey=instruction[12]],font=textState.font,textScale=[textState.scale[0]*measurePixelRatio,textState.scale[1]*measurePixelRatio],cachedWidths=void 0;font in this.widths_?cachedWidths=this.widths_[font]:this.widths_[font]=cachedWidths={};var pathLength=Object(flat_length.a)(pixelCoordinates,begin,end,2),textLength=Math.abs(textScale[0])*Object(render_canvas.p)(font,text,cachedWidths);if(overflow||textLength<=pathLength){var parts=drawTextOnPath(pixelCoordinates,begin,end,2,text,(pathLength-textLength)*TEXT_ALIGN[this.textStates[textKey].textAlign],maxAngle,Math.abs(textScale[0]),render_canvas.p,font,cachedWidths,viewRotationFromTransform?0:this.viewRotation_);drawChars:if(parts){var replayImageOrLabelArgs=[],c=void 0,cc=void 0,label=void 0,part=void 0;if(strokeKey)for(c=0,cc=parts.length;c<cc;++c){label=this.createLabel((part=parts[c])[4],textKey,"",strokeKey);var dimensions=this.calculateImageOrLabelDimensions_(label.width,label.height,part[0],part[1],label.width,label.height,anchorX=part[2]+(textScale[0]<0?-strokeWidth:strokeWidth),anchorY=baseline*label.height+2*(.5-baseline)*strokeWidth*textScale[1]/textScale[0]-offsetY,0,0,part[3],pixelRatioScale,!1,render_canvas.k,!1,feature);if(opt_declutterTree&&opt_declutterTree.collides(dimensions.declutterBox))break drawChars;replayImageOrLabelArgs.push([context,contextScale,label,dimensions,1,null,null])}if(fillKey)for(c=0,cc=parts.length;c<cc;++c){if(label=this.createLabel((part=parts[c])[4],textKey,fillKey,""),dimensions=this.calculateImageOrLabelDimensions_(label.width,label.height,part[0],part[1],label.width,label.height,anchorX=part[2],anchorY=baseline*label.height-offsetY,0,0,part[3],pixelRatioScale,!1,render_canvas.k,!1,feature),opt_declutterTree&&opt_declutterTree.collides(dimensions.declutterBox))break drawChars;replayImageOrLabelArgs.push([context,contextScale,label,dimensions,1,null,null])}opt_declutterTree&&opt_declutterTree.load(replayImageOrLabelArgs.map(getDeclutterBox));for(var i_1=0,ii_1=replayImageOrLabelArgs.length;i_1<ii_1;++i_1)this.replayImageOrLabel_.apply(this,replayImageOrLabelArgs[i_1])}}++i;break;case canvas_Instruction.END_GEOMETRY:if(void 0!==opt_featureCallback){var result=opt_featureCallback(feature=instruction[1],currentGeometry);if(result)return result}++i;break;case canvas_Instruction.FILL:batchSize?pendingFill++:this.fill_(context),++i;break;case canvas_Instruction.MOVE_TO_LINE_TO:for(dd=instruction[2],roundY=(y=pixelCoordinates[(d=instruction[1])+1])+.5|0,(roundX=(x=pixelCoordinates[d])+.5|0)===prevX&&roundY===prevY||(context.moveTo(x,y),prevX=roundX,prevY=roundY),d+=2;d<dd;d+=2)roundX=(x=pixelCoordinates[d])+.5|0,roundY=(y=pixelCoordinates[d+1])+.5|0,d!=dd-2&&roundX===prevX&&roundY===prevY||(context.lineTo(x,y),prevX=roundX,prevY=roundY);++i;break;case canvas_Instruction.SET_FILL_STYLE:lastFillInstruction=instruction,this.alignFill_=instruction[2],pendingFill&&(this.fill_(context),pendingFill=0,pendingStroke&&(context.stroke(),pendingStroke=0)),context.fillStyle=instruction[1],++i;break;case canvas_Instruction.SET_STROKE_STYLE:lastStrokeInstruction=instruction,pendingStroke&&(context.stroke(),pendingStroke=0),this.setStrokeStyle_(context,instruction),++i;break;case canvas_Instruction.STROKE:batchSize?pendingStroke++:context.stroke(),++i;break;default:++i}}pendingFill&&this.fill_(context),pendingStroke&&context.stroke()},Executor.prototype.execute=function(context,contextScale,transform,viewRotation,snapToPixel,opt_declutterTree){this.viewRotation_=viewRotation,this.execute_(context,contextScale,transform,this.instructions,snapToPixel,void 0,void 0,opt_declutterTree)},Executor.prototype.executeHitDetection=function(context,transform,viewRotation,opt_featureCallback,opt_hitExtent){return this.viewRotation_=viewRotation,this.execute_(context,1,transform,this.hitDetectionInstructions,!0,opt_featureCallback,opt_hitExtent)},Executor}(),dom=__webpack_require__("CZmH"),ORDER=[BuilderType.a.POLYGON,BuilderType.a.CIRCLE,BuilderType.a.LINE_STRING,BuilderType.a.IMAGE,BuilderType.a.TEXT,BuilderType.a.DEFAULT],ExecutorGroup_ExecutorGroup=function(){function ExecutorGroup(maxExtent,resolution,pixelRatio,overlaps,allInstructions,opt_renderBuffer){this.maxExtent_=maxExtent,this.overlaps_=overlaps,this.pixelRatio_=pixelRatio,this.resolution_=resolution,this.renderBuffer_=opt_renderBuffer,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(ol_transform.c)(),this.createExecutors_(allInstructions)}return ExecutorGroup.prototype.clip=function(context,transform){var flatClipCoords=this.getClipCoords(transform);context.beginPath(),context.moveTo(flatClipCoords[0],flatClipCoords[1]),context.lineTo(flatClipCoords[2],flatClipCoords[3]),context.lineTo(flatClipCoords[4],flatClipCoords[5]),context.lineTo(flatClipCoords[6],flatClipCoords[7]),context.clip()},ExecutorGroup.prototype.createExecutors_=function(allInstructions){for(var zIndex in allInstructions){var executors=this.executorsByZIndex_[zIndex];void 0===executors&&(this.executorsByZIndex_[zIndex]=executors={});var instructionByZindex=allInstructions[zIndex],renderBuffer=[this.renderBuffer_||0,this.renderBuffer_||0];for(var builderType in instructionByZindex)executors[builderType]=new canvas_Executor(this.resolution_,this.pixelRatio_,this.overlaps_,instructionByZindex[builderType],renderBuffer)}},ExecutorGroup.prototype.hasExecutors=function(executors){for(var zIndex in this.executorsByZIndex_)for(var candidates=this.executorsByZIndex_[zIndex],i=0,ii=executors.length;i<ii;++i)if(executors[i]in candidates)return!0;return!1},ExecutorGroup.prototype.forEachFeatureAtCoordinate=function(coordinate,resolution,rotation,hitTolerance,callback,declutteredFeatures){var contextSize=2*(hitTolerance=Math.round(hitTolerance))+1,transform=Object(ol_transform.b)(this.hitDetectionTransform_,hitTolerance+.5,hitTolerance+.5,1/resolution,-1/resolution,-rotation,-coordinate[0],-coordinate[1]),newContext=!this.hitDetectionContext_;newContext&&(this.hitDetectionContext_=Object(dom.a)(contextSize,contextSize));var hitExtent,context=this.hitDetectionContext_;context.canvas.width!==contextSize||context.canvas.height!==contextSize?(context.canvas.width=contextSize,context.canvas.height=contextSize):newContext||context.clearRect(0,0,contextSize,contextSize),void 0!==this.renderBuffer_&&(hitExtent=Object(ol_extent.j)(),Object(ol_extent.r)(hitExtent,coordinate),Object(ol_extent.c)(hitExtent,resolution*(this.renderBuffer_+hitTolerance),hitExtent));var builderType,indexes=function(radius){if(void 0!==circlePixelIndexArrayCache[radius])return circlePixelIndexArrayCache[radius];for(var size=2*radius+1,maxDistanceSq=radius*radius,distances=new Array(maxDistanceSq+1),i=0;i<=radius;++i)for(var j=0;j<=radius;++j){var distanceSq=i*i+j*j;if(distanceSq>maxDistanceSq)break;var distance=distances[distanceSq];distance||(distances[distanceSq]=distance=[]),distance.push(4*((radius+i)*size+(radius+j))+3),i>0&&distance.push(4*((radius-i)*size+(radius+j))+3),j>0&&(distance.push(4*((radius+i)*size+(radius-j))+3),i>0&&distance.push(4*((radius-i)*size+(radius-j))+3))}for(var pixelIndex=[],ii=(i=0,distances.length);i<ii;++i)distances[i]&&pixelIndex.push.apply(pixelIndex,distances[i]);return circlePixelIndexArrayCache[radius]=pixelIndex,pixelIndex}(hitTolerance);function featureCallback(feature,geometry){for(var imageData=context.getImageData(0,0,contextSize,contextSize).data,i_1=0,ii=indexes.length;i_1<ii;i_1++)if(imageData[indexes[i_1]]>0){if(!declutteredFeatures||builderType!==BuilderType.a.IMAGE&&builderType!==BuilderType.a.TEXT||-1!==declutteredFeatures.indexOf(feature)){var idx=(indexes[i_1]-3)/4,x=hitTolerance-idx%contextSize,y=hitTolerance-(idx/contextSize|0),result_1=callback(feature,geometry,x*x+y*y);if(result_1)return result_1}context.clearRect(0,0,contextSize,contextSize);break}}var i,j,executors,executor,result,zs=Object.keys(this.executorsByZIndex_).map(Number);for(zs.sort(array.f),i=zs.length-1;i>=0;--i){var zIndexKey=zs[i].toString();for(executors=this.executorsByZIndex_[zIndexKey],j=ORDER.length-1;j>=0;--j)if(void 0!==(executor=executors[builderType=ORDER[j]])&&(result=executor.executeHitDetection(context,transform,rotation,featureCallback,hitExtent)))return result}},ExecutorGroup.prototype.getClipCoords=function(transform){var maxExtent=this.maxExtent_;if(!maxExtent)return null;var minX=maxExtent[0],minY=maxExtent[1],maxX=maxExtent[2],maxY=maxExtent[3],flatClipCoords=[minX,minY,minX,maxY,maxX,maxY,maxX,minY];return Object(flat_transform.c)(flatClipCoords,0,8,2,transform,flatClipCoords),flatClipCoords},ExecutorGroup.prototype.isEmpty=function(){return Object(obj.d)(this.executorsByZIndex_)},ExecutorGroup.prototype.execute=function(context,contextScale,transform,viewRotation,snapToPixel,opt_builderTypes,opt_declutterTree){var zs=Object.keys(this.executorsByZIndex_).map(Number);zs.sort(array.f),this.maxExtent_&&(context.save(),this.clip(context,transform));var i,ii,j,jj,replays,replay,builderTypes=opt_builderTypes||ORDER;for(opt_declutterTree&&zs.reverse(),i=0,ii=zs.length;i<ii;++i){var zIndexKey=zs[i].toString();for(replays=this.executorsByZIndex_[zIndexKey],j=0,jj=builderTypes.length;j<jj;++j)void 0!==(replay=replays[builderTypes[j]])&&replay.execute(context,contextScale,transform,viewRotation,snapToPixel,opt_declutterTree)}this.maxExtent_&&context.restore()},ExecutorGroup}(),circlePixelIndexArrayCache={},canvas_ExecutorGroup=ExecutorGroup_ExecutorGroup,ViewHint=__webpack_require__("SW/M"),Immediate=__webpack_require__("yUaI"),IconAnchorUnits=__webpack_require__("grDu"),Icon=__webpack_require__("bL/2"),vector=__webpack_require__("MNGd"),proj=__webpack_require__("JW8z"),ol_coordinate=__webpack_require__("pWiS"),VectorLayer_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),canvas_VectorLayer=function(_super){function CanvasVectorLayerRenderer(vectorLayer){var _this=_super.call(this,vectorLayer)||this;return _this.boundHandleStyleImageChange_=_this.handleStyleImageChange_.bind(_this),_this.dirty_=!1,_this.hitDetectionImageData_=null,_this.renderedFeatures_=null,_this.renderedRevision_=-1,_this.renderedResolution_=NaN,_this.renderedExtent_=Object(ol_extent.j)(),_this.renderedCenter_=null,_this.renderedProjection_=null,_this.renderedRenderOrder_=null,_this.replayGroup_=null,_this.replayGroupChanged=!0,_this.declutterExecutorGroup=null,_this.clipping=!0,_this}return VectorLayer_extends(CanvasVectorLayerRenderer,_super),CanvasVectorLayerRenderer.prototype.useContainer=function(target,transform,opacity){opacity<1&&(target=null),_super.prototype.useContainer.call(this,target,transform,opacity)},CanvasVectorLayerRenderer.prototype.renderWorlds=function(executorGroup,frameState,opt_declutterTree){var extent=frameState.extent,viewState=frameState.viewState,center=viewState.center,resolution=viewState.resolution,projection=viewState.projection,rotation=viewState.rotation,projectionExtent=projection.getExtent(),vectorSource=this.getLayer().getSource(),pixelRatio=frameState.pixelRatio,viewHints=frameState.viewHints,snapToPixel=!(viewHints[ViewHint.a.ANIMATING]||viewHints[ViewHint.a.INTERACTING]),context=this.context,width=Math.round(frameState.size[0]*pixelRatio),height=Math.round(frameState.size[1]*pixelRatio),multiWorld=vectorSource.getWrapX()&&projection.canWrapX(),worldWidth=multiWorld?Object(ol_extent.D)(projectionExtent):null,endWorld=multiWorld?Math.ceil((extent[2]-projectionExtent[2])/worldWidth)+1:1,world=multiWorld?Math.floor((extent[0]-projectionExtent[0])/worldWidth):0;do{var transform=this.getRenderTransform(center,resolution,rotation,pixelRatio,width,height,world*worldWidth);executorGroup.execute(context,1,transform,rotation,snapToPixel,void 0,opt_declutterTree)}while(++world<endWorld)},CanvasVectorLayerRenderer.prototype.renderDeclutter=function(frameState){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,frameState,frameState.declutterTree)},CanvasVectorLayerRenderer.prototype.renderFrame=function(frameState,target){var pixelRatio=frameState.pixelRatio,layerState=frameState.layerStatesArray[frameState.layerIndex];Object(ol_transform.e)(this.pixelTransform,1/pixelRatio,1/pixelRatio),Object(ol_transform.d)(this.inversePixelTransform,this.pixelTransform);var canvasTransform=Object(ol_transform.i)(this.pixelTransform);this.useContainer(target,canvasTransform,layerState.opacity);var context=this.context,canvas=context.canvas,replayGroup=this.replayGroup_,declutterExecutorGroup=this.declutterExecutorGroup;if((!replayGroup||replayGroup.isEmpty())&&(!declutterExecutorGroup||declutterExecutorGroup.isEmpty()))return!this.containerReused&&canvas.width>0&&(canvas.width=0),this.container;var width=Math.round(frameState.size[0]*pixelRatio),height=Math.round(frameState.size[1]*pixelRatio);canvas.width!=width||canvas.height!=height?(canvas.width=width,canvas.height=height,canvas.style.transform!==canvasTransform&&(canvas.style.transform=canvasTransform)):this.containerReused||context.clearRect(0,0,width,height),this.preRender(context,frameState);var viewState=frameState.viewState,projection=viewState.projection,clipped=!1;if(layerState.extent&&this.clipping){var layerExtent=Object(proj.i)(layerState.extent,projection);(clipped=!Object(ol_extent.g)(layerExtent,frameState.extent)&&Object(ol_extent.E)(layerExtent,frameState.extent))&&this.clipUnrotated(context,frameState,layerExtent)}this.renderWorlds(replayGroup,frameState),clipped&&context.restore(),this.postRender(context,frameState);var opacity=layerState.opacity,container=this.container;return opacity!==parseFloat(container.style.opacity)&&(container.style.opacity=1===opacity?"":String(opacity)),this.renderedRotation_!==viewState.rotation&&(this.renderedRotation_=viewState.rotation,this.hitDetectionImageData_=null),this.container},CanvasVectorLayerRenderer.prototype.getFeatures=function(pixel){return new Promise((function(resolve){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var size=[this.context.canvas.width,this.context.canvas.height];Object(ol_transform.a)(this.pixelTransform,size);var center=this.renderedCenter_,resolution=this.renderedResolution_,rotation=this.renderedRotation_,projection=this.renderedProjection_,extent=this.renderedExtent_,layer=this.getLayer(),transforms=[],width=size[0]/2,height=size[1]/2;transforms.push(this.getRenderTransform(center,resolution,rotation,.5,width,height,0).slice());var source=layer.getSource(),projectionExtent=projection.getExtent();if(source.getWrapX()&&projection.canWrapX()&&!Object(ol_extent.g)(projectionExtent,extent)){for(var startX=extent[0],worldWidth=Object(ol_extent.D)(projectionExtent),world=0;startX<projectionExtent[0];)--world,transforms.push(this.getRenderTransform(center,resolution,rotation,.5,width,height,worldWidth*world).slice()),startX+=worldWidth;for(world=0,startX=extent[2];startX>projectionExtent[2];)++world,transforms.push(this.getRenderTransform(center,resolution,rotation,.5,width,height,worldWidth*world).slice()),startX-=worldWidth}this.hitDetectionImageData_=function(size,transforms,features,styleFunction,extent,resolution,rotation){var width=size[0]/2,height=size[1]/2,context=Object(dom.a)(width,height);context.imageSmoothingEnabled=!1;for(var canvas=context.canvas,renderer=new Immediate.a(context,.5,extent,null,rotation),featureCount=features.length,indexFactor=Math.floor(16777215/featureCount),featuresByZIndex={},i=1;i<=featureCount;++i){var feature=features[i-1],featureStyleFunction=feature.getStyleFunction()||styleFunction;if(styleFunction){var styles=featureStyleFunction(feature,resolution);if(styles){Array.isArray(styles)||(styles=[styles]);for(var color="#"+("000000"+(i*indexFactor).toString(16)).slice(-6),j=0,jj=styles.length;j<jj;++j){var originalStyle=styles[j],style=originalStyle.clone(),fill=style.getFill();fill&&fill.setColor(color);var stroke=style.getStroke();stroke&&stroke.setColor(color),style.setText(void 0);var image=originalStyle.getImage();if(image){var imgSize=image.getImageSize();if(!imgSize)continue;var canvas_1=document.createElement("canvas");canvas_1.width=imgSize[0],canvas_1.height=imgSize[1];var imgContext=canvas_1.getContext("2d",{alpha:!1});imgContext.fillStyle=color;var img=imgContext.canvas;imgContext.fillRect(0,0,img.width,img.height);var width_1=imgSize?imgSize[0]:img.width,height_1=imgSize?imgSize[1]:img.height;Object(dom.a)(width_1,height_1).drawImage(img,0,0),style.setImage(new Icon.a({img:img,imgSize:imgSize,anchor:image.getAnchor(),anchorXUnits:IconAnchorUnits.a.PIXELS,anchorYUnits:IconAnchorUnits.a.PIXELS,offset:image.getOrigin(),size:image.getSize(),opacity:image.getOpacity(),scale:image.getScale(),rotation:image.getRotation(),rotateWithView:image.getRotateWithView()}))}var zIndex=Number(style.getZIndex());(byGeometryType=featuresByZIndex[zIndex])||(featuresByZIndex[zIndex]=byGeometryType={},byGeometryType[GeometryType.a.POLYGON]=[],byGeometryType[GeometryType.a.CIRCLE]=[],byGeometryType[GeometryType.a.LINE_STRING]=[],byGeometryType[GeometryType.a.POINT]=[]);var geometry=style.getGeometryFunction()(feature);geometry&&Object(ol_extent.E)(extent,geometry.getExtent())&&byGeometryType[geometry.getType().replace("Multi","")].push(geometry,style)}}}}for(var zIndexKeys=Object.keys(featuresByZIndex).map(Number).sort(array.f),ii=(i=0,zIndexKeys.length);i<ii;++i){var byGeometryType=featuresByZIndex[zIndexKeys[i]];for(var type in byGeometryType){var geomAndStyle=byGeometryType[type];for(j=0,jj=geomAndStyle.length;j<jj;j+=2){renderer.setStyle(geomAndStyle[j+1]);for(var k=0,kk=transforms.length;k<kk;++k)renderer.setTransform(transforms[k]),renderer.drawGeometry(geomAndStyle[j])}}}return context.getImageData(0,0,canvas.width,canvas.height)}(size,transforms,this.renderedFeatures_,layer.getStyleFunction(),extent,resolution,rotation)}resolve(function(pixel,features,imageData){var resultFeatures=[];if(imageData){var index=4*(Math.round(pixel[0]/2)+Math.round(pixel[1]/2)*imageData.width),i=imageData.data[index+2]+256*(imageData.data[index+1]+256*imageData.data[index]),indexFactor=Math.floor(16777215/features.length);i&&i%indexFactor==0&&resultFeatures.push(features[i/indexFactor-1])}return resultFeatures}(pixel,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,callback,matches){var _this=this;if(this.replayGroup_){var result,resolution=frameState.viewState.resolution,rotation=frameState.viewState.rotation,layer=this.getLayer(),features={},featureCallback=function(feature,geometry,distanceSq){var key=Object(util.c)(feature),match=features[key];if(match){if(!0!==match&&distanceSq<match.distanceSq){if(0===distanceSq)return features[key]=!0,matches.splice(matches.lastIndexOf(match),1),callback(feature,layer,geometry);match.geometry=geometry,match.distanceSq=distanceSq}}else{if(0===distanceSq)return features[key]=!0,callback(feature,layer,geometry);matches.push(features[key]={feature:feature,layer:layer,geometry:geometry,distanceSq:distanceSq,callback:callback})}},executorGroups=[this.replayGroup_];return this.declutterExecutorGroup&&executorGroups.push(this.declutterExecutorGroup),executorGroups.some(function(executorGroup){return result=executorGroup.forEachFeatureAtCoordinate(coordinate,resolution,rotation,hitTolerance,featureCallback,executorGroup===_this.declutterExecutorGroup?frameState.declutterTree.all().map(function(item){return item.value}):null)}),result}},CanvasVectorLayerRenderer.prototype.handleFontsChanged=function(){var layer=this.getLayer();layer.getVisible()&&this.replayGroup_&&layer.changed()},CanvasVectorLayerRenderer.prototype.handleStyleImageChange_=function(event){this.renderIfReadyAndVisible()},CanvasVectorLayerRenderer.prototype.prepareFrame=function(frameState){var vectorLayer=this.getLayer(),vectorSource=vectorLayer.getSource();if(!vectorSource)return!1;var animating=frameState.viewHints[ViewHint.a.ANIMATING],interacting=frameState.viewHints[ViewHint.a.INTERACTING],updateWhileAnimating=vectorLayer.getUpdateWhileAnimating(),updateWhileInteracting=vectorLayer.getUpdateWhileInteracting();if(!this.dirty_&&!updateWhileAnimating&&animating||!updateWhileInteracting&&interacting)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var frameStateExtent=frameState.extent,viewState=frameState.viewState,projection=viewState.projection,resolution=viewState.resolution,pixelRatio=frameState.pixelRatio,vectorLayerRevision=vectorLayer.getRevision(),vectorLayerRenderBuffer=vectorLayer.getRenderBuffer(),vectorLayerRenderOrder=vectorLayer.getRenderOrder();void 0===vectorLayerRenderOrder&&(vectorLayerRenderOrder=vector.a);var center=viewState.center.slice(),extent=Object(ol_extent.c)(frameStateExtent,vectorLayerRenderBuffer*resolution),loadExtents=[extent.slice()],projectionExtent=projection.getExtent();if(vectorSource.getWrapX()&&projection.canWrapX()&&!Object(ol_extent.g)(projectionExtent,frameState.extent)){var worldWidth=Object(ol_extent.D)(projectionExtent),gutter=Math.max(Object(ol_extent.D)(extent)/2,worldWidth);extent[0]=projectionExtent[0]-gutter,extent[2]=projectionExtent[2]+gutter,Object(ol_coordinate.l)(center,projection);var loadExtent=Object(ol_extent.J)(loadExtents[0],projection);loadExtent[0]<projectionExtent[0]&&loadExtent[2]<projectionExtent[2]?loadExtents.push([loadExtent[0]+worldWidth,loadExtent[1],loadExtent[2]+worldWidth,loadExtent[3]]):loadExtent[0]>projectionExtent[0]&&loadExtent[2]>projectionExtent[2]&&loadExtents.push([loadExtent[0]-worldWidth,loadExtent[1],loadExtent[2]-worldWidth,loadExtent[3]])}if(!this.dirty_&&this.renderedResolution_==resolution&&this.renderedRevision_==vectorLayerRevision&&this.renderedRenderOrder_==vectorLayerRenderOrder&&Object(ol_extent.g)(this.renderedExtent_,extent))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var declutterBuilderGroup,replayGroup=new canvas_BuilderGroup(Object(vector.c)(resolution,pixelRatio),extent,resolution,pixelRatio);this.getLayer().getDeclutter()&&(declutterBuilderGroup=new canvas_BuilderGroup(Object(vector.c)(resolution,pixelRatio),extent,resolution,pixelRatio));var userTransform,userProjection=Object(proj.n)();if(userProjection){for(var i=0,ii=loadExtents.length;i<ii;++i)vectorSource.loadFeatures(Object(proj.p)(loadExtents[i],projection),resolution,userProjection);userTransform=Object(proj.m)(userProjection,projection)}else for(i=0,ii=loadExtents.length;i<ii;++i)vectorSource.loadFeatures(loadExtents[i],resolution,projection);var squaredTolerance=Object(vector.b)(resolution,pixelRatio),render=(function(feature){var styles,styleFunction=feature.getStyleFunction()||vectorLayer.getStyleFunction();if(styleFunction&&(styles=styleFunction(feature,resolution)),styles){var dirty=this.renderFeature(feature,squaredTolerance,styles,replayGroup,userTransform,declutterBuilderGroup);this.dirty_=this.dirty_||dirty}}).bind(this),userExtent=Object(proj.p)(extent,projection),features=vectorSource.getFeaturesInExtent(userExtent);for(vectorLayerRenderOrder&&features.sort(vectorLayerRenderOrder),i=0,ii=features.length;i<ii;++i)render(features[i]);this.renderedFeatures_=features;var replayGroupInstructions=replayGroup.finish(),executorGroup=new canvas_ExecutorGroup(extent,resolution,pixelRatio,vectorSource.getOverlaps(),replayGroupInstructions,vectorLayer.getRenderBuffer());return declutterBuilderGroup&&(this.declutterExecutorGroup=new canvas_ExecutorGroup(extent,resolution,pixelRatio,vectorSource.getOverlaps(),declutterBuilderGroup.finish(),vectorLayer.getRenderBuffer())),this.renderedResolution_=resolution,this.renderedRevision_=vectorLayerRevision,this.renderedRenderOrder_=vectorLayerRenderOrder,this.renderedExtent_=extent,this.renderedCenter_=center,this.renderedProjection_=projection,this.replayGroup_=executorGroup,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},CanvasVectorLayerRenderer.prototype.renderFeature=function(feature,squaredTolerance,styles,builderGroup,opt_transform,opt_declutterBuilderGroup){if(!styles)return!1;var loading=!1;if(Array.isArray(styles))for(var i=0,ii=styles.length;i<ii;++i)loading=Object(vector.d)(builderGroup,feature,styles[i],squaredTolerance,this.boundHandleStyleImageChange_,opt_transform,opt_declutterBuilderGroup)||loading;else loading=Object(vector.d)(builderGroup,feature,styles,squaredTolerance,this.boundHandleStyleImageChange_,opt_transform,opt_declutterBuilderGroup);return loading},CanvasVectorLayerRenderer}(canvas_Layer.a),Vector_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Vector_VectorLayer=function(_super){function VectorLayer(opt_options){return _super.call(this,opt_options)||this}return Vector_extends(VectorLayer,_super),VectorLayer.prototype.createRenderer=function(){return new canvas_VectorLayer(this)},VectorLayer}(BaseVector);__webpack_exports__.a=Vector_VectorLayer},QQWy:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return centroid});var extendStatics,_Interaction_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QzRn"),_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Cy2j"),_obj_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OPOH"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),PointerInteraction=function(_super){function PointerInteraction(opt_options){var _this=this,options=opt_options||{};return _this=_super.call(this,options)||this,options.handleDownEvent&&(_this.handleDownEvent=options.handleDownEvent),options.handleDragEvent&&(_this.handleDragEvent=options.handleDragEvent),options.handleMoveEvent&&(_this.handleMoveEvent=options.handleMoveEvent),options.handleUpEvent&&(_this.handleUpEvent=options.handleUpEvent),options.stopDown&&(_this.stopDown=options.stopDown),_this.handlingDownUpSequence=!1,_this.trackedPointers_={},_this.targetPointers=[],_this}return __extends(PointerInteraction,_super),PointerInteraction.prototype.getPointerCount=function(){return this.targetPointers.length},PointerInteraction.prototype.handleDownEvent=function(mapBrowserEvent){return!1},PointerInteraction.prototype.handleDragEvent=function(mapBrowserEvent){},PointerInteraction.prototype.handleEvent=function(mapBrowserEvent){if(!mapBrowserEvent.originalEvent)return!0;var stopEvent=!1;if(this.updateTrackedPointers_(mapBrowserEvent),this.handlingDownUpSequence){if(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERDRAG)this.handleDragEvent(mapBrowserEvent),mapBrowserEvent.originalEvent.preventDefault();else if(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERUP){var handledUp=this.handleUpEvent(mapBrowserEvent);this.handlingDownUpSequence=handledUp&&this.targetPointers.length>0}}else if(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERDOWN){var handled=this.handleDownEvent(mapBrowserEvent);this.handlingDownUpSequence=handled,stopEvent=this.stopDown(handled)}else mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERMOVE&&this.handleMoveEvent(mapBrowserEvent);return!stopEvent},PointerInteraction.prototype.handleMoveEvent=function(mapBrowserEvent){},PointerInteraction.prototype.handleUpEvent=function(mapBrowserEvent){return!1},PointerInteraction.prototype.stopDown=function(handled){return handled},PointerInteraction.prototype.updateTrackedPointers_=function(mapBrowserEvent){if(function(mapBrowserEvent){var type=mapBrowserEvent.type;return type===_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERDOWN||type===_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERDRAG||type===_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERUP}(mapBrowserEvent)){var event_1=mapBrowserEvent.originalEvent,id=event_1.pointerId.toString();mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERUP?delete this.trackedPointers_[id]:(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_1__.a.POINTERDOWN||id in this.trackedPointers_)&&(this.trackedPointers_[id]=event_1),this.targetPointers=Object(_obj_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.trackedPointers_)}},PointerInteraction}(_Interaction_js__WEBPACK_IMPORTED_MODULE_0__.a);function centroid(pointerEvents){for(var length=pointerEvents.length,clientX=0,clientY=0,i=0;i<length;i++)clientX+=pointerEvents[i].clientX,clientY+=pointerEvents[i].clientY;return[clientX/length,clientY/length]}__webpack_exports__.b=PointerInteraction},QVo3:function(module,exports,__webpack_require__){(function(){"use strict";var builder,defaults,escapeCDATA,requiresCDATA,wrapCDATA,hasProp={}.hasOwnProperty;builder=__webpack_require__("dEzR"),defaults=__webpack_require__("pn46").defaults,requiresCDATA=function(entry){return"string"==typeof entry&&(entry.indexOf("&")>=0||entry.indexOf(">")>=0||entry.indexOf("<")>=0)},wrapCDATA=function(entry){return"<![CDATA["+escapeCDATA(entry)+"]]>"},escapeCDATA=function(entry){return entry.replace("]]>","]]]]><![CDATA[>")},exports.Builder=function(){function Builder(opts){var key,ref;for(key in this.options={},ref=defaults[.2])hasProp.call(ref,key)&&(this.options[key]=ref[key]);for(key in opts)hasProp.call(opts,key)&&(this.options[key]=opts[key])}return Builder.prototype.buildObject=function(rootObj){var attrkey,charkey,render,rootElement,rootName,_this;return attrkey=this.options.attrkey,charkey=this.options.charkey,1===Object.keys(rootObj).length&&this.options.rootName===defaults[.2].rootName?rootObj=rootObj[rootName=Object.keys(rootObj)[0]]:rootName=this.options.rootName,_this=this,render=function(element,obj){var attr,child,entry,index,key;if("object"!=typeof obj)_this.options.cdata&&requiresCDATA(obj)?element.raw(wrapCDATA(obj)):element.txt(obj);else if(Array.isArray(obj)){for(index in obj)if(hasProp.call(obj,index))for(key in child=obj[index])entry=child[key],element=render(element.ele(key),entry).up()}else for(key in obj)if(hasProp.call(obj,key))if(child=obj[key],key===attrkey){if("object"==typeof child)for(attr in child)element=element.att(attr,child[attr])}else if(key===charkey)element=_this.options.cdata&&requiresCDATA(child)?element.raw(wrapCDATA(child)):element.txt(child);else if(Array.isArray(child))for(index in child)hasProp.call(child,index)&&(element="string"==typeof(entry=child[index])?_this.options.cdata&&requiresCDATA(entry)?element.ele(key).raw(wrapCDATA(entry)).up():element.ele(key,entry).up():render(element.ele(key),entry).up());else"object"==typeof child?element=render(element.ele(key),child).up():"string"==typeof child&&_this.options.cdata&&requiresCDATA(child)?element=element.ele(key).raw(wrapCDATA(child)).up():(null==child&&(child=""),element=element.ele(key,child.toString()).up());return element},rootElement=builder.create(rootName,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),render(rootElement,rootObj).end(this.options.renderOpts)},Builder}()}).call(this)},QzRn:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return pan}),__webpack_require__.d(__webpack_exports__,"c",function(){return zoomByDelta});var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_Property_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("v2Km"),_easing_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ykKD"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Interaction=function(_super){function Interaction(opt_options){var _this=_super.call(this)||this;return opt_options&&opt_options.handleEvent&&(_this.handleEvent=opt_options.handleEvent),_this.map_=null,_this.setActive(!0),_this}return __extends(Interaction,_super),Interaction.prototype.getActive=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.ACTIVE)},Interaction.prototype.getMap=function(){return this.map_},Interaction.prototype.handleEvent=function(mapBrowserEvent){return!0},Interaction.prototype.setActive=function(active){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.ACTIVE,active)},Interaction.prototype.setMap=function(map){this.map_=map},Interaction}(_Object_js__WEBPACK_IMPORTED_MODULE_0__.a);function pan(view,delta,opt_duration){var currentCenter=view.getCenterInternal();currentCenter&&view.animateInternal({duration:void 0!==opt_duration?opt_duration:250,easing:_easing_js__WEBPACK_IMPORTED_MODULE_2__.c,center:view.getConstrainedCenter([currentCenter[0]+delta[0],currentCenter[1]+delta[1]])})}function zoomByDelta(view,delta,opt_anchor,opt_duration){var currentZoom=view.getZoom();if(void 0!==currentZoom){var newZoom=view.getConstrainedZoom(currentZoom+delta),newResolution=view.getResolutionForZoom(newZoom);view.getAnimating()&&view.cancelAnimations(),view.animate({resolution:newResolution,anchor:opt_anchor,duration:void 0!==opt_duration?opt_duration:250,easing:_easing_js__WEBPACK_IMPORTED_MODULE_2__.a})}}__webpack_exports__.a=Interaction},"R+T3":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Uhtb"),_GeometryType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9iPr"),_LineString_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("egkh"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("mrzG"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("l2lA"),_extent_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("CvXi"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("q7cr"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("HEh+"),_array_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("n15R"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("u2yf"),_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("saKC"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("xWBw"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),MultiLineString=function(_super){function MultiLineString(coordinates,opt_layout,opt_ends){var _this=_super.call(this)||this;if(_this.ends_=[],_this.maxDelta_=-1,_this.maxDeltaRevision_=-1,Array.isArray(coordinates[0]))_this.setCoordinates(coordinates,opt_layout);else if(void 0!==opt_layout&&opt_ends)_this.setFlatCoordinates(opt_layout,coordinates),_this.ends_=opt_ends;else{for(var layout=_this.getLayout(),lineStrings=coordinates,flatCoordinates=[],ends=[],i=0,ii=lineStrings.length;i<ii;++i){var lineString=lineStrings[i];0===i&&(layout=lineString.getLayout()),Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.c)(flatCoordinates,lineString.getFlatCoordinates()),ends.push(flatCoordinates.length)}_this.setFlatCoordinates(layout,flatCoordinates),_this.ends_=ends}return _this}return __extends(MultiLineString,_super),MultiLineString.prototype.appendLineString=function(lineString){this.flatCoordinates?Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.c)(this.flatCoordinates,lineString.getFlatCoordinates().slice()):this.flatCoordinates=lineString.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},MultiLineString.prototype.clone=function(){var multiLineString=new MultiLineString(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return multiLineString.applyProperties(this),multiLineString},MultiLineString.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<Object(_extent_js__WEBPACK_IMPORTED_MODULE_5__.e)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,x,y,closestPoint,minSquaredDistance))},MultiLineString.prototype.getCoordinateAtM=function(m,opt_extrapolate,opt_interpolate){if(this.layout!=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XYM&&this.layout!=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XYZM||0===this.flatCoordinates.length)return null;var extrapolate=void 0!==opt_extrapolate&&opt_extrapolate,interpolate=void 0!==opt_interpolate&&opt_interpolate;return Object(_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_10__.c)(this.flatCoordinates,0,this.ends_,this.stride,m,extrapolate,interpolate)},MultiLineString.prototype.getCoordinates=function(){return Object(_flat_inflate_js__WEBPACK_IMPORTED_MODULE_9__.b)(this.flatCoordinates,0,this.ends_,this.stride)},MultiLineString.prototype.getEnds=function(){return this.ends_},MultiLineString.prototype.getLineString=function(index){return index<0||this.ends_.length<=index?null:new _LineString_js__WEBPACK_IMPORTED_MODULE_2__.a(this.flatCoordinates.slice(0===index?0:this.ends_[index-1],this.ends_[index]),this.layout)},MultiLineString.prototype.getLineStrings=function(){for(var flatCoordinates=this.flatCoordinates,ends=this.ends_,layout=this.layout,lineStrings=[],offset=0,i=0,ii=ends.length;i<ii;++i){var end=ends[i],lineString=new _LineString_js__WEBPACK_IMPORTED_MODULE_2__.a(flatCoordinates.slice(offset,end),layout);lineStrings.push(lineString),offset=end}return lineStrings},MultiLineString.prototype.getFlatMidpoints=function(){for(var midpoints=[],flatCoordinates=this.flatCoordinates,offset=0,ends=this.ends_,stride=this.stride,i=0,ii=ends.length;i<ii;++i){var end=ends[i],midpoint=Object(_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_10__.a)(flatCoordinates,offset,end,stride,.5);Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.c)(midpoints,midpoint),offset=end}return midpoints},MultiLineString.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[],simplifiedEnds=[];return simplifiedFlatCoordinates.length=Object(_flat_simplify_js__WEBPACK_IMPORTED_MODULE_7__.b)(this.flatCoordinates,0,this.ends_,this.stride,squaredTolerance,simplifiedFlatCoordinates,0,simplifiedEnds),new MultiLineString(simplifiedFlatCoordinates,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XY,simplifiedEnds)},MultiLineString.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_1__.a.MULTI_LINE_STRING},MultiLineString.prototype.intersectsExtent=function(extent){return Object(_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_11__.b)(this.flatCoordinates,0,this.ends_,this.stride,extent)},MultiLineString.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,2),this.flatCoordinates||(this.flatCoordinates=[]);var ends=Object(_flat_deflate_js__WEBPACK_IMPORTED_MODULE_6__.c)(this.flatCoordinates,0,coordinates,this.stride,this.ends_);this.flatCoordinates.length=0===ends.length?0:ends[ends.length-1],this.changed()},MultiLineString}(_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_3__.a);__webpack_exports__.a=MultiLineString},RfOz:function(module,exports){(function(){var assign,getValue,isArray,isEmpty,isFunction,isObject,isPlainObject,slice=[].slice,hasProp={}.hasOwnProperty;assign=function(){var i,key,len,source,sources,target;if(target=arguments[0],sources=2<=arguments.length?slice.call(arguments,1):[],isFunction(Object.assign))Object.assign.apply(null,arguments);else for(i=0,len=sources.length;i<len;i++)if(null!=(source=sources[i]))for(key in source)hasProp.call(source,key)&&(target[key]=source[key]);return target},isFunction=function(val){return!!val&&"[object Function]"===Object.prototype.toString.call(val)},isObject=function(val){var ref;return!!val&&("function"==(ref=typeof val)||"object"===ref)},isArray=function(val){return isFunction(Array.isArray)?Array.isArray(val):"[object Array]"===Object.prototype.toString.call(val)},isEmpty=function(val){var key;if(isArray(val))return!val.length;for(key in val)if(hasProp.call(val,key))return!1;return!0},isPlainObject=function(val){var ctor,proto;return isObject(val)&&(proto=Object.getPrototypeOf(val))&&(ctor=proto.constructor)&&"function"==typeof ctor&&ctor instanceof ctor&&Function.prototype.toString.call(ctor)===Function.prototype.toString.call(Object)},getValue=function(obj){return isFunction(obj.valueOf)?obj.valueOf():obj},module.exports.assign=assign,module.exports.isFunction=isFunction,module.exports.isObject=isObject,module.exports.isArray=isArray,module.exports.isEmpty=isEmpty,module.exports.isPlainObject=isPlainObject,module.exports.getValue=getValue}).call(this)},"SW/M":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={ANIMATING:0,INTERACTING:1}},Sn2A:function(module,__webpack_exports__,__webpack_require__){"use strict";var rbush__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("JaUx"),rbush__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rbush__WEBPACK_IMPORTED_MODULE_0__),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("CvXi"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EwAT"),_obj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("OPOH"),RBush=function(){function RBush(opt_maxEntries){this.rbush_=new rbush__WEBPACK_IMPORTED_MODULE_0___default.a(opt_maxEntries),this.items_={}}return RBush.prototype.insert=function(extent,value){var item={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3],value:value};this.rbush_.insert(item),this.items_[Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.c)(value)]=item},RBush.prototype.load=function(extents,values){for(var items=new Array(values.length),i=0,l=values.length;i<l;i++){var extent=extents[i],value=values[i],item={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3],value:value};items[i]=item,this.items_[Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.c)(value)]=item}this.rbush_.load(items)},RBush.prototype.remove=function(value){var uid=Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.c)(value),item=this.items_[uid];return delete this.items_[uid],null!==this.rbush_.remove(item)},RBush.prototype.update=function(extent,value){var item=this.items_[Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.c)(value)],bbox=[item.minX,item.minY,item.maxX,item.maxY];Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.p)(bbox,extent)||(this.remove(value),this.insert(extent,value))},RBush.prototype.getAll=function(){return this.rbush_.all().map(function(item){return item.value})},RBush.prototype.getInExtent=function(extent){return this.rbush_.search({minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3]}).map(function(item){return item.value})},RBush.prototype.forEach=function(callback){return this.forEach_(this.getAll(),callback)},RBush.prototype.forEachInExtent=function(extent,callback){return this.forEach_(this.getInExtent(extent),callback)},RBush.prototype.forEach_=function(values,callback){for(var result,i=0,l=values.length;i<l;i++)if(result=callback(values[i]))return result;return result},RBush.prototype.isEmpty=function(){return Object(_obj_js__WEBPACK_IMPORTED_MODULE_3__.d)(this.items_)},RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},RBush.prototype.getExtent=function(opt_extent){var data=this.rbush_.toJSON();return Object(_extent_js__WEBPACK_IMPORTED_MODULE_1__.k)(data.minX,data.minY,data.maxX,data.maxY,opt_extent)},RBush.prototype.concat=function(rbush){for(var i in this.rbush_.load(rbush.rbush_.all()),rbush.items_)this.items_[i]=rbush.items_[i]},RBush}();__webpack_exports__.a=RBush},TN97:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_asserts_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("kvpX"),_events_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Feature=function(_super){function Feature(opt_geometryOrProperties){var _this=_super.call(this)||this;return _this.id_=void 0,_this.geometryName_="geometry",_this.style_=null,_this.styleFunction_=void 0,_this.geometryChangeKey_=null,_this.addEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_0__.b)(_this.geometryName_),_this.handleGeometryChanged_),opt_geometryOrProperties&&("function"==typeof opt_geometryOrProperties.getSimplifiedGeometry?_this.setGeometry(opt_geometryOrProperties):_this.setProperties(opt_geometryOrProperties)),_this}return __extends(Feature,_super),Feature.prototype.clone=function(){var clone=new Feature(this.hasProperties()?this.getProperties():null);clone.setGeometryName(this.getGeometryName());var geometry=this.getGeometry();geometry&&clone.setGeometry(geometry.clone());var style=this.getStyle();return style&&clone.setStyle(style),clone},Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)},Feature.prototype.getId=function(){return this.id_},Feature.prototype.getGeometryName=function(){return this.geometryName_},Feature.prototype.getStyle=function(){return this.style_},Feature.prototype.getStyleFunction=function(){return this.styleFunction_},Feature.prototype.handleGeometryChange_=function(){this.changed()},Feature.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(_events_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var geometry=this.getGeometry();geometry&&(this.geometryChangeKey_=Object(_events_js__WEBPACK_IMPORTED_MODULE_3__.a)(geometry,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},Feature.prototype.setGeometry=function(geometry){this.set(this.geometryName_,geometry)},Feature.prototype.setStyle=function(opt_style){var obj,styles_1;this.style_=opt_style,this.styleFunction_=opt_style?"function"==typeof(obj=opt_style)?obj:(Array.isArray(obj)?styles_1=obj:(Object(_asserts_js__WEBPACK_IMPORTED_MODULE_2__.a)("function"==typeof obj.getZIndex,41),styles_1=[obj]),function(){return styles_1}):void 0,this.changed()},Feature.prototype.setId=function(id){this.id_=id,this.changed()},Feature.prototype.setGeometryName=function(name){this.removeEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=name,this.addEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},Feature}(_Object_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=Feature},TZgD:function(module,__webpack_exports__,__webpack_require__){"use strict";function coordinates(flatCoordinates,offset,end,stride){for(;offset<end-stride;){for(var i=0;i<stride;++i){var tmp=flatCoordinates[offset+i];flatCoordinates[offset+i]=flatCoordinates[end-stride+i],flatCoordinates[end-stride+i]=tmp}offset+=stride,end-=stride}}function linearRingIsClockwise(flatCoordinates,offset,end,stride){for(var edge=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];edge+=(x2-x1)*(y2+y1),x1=x2,y1=y2}return 0===edge?void 0:edge>0}function linearRingsAreOriented(flatCoordinates,offset,ends,stride,opt_right){for(var right=void 0!==opt_right&&opt_right,i=0,ii=ends.length;i<ii;++i){var end=ends[i],isClockwise=linearRingIsClockwise(flatCoordinates,offset,end,stride);if(0===i){if(right&&isClockwise||!right&&!isClockwise)return!1}else if(right&&!isClockwise||!right&&isClockwise)return!1;offset=end}return!0}function linearRingssAreOriented(flatCoordinates,offset,endss,stride,opt_right){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];if(!linearRingsAreOriented(flatCoordinates,offset,ends,stride,opt_right))return!1;ends.length&&(offset=ends[ends.length-1])}return!0}function orientLinearRings(flatCoordinates,offset,ends,stride,opt_right){for(var right=void 0!==opt_right&&opt_right,i=0,ii=ends.length;i<ii;++i){var end=ends[i],isClockwise=linearRingIsClockwise(flatCoordinates,offset,end,stride);(0===i?right&&isClockwise||!right&&!isClockwise:right&&!isClockwise||!right&&isClockwise)&&coordinates(flatCoordinates,offset,end,stride),offset=end}return offset}function orientLinearRingsArray(flatCoordinates,offset,endss,stride,opt_right){for(var i=0,ii=endss.length;i<ii;++i)offset=orientLinearRings(flatCoordinates,offset,endss[i],stride,opt_right);return offset}__webpack_require__.d(__webpack_exports__,"a",function(){return linearRingsAreOriented}),__webpack_require__.d(__webpack_exports__,"b",function(){return linearRingssAreOriented}),__webpack_require__.d(__webpack_exports__,"c",function(){return orientLinearRings}),__webpack_require__.d(__webpack_exports__,"d",function(){return orientLinearRingsArray})},U26E:function(module,exports,__webpack_require__){(function(){var NodeType,XMLCharacterData,hasProp={}.hasOwnProperty;NodeType=__webpack_require__("Bl63"),XMLCharacterData=__webpack_require__("V4+3"),module.exports=function(superClass){function XMLCData(parent,text){if(XMLCData.__super__.constructor.call(this,parent),null==text)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=NodeType.CData,this.value=this.stringify.cdata(text)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLCData,superClass),XMLCData.prototype.clone=function(){return Object.create(this)},XMLCData.prototype.toString=function(options){return this.options.writer.cdata(this,this.options.writer.filterOptions(options))},XMLCData}(XMLCharacterData)}).call(this)},UI7K:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Pointer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QQWy"),_functions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("V8uu"),_rotationconstraint_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("jMVV"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),PinchRotate=function(_super){function PinchRotate(opt_options){var _this=this,options=opt_options||{},pointerOptions=options;return pointerOptions.stopDown||(pointerOptions.stopDown=_functions_js__WEBPACK_IMPORTED_MODULE_1__.a),(_this=_super.call(this,pointerOptions)||this).anchor_=null,_this.lastAngle_=void 0,_this.rotating_=!1,_this.rotationDelta_=0,_this.threshold_=void 0!==options.threshold?options.threshold:.3,_this.duration_=void 0!==options.duration?options.duration:250,_this}return __extends(PinchRotate,_super),PinchRotate.prototype.handleDragEvent=function(mapBrowserEvent){var rotationDelta=0,touch0=this.targetPointers[0],touch1=this.targetPointers[1],angle=Math.atan2(touch1.clientY-touch0.clientY,touch1.clientX-touch0.clientX);if(void 0!==this.lastAngle_){var delta=angle-this.lastAngle_;this.rotationDelta_+=delta,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),rotationDelta=delta}this.lastAngle_=angle;var map=mapBrowserEvent.map,view=map.getView();if(view.getConstraints().rotation!==_rotationconstraint_js__WEBPACK_IMPORTED_MODULE_2__.c){var viewportPosition=map.getViewport().getBoundingClientRect(),centroid=Object(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.a)(this.targetPointers);centroid[0]-=viewportPosition.left,centroid[1]-=viewportPosition.top,this.anchor_=map.getCoordinateFromPixelInternal(centroid),this.rotating_&&(map.render(),view.adjustRotationInternal(rotationDelta,this.anchor_))}},PinchRotate.prototype.handleUpEvent=function(mapBrowserEvent){return!(this.targetPointers.length<2&&(mapBrowserEvent.map.getView().endInteraction(this.duration_),1))},PinchRotate.prototype.handleDownEvent=function(mapBrowserEvent){if(this.targetPointers.length>=2){var map=mapBrowserEvent.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1},PinchRotate}(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.b);__webpack_exports__.a=PinchRotate},UJv6:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_MapEvent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cjgx"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),MapBrowserEvent=function(_super){function MapBrowserEvent(type,map,originalEvent,opt_dragging,opt_frameState){var _this=_super.call(this,type,map,opt_frameState)||this;return _this.originalEvent=originalEvent,_this.pixel_=null,_this.coordinate_=null,_this.dragging=void 0!==opt_dragging&&opt_dragging,_this}return __extends(MapBrowserEvent,_super),Object.defineProperty(MapBrowserEvent.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(pixel){this.pixel_=pixel},enumerable:!1,configurable:!0}),Object.defineProperty(MapBrowserEvent.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(coordinate){this.coordinate_=coordinate},enumerable:!1,configurable:!0}),MapBrowserEvent.prototype.preventDefault=function(){_super.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},MapBrowserEvent.prototype.stopPropagation=function(){_super.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},MapBrowserEvent}(_MapEvent_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=MapBrowserEvent},UNeu:function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,hasProp={}.hasOwnProperty;NodeType=__webpack_require__("Bl63"),XMLNode=__webpack_require__("kud4"),module.exports=function(superClass){function XMLRaw(parent,text){if(XMLRaw.__super__.constructor.call(this,parent),null==text)throw new Error("Missing raw text. "+this.debugInfo());this.type=NodeType.Raw,this.value=this.stringify.raw(text)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLRaw,superClass),XMLRaw.prototype.clone=function(){return Object.create(this)},XMLRaw.prototype.toString=function(options){return this.options.writer.raw(this,this.options.writer.filterOptions(options))},XMLRaw}(XMLNode)}).call(this)},Uhtb:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},Uo1N:function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,isObject,hasProp={}.hasOwnProperty;isObject=__webpack_require__("RfOz").isObject,XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),module.exports=function(superClass){function XMLDeclaration(parent,version,encoding,standalone){var ref;XMLDeclaration.__super__.constructor.call(this,parent),isObject(version)&&(version=(ref=version).version,encoding=ref.encoding,standalone=ref.standalone),version||(version="1.0"),this.type=NodeType.Declaration,this.version=this.stringify.xmlVersion(version),null!=encoding&&(this.encoding=this.stringify.xmlEncoding(encoding)),null!=standalone&&(this.standalone=this.stringify.xmlStandalone(standalone))}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDeclaration,superClass),XMLDeclaration.prototype.toString=function(options){return this.options.writer.declaration(this,this.options.writer.filterOptions(options))},XMLDeclaration}(XMLNode)}).call(this)},"V4+3":function(module,exports,__webpack_require__){(function(){var XMLNode,hasProp={}.hasOwnProperty;XMLNode=__webpack_require__("kud4"),module.exports=function(superClass){function XMLCharacterData(parent){XMLCharacterData.__super__.constructor.call(this,parent),this.value=""}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLCharacterData,superClass),Object.defineProperty(XMLCharacterData.prototype,"data",{get:function(){return this.value},set:function(value){return this.value=value||""}}),Object.defineProperty(XMLCharacterData.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(XMLCharacterData.prototype,"textContent",{get:function(){return this.value},set:function(value){return this.value=value||""}}),XMLCharacterData.prototype.clone=function(){return Object.create(this)},XMLCharacterData.prototype.substringData=function(offset,count){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLCharacterData.prototype.appendData=function(arg){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLCharacterData.prototype.insertData=function(offset,arg){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLCharacterData.prototype.deleteData=function(offset,count){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLCharacterData.prototype.replaceData=function(offset,count,arg){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLCharacterData.prototype.isEqualNode=function(node){return!!XMLCharacterData.__super__.isEqualNode.apply(this,arguments).isEqualNode(node)&&node.data===this.data},XMLCharacterData}(XMLNode)}).call(this)},V8uu:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return TRUE}),__webpack_require__.d(__webpack_exports__,"a",function(){return FALSE}),__webpack_require__.d(__webpack_exports__,"c",function(){return VOID}),__webpack_require__.d(__webpack_exports__,"d",function(){return memoizeOne});var _array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("n15R");function TRUE(){return!0}function FALSE(){return!1}function VOID(){}function memoizeOne(fn){var lastResult,lastArgs,lastThis,called=!1;return function(){var nextArgs=Array.prototype.slice.call(arguments);return called&&this===lastThis&&Object(_array_js__WEBPACK_IMPORTED_MODULE_0__.b)(nextArgs,lastArgs)||(called=!0,lastThis=this,lastArgs=nextArgs,lastResult=fn.apply(this,arguments)),lastResult}}},VN3C:function(module,exports,__webpack_require__){(function(){var NodeType,WriterState,XMLAttribute,XMLCData,XMLComment,XMLDTDAttList,XMLDTDElement,XMLDTDEntity,XMLDTDNotation,XMLDeclaration,XMLDocType,XMLDocument,XMLElement,XMLProcessingInstruction,XMLRaw,XMLStringWriter,XMLStringifier,XMLText,getValue,isFunction,isObject,isPlainObject,ref,hasProp={}.hasOwnProperty;ref=__webpack_require__("RfOz"),isObject=ref.isObject,isFunction=ref.isFunction,isPlainObject=ref.isPlainObject,getValue=ref.getValue,NodeType=__webpack_require__("Bl63"),XMLDocument=__webpack_require__("rgrL"),XMLElement=__webpack_require__("uO6I"),XMLCData=__webpack_require__("U26E"),XMLComment=__webpack_require__("iTBR"),XMLRaw=__webpack_require__("UNeu"),XMLText=__webpack_require__("nS9B"),XMLProcessingInstruction=__webpack_require__("8BaB"),XMLDeclaration=__webpack_require__("Uo1N"),XMLDocType=__webpack_require__("1+OA"),XMLDTDAttList=__webpack_require__("GI8a"),XMLDTDEntity=__webpack_require__("FYWk"),XMLDTDElement=__webpack_require__("OzLs"),XMLDTDNotation=__webpack_require__("tuH/"),XMLAttribute=__webpack_require__("IoDD"),XMLStringifier=__webpack_require__("WmE4"),XMLStringWriter=__webpack_require__("HwjW"),WriterState=__webpack_require__("CYXk"),module.exports=function(){function XMLDocumentCB(options,onData,onEnd){var writerOptions;this.name="?xml",this.type=NodeType.Document,options||(options={}),writerOptions={},options.writer?isPlainObject(options.writer)&&(writerOptions=options.writer,options.writer=new XMLStringWriter):options.writer=new XMLStringWriter,this.options=options,this.writer=options.writer,this.writerOptions=this.writer.filterOptions(writerOptions),this.stringify=new XMLStringifier(options),this.onDataCallback=onData||function(){},this.onEndCallback=onEnd||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return XMLDocumentCB.prototype.createChildNode=function(node){var attName,attributes,child,i,len,ref1,ref2;switch(node.type){case NodeType.CData:this.cdata(node.value);break;case NodeType.Comment:this.comment(node.value);break;case NodeType.Element:for(attName in attributes={},ref1=node.attribs)hasProp.call(ref1,attName)&&(attributes[attName]=ref1[attName].value);this.node(node.name,attributes);break;case NodeType.Dummy:this.dummy();break;case NodeType.Raw:this.raw(node.value);break;case NodeType.Text:this.text(node.value);break;case NodeType.ProcessingInstruction:this.instruction(node.target,node.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+node.constructor.name)}for(i=0,len=(ref2=node.children).length;i<len;i++)this.createChildNode(child=ref2[i]),child.type===NodeType.Element&&this.up();return this},XMLDocumentCB.prototype.dummy=function(){return this},XMLDocumentCB.prototype.node=function(name,attributes,text){var ref1;if(null==name)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(name));return this.openCurrent(),name=getValue(name),null==attributes&&(attributes={}),attributes=getValue(attributes),isObject(attributes)||(text=(ref1=[attributes,text])[0],attributes=ref1[1]),this.currentNode=new XMLElement(this,name,attributes),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=text&&this.text(text),this},XMLDocumentCB.prototype.element=function(name,attributes,text){var child,i,len,oldValidationFlag,ref1,root;if(this.currentNode&&this.currentNode.type===NodeType.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(name)||isObject(name)||isFunction(name))for(oldValidationFlag=this.options.noValidation,this.options.noValidation=!0,(root=new XMLDocument(this.options).element("TEMP_ROOT")).element(name),this.options.noValidation=oldValidationFlag,i=0,len=(ref1=root.children).length;i<len;i++)this.createChildNode(child=ref1[i]),child.type===NodeType.Element&&this.up();else this.node(name,attributes,text);return this},XMLDocumentCB.prototype.attribute=function(name,value){var attName;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(name));if(null!=name&&(name=getValue(name)),isObject(name))for(attName in name)hasProp.call(name,attName)&&this.attribute(attName,name[attName]);else isFunction(value)&&(value=value.apply()),this.options.keepNullAttributes&&null==value?this.currentNode.attribs[name]=new XMLAttribute(this,name,""):null!=value&&(this.currentNode.attribs[name]=new XMLAttribute(this,name,value));return this},XMLDocumentCB.prototype.text=function(value){var node;return this.openCurrent(),node=new XMLText(this,value),this.onData(this.writer.text(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.cdata=function(value){var node;return this.openCurrent(),node=new XMLCData(this,value),this.onData(this.writer.cdata(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.comment=function(value){var node;return this.openCurrent(),node=new XMLComment(this,value),this.onData(this.writer.comment(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.raw=function(value){var node;return this.openCurrent(),node=new XMLRaw(this,value),this.onData(this.writer.raw(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.instruction=function(target,value){var i,insTarget,len,node;if(this.openCurrent(),null!=target&&(target=getValue(target)),null!=value&&(value=getValue(value)),Array.isArray(target))for(i=0,len=target.length;i<len;i++)this.instruction(insTarget=target[i]);else if(isObject(target))for(insTarget in target)hasProp.call(target,insTarget)&&this.instruction(insTarget,target[insTarget]);else isFunction(value)&&(value=value.apply()),node=new XMLProcessingInstruction(this,target,value),this.onData(this.writer.processingInstruction(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},XMLDocumentCB.prototype.declaration=function(version,encoding,standalone){var node;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return node=new XMLDeclaration(this,version,encoding,standalone),this.onData(this.writer.declaration(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.doctype=function(root,pubID,sysID){if(this.openCurrent(),null==root)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new XMLDocType(this,pubID,sysID),this.currentNode.rootNodeName=root,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},XMLDocumentCB.prototype.dtdElement=function(name,value){var node;return this.openCurrent(),node=new XMLDTDElement(this,name,value),this.onData(this.writer.dtdElement(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.attList=function(elementName,attributeName,attributeType,defaultValueType,defaultValue){var node;return this.openCurrent(),node=new XMLDTDAttList(this,elementName,attributeName,attributeType,defaultValueType,defaultValue),this.onData(this.writer.dtdAttList(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.entity=function(name,value){var node;return this.openCurrent(),node=new XMLDTDEntity(this,!1,name,value),this.onData(this.writer.dtdEntity(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.pEntity=function(name,value){var node;return this.openCurrent(),node=new XMLDTDEntity(this,!0,name,value),this.onData(this.writer.dtdEntity(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.notation=function(name,value){var node;return this.openCurrent(),node=new XMLDTDNotation(this,name,value),this.onData(this.writer.dtdNotation(node,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},XMLDocumentCB.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},XMLDocumentCB.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},XMLDocumentCB.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},XMLDocumentCB.prototype.openNode=function(node){var chunk,name,ref1;if(!node.isOpen){if(this.root||0!==this.currentLevel||node.type!==NodeType.Element||(this.root=node),chunk="",node.type===NodeType.Element){for(name in this.writerOptions.state=WriterState.OpenTag,chunk=this.writer.indent(node,this.writerOptions,this.currentLevel)+"<"+node.name,ref1=node.attribs)hasProp.call(ref1,name)&&(chunk+=this.writer.attribute(ref1[name],this.writerOptions,this.currentLevel));chunk+=(node.children?">":"/>")+this.writer.endline(node,this.writerOptions,this.currentLevel),this.writerOptions.state=WriterState.InsideTag}else this.writerOptions.state=WriterState.OpenTag,chunk=this.writer.indent(node,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+node.rootNodeName,node.pubID&&node.sysID?chunk+=' PUBLIC "'+node.pubID+'" "'+node.sysID+'"':node.sysID&&(chunk+=' SYSTEM "'+node.sysID+'"'),node.children?(chunk+=" [",this.writerOptions.state=WriterState.InsideTag):(this.writerOptions.state=WriterState.CloseTag,chunk+=">"),chunk+=this.writer.endline(node,this.writerOptions,this.currentLevel);return this.onData(chunk,this.currentLevel),node.isOpen=!0}},XMLDocumentCB.prototype.closeNode=function(node){var chunk;if(!node.isClosed)return this.writerOptions.state=WriterState.CloseTag,chunk=node.type===NodeType.Element?this.writer.indent(node,this.writerOptions,this.currentLevel)+"</"+node.name+">"+this.writer.endline(node,this.writerOptions,this.currentLevel):this.writer.indent(node,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(node,this.writerOptions,this.currentLevel),this.writerOptions.state=WriterState.None,this.onData(chunk,this.currentLevel),node.isClosed=!0},XMLDocumentCB.prototype.onData=function(chunk,level){return this.documentStarted=!0,this.onDataCallback(chunk,level+1)},XMLDocumentCB.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},XMLDocumentCB.prototype.debugInfo=function(name){return null==name?"":"node: <"+name+">"},XMLDocumentCB.prototype.ele=function(){return this.element.apply(this,arguments)},XMLDocumentCB.prototype.nod=function(name,attributes,text){return this.node(name,attributes,text)},XMLDocumentCB.prototype.txt=function(value){return this.text(value)},XMLDocumentCB.prototype.dat=function(value){return this.cdata(value)},XMLDocumentCB.prototype.com=function(value){return this.comment(value)},XMLDocumentCB.prototype.ins=function(target,value){return this.instruction(target,value)},XMLDocumentCB.prototype.dec=function(version,encoding,standalone){return this.declaration(version,encoding,standalone)},XMLDocumentCB.prototype.dtd=function(root,pubID,sysID){return this.doctype(root,pubID,sysID)},XMLDocumentCB.prototype.e=function(name,attributes,text){return this.element(name,attributes,text)},XMLDocumentCB.prototype.n=function(name,attributes,text){return this.node(name,attributes,text)},XMLDocumentCB.prototype.t=function(value){return this.text(value)},XMLDocumentCB.prototype.d=function(value){return this.cdata(value)},XMLDocumentCB.prototype.c=function(value){return this.comment(value)},XMLDocumentCB.prototype.r=function(value){return this.raw(value)},XMLDocumentCB.prototype.i=function(target,value){return this.instruction(target,value)},XMLDocumentCB.prototype.att=function(){return this.currentNode&&this.currentNode.type===NodeType.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},XMLDocumentCB.prototype.a=function(){return this.currentNode&&this.currentNode.type===NodeType.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},XMLDocumentCB.prototype.ent=function(name,value){return this.entity(name,value)},XMLDocumentCB.prototype.pent=function(name,value){return this.pEntity(name,value)},XMLDocumentCB.prototype.not=function(name,value){return this.notation(name,value)},XMLDocumentCB}()}).call(this)},"VWR+":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_Property_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("30zj"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EwAT"),_asserts_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("kvpX"),_obj_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("OPOH"),_math_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f8l7"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),BaseLayer=function(_super){function BaseLayer(options){var _this=_super.call(this)||this,properties=Object(_obj_js__WEBPACK_IMPORTED_MODULE_4__.a)({},options);return properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.OPACITY]=void 0!==options.opacity?options.opacity:1,Object(_asserts_js__WEBPACK_IMPORTED_MODULE_3__.a)("number"==typeof properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.OPACITY],64),properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.VISIBLE]=void 0===options.visible||options.visible,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.Z_INDEX]=options.zIndex,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MAX_RESOLUTION]=void 0!==options.maxResolution?options.maxResolution:1/0,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MIN_RESOLUTION]=void 0!==options.minResolution?options.minResolution:0,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MIN_ZOOM]=void 0!==options.minZoom?options.minZoom:-1/0,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MAX_ZOOM]=void 0!==options.maxZoom?options.maxZoom:1/0,_this.className_=void 0!==properties.className?options.className:"ol-layer",delete properties.className,_this.setProperties(properties),_this.state_=null,_this}return __extends(BaseLayer,_super),BaseLayer.prototype.getClassName=function(){return this.className_},BaseLayer.prototype.getLayerState=function(opt_managed){var state=this.state_||{layer:this,managed:void 0===opt_managed||opt_managed},zIndex=this.getZIndex();return state.opacity=Object(_math_js__WEBPACK_IMPORTED_MODULE_5__.a)(Math.round(100*this.getOpacity())/100,0,1),state.sourceState=this.getSourceState(),state.visible=this.getVisible(),state.extent=this.getExtent(),state.zIndex=void 0!==zIndex?zIndex:!1===state.managed?1/0:0,state.maxResolution=this.getMaxResolution(),state.minResolution=Math.max(this.getMinResolution(),0),state.minZoom=this.getMinZoom(),state.maxZoom=this.getMaxZoom(),this.state_=state,state},BaseLayer.prototype.getLayersArray=function(opt_array){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},BaseLayer.prototype.getLayerStatesArray=function(opt_states){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},BaseLayer.prototype.getExtent=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.EXTENT)},BaseLayer.prototype.getMaxResolution=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MAX_RESOLUTION)},BaseLayer.prototype.getMinResolution=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MIN_RESOLUTION)},BaseLayer.prototype.getMinZoom=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MIN_ZOOM)},BaseLayer.prototype.getMaxZoom=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MAX_ZOOM)},BaseLayer.prototype.getOpacity=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.OPACITY)},BaseLayer.prototype.getSourceState=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},BaseLayer.prototype.getVisible=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.VISIBLE)},BaseLayer.prototype.getZIndex=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.Z_INDEX)},BaseLayer.prototype.setExtent=function(extent){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.EXTENT,extent)},BaseLayer.prototype.setMaxResolution=function(maxResolution){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MAX_RESOLUTION,maxResolution)},BaseLayer.prototype.setMinResolution=function(minResolution){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MIN_RESOLUTION,minResolution)},BaseLayer.prototype.setMaxZoom=function(maxZoom){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MAX_ZOOM,maxZoom)},BaseLayer.prototype.setMinZoom=function(minZoom){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.MIN_ZOOM,minZoom)},BaseLayer.prototype.setOpacity=function(opacity){Object(_asserts_js__WEBPACK_IMPORTED_MODULE_3__.a)("number"==typeof opacity,64),this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.OPACITY,opacity)},BaseLayer.prototype.setVisible=function(visible){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.VISIBLE,visible)},BaseLayer.prototype.setZIndex=function(zindex){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.a.Z_INDEX,zindex)},BaseLayer.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),_super.prototype.disposeInternal.call(this)},BaseLayer}(_Object_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=BaseLayer},W8M7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return fromExtent}),__webpack_require__.d(__webpack_exports__,"b",function(){return fromCircle}),__webpack_require__.d(__webpack_exports__,"d",function(){return makeRegular});var extendStatics,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Uhtb"),_GeometryType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9iPr"),_LinearRing_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("BJ1j"),_Point_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("9ANI"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("mrzG"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("l2lA"),_extent_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("CvXi"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("q7cr"),_array_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("n15R"),_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("Cp04"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("u2yf"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("xWBw"),_flat_orient_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("TZgD"),_flat_area_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("tYnX"),_flat_contains_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JfHk"),_math_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("f8l7"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("HEh+"),__extends=(__webpack_require__("eQqr"),extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Polygon=function(_super){function Polygon(coordinates,opt_layout,opt_ends){var _this=_super.call(this)||this;return _this.ends_=[],_this.flatInteriorPointRevision_=-1,_this.flatInteriorPoint_=null,_this.maxDelta_=-1,_this.maxDeltaRevision_=-1,_this.orientedRevision_=-1,_this.orientedFlatCoordinates_=null,void 0!==opt_layout&&opt_ends?(_this.setFlatCoordinates(opt_layout,coordinates),_this.ends_=opt_ends):_this.setCoordinates(coordinates,opt_layout),_this}return __extends(Polygon,_super),Polygon.prototype.appendLinearRing=function(linearRing){this.flatCoordinates?Object(_array_js__WEBPACK_IMPORTED_MODULE_8__.c)(this.flatCoordinates,linearRing.getFlatCoordinates()):this.flatCoordinates=linearRing.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Polygon.prototype.clone=function(){var polygon=new Polygon(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return polygon.applyProperties(this),polygon},Polygon.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.e)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_5__.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))},Polygon.prototype.containsXY=function(x,y){return Object(_flat_contains_js__WEBPACK_IMPORTED_MODULE_14__.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,x,y)},Polygon.prototype.getArea=function(){return Object(_flat_area_js__WEBPACK_IMPORTED_MODULE_13__.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},Polygon.prototype.getCoordinates=function(opt_right){var flatCoordinates;return void 0!==opt_right?(flatCoordinates=this.getOrientedFlatCoordinates().slice(),Object(_flat_orient_js__WEBPACK_IMPORTED_MODULE_12__.c)(flatCoordinates,0,this.ends_,this.stride,opt_right)):flatCoordinates=this.flatCoordinates,Object(_flat_inflate_js__WEBPACK_IMPORTED_MODULE_10__.b)(flatCoordinates,0,this.ends_,this.stride)},Polygon.prototype.getEnds=function(){return this.ends_},Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var flatCenter=Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.x)(this.getExtent());this.flatInteriorPoint_=Object(_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_9__.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,flatCenter,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},Polygon.prototype.getInteriorPoint=function(){return new _Point_js__WEBPACK_IMPORTED_MODULE_3__.a(this.getFlatInteriorPoint(),_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XYM)},Polygon.prototype.getLinearRingCount=function(){return this.ends_.length},Polygon.prototype.getLinearRing=function(index){return index<0||this.ends_.length<=index?null:new _LinearRing_js__WEBPACK_IMPORTED_MODULE_2__.a(this.flatCoordinates.slice(0===index?0:this.ends_[index-1],this.ends_[index]),this.layout)},Polygon.prototype.getLinearRings=function(){for(var layout=this.layout,flatCoordinates=this.flatCoordinates,ends=this.ends_,linearRings=[],offset=0,i=0,ii=ends.length;i<ii;++i){var end=ends[i],linearRing=new _LinearRing_js__WEBPACK_IMPORTED_MODULE_2__.a(flatCoordinates.slice(offset,end),layout);linearRings.push(linearRing),offset=end}return linearRings},Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var flatCoordinates=this.flatCoordinates;Object(_flat_orient_js__WEBPACK_IMPORTED_MODULE_12__.a)(flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=flatCoordinates:(this.orientedFlatCoordinates_=flatCoordinates.slice(),this.orientedFlatCoordinates_.length=Object(_flat_orient_js__WEBPACK_IMPORTED_MODULE_12__.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Polygon.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[],simplifiedEnds=[];return simplifiedFlatCoordinates.length=Object(_flat_simplify_js__WEBPACK_IMPORTED_MODULE_16__.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(squaredTolerance),simplifiedFlatCoordinates,0,simplifiedEnds),new Polygon(simplifiedFlatCoordinates,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XY,simplifiedEnds)},Polygon.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_1__.a.POLYGON},Polygon.prototype.intersectsExtent=function(extent){return Object(_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_11__.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,extent)},Polygon.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,2),this.flatCoordinates||(this.flatCoordinates=[]);var ends=Object(_flat_deflate_js__WEBPACK_IMPORTED_MODULE_7__.c)(this.flatCoordinates,0,coordinates,this.stride,this.ends_);this.flatCoordinates.length=0===ends.length?0:ends[ends.length-1],this.changed()},Polygon}(_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_4__.a);function fromExtent(extent){var minX=extent[0],minY=extent[1],maxX=extent[2],maxY=extent[3],flatCoordinates=[minX,minY,minX,maxY,maxX,maxY,maxX,minY,minX,minY];return new Polygon(flatCoordinates,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XY,[flatCoordinates.length])}function fromCircle(circle,opt_sides,opt_angle){for(var sides=opt_sides||32,stride=circle.getStride(),layout=circle.getLayout(),center=circle.getCenter(),arrayLength=stride*(sides+1),flatCoordinates=new Array(arrayLength),i=0;i<arrayLength;i+=stride){flatCoordinates[i]=0,flatCoordinates[i+1]=0;for(var j=2;j<stride;j++)flatCoordinates[i+j]=center[j]}var polygon=new Polygon(flatCoordinates,layout,[flatCoordinates.length]);return makeRegular(polygon,center,circle.getRadius(),opt_angle),polygon}function makeRegular(polygon,center,radius,opt_angle){for(var flatCoordinates=polygon.getFlatCoordinates(),stride=polygon.getStride(),sides=flatCoordinates.length/stride-1,startAngle=opt_angle||0,i=0;i<=sides;++i){var offset=i*stride,angle=startAngle+2*Object(_math_js__WEBPACK_IMPORTED_MODULE_15__.e)(i,sides)*Math.PI/sides;flatCoordinates[offset]=center[0]+radius*Math.cos(angle),flatCoordinates[offset+1]=center[1]+radius*Math.sin(angle)}polygon.changed()}__webpack_exports__.a=Polygon},WDFe:function(module,__webpack_exports__,__webpack_require__){"use strict";var Collection=__webpack_require__("4wAk"),CollectionEventType=__webpack_require__("GDrd"),Event=__webpack_require__("zvco"),EventType=__webpack_require__("AdTM"),ObjectEventType=__webpack_require__("e0/R"),RBush=__webpack_require__("Sn2A"),Source=__webpack_require__("/4Cu"),State=__webpack_require__("bYNo"),VectorEventType=__webpack_require__("pD/Q"),functions=__webpack_require__("V8uu");function loadingstrategy_all(extent,resolution){return[[-1/0,-1/0,1/0,1/0]]}var asserts=__webpack_require__("kvpX"),ol_extent=__webpack_require__("CvXi"),array=__webpack_require__("n15R"),util=__webpack_require__("EwAT"),ol_obj=__webpack_require__("OPOH"),events=__webpack_require__("Ho3V"),FormatType=__webpack_require__("Hsuu");function featureloader_xhr(url,format){return function(extent,resolution,projection,success,failure){var source=this;!function(url,format,extent,resolution,projection,success,failure){var xhr=new XMLHttpRequest;xhr.open("GET","function"==typeof url?url(extent,resolution,projection):url,!0),format.getType()==FormatType.a.ARRAY_BUFFER&&(xhr.responseType="arraybuffer"),xhr.withCredentials=!1,xhr.onload=function(event){if(!xhr.status||xhr.status>=200&&xhr.status<300){var type=format.getType(),source=void 0;type==FormatType.a.JSON||type==FormatType.a.TEXT?source=xhr.responseText:type==FormatType.a.XML?(source=xhr.responseXML)||(source=(new DOMParser).parseFromString(xhr.responseText,"application/xml")):type==FormatType.a.ARRAY_BUFFER&&(source=xhr.response),source?success(format.readFeatures(source,{extent:extent,featureProjection:projection}),format.readProjection(source)):failure()}else failure()},xhr.onerror=failure,xhr.send()}(url,format,extent,resolution,projection,function(features,dataProjection){void 0!==success&&success(features),source.addFeatures(features)},failure||functions.c)}}var extendStatics,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),VectorSourceEvent=function(_super){function VectorSourceEvent(type,opt_feature,opt_features){var _this=_super.call(this,type)||this;return _this.feature=opt_feature,_this.features=opt_features,_this}return __extends(VectorSourceEvent,_super),VectorSourceEvent}(Event.a),Vector_VectorSource=function(_super){function VectorSource(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{attributions:options.attributions,projection:void 0,state:State.a.READY,wrapX:void 0===options.wrapX||options.wrapX})||this).loader_=functions.c,_this.format_=options.format,_this.overlaps_=void 0===options.overlaps||options.overlaps,_this.url_=options.url,void 0!==options.loader?_this.loader_=options.loader:void 0!==_this.url_&&(Object(asserts.a)(_this.format_,7),_this.loader_=featureloader_xhr(_this.url_,_this.format_)),_this.strategy_=void 0!==options.strategy?options.strategy:loadingstrategy_all;var collection,features,useSpatialIndex=void 0===options.useSpatialIndex||options.useSpatialIndex;return _this.featuresRtree_=useSpatialIndex?new RBush.a:null,_this.loadedExtentsRtree_=new RBush.a,_this.nullGeometryFeatures_={},_this.idIndex_={},_this.uidIndex_={},_this.featureChangeKeys_={},_this.featuresCollection_=null,Array.isArray(options.features)?features=options.features:options.features&&(features=(collection=options.features).getArray()),useSpatialIndex||void 0!==collection||(collection=new Collection.a(features)),void 0!==features&&_this.addFeaturesInternal(features),void 0!==collection&&_this.bindFeaturesCollection_(collection),_this}return __extends(VectorSource,_super),VectorSource.prototype.addFeature=function(feature){this.addFeatureInternal(feature),this.changed()},VectorSource.prototype.addFeatureInternal=function(feature){var featureKey=Object(util.c)(feature);if(this.addToIndex_(featureKey,feature)){this.setupChangeEvents_(featureKey,feature);var geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(extent,feature)}else this.nullGeometryFeatures_[featureKey]=feature;this.dispatchEvent(new VectorSourceEvent(VectorEventType.a.ADDFEATURE,feature))}else this.featuresCollection_&&this.featuresCollection_.remove(feature)},VectorSource.prototype.setupChangeEvents_=function(featureKey,feature){this.featureChangeKeys_[featureKey]=[Object(events.a)(feature,EventType.a.CHANGE,this.handleFeatureChange_,this),Object(events.a)(feature,ObjectEventType.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},VectorSource.prototype.addToIndex_=function(featureKey,feature){var valid=!0,id=feature.getId();return void 0!==id&&(id.toString()in this.idIndex_?valid=!1:this.idIndex_[id.toString()]=feature),valid&&(Object(asserts.a)(!(featureKey in this.uidIndex_),30),this.uidIndex_[featureKey]=feature),valid},VectorSource.prototype.addFeatures=function(features){this.addFeaturesInternal(features),this.changed()},VectorSource.prototype.addFeaturesInternal=function(features){for(var extents=[],newFeatures=[],geometryFeatures=[],i=0,length_1=features.length;i<length_1;i++){var feature=features[i],featureKey=Object(util.c)(feature);this.addToIndex_(featureKey,feature)&&newFeatures.push(feature)}i=0;for(var length_2=newFeatures.length;i<length_2;i++){feature=newFeatures[i],featureKey=Object(util.c)(feature),this.setupChangeEvents_(featureKey,feature);var geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();extents.push(extent),geometryFeatures.push(feature)}else this.nullGeometryFeatures_[featureKey]=feature}this.featuresRtree_&&this.featuresRtree_.load(extents,geometryFeatures),i=0;for(var length_3=newFeatures.length;i<length_3;i++)this.dispatchEvent(new VectorSourceEvent(VectorEventType.a.ADDFEATURE,newFeatures[i]))},VectorSource.prototype.bindFeaturesCollection_=function(collection){var modifyingCollection=!1;this.addEventListener(VectorEventType.a.ADDFEATURE,function(evt){modifyingCollection||(modifyingCollection=!0,collection.push(evt.feature),modifyingCollection=!1)}),this.addEventListener(VectorEventType.a.REMOVEFEATURE,function(evt){modifyingCollection||(modifyingCollection=!0,collection.remove(evt.feature),modifyingCollection=!1)}),collection.addEventListener(CollectionEventType.a.ADD,(function(evt){modifyingCollection||(modifyingCollection=!0,this.addFeature(evt.element),modifyingCollection=!1)}).bind(this)),collection.addEventListener(CollectionEventType.a.REMOVE,(function(evt){modifyingCollection||(modifyingCollection=!0,this.removeFeature(evt.element),modifyingCollection=!1)}).bind(this)),this.featuresCollection_=collection},VectorSource.prototype.clear=function(opt_fast){if(opt_fast){for(var featureId in this.featureChangeKeys_)this.featureChangeKeys_[featureId].forEach(events.c);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var id in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[id]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var clearEvent=new VectorSourceEvent(VectorEventType.a.CLEAR);this.dispatchEvent(clearEvent),this.changed()},VectorSource.prototype.forEachFeature=function(callback){if(this.featuresRtree_)return this.featuresRtree_.forEach(callback);this.featuresCollection_&&this.featuresCollection_.forEach(callback)},VectorSource.prototype.forEachFeatureAtCoordinateDirect=function(coordinate,callback){return this.forEachFeatureInExtent([coordinate[0],coordinate[1],coordinate[0],coordinate[1]],function(feature){return feature.getGeometry().intersectsCoordinate(coordinate)?callback(feature):void 0})},VectorSource.prototype.forEachFeatureInExtent=function(extent,callback){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(extent,callback);this.featuresCollection_&&this.featuresCollection_.forEach(callback)},VectorSource.prototype.forEachFeatureIntersectingExtent=function(extent,callback){return this.forEachFeatureInExtent(extent,function(feature){if(feature.getGeometry().intersectsExtent(extent)){var result=callback(feature);if(result)return result}})},VectorSource.prototype.getFeaturesCollection=function(){return this.featuresCollection_},VectorSource.prototype.getFeatures=function(){var features;return this.featuresCollection_?features=this.featuresCollection_.getArray():this.featuresRtree_&&(features=this.featuresRtree_.getAll(),Object(ol_obj.d)(this.nullGeometryFeatures_)||Object(array.c)(features,Object(ol_obj.c)(this.nullGeometryFeatures_))),features},VectorSource.prototype.getFeaturesAtCoordinate=function(coordinate){var features=[];return this.forEachFeatureAtCoordinateDirect(coordinate,function(feature){features.push(feature)}),features},VectorSource.prototype.getFeaturesInExtent=function(extent){return this.featuresRtree_?this.featuresRtree_.getInExtent(extent):this.featuresCollection_?this.featuresCollection_.getArray():[]},VectorSource.prototype.getClosestFeatureToCoordinate=function(coordinate,opt_filter){var x=coordinate[0],y=coordinate[1],closestFeature=null,closestPoint=[NaN,NaN],minSquaredDistance=1/0,extent=[-1/0,-1/0,1/0,1/0],filter=opt_filter||functions.b;return this.featuresRtree_.forEachInExtent(extent,function(feature){if(filter(feature)){var geometry=feature.getGeometry(),previousMinSquaredDistance=minSquaredDistance;if((minSquaredDistance=geometry.closestPointXY(x,y,closestPoint,minSquaredDistance))<previousMinSquaredDistance){closestFeature=feature;var minDistance=Math.sqrt(minSquaredDistance);extent[0]=x-minDistance,extent[1]=y-minDistance,extent[2]=x+minDistance,extent[3]=y+minDistance}}}),closestFeature},VectorSource.prototype.getExtent=function(opt_extent){return this.featuresRtree_.getExtent(opt_extent)},VectorSource.prototype.getFeatureById=function(id){var feature=this.idIndex_[id.toString()];return void 0!==feature?feature:null},VectorSource.prototype.getFeatureByUid=function(uid){var feature=this.uidIndex_[uid];return void 0!==feature?feature:null},VectorSource.prototype.getFormat=function(){return this.format_},VectorSource.prototype.getOverlaps=function(){return this.overlaps_},VectorSource.prototype.getUrl=function(){return this.url_},VectorSource.prototype.handleFeatureChange_=function(event){var feature=event.target,featureKey=Object(util.c)(feature),geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();featureKey in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[featureKey],this.featuresRtree_&&this.featuresRtree_.insert(extent,feature)):this.featuresRtree_&&this.featuresRtree_.update(extent,feature)}else featureKey in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(feature),this.nullGeometryFeatures_[featureKey]=feature);var id=feature.getId();if(void 0!==id){var sid=id.toString();this.idIndex_[sid]!==feature&&(this.removeFromIdIndex_(feature),this.idIndex_[sid]=feature)}else this.removeFromIdIndex_(feature),this.uidIndex_[featureKey]=feature;this.changed(),this.dispatchEvent(new VectorSourceEvent(VectorEventType.a.CHANGEFEATURE,feature))},VectorSource.prototype.hasFeature=function(feature){var id=feature.getId();return void 0!==id?id in this.idIndex_:Object(util.c)(feature)in this.uidIndex_},VectorSource.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(ol_obj.d)(this.nullGeometryFeatures_)},VectorSource.prototype.loadFeatures=function(extent,resolution,projection){var loadedExtentsRtree=this.loadedExtentsRtree_,extentsToLoad=this.strategy_(extent,resolution);this.loading=!1;for(var _loop_1=function(i,ii){var extentToLoad=extentsToLoad[i];loadedExtentsRtree.forEachInExtent(extentToLoad,function(object){return Object(ol_extent.g)(object.extent,extentToLoad)})||(this_1.dispatchEvent(new VectorSourceEvent(VectorEventType.a.FEATURESLOADSTART)),this_1.loader_.call(this_1,extentToLoad,resolution,projection,(function(features){this.dispatchEvent(new VectorSourceEvent(VectorEventType.a.FEATURESLOADEND,void 0,features))}).bind(this_1),(function(){this.dispatchEvent(new VectorSourceEvent(VectorEventType.a.FEATURESLOADERROR))}).bind(this_1)),loadedExtentsRtree.insert(extentToLoad,{extent:extentToLoad.slice()}),this_1.loading=this_1.loader_!==functions.c)},this_1=this,i=0,ii=extentsToLoad.length;i<ii;++i)_loop_1(i)},VectorSource.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),_super.prototype.refresh.call(this)},VectorSource.prototype.removeLoadedExtent=function(extent){var obj,loadedExtentsRtree=this.loadedExtentsRtree_;loadedExtentsRtree.forEachInExtent(extent,function(object){if(Object(ol_extent.p)(object.extent,extent))return obj=object,!0}),obj&&loadedExtentsRtree.remove(obj)},VectorSource.prototype.removeFeature=function(feature){var featureKey=Object(util.c)(feature);featureKey in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[featureKey]:this.featuresRtree_&&this.featuresRtree_.remove(feature),this.removeFeatureInternal(feature),this.changed()},VectorSource.prototype.removeFeatureInternal=function(feature){var featureKey=Object(util.c)(feature);this.featureChangeKeys_[featureKey].forEach(events.c),delete this.featureChangeKeys_[featureKey];var id=feature.getId();void 0!==id&&delete this.idIndex_[id.toString()],delete this.uidIndex_[featureKey],this.dispatchEvent(new VectorSourceEvent(VectorEventType.a.REMOVEFEATURE,feature))},VectorSource.prototype.removeFromIdIndex_=function(feature){var removed=!1;for(var id in this.idIndex_)if(this.idIndex_[id]===feature){delete this.idIndex_[id],removed=!0;break}return removed},VectorSource.prototype.setLoader=function(loader){this.loader_=loader},VectorSource.prototype.setUrl=function(url){Object(asserts.a)(this.format_,7),this.setLoader(featureloader_xhr(url,this.format_))},VectorSource}(Source.a);__webpack_exports__.a=Vector_VectorSource},WS2v:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},WTjQ:function(module,__webpack_exports__,__webpack_require__){"use strict";function lineStringLength(flatCoordinates,offset,end,stride){for(var x1=flatCoordinates[offset],y1=flatCoordinates[offset+1],length=0,i=offset+stride;i<end;i+=stride){var x2=flatCoordinates[i],y2=flatCoordinates[i+1];length+=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)),x1=x2,y1=y2}return length}__webpack_require__.d(__webpack_exports__,"a",function(){return lineStringLength})},WmE4:function(module,exports){(function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},hasProp={}.hasOwnProperty;module.exports=function(){function XMLStringifier(options){var key,ref;for(key in this.assertLegalName=bind(this.assertLegalName,this),this.assertLegalChar=bind(this.assertLegalChar,this),options||(options={}),this.options=options,this.options.version||(this.options.version="1.0"),ref=options.stringify||{})hasProp.call(ref,key)&&(this[key]=ref[key])}return XMLStringifier.prototype.name=function(val){return this.options.noValidation?val:this.assertLegalName(""+val||"")},XMLStringifier.prototype.text=function(val){return this.options.noValidation?val:this.assertLegalChar(this.textEscape(""+val||""))},XMLStringifier.prototype.cdata=function(val){return this.options.noValidation?val:(val=(val=""+val||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(val))},XMLStringifier.prototype.comment=function(val){if(this.options.noValidation)return val;if((val=""+val||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+val);return this.assertLegalChar(val)},XMLStringifier.prototype.raw=function(val){return this.options.noValidation?val:""+val||""},XMLStringifier.prototype.attValue=function(val){return this.options.noValidation?val:this.assertLegalChar(this.attEscape(val=""+val||""))},XMLStringifier.prototype.insTarget=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.insValue=function(val){if(this.options.noValidation)return val;if((val=""+val||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+val);return this.assertLegalChar(val)},XMLStringifier.prototype.xmlVersion=function(val){if(this.options.noValidation)return val;if(!(val=""+val||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+val);return val},XMLStringifier.prototype.xmlEncoding=function(val){if(this.options.noValidation)return val;if(!(val=""+val||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+val);return this.assertLegalChar(val)},XMLStringifier.prototype.xmlStandalone=function(val){return this.options.noValidation?val:val?"yes":"no"},XMLStringifier.prototype.dtdPubID=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.dtdSysID=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.dtdElementValue=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.dtdAttType=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.dtdAttDefault=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.dtdEntityValue=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.dtdNData=function(val){return this.options.noValidation?val:this.assertLegalChar(""+val||"")},XMLStringifier.prototype.convertAttKey="@",XMLStringifier.prototype.convertPIKey="?",XMLStringifier.prototype.convertTextKey="#text",XMLStringifier.prototype.convertCDataKey="#cdata",XMLStringifier.prototype.convertCommentKey="#comment",XMLStringifier.prototype.convertRawKey="#raw",XMLStringifier.prototype.assertLegalChar=function(str){var res;if(this.options.noValidation)return str;if("1.0"===this.options.version){if(res=str.match(/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+str+" at index "+res.index)}else if("1.1"===this.options.version&&(res=str.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/)))throw new Error("Invalid character in string: "+str+" at index "+res.index);return str},XMLStringifier.prototype.assertLegalName=function(str){if(this.options.noValidation)return str;if(this.assertLegalChar(str),!str.match(/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/))throw new Error("Invalid character in name");return str},XMLStringifier.prototype.textEscape=function(str){return this.options.noValidation?str:str.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},XMLStringifier.prototype.attEscape=function(str){return this.options.noValidation?str:str.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},XMLStringifier}()}).call(this)},"XCq/":function(module,exports){(function(){module.exports=function(){function XMLNamedNodeMap(nodes){this.nodes=nodes}return Object.defineProperty(XMLNamedNodeMap.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),XMLNamedNodeMap.prototype.clone=function(){return this.nodes=null},XMLNamedNodeMap.prototype.getNamedItem=function(name){return this.nodes[name]},XMLNamedNodeMap.prototype.setNamedItem=function(node){var oldNode;return oldNode=this.nodes[node.nodeName],this.nodes[node.nodeName]=node,oldNode||null},XMLNamedNodeMap.prototype.removeNamedItem=function(name){var oldNode;return oldNode=this.nodes[name],delete this.nodes[name],oldNode||null},XMLNamedNodeMap.prototype.item=function(index){return this.nodes[Object.keys(this.nodes)[index]]||null},XMLNamedNodeMap.prototype.getNamedItemNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented.")},XMLNamedNodeMap.prototype.setNamedItemNS=function(node){throw new Error("This DOM method is not implemented.")},XMLNamedNodeMap.prototype.removeNamedItemNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented.")},XMLNamedNodeMap}()}).call(this)},XDhV:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return asString}),__webpack_require__.d(__webpack_exports__,"a",function(){return asArray}),__webpack_require__.d(__webpack_exports__,"c",function(){return toString});var _asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("kvpX"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f8l7"),HEX_COLOR_RE_=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,NAMED_COLOR_RE_=/^([a-z]*)$|^hsla?\(.*\)$/i;function asString(color){return"string"==typeof color?color:toString(color)}var cache,cacheSize,fromString=(cache={},cacheSize=0,function(s){var color;if(cache.hasOwnProperty(s))color=cache[s];else{if(cacheSize>=1024){var i=0;for(var key in cache)0==(3&i++)&&(delete cache[key],--cacheSize)}color=function(s){var r,g,b,a,color;if(NAMED_COLOR_RE_.exec(s)&&(s=function(color){var el=document.createElement("div");if(el.style.color=color,""!==el.style.color){document.body.appendChild(el);var rgb=getComputedStyle(el).color;return document.body.removeChild(el),rgb}return""}(s)),HEX_COLOR_RE_.exec(s)){var d,n=s.length-1;d=n<=4?1:2;var hasAlpha=4===n||8===n;r=parseInt(s.substr(1+0*d,d),16),g=parseInt(s.substr(1+1*d,d),16),b=parseInt(s.substr(1+2*d,d),16),a=hasAlpha?parseInt(s.substr(1+3*d,d),16):255,1==d&&(r=(r<<4)+r,g=(g<<4)+g,b=(b<<4)+b,hasAlpha&&(a=(a<<4)+a)),color=[r,g,b,a/255]}else 0==s.indexOf("rgba(")?normalize(color=s.slice(5,-1).split(",").map(Number)):0==s.indexOf("rgb(")?((color=s.slice(4,-1).split(",").map(Number)).push(1),normalize(color)):Object(_asserts_js__WEBPACK_IMPORTED_MODULE_0__.a)(!1,14);return color}(s),cache[s]=color,++cacheSize}return color});function asArray(color){return Array.isArray(color)?color:fromString(color)}function normalize(color){return color[0]=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.a)(color[0]+.5|0,0,255),color[1]=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.a)(color[1]+.5|0,0,255),color[2]=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.a)(color[2]+.5|0,0,255),color[3]=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.a)(color[3],0,1),color}function toString(color){var r=color[0];r!=(0|r)&&(r=r+.5|0);var g=color[1];g!=(0|g)&&(g=g+.5|0);var b=color[2];return b!=(0|b)&&(b=b+.5|0),"rgba("+r+","+g+","+b+","+(void 0===color[3]?1:color[3])+")"}},XWHH:function(module,exports){var global="undefined"!=typeof self?self:this,__self__=function(){function F(){this.fetch=!1,this.DOMException=global.DOMException}return F.prototype=global,new F}();!function(self){!function(exports){var support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;if(support_arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){var obj;this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&(obj=body)&&DataView.prototype.isPrototypeOf(obj)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,reader,promise,rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return blob=this._bodyBlob,promise=fileReaderReady(reader=new FileReader),reader.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){var method,upcased,body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=(upcased=(method=options.method||this.method||"GET").toUpperCase(),methods.indexOf(upcased)>-1?upcased:method),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}}),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL"),resolve(new Response("response"in xhr?xhr.response:xhr.responseText,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)})}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}({})}(__self__),__self__.fetch.ponyfill=!0,delete __self__.fetch.polyfill;var ctx=__self__;(exports=ctx.fetch).default=ctx.fetch,exports.fetch=ctx.fetch,exports.Headers=ctx.Headers,exports.Request=ctx.Request,exports.Response=ctx.Response,module.exports=exports},Xu5n:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,Disposable=__webpack_require__("2lwS"),functions=__webpack_require__("V8uu"),util=__webpack_require__("EwAT"),ol_transform=__webpack_require__("qJZF"),extent=__webpack_require__("CvXi"),IconImageCache=__webpack_require__("PCLV"),Layer=__webpack_require__("GvmM"),ol_coordinate=__webpack_require__("pWiS"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function expireIconCache(map,frameState){IconImageCache.a.expire()}var renderer_Map=function(_super){function MapRenderer(map){var _this=_super.call(this)||this;return _this.map_=map,_this}return __extends(MapRenderer,_super),MapRenderer.prototype.dispatchRenderEvent=function(type,frameState){Object(util.b)()},MapRenderer.prototype.calculateMatrices2D=function(frameState){var viewState=frameState.viewState,coordinateToPixelTransform=frameState.coordinateToPixelTransform,pixelToCoordinateTransform=frameState.pixelToCoordinateTransform;Object(ol_transform.b)(coordinateToPixelTransform,frameState.size[0]/2,frameState.size[1]/2,1/viewState.resolution,-1/viewState.resolution,-viewState.rotation,-viewState.center[0],-viewState.center[1]),Object(ol_transform.d)(pixelToCoordinateTransform,coordinateToPixelTransform)},MapRenderer.prototype.forEachFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,checkWrapped,callback,thisArg,layerFilter,thisArg2){var result,viewState=frameState.viewState;function forEachFeatureAtCoordinate(managed,feature,layer,geometry){return callback.call(thisArg,feature,managed?layer:null,geometry)}var projection=viewState.projection,translatedCoordinate=Object(ol_coordinate.l)(coordinate.slice(),projection),offsets=[[0,0]];if(projection.canWrapX()&&checkWrapped){var projectionExtent=projection.getExtent(),worldWidth=Object(extent.D)(projectionExtent);offsets.push([-worldWidth,0],[worldWidth,0])}for(var layerStates=frameState.layerStatesArray,numLayers=layerStates.length,matches=[],tmpCoord=[],i=0;i<offsets.length;i++)for(var j=numLayers-1;j>=0;--j){var layerState=layerStates[j],layer=layerState.layer;if(layer.hasRenderer()&&Object(Layer.b)(layerState,viewState)&&layerFilter.call(thisArg2,layer)){var layerRenderer=layer.getRenderer(),source=layer.getSource();if(layerRenderer&&source){var coordinates=source.getWrapX()?translatedCoordinate:coordinate,callback_1=forEachFeatureAtCoordinate.bind(null,layerState.managed);tmpCoord[0]=coordinates[0]+offsets[i][0],tmpCoord[1]=coordinates[1]+offsets[i][1],result=layerRenderer.forEachFeatureAtCoordinate(tmpCoord,frameState,hitTolerance,callback_1,matches)}if(result)return result}}if(0!==matches.length){var order=1/matches.length;return matches.forEach(function(m,i){return m.distanceSq+=i*order}),matches.sort(function(a,b){return a.distanceSq-b.distanceSq}),matches.some(function(m){return result=m.callback(m.feature,m.layer,m.geometry)}),result}},MapRenderer.prototype.forEachLayerAtPixel=function(pixel,frameState,hitTolerance,callback,layerFilter){return Object(util.b)()},MapRenderer.prototype.hasFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,checkWrapped,layerFilter,thisArg){return void 0!==this.forEachFeatureAtCoordinate(coordinate,frameState,hitTolerance,checkWrapped,functions.b,this,layerFilter,thisArg)},MapRenderer.prototype.getMap=function(){return this.map_},MapRenderer.prototype.renderFrame=function(frameState){Object(util.b)()},MapRenderer.prototype.scheduleExpireIconCache=function(frameState){IconImageCache.a.canExpireCache()&&frameState.postRenderFunctions.push(expireIconCache)},MapRenderer}(Disposable.a),ObjectEventType=__webpack_require__("e0/R"),Event=__webpack_require__("MzMb"),EventType=__webpack_require__("Bw0W"),State=__webpack_require__("bYNo"),css=__webpack_require__("zX6e"),canvas=__webpack_require__("3er3"),events=__webpack_require__("Ho3V"),dom=__webpack_require__("CZmH"),Composite_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Composite=function(_super){function CompositeMapRenderer(map){var _this=_super.call(this,map)||this;_this.fontChangeListenerKey_=Object(events.a)(canvas.a,ObjectEventType.a.PROPERTYCHANGE,map.redrawText.bind(map)),_this.element_=document.createElement("div");var style=_this.element_.style;style.position="absolute",style.width="100%",style.height="100%",style.zIndex="0",_this.element_.className=css.e+" ol-layers";var container=map.getViewport();return container.insertBefore(_this.element_,container.firstChild||null),_this.children_=[],_this.renderedVisible_=!0,_this}return Composite_extends(CompositeMapRenderer,_super),CompositeMapRenderer.prototype.dispatchRenderEvent=function(type,frameState){var map=this.getMap();if(map.hasListener(type)){var event_1=new Event.a(type,void 0,frameState);map.dispatchEvent(event_1)}},CompositeMapRenderer.prototype.disposeInternal=function(){Object(events.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),_super.prototype.disposeInternal.call(this)},CompositeMapRenderer.prototype.renderFrame=function(frameState){if(frameState){this.calculateMatrices2D(frameState),this.dispatchRenderEvent(EventType.a.PRECOMPOSE,frameState);var layerStatesArray=frameState.layerStatesArray.sort(function(a,b){return a.zIndex-b.zIndex}),viewState=frameState.viewState;this.children_.length=0;for(var declutterLayers=[],previousElement=null,i=0,ii=layerStatesArray.length;i<ii;++i){var layerState=layerStatesArray[i];if(frameState.layerIndex=i,Object(Layer.b)(layerState,viewState)&&(layerState.sourceState==State.a.READY||layerState.sourceState==State.a.UNDEFINED)){var layer=layerState.layer,element=layer.render(frameState,previousElement);element&&(element!==previousElement&&(this.children_.push(element),previousElement=element),"getDeclutter"in layer&&declutterLayers.push(layer))}}for(i=declutterLayers.length-1;i>=0;--i)declutterLayers[i].renderDeclutter(frameState);Object(dom.f)(this.element_,this.children_),this.dispatchRenderEvent(EventType.a.POSTCOMPOSE,frameState),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(frameState)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},CompositeMapRenderer.prototype.forEachLayerAtPixel=function(pixel,frameState,hitTolerance,callback,layerFilter){for(var viewState=frameState.viewState,layerStates=frameState.layerStatesArray,i=layerStates.length-1;i>=0;--i){var layerState=layerStates[i],layer=layerState.layer;if(layer.hasRenderer()&&Object(Layer.b)(layerState,viewState)&&layerFilter(layer)){var data=layer.getRenderer().getDataAtPixel(pixel,frameState,hitTolerance);if(data){var result=callback(layer,data);if(result)return result}}}},CompositeMapRenderer}(renderer_Map),ol_Object=__webpack_require__("4mld"),Collection=__webpack_require__("4wAk"),CollectionEventType=__webpack_require__("GDrd"),events_EventType=__webpack_require__("AdTM"),Group=__webpack_require__("nHi6"),MapBrowserEvent=__webpack_require__("UJv6"),Target=__webpack_require__("DsAt"),MapBrowserEventType=__webpack_require__("Cy2j"),pointer_EventType=__webpack_require__("0Hnp"),has=__webpack_require__("YX0d"),MapBrowserEventHandler_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ol_MapBrowserEventHandler=function(_super){function MapBrowserEventHandler(map,moveTolerance){var _this=_super.call(this,map)||this;_this.map_=map,_this.emulateClicks_=!1,_this.dragging_=!1,_this.dragListenerKeys_=[],_this.moveTolerance_=moveTolerance?moveTolerance*has.a:has.a,_this.down_=null;var element=_this.map_.getViewport();return _this.activePointers_=0,_this.trackedTouches_={},_this.element_=element,_this.pointerdownListenerKey_=Object(events.a)(element,pointer_EventType.a.POINTERDOWN,_this.handlePointerDown_,_this),_this.relayedListenerKey_=Object(events.a)(element,pointer_EventType.a.POINTERMOVE,_this.relayEvent_,_this),_this.boundHandleTouchMove_=_this.handleTouchMove_.bind(_this),_this.element_.addEventListener(events_EventType.a.TOUCHMOVE,_this.boundHandleTouchMove_,!!has.e&&{passive:!1}),_this}return MapBrowserEventHandler_extends(MapBrowserEventHandler,_super),MapBrowserEventHandler.prototype.emulateClick_=function(pointerEvent){var newEvent=new MapBrowserEvent.a(MapBrowserEventType.a.CLICK,this.map_,pointerEvent);this.dispatchEvent(newEvent),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,newEvent=new MapBrowserEvent.a(MapBrowserEventType.a.DBLCLICK,this.map_,pointerEvent),this.dispatchEvent(newEvent)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var newEvent=new MapBrowserEvent.a(MapBrowserEventType.a.SINGLECLICK,this.map_,pointerEvent);this.dispatchEvent(newEvent)}).bind(this),250)},MapBrowserEventHandler.prototype.updateActivePointers_=function(pointerEvent){var event=pointerEvent;event.type==MapBrowserEventType.a.POINTERUP||event.type==MapBrowserEventType.a.POINTERCANCEL?delete this.trackedTouches_[event.pointerId]:event.type==MapBrowserEventType.a.POINTERDOWN&&(this.trackedTouches_[event.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},MapBrowserEventHandler.prototype.handlePointerUp_=function(pointerEvent){this.updateActivePointers_(pointerEvent);var newEvent=new MapBrowserEvent.a(MapBrowserEventType.a.POINTERUP,this.map_,pointerEvent);this.dispatchEvent(newEvent),this.emulateClicks_&&!newEvent.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(pointerEvent)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(events.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},MapBrowserEventHandler.prototype.isMouseActionButton_=function(pointerEvent){return 0===pointerEvent.button},MapBrowserEventHandler.prototype.handlePointerDown_=function(pointerEvent){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(pointerEvent);var newEvent=new MapBrowserEvent.a(MapBrowserEventType.a.POINTERDOWN,this.map_,pointerEvent);if(this.dispatchEvent(newEvent),this.down_=pointerEvent,0===this.dragListenerKeys_.length){var doc=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(events.a)(doc,MapBrowserEventType.a.POINTERMOVE,this.handlePointerMove_,this),Object(events.a)(doc,MapBrowserEventType.a.POINTERUP,this.handlePointerUp_,this),Object(events.a)(this.element_,MapBrowserEventType.a.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==doc&&this.dragListenerKeys_.push(Object(events.a)(this.element_.getRootNode(),MapBrowserEventType.a.POINTERUP,this.handlePointerUp_,this))}},MapBrowserEventHandler.prototype.handlePointerMove_=function(pointerEvent){if(this.isMoving_(pointerEvent)){this.dragging_=!0;var newEvent=new MapBrowserEvent.a(MapBrowserEventType.a.POINTERDRAG,this.map_,pointerEvent,this.dragging_);this.dispatchEvent(newEvent)}},MapBrowserEventHandler.prototype.relayEvent_=function(pointerEvent){this.originalPointerMoveEvent_=pointerEvent;var dragging=!(!this.down_||!this.isMoving_(pointerEvent));this.dispatchEvent(new MapBrowserEvent.a(pointerEvent.type,this.map_,pointerEvent,dragging))},MapBrowserEventHandler.prototype.handleTouchMove_=function(event){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||event.preventDefault()},MapBrowserEventHandler.prototype.isMoving_=function(pointerEvent){return this.dragging_||Math.abs(pointerEvent.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(pointerEvent.clientY-this.down_.clientY)>this.moveTolerance_},MapBrowserEventHandler.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(events.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(events_EventType.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(events.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(events.c),this.dragListenerKeys_.length=0,this.element_=null,_super.prototype.disposeInternal.call(this)},MapBrowserEventHandler}(Target.a),MapEvent=__webpack_require__("cjgx"),MapEventType=__webpack_require__("WS2v"),asserts=__webpack_require__("kvpX"),obj=__webpack_require__("OPOH"),DROP=1/0,structs_PriorityQueue=function(){function PriorityQueue(priorityFunction,keyFunction){this.priorityFunction_=priorityFunction,this.keyFunction_=keyFunction,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return PriorityQueue.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(obj.b)(this.queuedElements_)},PriorityQueue.prototype.dequeue=function(){var elements=this.elements_,priorities=this.priorities_,element=elements[0];1==elements.length?(elements.length=0,priorities.length=0):(elements[0]=elements.pop(),priorities[0]=priorities.pop(),this.siftUp_(0));var elementKey=this.keyFunction_(element);return delete this.queuedElements_[elementKey],element},PriorityQueue.prototype.enqueue=function(element){Object(asserts.a)(!(this.keyFunction_(element)in this.queuedElements_),31);var priority=this.priorityFunction_(element);return priority!=DROP&&(this.elements_.push(element),this.priorities_.push(priority),this.queuedElements_[this.keyFunction_(element)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},PriorityQueue.prototype.getCount=function(){return this.elements_.length},PriorityQueue.prototype.getLeftChildIndex_=function(index){return 2*index+1},PriorityQueue.prototype.getRightChildIndex_=function(index){return 2*index+2},PriorityQueue.prototype.getParentIndex_=function(index){return index-1>>1},PriorityQueue.prototype.heapify_=function(){var i;for(i=(this.elements_.length>>1)-1;i>=0;i--)this.siftUp_(i)},PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length},PriorityQueue.prototype.isKeyQueued=function(key){return key in this.queuedElements_},PriorityQueue.prototype.isQueued=function(element){return this.isKeyQueued(this.keyFunction_(element))},PriorityQueue.prototype.siftUp_=function(index){for(var elements=this.elements_,priorities=this.priorities_,count=elements.length,element=elements[index],priority=priorities[index],startIndex=index;index<count>>1;){var lIndex=this.getLeftChildIndex_(index),rIndex=this.getRightChildIndex_(index),smallerChildIndex=rIndex<count&&priorities[rIndex]<priorities[lIndex]?rIndex:lIndex;elements[index]=elements[smallerChildIndex],priorities[index]=priorities[smallerChildIndex],index=smallerChildIndex}elements[index]=element,priorities[index]=priority,this.siftDown_(startIndex,index)},PriorityQueue.prototype.siftDown_=function(startIndex,index){for(var elements=this.elements_,priorities=this.priorities_,element=elements[index],priority=priorities[index];index>startIndex;){var parentIndex=this.getParentIndex_(index);if(!(priorities[parentIndex]>priority))break;elements[index]=elements[parentIndex],priorities[index]=priorities[parentIndex],index=parentIndex}elements[index]=element,priorities[index]=priority},PriorityQueue.prototype.reprioritize=function(){var element,i,priority,priorityFunction=this.priorityFunction_,elements=this.elements_,priorities=this.priorities_,index=0,n=elements.length;for(i=0;i<n;++i)(priority=priorityFunction(element=elements[i]))==DROP?delete this.queuedElements_[this.keyFunction_(element)]:(priorities[index]=priority,elements[index++]=element);elements.length=index,priorities.length=index,this.heapify_()},PriorityQueue}(),TileQueue_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ol_TileQueue=function(_super){function TileQueue(tilePriorityFunction,tileChangeCallback){var _this=_super.call(this,function(element){return tilePriorityFunction.apply(null,element)},function(element){return element[0].getKey()})||this;return _this.boundHandleTileChange_=_this.handleTileChange.bind(_this),_this.tileChangeCallback_=tileChangeCallback,_this.tilesLoading_=0,_this.tilesLoadingKeys_={},_this}return TileQueue_extends(TileQueue,_super),TileQueue.prototype.enqueue=function(element){var added=_super.prototype.enqueue.call(this,element);return added&&element[0].addEventListener(events_EventType.a.CHANGE,this.boundHandleTileChange_),added},TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_},TileQueue.prototype.handleTileChange=function(event){var tile=event.target,state=tile.getState();if(tile.hifi&&2===state||3===state||4===state){tile.removeEventListener(events_EventType.a.CHANGE,this.boundHandleTileChange_);var tileKey=tile.getKey();tileKey in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[tileKey],--this.tilesLoading_),this.tileChangeCallback_()}},TileQueue.prototype.loadMoreTiles=function(maxTotalLoading,maxNewLoads){for(var tile,tileKey,newLoads=0;this.tilesLoading_<maxTotalLoading&&newLoads<maxNewLoads&&this.getCount()>0;)tileKey=(tile=this.dequeue()[0]).getKey(),0!==tile.getState()||tileKey in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[tileKey]=!0,++this.tilesLoading_,++newLoads,tile.load())},TileQueue}(structs_PriorityQueue),View=__webpack_require__("oscj"),ViewHint=__webpack_require__("SW/M"),proj=__webpack_require__("JW8z"),ol_size=__webpack_require__("NF0S"),PluggableMap_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ol_PluggableMap=function(_super){function PluggableMap(options){var _this=_super.call(this)||this,optionsInternal=function(options){var keyboardEventTarget=null;void 0!==options.keyboardEventTarget&&(keyboardEventTarget="string"==typeof options.keyboardEventTarget?document.getElementById(options.keyboardEventTarget):options.keyboardEventTarget);var controls,interactions,overlays,values={},layerGroup=options.layers&&"function"==typeof options.layers.getLayers?options.layers:new Group.a({layers:options.layers});return values.layergroup=layerGroup,values.target=options.target,values.view=void 0!==options.view?options.view:new View.a,void 0!==options.controls&&(Array.isArray(options.controls)?controls=new Collection.a(options.controls.slice()):(Object(asserts.a)("function"==typeof options.controls.getArray,47),controls=options.controls)),void 0!==options.interactions&&(Array.isArray(options.interactions)?interactions=new Collection.a(options.interactions.slice()):(Object(asserts.a)("function"==typeof options.interactions.getArray,48),interactions=options.interactions)),void 0!==options.overlays?Array.isArray(options.overlays)?overlays=new Collection.a(options.overlays.slice()):(Object(asserts.a)("function"==typeof options.overlays.getArray,49),overlays=options.overlays):overlays=new Collection.a,{controls:controls,interactions:interactions,keyboardEventTarget:keyboardEventTarget,overlays:overlays,values:values}}(options);return _this.boundHandleBrowserEvent_=_this.handleBrowserEvent.bind(_this),_this.maxTilesLoading_=void 0!==options.maxTilesLoading?options.maxTilesLoading:16,_this.pixelRatio_=void 0!==options.pixelRatio?options.pixelRatio:has.a,_this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(_this),_this.coordinateToPixelTransform_=Object(ol_transform.c)(),_this.pixelToCoordinateTransform_=Object(ol_transform.c)(),_this.frameIndex_=0,_this.frameState_=null,_this.previousExtent_=null,_this.viewPropertyListenerKey_=null,_this.viewChangeListenerKey_=null,_this.layerGroupPropertyListenerKeys_=null,_this.viewport_=document.createElement("div"),_this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),_this.viewport_.style.position="relative",_this.viewport_.style.overflow="hidden",_this.viewport_.style.width="100%",_this.viewport_.style.height="100%",_this.overlayContainer_=document.createElement("div"),_this.overlayContainer_.style.position="absolute",_this.overlayContainer_.style.zIndex="0",_this.overlayContainer_.style.width="100%",_this.overlayContainer_.style.height="100%",_this.overlayContainer_.style.pointerEvents="none",_this.overlayContainer_.className="ol-overlaycontainer",_this.viewport_.appendChild(_this.overlayContainer_),_this.overlayContainerStopEvent_=document.createElement("div"),_this.overlayContainerStopEvent_.style.position="absolute",_this.overlayContainerStopEvent_.style.zIndex="0",_this.overlayContainerStopEvent_.style.width="100%",_this.overlayContainerStopEvent_.style.height="100%",_this.overlayContainerStopEvent_.style.pointerEvents="none",_this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",_this.viewport_.appendChild(_this.overlayContainerStopEvent_),_this.mapBrowserEventHandler_=null,_this.moveTolerance_=options.moveTolerance,_this.keyboardEventTarget_=optionsInternal.keyboardEventTarget,_this.keyHandlerKeys_=null,_this.controls=optionsInternal.controls||new Collection.a,_this.interactions=optionsInternal.interactions||new Collection.a,_this.overlays_=optionsInternal.overlays,_this.overlayIdIndex_={},_this.renderer_=null,_this.postRenderFunctions_=[],_this.tileQueue_=new ol_TileQueue(_this.getTilePriority.bind(_this),_this.handleTileChange_.bind(_this)),_this.addEventListener(Object(ol_Object.b)("layergroup"),_this.handleLayerGroupChanged_),_this.addEventListener(Object(ol_Object.b)("view"),_this.handleViewChanged_),_this.addEventListener(Object(ol_Object.b)("size"),_this.handleSizeChanged_),_this.addEventListener(Object(ol_Object.b)("target"),_this.handleTargetChanged_),_this.setProperties(optionsInternal.values),_this.controls.forEach((function(control){control.setMap(this)}).bind(_this)),_this.controls.addEventListener(CollectionEventType.a.ADD,(function(event){event.element.setMap(this)}).bind(_this)),_this.controls.addEventListener(CollectionEventType.a.REMOVE,(function(event){event.element.setMap(null)}).bind(_this)),_this.interactions.forEach((function(interaction){interaction.setMap(this)}).bind(_this)),_this.interactions.addEventListener(CollectionEventType.a.ADD,(function(event){event.element.setMap(this)}).bind(_this)),_this.interactions.addEventListener(CollectionEventType.a.REMOVE,(function(event){event.element.setMap(null)}).bind(_this)),_this.overlays_.forEach(_this.addOverlayInternal_.bind(_this)),_this.overlays_.addEventListener(CollectionEventType.a.ADD,(function(event){this.addOverlayInternal_(event.element)}).bind(_this)),_this.overlays_.addEventListener(CollectionEventType.a.REMOVE,(function(event){var id=event.element.getId();void 0!==id&&delete this.overlayIdIndex_[id.toString()],event.element.setMap(null)}).bind(_this)),_this}return PluggableMap_extends(PluggableMap,_super),PluggableMap.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},PluggableMap.prototype.addControl=function(control){this.getControls().push(control)},PluggableMap.prototype.addInteraction=function(interaction){this.getInteractions().push(interaction)},PluggableMap.prototype.addLayer=function(layer){this.getLayerGroup().getLayers().push(layer)},PluggableMap.prototype.addOverlay=function(overlay){this.getOverlays().push(overlay)},PluggableMap.prototype.addOverlayInternal_=function(overlay){var id=overlay.getId();void 0!==id&&(this.overlayIdIndex_[id.toString()]=overlay),overlay.setMap(this)},PluggableMap.prototype.disposeInternal=function(){this.setTarget(null),_super.prototype.disposeInternal.call(this)},PluggableMap.prototype.forEachFeatureAtPixel=function(pixel,callback,opt_options){if(this.frameState_){var coordinate=this.getCoordinateFromPixelInternal(pixel);return this.renderer_.forEachFeatureAtCoordinate(coordinate,this.frameState_,void 0!==(opt_options=void 0!==opt_options?opt_options:{}).hitTolerance?opt_options.hitTolerance:0,!1!==opt_options.checkWrapped,callback,null,void 0!==opt_options.layerFilter?opt_options.layerFilter:functions.b,null)}},PluggableMap.prototype.getFeaturesAtPixel=function(pixel,opt_options){var features=[];return this.forEachFeatureAtPixel(pixel,function(feature){features.push(feature)},opt_options),features},PluggableMap.prototype.forEachLayerAtPixel=function(pixel,callback,opt_options){if(this.frameState_){var options=opt_options||{};return this.renderer_.forEachLayerAtPixel(pixel,this.frameState_,void 0!==options.hitTolerance?options.hitTolerance:0,callback,options.layerFilter||functions.b)}},PluggableMap.prototype.hasFeatureAtPixel=function(pixel,opt_options){if(!this.frameState_)return!1;var coordinate=this.getCoordinateFromPixelInternal(pixel);return this.renderer_.hasFeatureAtCoordinate(coordinate,this.frameState_,void 0!==(opt_options=void 0!==opt_options?opt_options:{}).hitTolerance?opt_options.hitTolerance:0,!1!==opt_options.checkWrapped,void 0!==opt_options.layerFilter?opt_options.layerFilter:functions.b,null)},PluggableMap.prototype.getEventCoordinate=function(event){return this.getCoordinateFromPixel(this.getEventPixel(event))},PluggableMap.prototype.getEventCoordinateInternal=function(event){return this.getCoordinateFromPixelInternal(this.getEventPixel(event))},PluggableMap.prototype.getEventPixel=function(event){var viewportPosition=this.viewport_.getBoundingClientRect(),eventPosition="changedTouches"in event?event.changedTouches[0]:event;return[eventPosition.clientX-viewportPosition.left,eventPosition.clientY-viewportPosition.top]},PluggableMap.prototype.getTarget=function(){return this.get("target")},PluggableMap.prototype.getTargetElement=function(){var target=this.getTarget();return void 0!==target?"string"==typeof target?document.getElementById(target):target:null},PluggableMap.prototype.getCoordinateFromPixel=function(pixel){return Object(proj.o)(this.getCoordinateFromPixelInternal(pixel),this.getView().getProjection())},PluggableMap.prototype.getCoordinateFromPixelInternal=function(pixel){var frameState=this.frameState_;return frameState?Object(ol_transform.a)(frameState.pixelToCoordinateTransform,pixel.slice()):null},PluggableMap.prototype.getControls=function(){return this.controls},PluggableMap.prototype.getOverlays=function(){return this.overlays_},PluggableMap.prototype.getOverlayById=function(id){var overlay=this.overlayIdIndex_[id.toString()];return void 0!==overlay?overlay:null},PluggableMap.prototype.getInteractions=function(){return this.interactions},PluggableMap.prototype.getLayerGroup=function(){return this.get("layergroup")},PluggableMap.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},PluggableMap.prototype.getLoading=function(){for(var layerStatesArray=this.getLayerGroup().getLayerStatesArray(),i=0,ii=layerStatesArray.length;i<ii;++i){var source=layerStatesArray[i].layer.getSource();if(source&&source.loading)return!0}return!1},PluggableMap.prototype.getPixelFromCoordinate=function(coordinate){var viewCoordinate=Object(proj.h)(coordinate,this.getView().getProjection());return this.getPixelFromCoordinateInternal(viewCoordinate)},PluggableMap.prototype.getPixelFromCoordinateInternal=function(coordinate){var frameState=this.frameState_;return frameState?Object(ol_transform.a)(frameState.coordinateToPixelTransform,coordinate.slice(0,2)):null},PluggableMap.prototype.getRenderer=function(){return this.renderer_},PluggableMap.prototype.getSize=function(){return this.get("size")},PluggableMap.prototype.getView=function(){return this.get("view")},PluggableMap.prototype.getViewport=function(){return this.viewport_},PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_},PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},PluggableMap.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},PluggableMap.prototype.getTilePriority=function(tile,tileSourceKey,tileCenter,tileResolution){return function(frameState,tile,tileSourceKey,tileCenter,tileResolution){if(!frameState||!(tileSourceKey in frameState.wantedTiles))return DROP;if(!frameState.wantedTiles[tileSourceKey][tile.getKey()])return DROP;var center=frameState.viewState.center,deltaX=tileCenter[0]-center[0],deltaY=tileCenter[1]-center[1];return 65536*Math.log(tileResolution)+Math.sqrt(deltaX*deltaX+deltaY*deltaY)/tileResolution}(this.frameState_,tile,tileSourceKey,tileCenter,tileResolution)},PluggableMap.prototype.handleBrowserEvent=function(browserEvent,opt_type){var mapBrowserEvent=new MapBrowserEvent.a(opt_type||browserEvent.type,this,browserEvent);this.handleMapBrowserEvent(mapBrowserEvent)},PluggableMap.prototype.handleMapBrowserEvent=function(mapBrowserEvent){if(this.frameState_){var originalEvent=mapBrowserEvent.originalEvent,eventType=originalEvent.type;if(eventType===pointer_EventType.a.POINTERDOWN||eventType===events_EventType.a.WHEEL||eventType===events_EventType.a.KEYDOWN){var doc=this.getOwnerDocument(),rootNode=this.viewport_.getRootNode?this.viewport_.getRootNode():doc,target="host"in rootNode?rootNode.elementFromPoint(originalEvent.clientX,originalEvent.clientY):originalEvent.target;if(this.overlayContainerStopEvent_.contains(target)||!(rootNode===doc?doc.documentElement:rootNode).contains(target))return}if(mapBrowserEvent.frameState=this.frameState_,!1!==this.dispatchEvent(mapBrowserEvent))for(var interactionsArray=this.getInteractions().getArray().slice(),i=interactionsArray.length-1;i>=0;i--){var interaction=interactionsArray[i];if(interaction.getMap()===this&&interaction.getActive()&&this.getTargetElement()&&(!interaction.handleEvent(mapBrowserEvent)||mapBrowserEvent.propagationStopped))break}}},PluggableMap.prototype.handlePostRender=function(){var frameState=this.frameState_,tileQueue=this.tileQueue_;if(!tileQueue.isEmpty()){var maxTotalLoading=this.maxTilesLoading_,maxNewLoads=maxTotalLoading;if(frameState){var hints=frameState.viewHints;if(hints[ViewHint.a.ANIMATING]||hints[ViewHint.a.INTERACTING]){var lowOnFrameBudget=!has.c&&Date.now()-frameState.time>8;maxTotalLoading=lowOnFrameBudget?0:8,maxNewLoads=lowOnFrameBudget?0:2}}tileQueue.getTilesLoading()<maxTotalLoading&&(tileQueue.reprioritize(),tileQueue.loadMoreTiles(maxTotalLoading,maxNewLoads))}!frameState||!this.hasListener(EventType.a.RENDERCOMPLETE)||frameState.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(EventType.a.RENDERCOMPLETE,frameState);for(var postRenderFunctions=this.postRenderFunctions_,i=0,ii=postRenderFunctions.length;i<ii;++i)postRenderFunctions[i](this,frameState);postRenderFunctions.length=0},PluggableMap.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},PluggableMap.prototype.handleTargetChanged_=function(){var targetElement;if(this.getTarget()&&(targetElement=this.getTargetElement()),this.mapBrowserEventHandler_){for(var i=0,ii=this.keyHandlerKeys_.length;i<ii;++i)Object(events.c)(this.keyHandlerKeys_[i]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(events_EventType.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(events_EventType.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(events_EventType.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(dom.e)(this.viewport_)}if(targetElement){for(var key in targetElement.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new ol_MapBrowserEventHandler(this,this.moveTolerance_),MapBrowserEventType.a)this.mapBrowserEventHandler_.addEventListener(MapBrowserEventType.a[key],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(events_EventType.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(events_EventType.a.WHEEL,this.boundHandleBrowserEvent_,!!has.e&&{passive:!1});var keyboardEventTarget=this.keyboardEventTarget_?this.keyboardEventTarget_:targetElement;this.keyHandlerKeys_=[Object(events.a)(keyboardEventTarget,events_EventType.a.KEYDOWN,this.handleBrowserEvent,this),Object(events.a)(keyboardEventTarget,events_EventType.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(events_EventType.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},PluggableMap.prototype.handleTileChange_=function(){this.render()},PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()},PluggableMap.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(events.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(events.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var view=this.getView();view&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(events.a)(view,ObjectEventType.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(events.a)(view,events_EventType.a.CHANGE,this.handleViewPropertyChanged_,this),view.resolveConstraints(0)),this.render()},PluggableMap.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(events.c),this.layerGroupPropertyListenerKeys_=null);var layerGroup=this.getLayerGroup();layerGroup&&(this.layerGroupPropertyListenerKeys_=[Object(events.a)(layerGroup,ObjectEventType.a.PROPERTYCHANGE,this.render,this),Object(events.a)(layerGroup,events_EventType.a.CHANGE,this.render,this)]),this.render()},PluggableMap.prototype.isRendered=function(){return!!this.frameState_},PluggableMap.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},PluggableMap.prototype.redrawText=function(){for(var layerStates=this.getLayerGroup().getLayerStatesArray(),i=0,ii=layerStates.length;i<ii;++i){var layer=layerStates[i].layer;layer.hasRenderer()&&layer.getRenderer().handleFontsChanged()}},PluggableMap.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},PluggableMap.prototype.removeControl=function(control){return this.getControls().remove(control)},PluggableMap.prototype.removeInteraction=function(interaction){return this.getInteractions().remove(interaction)},PluggableMap.prototype.removeLayer=function(layer){return this.getLayerGroup().getLayers().remove(layer)},PluggableMap.prototype.removeOverlay=function(overlay){return this.getOverlays().remove(overlay)},PluggableMap.prototype.renderFrame_=function(time){var _this=this,size=this.getSize(),view=this.getView(),previousFrameState=this.frameState_,frameState=null;if(void 0!==size&&Object(ol_size.a)(size)&&view&&view.isDef()){var viewHints=view.getHints(this.frameState_?this.frameState_.viewHints:void 0),viewState=view.getState();frameState={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(extent.y)(viewState.center,viewState.resolution,viewState.rotation,size),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:size,tileQueue:this.tileQueue_,time:time,usedTiles:{},viewState:viewState,viewHints:viewHints,wantedTiles:{}}}this.frameState_=frameState,this.renderer_.renderFrame(frameState),frameState&&(frameState.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,frameState.postRenderFunctions),previousFrameState&&(!this.previousExtent_||!Object(extent.G)(this.previousExtent_)&&!Object(extent.p)(frameState.extent,this.previousExtent_))&&(this.dispatchEvent(new MapEvent.a(MapEventType.a.MOVESTART,this,previousFrameState)),this.previousExtent_=Object(extent.l)(this.previousExtent_)),this.previousExtent_&&!frameState.viewHints[ViewHint.a.ANIMATING]&&!frameState.viewHints[ViewHint.a.INTERACTING]&&!Object(extent.p)(frameState.extent,this.previousExtent_)&&(this.dispatchEvent(new MapEvent.a(MapEventType.a.MOVEEND,this,frameState)),Object(extent.d)(frameState.extent,this.previousExtent_))),this.dispatchEvent(new MapEvent.a(MapEventType.a.POSTRENDER,this,frameState)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){_this.postRenderTimeoutHandle_=void 0,_this.handlePostRender()},0))},PluggableMap.prototype.setLayerGroup=function(layerGroup){this.set("layergroup",layerGroup)},PluggableMap.prototype.setSize=function(size){this.set("size",size)},PluggableMap.prototype.setTarget=function(target){this.set("target",target)},PluggableMap.prototype.setView=function(view){this.set("view",view)},PluggableMap.prototype.updateSize=function(){var targetElement=this.getTargetElement();if(targetElement){var computedStyle=getComputedStyle(targetElement);this.setSize([targetElement.offsetWidth-parseFloat(computedStyle.borderLeftWidth)-parseFloat(computedStyle.paddingLeft)-parseFloat(computedStyle.paddingRight)-parseFloat(computedStyle.borderRightWidth),targetElement.offsetHeight-parseFloat(computedStyle.borderTopWidth)-parseFloat(computedStyle.paddingTop)-parseFloat(computedStyle.paddingBottom)-parseFloat(computedStyle.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},PluggableMap.prototype.updateViewportSize_=function(){var view=this.getView();if(view){var size=void 0,computedStyle=getComputedStyle(this.viewport_);computedStyle.width&&computedStyle.height&&(size=[parseInt(computedStyle.width,10),parseInt(computedStyle.height,10)]),view.setViewportSize(size)}},PluggableMap}(ol_Object.a),Control=__webpack_require__("OQAH"),array=__webpack_require__("n15R"),Attribution_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),control_Attribution=function(_super){function Attribution(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{element:document.createElement("div"),render:options.render,target:options.target})||this).ulElement_=document.createElement("ul"),_this.collapsed_=void 0===options.collapsed||options.collapsed,_this.userCollapsed_=_this.collapsed_,_this.overrideCollapsible_=void 0!==options.collapsible,_this.collapsible_=void 0===options.collapsible||options.collapsible,_this.collapsible_||(_this.collapsed_=!1);var className=void 0!==options.className?options.className:"ol-attribution",tipLabel=void 0!==options.tipLabel?options.tipLabel:"Attributions",expandClassName=void 0!==options.expandClassName?options.expandClassName:className+"-expand",collapseLabel=void 0!==options.collapseLabel?options.collapseLabel:"",collapseClassName=void 0!==options.collapseClassName?options.collapseClassName:className+"-collpase";"string"==typeof collapseLabel?(_this.collapseLabel_=document.createElement("span"),_this.collapseLabel_.textContent=collapseLabel,_this.collapseLabel_.className=collapseClassName):_this.collapseLabel_=collapseLabel;var label=void 0!==options.label?options.label:"i";"string"==typeof label?(_this.label_=document.createElement("span"),_this.label_.textContent=label,_this.label_.className=expandClassName):_this.label_=label;var activeLabel=_this.collapsible_&&!_this.collapsed_?_this.collapseLabel_:_this.label_,button=document.createElement("button");button.setAttribute("type","button"),button.title=tipLabel,button.appendChild(activeLabel),button.addEventListener(events_EventType.a.CLICK,_this.handleClick_.bind(_this),!1);var element=_this.element;return element.className=className+" "+css.e+" "+css.b+(_this.collapsed_&&_this.collapsible_?" "+css.a:"")+(_this.collapsible_?"":" ol-uncollapsible"),element.appendChild(_this.ulElement_),element.appendChild(button),_this.renderedAttributions_=[],_this.renderedVisible_=!0,_this}return Attribution_extends(Attribution,_super),Attribution.prototype.collectSourceAttributions_=function(frameState){for(var lookup={},visibleAttributions=[],collapsible=!0,layerStatesArray=frameState.layerStatesArray,i=0,ii=layerStatesArray.length;i<ii;++i){var layerState=layerStatesArray[i];if(Object(Layer.b)(layerState,frameState.viewState)){var source=layerState.layer.getSource();if(source){var attributionGetter=source.getAttributions();if(attributionGetter){var attributions=attributionGetter(frameState);if(attributions)if(collapsible=collapsible&&!1!==source.getAttributionsCollapsible(),Array.isArray(attributions))for(var j=0,jj=attributions.length;j<jj;++j)attributions[j]in lookup||(visibleAttributions.push(attributions[j]),lookup[attributions[j]]=!0);else attributions in lookup||(visibleAttributions.push(attributions),lookup[attributions]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(collapsible),visibleAttributions},Attribution.prototype.updateElement_=function(frameState){if(frameState){var attributions=this.collectSourceAttributions_(frameState),visible=attributions.length>0;if(this.renderedVisible_!=visible&&(this.element.style.display=visible?"":"none",this.renderedVisible_=visible),!Object(array.b)(attributions,this.renderedAttributions_)){Object(dom.d)(this.ulElement_);for(var i=0,ii=attributions.length;i<ii;++i){var element=document.createElement("li");element.innerHTML=attributions[i],this.ulElement_.appendChild(element)}this.renderedAttributions_=attributions}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},Attribution.prototype.handleClick_=function(event){event.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},Attribution.prototype.handleToggle_=function(){this.element.classList.toggle(css.a),this.collapsed_?Object(dom.g)(this.collapseLabel_,this.label_):Object(dom.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},Attribution.prototype.getCollapsible=function(){return this.collapsible_},Attribution.prototype.setCollapsible=function(collapsible){this.collapsible_!==collapsible&&(this.collapsible_=collapsible,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},Attribution.prototype.setCollapsed=function(collapsed){this.userCollapsed_=collapsed,this.collapsible_&&this.collapsed_!==collapsed&&this.handleToggle_()},Attribution.prototype.getCollapsed=function(){return this.collapsed_},Attribution.prototype.render=function(mapEvent){this.updateElement_(mapEvent.frameState)},Attribution}(Control.a),easing=__webpack_require__("ykKD"),Rotate_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),control_Rotate=function(_super){function Rotate(opt_options){var _this=this,options=opt_options||{};_this=_super.call(this,{element:document.createElement("div"),render:options.render,target:options.target})||this;var className=void 0!==options.className?options.className:"ol-rotate",label=void 0!==options.label?options.label:"",compassClassName=void 0!==options.compassClassName?options.compassClassName:"ol-compass";_this.label_=null,"string"==typeof label?(_this.label_=document.createElement("span"),_this.label_.className=compassClassName,_this.label_.textContent=label):(_this.label_=label,_this.label_.classList.add(compassClassName));var tipLabel=options.tipLabel?options.tipLabel:"Reset rotation",button=document.createElement("button");button.className=className+"-reset",button.setAttribute("type","button"),button.title=tipLabel,button.appendChild(_this.label_),button.addEventListener(events_EventType.a.CLICK,_this.handleClick_.bind(_this),!1);var element=_this.element;return element.className=className+" "+css.e+" "+css.b,element.appendChild(button),_this.callResetNorth_=options.resetNorth?options.resetNorth:void 0,_this.duration_=void 0!==options.duration?options.duration:250,_this.autoHide_=void 0===options.autoHide||options.autoHide,_this.rotation_=void 0,_this.autoHide_&&_this.element.classList.add(css.c),_this}return Rotate_extends(Rotate,_super),Rotate.prototype.handleClick_=function(event){event.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},Rotate.prototype.resetNorth_=function(){var view=this.getMap().getView();if(view){var rotation=view.getRotation();void 0!==rotation&&(this.duration_>0&&rotation%(2*Math.PI)!=0?view.animate({rotation:0,duration:this.duration_,easing:easing.a}):view.setRotation(0))}},Rotate.prototype.render=function(mapEvent){var frameState=mapEvent.frameState;if(frameState){var rotation=frameState.viewState.rotation;if(rotation!=this.rotation_){var transform="rotate("+rotation+"rad)";if(this.autoHide_){var contains=this.element.classList.contains(css.c);contains||0!==rotation?contains&&0!==rotation&&this.element.classList.remove(css.c):this.element.classList.add(css.c)}this.label_.style.transform=transform}this.rotation_=rotation}},Rotate}(Control.a),Zoom_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),control_Zoom=function(_super){function Zoom(opt_options){var _this=this,options=opt_options||{};_this=_super.call(this,{element:document.createElement("div"),target:options.target})||this;var className=void 0!==options.className?options.className:"ol-zoom",delta=void 0!==options.delta?options.delta:1,zoomInClassName=void 0!==options.zoomInClassName?options.zoomInClassName:className+"-in",zoomOutClassName=void 0!==options.zoomOutClassName?options.zoomOutClassName:className+"-out",zoomInLabel=void 0!==options.zoomInLabel?options.zoomInLabel:"+",zoomOutLabel=void 0!==options.zoomOutLabel?options.zoomOutLabel:"",zoomInTipLabel=void 0!==options.zoomInTipLabel?options.zoomInTipLabel:"Zoom in",zoomOutTipLabel=void 0!==options.zoomOutTipLabel?options.zoomOutTipLabel:"Zoom out",inElement=document.createElement("button");inElement.className=zoomInClassName,inElement.setAttribute("type","button"),inElement.title=zoomInTipLabel,inElement.appendChild("string"==typeof zoomInLabel?document.createTextNode(zoomInLabel):zoomInLabel),inElement.addEventListener(events_EventType.a.CLICK,_this.handleClick_.bind(_this,delta),!1);var outElement=document.createElement("button");outElement.className=zoomOutClassName,outElement.setAttribute("type","button"),outElement.title=zoomOutTipLabel,outElement.appendChild("string"==typeof zoomOutLabel?document.createTextNode(zoomOutLabel):zoomOutLabel),outElement.addEventListener(events_EventType.a.CLICK,_this.handleClick_.bind(_this,-delta),!1);var element=_this.element;return element.className=className+" "+css.e+" "+css.b,element.appendChild(inElement),element.appendChild(outElement),_this.duration_=void 0!==options.duration?options.duration:250,_this}return Zoom_extends(Zoom,_super),Zoom.prototype.handleClick_=function(delta,event){event.preventDefault(),this.zoomByDelta_(delta)},Zoom.prototype.zoomByDelta_=function(delta){var view=this.getMap().getView();if(view){var currentZoom=view.getZoom();if(void 0!==currentZoom){var newZoom=view.getConstrainedZoom(currentZoom+delta);this.duration_>0?(view.getAnimating()&&view.cancelAnimations(),view.animate({zoom:newZoom,duration:this.duration_,easing:easing.a})):view.setZoom(newZoom)}}},Zoom}(Control.a),ol_interaction=__webpack_require__("Ojm/"),Map_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Map_Map=function(_super){function Map(options){return(options=Object(obj.a)({},options)).controls||(options.controls=function(opt_options){var options={},controls=new Collection.a;return(void 0===options.zoom||options.zoom)&&controls.push(new control_Zoom(options.zoomOptions)),(void 0===options.rotate||options.rotate)&&controls.push(new control_Rotate(options.rotateOptions)),(void 0===options.attribution||options.attribution)&&controls.push(new control_Attribution(options.attributionOptions)),controls}()),options.interactions||(options.interactions=Object(ol_interaction.a)({onFocusOnly:!0})),_super.call(this,options)||this}return Map_extends(Map,_super),Map.prototype.createRenderer=function(){return new Composite(this)},Map}(ol_PluggableMap);__webpack_exports__.a=Map_Map},YX0d:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return FIREFOX}),__webpack_require__.d(__webpack_exports__,"f",function(){return WEBKIT}),__webpack_require__.d(__webpack_exports__,"d",function(){return MAC}),__webpack_require__.d(__webpack_exports__,"a",function(){return DEVICE_PIXEL_RATIO}),__webpack_require__.d(__webpack_exports__,"g",function(){return WORKER_OFFSCREEN_CANVAS}),__webpack_require__.d(__webpack_exports__,"c",function(){return IMAGE_DECODE}),__webpack_require__.d(__webpack_exports__,"e",function(){return PASSIVE_EVENT_LISTENERS});var ua="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",FIREFOX=-1!==ua.indexOf("firefox"),WEBKIT=(-1!==ua.indexOf("safari")&&ua.indexOf("chrom"),-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge")),MAC=-1!==ua.indexOf("macintosh"),DEVICE_PIXEL_RATIO="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,WORKER_OFFSCREEN_CANVAS="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,IMAGE_DECODE="undefined"!=typeof Image&&Image.prototype.decode,PASSIVE_EVENT_LISTENERS=function(){var passive=!1;try{var options=Object.defineProperty({},"passive",{get:function(){passive=!0}});window.addEventListener("_",null,options),window.removeEventListener("_",null,options)}catch(error){}return passive}()},ZhEo:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return listenImage});var extendStatics,_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("AdTM"),_ImageBase_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("h3hZ"),_ImageState_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("hp/u"),_has_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("YX0d"),_extent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("CvXi"),_events_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ImageWrapper=function(_super){function ImageWrapper(extent,resolution,pixelRatio,src,crossOrigin,imageLoadFunction){var _this=_super.call(this,extent,resolution,pixelRatio,_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.IDLE)||this;return _this.src_=src,_this.image_=new Image,null!==crossOrigin&&(_this.image_.crossOrigin=crossOrigin),_this.unlisten_=null,_this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.IDLE,_this.imageLoadFunction_=imageLoadFunction,_this}return __extends(ImageWrapper,_super),ImageWrapper.prototype.getImage=function(){return this.image_},ImageWrapper.prototype.handleImageError_=function(){this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.ERROR,this.unlistenImage_(),this.changed()},ImageWrapper.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.z)(this.extent)/this.image_.height),this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.LOADED,this.unlistenImage_(),this.changed()},ImageWrapper.prototype.load=function(){this.state!=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.IDLE&&this.state!=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.ERROR||(this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_2__.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},ImageWrapper.prototype.setImage=function(image){this.image_=image},ImageWrapper.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},ImageWrapper}(_ImageBase_js__WEBPACK_IMPORTED_MODULE_1__.a);function listenImage(image,loadHandler,errorHandler){var img=image;if(img.src&&_has_js__WEBPACK_IMPORTED_MODULE_3__.c){var promise=img.decode(),listening_1=!0;return promise.then(function(){listening_1&&loadHandler()}).catch(function(error){listening_1&&("EncodingError"===error.name&&"Invalid image type."===error.message?loadHandler():errorHandler())}),function(){listening_1=!1}}var listenerKeys=[Object(_events_js__WEBPACK_IMPORTED_MODULE_5__.b)(img,_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.a.LOAD,loadHandler),Object(_events_js__WEBPACK_IMPORTED_MODULE_5__.b)(img,_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.a.ERROR,errorHandler)];return function(){listenerKeys.forEach(_events_js__WEBPACK_IMPORTED_MODULE_5__.c)}}__webpack_exports__.a=ImageWrapper},b5cc:function(module,exports){(function(){"use strict";exports.stripBOM=function(str){return"\ufeff"===str[0]?str.substring(1):str}}).call(this)},bHcU:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return toFunction}),__webpack_require__.d(__webpack_exports__,"a",function(){return createDefaultStyle}),__webpack_require__.d(__webpack_exports__,"b",function(){return createEditingStyle});var _Circle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("zixo"),_Fill_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("g6Z0"),_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("9iPr"),_Stroke_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("hoJM"),_asserts_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("kvpX"),Style=function(){function Style(opt_options){var options=opt_options||{};this.geometry_=null,this.geometryFunction_=defaultGeometryFunction,void 0!==options.geometry&&this.setGeometry(options.geometry),this.fill_=void 0!==options.fill?options.fill:null,this.image_=void 0!==options.image?options.image:null,this.renderer_=void 0!==options.renderer?options.renderer:null,this.stroke_=void 0!==options.stroke?options.stroke:null,this.text_=void 0!==options.text?options.text:null,this.zIndex_=options.zIndex}return Style.prototype.clone=function(){var geometry=this.getGeometry();return geometry&&"object"==typeof geometry&&(geometry=geometry.clone()),new Style({geometry:geometry,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Style.prototype.getRenderer=function(){return this.renderer_},Style.prototype.setRenderer=function(renderer){this.renderer_=renderer},Style.prototype.getGeometry=function(){return this.geometry_},Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},Style.prototype.getFill=function(){return this.fill_},Style.prototype.setFill=function(fill){this.fill_=fill},Style.prototype.getImage=function(){return this.image_},Style.prototype.setImage=function(image){this.image_=image},Style.prototype.getStroke=function(){return this.stroke_},Style.prototype.setStroke=function(stroke){this.stroke_=stroke},Style.prototype.getText=function(){return this.text_},Style.prototype.setText=function(text){this.text_=text},Style.prototype.getZIndex=function(){return this.zIndex_},Style.prototype.setGeometry=function(geometry){"function"==typeof geometry?this.geometryFunction_=geometry:"string"==typeof geometry?this.geometryFunction_=function(feature){return feature.get(geometry)}:geometry?void 0!==geometry&&(this.geometryFunction_=function(){return geometry}):this.geometryFunction_=defaultGeometryFunction,this.geometry_=geometry},Style.prototype.setZIndex=function(zIndex){this.zIndex_=zIndex},Style}();function toFunction(obj){var styleFunction,styles_1;return"function"==typeof obj?styleFunction=obj:(Array.isArray(obj)?styles_1=obj:(Object(_asserts_js__WEBPACK_IMPORTED_MODULE_4__.a)("function"==typeof obj.getZIndex,41),styles_1=[obj]),styleFunction=function(){return styles_1}),styleFunction}var defaultStyles=null;function createDefaultStyle(feature,resolution){if(!defaultStyles){var fill=new _Fill_js__WEBPACK_IMPORTED_MODULE_1__.a({color:"rgba(255,255,255,0.4)"}),stroke=new _Stroke_js__WEBPACK_IMPORTED_MODULE_3__.a({color:"#3399CC",width:1.25});defaultStyles=[new Style({image:new _Circle_js__WEBPACK_IMPORTED_MODULE_0__.a({fill:fill,stroke:stroke,radius:5}),fill:fill,stroke:stroke})]}return defaultStyles}function createEditingStyle(){var styles={},white=[255,255,255,1],blue=[0,153,255,1];return styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POLYGON]=[new Style({fill:new _Fill_js__WEBPACK_IMPORTED_MODULE_1__.a({color:[255,255,255,.5]})})],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.MULTI_POLYGON]=styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POLYGON],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.LINE_STRING]=[new Style({stroke:new _Stroke_js__WEBPACK_IMPORTED_MODULE_3__.a({color:white,width:5})}),new Style({stroke:new _Stroke_js__WEBPACK_IMPORTED_MODULE_3__.a({color:blue,width:3})})],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.MULTI_LINE_STRING]=styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.LINE_STRING],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.CIRCLE]=styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POLYGON].concat(styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.LINE_STRING]),styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINT]=[new Style({image:new _Circle_js__WEBPACK_IMPORTED_MODULE_0__.a({radius:6,fill:new _Fill_js__WEBPACK_IMPORTED_MODULE_1__.a({color:blue}),stroke:new _Stroke_js__WEBPACK_IMPORTED_MODULE_3__.a({color:white,width:1.5})}),zIndex:1/0})],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.MULTI_POINT]=styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINT],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.GEOMETRY_COLLECTION]=styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POLYGON].concat(styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.LINE_STRING],styles[_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.POINT]),styles}function defaultGeometryFunction(feature){return feature.getGeometry()}__webpack_exports__.c=Style},"bL/2":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,EventType=__webpack_require__("AdTM"),IconAnchorUnits=__webpack_require__("grDu"),IconOrigin=__webpack_require__("0gJn"),ImageState=__webpack_require__("hp/u"),style_Image=__webpack_require__("qzVC"),ol_color=__webpack_require__("XDhV"),asserts=__webpack_require__("kvpX"),Target=__webpack_require__("DsAt"),dom=__webpack_require__("CZmH"),IconImageCache=__webpack_require__("PCLV"),ol_Image=__webpack_require__("ZhEo"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),taintedTestContext=null,IconImage_IconImage=function(_super){function IconImage(image,src,size,crossOrigin,imageState,color){var _this=_super.call(this)||this;return _this.hitDetectionImage_=null,_this.image_=image||new Image,null!==crossOrigin&&(_this.image_.crossOrigin=crossOrigin),_this.canvas_={},_this.color_=color,_this.unlisten_=null,_this.imageState_=imageState,_this.size_=size,_this.src_=src,_this}return __extends(IconImage,_super),IconImage.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ImageState.a.LOADED){taintedTestContext||(taintedTestContext=Object(dom.a)(1,1)),taintedTestContext.drawImage(this.image_,0,0);try{taintedTestContext.getImageData(0,0,1,1),this.tainted_=!1}catch(e){taintedTestContext=null,this.tainted_=!0}}return!0===this.tainted_},IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(EventType.a.CHANGE)},IconImage.prototype.handleImageError_=function(){this.imageState_=ImageState.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},IconImage.prototype.handleImageLoad_=function(){this.imageState_=ImageState.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},IconImage.prototype.getImage=function(pixelRatio){return this.replaceColor_(pixelRatio),this.canvas_[pixelRatio]?this.canvas_[pixelRatio]:this.image_},IconImage.prototype.getPixelRatio=function(pixelRatio){return this.replaceColor_(pixelRatio),this.canvas_[pixelRatio]?pixelRatio:1},IconImage.prototype.getImageState=function(){return this.imageState_},IconImage.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var width=this.size_[0],height=this.size_[1],context=Object(dom.a)(width,height);context.fillRect(0,0,width,height),this.hitDetectionImage_=context.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},IconImage.prototype.getSize=function(){return this.size_},IconImage.prototype.getSrc=function(){return this.src_},IconImage.prototype.load=function(){if(this.imageState_==ImageState.a.IDLE){this.imageState_=ImageState.a.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Object(ol_Image.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},IconImage.prototype.replaceColor_=function(pixelRatio){if(this.color_&&!this.canvas_[pixelRatio]){var canvas=document.createElement("canvas");this.canvas_[pixelRatio]=canvas,canvas.width=Math.ceil(this.image_.width*pixelRatio),canvas.height=Math.ceil(this.image_.height*pixelRatio);var ctx=canvas.getContext("2d");if(ctx.scale(pixelRatio,pixelRatio),ctx.drawImage(this.image_,0,0),ctx.globalCompositeOperation="multiply","multiply"===ctx.globalCompositeOperation||this.isTainted_())ctx.fillStyle=Object(ol_color.b)(this.color_),ctx.fillRect(0,0,canvas.width,canvas.height),ctx.globalCompositeOperation="destination-in",ctx.drawImage(this.image_,0,0);else{for(var imgData=ctx.getImageData(0,0,canvas.width,canvas.height),data=imgData.data,r=this.color_[0]/255,g=this.color_[1]/255,b=this.color_[2]/255,a=this.color_[3],i=0,ii=data.length;i<ii;i+=4)data[i]*=r,data[i+1]*=g,data[i+2]*=b,data[i+3]*=a;ctx.putImageData(imgData,0,0)}}},IconImage.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},IconImage}(Target.a),util=__webpack_require__("EwAT"),Icon_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Icon_Icon=function(_super){function Icon(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{opacity:void 0!==options.opacity?options.opacity:1,rotation:void 0!==options.rotation?options.rotation:0,scale:void 0!==options.scale?options.scale:1,displacement:void 0!==options.displacement?options.displacement:[0,0],rotateWithView:void 0!==options.rotateWithView&&options.rotateWithView})||this).anchor_=void 0!==options.anchor?options.anchor:[.5,.5],_this.normalizedAnchor_=null,_this.anchorOrigin_=void 0!==options.anchorOrigin?options.anchorOrigin:IconOrigin.a.TOP_LEFT,_this.anchorXUnits_=void 0!==options.anchorXUnits?options.anchorXUnits:IconAnchorUnits.a.FRACTION,_this.anchorYUnits_=void 0!==options.anchorYUnits?options.anchorYUnits:IconAnchorUnits.a.FRACTION,_this.crossOrigin_=void 0!==options.crossOrigin?options.crossOrigin:null;var image=void 0!==options.img?options.img:null,imgSize=void 0!==options.imgSize?options.imgSize:null,src=options.src;Object(asserts.a)(!(void 0!==src&&image),4),Object(asserts.a)(!image||image&&imgSize,5),void 0!==src&&0!==src.length||!image||(src=image.src||Object(util.c)(image)),Object(asserts.a)(void 0!==src&&src.length>0,6);var imageState=void 0!==options.src?ImageState.a.IDLE:ImageState.a.LOADED;return _this.color_=void 0!==options.color?Object(ol_color.a)(options.color):null,_this.iconImage_=function(image,src,size,crossOrigin,imageState,color){var iconImage=IconImageCache.a.get(src,crossOrigin,color);return iconImage||(iconImage=new IconImage_IconImage(image,src,size,crossOrigin,imageState,color),IconImageCache.a.set(src,crossOrigin,color,iconImage)),iconImage}(image,src,imgSize,_this.crossOrigin_,imageState,_this.color_),_this.offset_=void 0!==options.offset?options.offset:[0,0],_this.offsetOrigin_=void 0!==options.offsetOrigin?options.offsetOrigin:IconOrigin.a.TOP_LEFT,_this.origin_=null,_this.size_=void 0!==options.size?options.size:null,_this}return Icon_extends(Icon,_super),Icon.prototype.clone=function(){var scale=this.getScale();return new Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(scale)?scale.slice():scale,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var anchor=this.anchor_,size=this.getSize();if(this.anchorXUnits_==IconAnchorUnits.a.FRACTION||this.anchorYUnits_==IconAnchorUnits.a.FRACTION){if(!size)return null;anchor=this.anchor_.slice(),this.anchorXUnits_==IconAnchorUnits.a.FRACTION&&(anchor[0]*=size[0]),this.anchorYUnits_==IconAnchorUnits.a.FRACTION&&(anchor[1]*=size[1])}if(this.anchorOrigin_!=IconOrigin.a.TOP_LEFT){if(!size)return null;anchor===this.anchor_&&(anchor=this.anchor_.slice()),this.anchorOrigin_!=IconOrigin.a.TOP_RIGHT&&this.anchorOrigin_!=IconOrigin.a.BOTTOM_RIGHT||(anchor[0]=-anchor[0]+size[0]),this.anchorOrigin_!=IconOrigin.a.BOTTOM_LEFT&&this.anchorOrigin_!=IconOrigin.a.BOTTOM_RIGHT||(anchor[1]=-anchor[1]+size[1])}return this.normalizedAnchor_=anchor,this.normalizedAnchor_},Icon.prototype.setAnchor=function(anchor){this.anchor_=anchor,this.normalizedAnchor_=null},Icon.prototype.getColor=function(){return this.color_},Icon.prototype.getImage=function(pixelRatio){return this.iconImage_.getImage(pixelRatio)},Icon.prototype.getPixelRatio=function(pixelRatio){return this.iconImage_.getPixelRatio(pixelRatio)},Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()},Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()},Icon.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},Icon.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var offset=this.offset_,displacement=this.getDisplacement();if(this.offsetOrigin_!=IconOrigin.a.TOP_LEFT){var size=this.getSize(),iconImageSize=this.iconImage_.getSize();if(!size||!iconImageSize)return null;offset=offset.slice(),this.offsetOrigin_!=IconOrigin.a.TOP_RIGHT&&this.offsetOrigin_!=IconOrigin.a.BOTTOM_RIGHT||(offset[0]=iconImageSize[0]-size[0]-offset[0]),this.offsetOrigin_!=IconOrigin.a.BOTTOM_LEFT&&this.offsetOrigin_!=IconOrigin.a.BOTTOM_RIGHT||(offset[1]=iconImageSize[1]-size[1]-offset[1])}return offset[0]+=displacement[0],offset[1]+=displacement[1],this.origin_=offset,this.origin_},Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()},Icon.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},Icon.prototype.listenImageChange=function(listener){this.iconImage_.addEventListener(EventType.a.CHANGE,listener)},Icon.prototype.load=function(){this.iconImage_.load()},Icon.prototype.unlistenImageChange=function(listener){this.iconImage_.removeEventListener(EventType.a.CHANGE,listener)},Icon}(style_Image.a);__webpack_exports__.a=Icon_Icon},bYNo:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},cjgx:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_events_Event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("zvco"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),MapEvent=function(_super){function MapEvent(type,map,opt_frameState){var _this=_super.call(this,type)||this;return _this.map=map,_this.frameState=void 0!==opt_frameState?opt_frameState:null,_this}return __extends(MapEvent,_super),MapEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=MapEvent},dEzR:function(module,exports,__webpack_require__){(function(){var NodeType,WriterState,XMLDOMImplementation,XMLDocument,XMLDocumentCB,XMLStreamWriter,XMLStringWriter,assign,isFunction,ref;ref=__webpack_require__("RfOz"),assign=ref.assign,isFunction=ref.isFunction,XMLDOMImplementation=__webpack_require__("Cm3p"),XMLDocument=__webpack_require__("rgrL"),XMLDocumentCB=__webpack_require__("VN3C"),XMLStringWriter=__webpack_require__("HwjW"),XMLStreamWriter=__webpack_require__("w3aC"),NodeType=__webpack_require__("Bl63"),WriterState=__webpack_require__("CYXk"),module.exports.create=function(name,xmldec,doctype,options){var doc,root;if(null==name)throw new Error("Root element needs a name.");return options=assign({},xmldec,doctype,options),root=(doc=new XMLDocument(options)).element(name),options.headless||(doc.declaration(options),null==options.pubID&&null==options.sysID||doc.dtd(options)),root},module.exports.begin=function(options,onData,onEnd){var ref1;return isFunction(options)&&(onData=(ref1=[options,onData])[0],onEnd=ref1[1],options={}),onData?new XMLDocumentCB(options,onData,onEnd):new XMLDocument(options)},module.exports.stringWriter=function(options){return new XMLStringWriter(options)},module.exports.streamWriter=function(stream,options){return new XMLStreamWriter(stream,options)},module.exports.implementation=new XMLDOMImplementation,module.exports.nodeType=NodeType,module.exports.writerState=WriterState}).call(this)},dQau:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"print",function(){return print});var jsutils_nodejsCustomInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function inspect(value){return formatValue(value,[])}function formatValue(value,seenValues){switch(_typeof(value)){case"string":return JSON.stringify(value);case"function":return value.name?"[function ".concat(value.name,"]"):"[function]";case"object":return null===value?"null":function(value,previouslySeenValues){if(-1!==previouslySeenValues.indexOf(value))return"[Circular]";var seenValues=[].concat(previouslySeenValues,[value]),customInspectFn=function(object){var customInspectFn=object[String(jsutils_nodejsCustomInspectSymbol)];return"function"==typeof customInspectFn?customInspectFn:"function"==typeof object.inspect?object.inspect:void 0}(value);if(void 0!==customInspectFn){var customValue=customInspectFn.call(value);if(customValue!==value)return"string"==typeof customValue?customValue:formatValue(customValue,seenValues)}else if(Array.isArray(value))return function(array,seenValues){if(0===array.length)return"[]";if(seenValues.length>2)return"[Array]";for(var len=Math.min(10,array.length),remaining=array.length-len,items=[],i=0;i<len;++i)items.push(formatValue(array[i],seenValues));return 1===remaining?items.push("... 1 more item"):remaining>1&&items.push("... ".concat(remaining," more items")),"["+items.join(", ")+"]"}(value,seenValues);return function(object,seenValues){var keys=Object.keys(object);return 0===keys.length?"{}":seenValues.length>2?"["+function(object){var tag=Object.prototype.toString.call(object).replace(/^\[object /,"").replace(/]$/,"");if("Object"===tag&&"function"==typeof object.constructor){var name=object.constructor.name;if("string"==typeof name&&""!==name)return name}return tag}(object)+"]":"{ "+keys.map(function(key){return key+": "+formatValue(object[key],seenValues)}).join(", ")+" }"}(value,seenValues)}(value,seenValues);default:return String(value)}}function defineInspect(classObject){var fn=classObject.prototype.toJSON;"function"==typeof fn||function(condition,message){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),classObject.prototype.inspect=fn,jsutils_nodejsCustomInspectSymbol&&(classObject.prototype[jsutils_nodejsCustomInspectSymbol]=fn)}function isNode(maybeNode){return null!=maybeNode&&"string"==typeof maybeNode.kind}defineInspect(function(){function Location(startToken,endToken,source){this.start=startToken.start,this.end=endToken.end,this.startToken=startToken,this.endToken=endToken,this.source=source}return Location.prototype.toJSON=function(){return{start:this.start,end:this.end}},Location}()),defineInspect(function(){function Token(kind,start,end,line,column,prev,value){this.kind=kind,this.start=start,this.end=end,this.line=line,this.column=column,this.value=value,this.prev=prev,this.next=null}return Token.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},Token}());var QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},BREAK=Object.freeze({});function getVisitFn(visitor,kind,isLeaving){var kindVisitor=visitor[kind];if(kindVisitor){if(!isLeaving&&"function"==typeof kindVisitor)return kindVisitor;var kindSpecificVisitor=isLeaving?kindVisitor.leave:kindVisitor.enter;if("function"==typeof kindSpecificVisitor)return kindSpecificVisitor}else{var specificVisitor=isLeaving?visitor.leave:visitor.enter;if(specificVisitor){if("function"==typeof specificVisitor)return specificVisitor;var specificKindVisitor=specificVisitor[kind];if("function"==typeof specificKindVisitor)return specificKindVisitor}}}function print(ast){return function(root,visitor){var visitorKeys=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QueryDocumentKeys,stack=void 0,inArray=Array.isArray(root),keys=[root],index=-1,edits=[],node=void 0,key=void 0,parent=void 0,path=[],ancestors=[],newRoot=root;do{var isLeaving=++index===keys.length,isEdited=isLeaving&&0!==edits.length;if(isLeaving){if(key=0===ancestors.length?void 0:path[path.length-1],node=parent,parent=ancestors.pop(),isEdited){if(inArray)node=node.slice();else{for(var clone={},_i2=0,_Object$keys2=Object.keys(node);_i2<_Object$keys2.length;_i2++){var k=_Object$keys2[_i2];clone[k]=node[k]}node=clone}for(var editOffset=0,ii=0;ii<edits.length;ii++){var editKey=edits[ii][0],editValue=edits[ii][1];inArray&&(editKey-=editOffset),inArray&&null===editValue?(node.splice(editKey,1),editOffset++):node[editKey]=editValue}}index=stack.index,keys=stack.keys,edits=stack.edits,inArray=stack.inArray,stack=stack.prev}else{if(key=parent?inArray?index:keys[index]:void 0,null==(node=parent?parent[key]:newRoot))continue;parent&&path.push(key)}var _visitorKeys$node$kin,result=void 0;if(!Array.isArray(node)){if(!isNode(node))throw new Error("Invalid AST Node: ".concat(inspect(node),"."));var visitFn=getVisitFn(visitor,node.kind,isLeaving);if(visitFn){if((result=visitFn.call(visitor,node,key,parent,path,ancestors))===BREAK)break;if(!1===result){if(!isLeaving){path.pop();continue}}else if(void 0!==result&&(edits.push([key,result]),!isLeaving)){if(!isNode(result)){path.pop();continue}node=result}}}void 0===result&&isEdited&&edits.push([key,node]),isLeaving?path.pop():(stack={inArray:inArray,index:index,keys:keys,edits:edits,prev:stack},keys=(inArray=Array.isArray(node))?node:null!==(_visitorKeys$node$kin=visitorKeys[node.kind])&&void 0!==_visitorKeys$node$kin?_visitorKeys$node$kin:[],index=-1,edits=[],parent&&ancestors.push(parent),parent=node)}while(void 0!==stack);return 0!==edits.length&&(newRoot=edits[edits.length-1][1]),newRoot}(ast,{leave:printDocASTReducer})}var printDocASTReducer={Name:function(node){return node.value},Variable:function(node){return"$"+node.name},Document:function(node){return join(node.definitions,"\n\n")+"\n"},OperationDefinition:function(node){var op=node.operation,name=node.name,varDefs=wrap("(",join(node.variableDefinitions,", "),")"),directives=join(node.directives," "),selectionSet=node.selectionSet;return name||directives||varDefs||"query"!==op?join([op,join([name,varDefs]),directives,selectionSet]," "):selectionSet},VariableDefinition:function(_ref){var directives=_ref.directives;return _ref.variable+": "+_ref.type+wrap(" = ",_ref.defaultValue)+wrap(" ",join(directives," "))},SelectionSet:function(_ref2){return block(_ref2.selections)},Field:function(_ref3){var name=_ref3.name,args=_ref3.arguments,directives=_ref3.directives,selectionSet=_ref3.selectionSet,prefix=wrap("",_ref3.alias,": ")+name,argsLine=prefix+wrap("(",join(args,", "),")");return argsLine.length>80&&(argsLine=prefix+wrap("(\n",indent(join(args,"\n")),"\n)")),join([argsLine,join(directives," "),selectionSet]," ")},Argument:function(_ref4){return _ref4.name+": "+_ref4.value},FragmentSpread:function(_ref5){return"..."+_ref5.name+wrap(" ",join(_ref5.directives," "))},InlineFragment:function(_ref6){var directives=_ref6.directives,selectionSet=_ref6.selectionSet;return join(["...",wrap("on ",_ref6.typeCondition),join(directives," "),selectionSet]," ")},FragmentDefinition:function(_ref7){var typeCondition=_ref7.typeCondition,variableDefinitions=_ref7.variableDefinitions,directives=_ref7.directives,selectionSet=_ref7.selectionSet;return"fragment ".concat(_ref7.name).concat(wrap("(",join(variableDefinitions,", "),")")," ")+"on ".concat(typeCondition," ").concat(wrap("",join(directives," ")," "))+selectionSet},IntValue:function(_ref8){return _ref8.value},FloatValue:function(_ref9){return _ref9.value},StringValue:function(_ref10,key){var value=_ref10.value;return _ref10.block?function(value){var indentation=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",preferMultipleLines=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isSingleLine=-1===value.indexOf("\n"),hasLeadingSpace=" "===value[0]||"\t"===value[0],hasTrailingQuote='"'===value[value.length-1],hasTrailingSlash="\\"===value[value.length-1],printAsMultipleLines=!isSingleLine||hasTrailingQuote||hasTrailingSlash||preferMultipleLines,result="";return!printAsMultipleLines||isSingleLine&&hasLeadingSpace||(result+="\n"+indentation),result+=indentation?value.replace(/\n/g,"\n"+indentation):value,printAsMultipleLines&&(result+="\n"),'"""'+result.replace(/"""/g,'\\"""')+'"""'}(value,"description"===key?"":"  "):JSON.stringify(value)},BooleanValue:function(_ref11){return _ref11.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(_ref12){return _ref12.value},ListValue:function(_ref13){return"["+join(_ref13.values,", ")+"]"},ObjectValue:function(_ref14){return"{"+join(_ref14.fields,", ")+"}"},ObjectField:function(_ref15){return _ref15.name+": "+_ref15.value},Directive:function(_ref16){return"@"+_ref16.name+wrap("(",join(_ref16.arguments,", "),")")},NamedType:function(_ref17){return _ref17.name},ListType:function(_ref18){return"["+_ref18.type+"]"},NonNullType:function(_ref19){return _ref19.type+"!"},SchemaDefinition:addDescription(function(_ref20){var operationTypes=_ref20.operationTypes;return join(["schema",join(_ref20.directives," "),block(operationTypes)]," ")}),OperationTypeDefinition:function(_ref21){return _ref21.operation+": "+_ref21.type},ScalarTypeDefinition:addDescription(function(_ref22){return join(["scalar",_ref22.name,join(_ref22.directives," ")]," ")}),ObjectTypeDefinition:addDescription(function(_ref23){var directives=_ref23.directives,fields=_ref23.fields;return join(["type",_ref23.name,wrap("implements ",join(_ref23.interfaces," & ")),join(directives," "),block(fields)]," ")}),FieldDefinition:addDescription(function(_ref24){var args=_ref24.arguments,type=_ref24.type,directives=_ref24.directives;return _ref24.name+(hasMultilineItems(args)?wrap("(\n",indent(join(args,"\n")),"\n)"):wrap("(",join(args,", "),")"))+": "+type+wrap(" ",join(directives," "))}),InputValueDefinition:addDescription(function(_ref25){var directives=_ref25.directives;return join([_ref25.name+": "+_ref25.type,wrap("= ",_ref25.defaultValue),join(directives," ")]," ")}),InterfaceTypeDefinition:addDescription(function(_ref26){var directives=_ref26.directives,fields=_ref26.fields;return join(["interface",_ref26.name,wrap("implements ",join(_ref26.interfaces," & ")),join(directives," "),block(fields)]," ")}),UnionTypeDefinition:addDescription(function(_ref27){var types=_ref27.types;return join(["union",_ref27.name,join(_ref27.directives," "),types&&0!==types.length?"= "+join(types," | "):""]," ")}),EnumTypeDefinition:addDescription(function(_ref28){var values=_ref28.values;return join(["enum",_ref28.name,join(_ref28.directives," "),block(values)]," ")}),EnumValueDefinition:addDescription(function(_ref29){return join([_ref29.name,join(_ref29.directives," ")]," ")}),InputObjectTypeDefinition:addDescription(function(_ref30){var fields=_ref30.fields;return join(["input",_ref30.name,join(_ref30.directives," "),block(fields)]," ")}),DirectiveDefinition:addDescription(function(_ref31){var args=_ref31.arguments,repeatable=_ref31.repeatable,locations=_ref31.locations;return"directive @"+_ref31.name+(hasMultilineItems(args)?wrap("(\n",indent(join(args,"\n")),"\n)"):wrap("(",join(args,", "),")"))+(repeatable?" repeatable":"")+" on "+join(locations," | ")}),SchemaExtension:function(_ref32){var operationTypes=_ref32.operationTypes;return join(["extend schema",join(_ref32.directives," "),block(operationTypes)]," ")},ScalarTypeExtension:function(_ref33){return join(["extend scalar",_ref33.name,join(_ref33.directives," ")]," ")},ObjectTypeExtension:function(_ref34){var directives=_ref34.directives,fields=_ref34.fields;return join(["extend type",_ref34.name,wrap("implements ",join(_ref34.interfaces," & ")),join(directives," "),block(fields)]," ")},InterfaceTypeExtension:function(_ref35){var directives=_ref35.directives,fields=_ref35.fields;return join(["extend interface",_ref35.name,wrap("implements ",join(_ref35.interfaces," & ")),join(directives," "),block(fields)]," ")},UnionTypeExtension:function(_ref36){var types=_ref36.types;return join(["extend union",_ref36.name,join(_ref36.directives," "),types&&0!==types.length?"= "+join(types," | "):""]," ")},EnumTypeExtension:function(_ref37){var values=_ref37.values;return join(["extend enum",_ref37.name,join(_ref37.directives," "),block(values)]," ")},InputObjectTypeExtension:function(_ref38){var fields=_ref38.fields;return join(["extend input",_ref38.name,join(_ref38.directives," "),block(fields)]," ")}};function addDescription(cb){return function(node){return join([node.description,cb(node)],"\n")}}function join(maybeArray){var _maybeArray$filter$jo,separator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(_maybeArray$filter$jo=null==maybeArray?void 0:maybeArray.filter(function(x){return x}).join(separator))&&void 0!==_maybeArray$filter$jo?_maybeArray$filter$jo:""}function block(array){return wrap("{\n",indent(join(array,"\n")),"\n}")}function wrap(start,maybeString){var end=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=maybeString&&""!==maybeString?start+maybeString+end:""}function indent(str){return wrap("  ",str.replace(/\n/g,"\n  "))}function isMultiline(str){return-1!==str.indexOf("\n")}function hasMultilineItems(maybeArray){return null!=maybeArray&&maybeArray.some(isMultiline)}},"e0/R":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={PROPERTYCHANGE:"propertychange"}},eQqr:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getDistance}),__webpack_require__.d(__webpack_exports__,"c",function(){return getLength}),__webpack_require__.d(__webpack_exports__,"a",function(){return getArea}),__webpack_require__.d(__webpack_exports__,"d",function(){return offset});var _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9iPr"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f8l7");function getDistance(c1,c2,opt_radius){var radius=opt_radius||6371008.8,lat1=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(c1[1]),lat2=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(c2[1]),deltaLatBy2=(lat2-lat1)/2,deltaLonBy2=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(c2[0]-c1[0])/2,a=Math.sin(deltaLatBy2)*Math.sin(deltaLatBy2)+Math.sin(deltaLonBy2)*Math.sin(deltaLonBy2)*Math.cos(lat1)*Math.cos(lat2);return 2*radius*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function getLengthInternal(coordinates,radius){for(var length=0,i=0,ii=coordinates.length;i<ii-1;++i)length+=getDistance(coordinates[i],coordinates[i+1],radius);return length}function getLength(geometry,opt_options){var options=opt_options||{},radius=options.radius||6371008.8,projection=options.projection||"EPSG:3857",type=geometry.getType();type!==_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.GEOMETRY_COLLECTION&&(geometry=geometry.clone().transform(projection,"EPSG:4326"));var coordinates,coords,i,ii,j,jj,length=0;switch(type){case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POINT:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POINT:break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINE_STRING:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINEAR_RING:length=getLengthInternal(coordinates=geometry.getCoordinates(),radius);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_LINE_STRING:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POLYGON:for(i=0,ii=(coordinates=geometry.getCoordinates()).length;i<ii;++i)length+=getLengthInternal(coordinates[i],radius);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POLYGON:for(i=0,ii=(coordinates=geometry.getCoordinates()).length;i<ii;++i)for(j=0,jj=(coords=coordinates[i]).length;j<jj;++j)length+=getLengthInternal(coords[j],radius);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.GEOMETRY_COLLECTION:var geometries=geometry.getGeometries();for(i=0,ii=geometries.length;i<ii;++i)length+=getLength(geometries[i],opt_options);break;default:throw new Error("Unsupported geometry type: "+type)}return length}function getAreaInternal(coordinates,radius){for(var area=0,len=coordinates.length,x1=coordinates[len-1][0],y1=coordinates[len-1][1],i=0;i<len;i++){var x2=coordinates[i][0],y2=coordinates[i][1];area+=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(x2-x1)*(2+Math.sin(Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(y1))+Math.sin(Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(y2))),x1=x2,y1=y2}return area*radius*radius/2}function getArea(geometry,opt_options){var options=opt_options||{},radius=options.radius||6371008.8,projection=options.projection||"EPSG:3857",type=geometry.getType();type!==_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.GEOMETRY_COLLECTION&&(geometry=geometry.clone().transform(projection,"EPSG:4326"));var coordinates,coords,i,ii,j,jj,area=0;switch(type){case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POINT:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POINT:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINE_STRING:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_LINE_STRING:case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINEAR_RING:break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POLYGON:for(coordinates=geometry.getCoordinates(),area=Math.abs(getAreaInternal(coordinates[0],radius)),i=1,ii=coordinates.length;i<ii;++i)area-=Math.abs(getAreaInternal(coordinates[i],radius));break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POLYGON:for(i=0,ii=(coordinates=geometry.getCoordinates()).length;i<ii;++i)for(coords=coordinates[i],area+=Math.abs(getAreaInternal(coords[0],radius)),j=1,jj=coords.length;j<jj;++j)area-=Math.abs(getAreaInternal(coords[j],radius));break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.GEOMETRY_COLLECTION:var geometries=geometry.getGeometries();for(i=0,ii=geometries.length;i<ii;++i)area+=getArea(geometries[i],opt_options);break;default:throw new Error("Unsupported geometry type: "+type)}return area}function offset(c1,distance,bearing,opt_radius){var radius=opt_radius||6371008.8,lat1=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(c1[1]),lon1=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.j)(c1[0]),dByR=distance/radius,lat=Math.asin(Math.sin(lat1)*Math.cos(dByR)+Math.cos(lat1)*Math.sin(dByR)*Math.cos(bearing)),lon=lon1+Math.atan2(Math.sin(bearing)*Math.sin(dByR)*Math.cos(lat1),Math.cos(dByR)-Math.sin(lat1)*Math.sin(lat));return[Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.i)(lon),Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.i)(lat)]}},egkh:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Uhtb"),_GeometryType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9iPr"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("mrzG"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("l2lA"),_extent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("CvXi"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("q7cr"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("HEh+"),_array_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("n15R"),_flat_segments_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("/U2p"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("u2yf"),_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("saKC"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("xWBw"),_flat_length_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("WTjQ"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),LineString=function(_super){function LineString(coordinates,opt_layout){var _this=_super.call(this)||this;return _this.flatMidpoint_=null,_this.flatMidpointRevision_=-1,_this.maxDelta_=-1,_this.maxDeltaRevision_=-1,void 0===opt_layout||Array.isArray(coordinates[0])?_this.setCoordinates(coordinates,opt_layout):_this.setFlatCoordinates(opt_layout,coordinates),_this}return __extends(LineString,_super),LineString.prototype.appendCoordinate=function(coordinate){this.flatCoordinates?Object(_array_js__WEBPACK_IMPORTED_MODULE_7__.c)(this.flatCoordinates,coordinate):this.flatCoordinates=coordinate.slice(),this.changed()},LineString.prototype.clone=function(){var lineString=new LineString(this.flatCoordinates.slice(),this.layout);return lineString.applyProperties(this),lineString},LineString.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,x,y,closestPoint,minSquaredDistance))},LineString.prototype.forEachSegment=function(callback){return Object(_flat_segments_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,callback)},LineString.prototype.getCoordinateAtM=function(m,opt_extrapolate){if(this.layout!=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XYM&&this.layout!=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XYZM)return null;var extrapolate=void 0!==opt_extrapolate&&opt_extrapolate;return Object(_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_10__.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,m,extrapolate)},LineString.prototype.getCoordinates=function(){return Object(_flat_inflate_js__WEBPACK_IMPORTED_MODULE_9__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},LineString.prototype.getCoordinateAt=function(fraction,opt_dest){return Object(_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_10__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,fraction,opt_dest,this.stride)},LineString.prototype.getLength=function(){return Object(_flat_length_js__WEBPACK_IMPORTED_MODULE_12__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},LineString.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},LineString.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[];return simplifiedFlatCoordinates.length=Object(_flat_simplify_js__WEBPACK_IMPORTED_MODULE_6__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,squaredTolerance,simplifiedFlatCoordinates,0),new LineString(simplifiedFlatCoordinates,_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_0__.a.XY)},LineString.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_1__.a.LINE_STRING},LineString.prototype.intersectsExtent=function(extent){return Object(_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_11__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,extent)},LineString.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(_flat_deflate_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.flatCoordinates,0,coordinates,this.stride),this.changed()},LineString}(_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_2__.a);__webpack_exports__.a=LineString},f8l7:function(module,__webpack_exports__,__webpack_require__){"use strict";function clamp(value,min,max){return Math.min(Math.max(value,min),max)}__webpack_require__.d(__webpack_exports__,"a",function(){return clamp}),__webpack_require__.d(__webpack_exports__,"b",function(){return cosh}),__webpack_require__.d(__webpack_exports__,"d",function(){return log2}),__webpack_require__.d(__webpack_exports__,"h",function(){return squaredSegmentDistance}),__webpack_require__.d(__webpack_exports__,"g",function(){return squaredDistance}),__webpack_require__.d(__webpack_exports__,"f",function(){return solveLinearSystem}),__webpack_require__.d(__webpack_exports__,"i",function(){return toDegrees}),__webpack_require__.d(__webpack_exports__,"j",function(){return toRadians}),__webpack_require__.d(__webpack_exports__,"e",function(){return modulo}),__webpack_require__.d(__webpack_exports__,"c",function(){return lerp});var cosh="cosh"in Math?Math.cosh:function(x){var y=Math.exp(x);return(y+1/y)/2},log2="log2"in Math?Math.log2:function(x){return Math.log(x)*Math.LOG2E};function squaredSegmentDistance(x,y,x1,y1,x2,y2){var dx=x2-x1,dy=y2-y1;if(0!==dx||0!==dy){var t=((x-x1)*dx+(y-y1)*dy)/(dx*dx+dy*dy);t>1?(x1=x2,y1=y2):t>0&&(x1+=dx*t,y1+=dy*t)}return squaredDistance(x,y,x1,y1)}function squaredDistance(x1,y1,x2,y2){var dx=x2-x1,dy=y2-y1;return dx*dx+dy*dy}function solveLinearSystem(mat){for(var n=mat.length,i=0;i<n;i++){for(var maxRow=i,maxEl=Math.abs(mat[i][i]),r=i+1;r<n;r++){var absValue=Math.abs(mat[r][i]);absValue>maxEl&&(maxEl=absValue,maxRow=r)}if(0===maxEl)return null;var tmp=mat[maxRow];mat[maxRow]=mat[i],mat[i]=tmp;for(var j=i+1;j<n;j++)for(var coef=-mat[j][i]/mat[i][i],k=i;k<n+1;k++)i==k?mat[j][k]=0:mat[j][k]+=coef*mat[i][k]}for(var x=new Array(n),l=n-1;l>=0;l--){x[l]=mat[l][n]/mat[l][l];for(var m=l-1;m>=0;m--)mat[m][n]-=mat[m][l]*x[l]}return x}function toDegrees(angleInRadians){return 180*angleInRadians/Math.PI}function toRadians(angleInDegrees){return angleInDegrees*Math.PI/180}function modulo(a,b){var r=a%b;return r*b<0?r+b:r}function lerp(a,b,x){return a+x*(b-a)}},fXKp:function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__("hwdV").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,""}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return nb>=0?(nb>0&&(self.lastNeed=nb-1),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(self.lastNeed=nb-2),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb):0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},fhSp:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var extract_files_1=__webpack_require__("p6ou"),form_data_1=__importDefault(__webpack_require__("+qDs")),isExtractableFileEnhanced=function(value){return extract_files_1.isExtractableFile(value)||null!==value&&"object"==typeof value&&"function"==typeof value.pipe};exports.default=function(query,variables){var _a=extract_files_1.extractFiles({query:query,variables:variables},"",isExtractableFileEnhanced),clone=_a.clone,files=_a.files;if(0===files.size)return JSON.stringify(clone);var form=new("undefined"==typeof FormData?form_data_1.default:FormData);form.append("operations",JSON.stringify(clone));var map={},i=0;return files.forEach(function(paths){map[++i]=paths}),form.append("map",JSON.stringify(map)),i=0,files.forEach(function(paths,file){form.append(""+ ++i,file)}),form}},fvjI:function(module,exports,__webpack_require__){"use strict";var defaultIsExtractableFile=__webpack_require__("Dtfp");module.exports=function extractFiles(value,path,isExtractableFile){var clone;void 0===path&&(path=""),void 0===isExtractableFile&&(isExtractableFile=defaultIsExtractableFile);var files=new Map;function addFile(paths,file){var storedPaths=files.get(file);storedPaths?storedPaths.push.apply(storedPaths,paths):files.set(file,paths)}if(isExtractableFile(value))clone=null,addFile([path],value);else{var prefix=path?path+".":"";if("undefined"!=typeof FileList&&value instanceof FileList)clone=Array.prototype.map.call(value,function(file,i){return addFile([""+prefix+i],file),null});else if(Array.isArray(value))clone=value.map(function(child,i){var result=extractFiles(child,""+prefix+i,isExtractableFile);return result.files.forEach(addFile),result.clone});else if(value&&value.constructor===Object)for(var i in clone={},value){var result=extractFiles(value[i],""+prefix+i,isExtractableFile);result.files.forEach(addFile),clone[i]=result.clone}else clone=value}return{clone:clone,files:files}}},g1uh:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("EwAT"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),AssertionError=function(_super){function AssertionError(code){var _this=this,message="Assertion failed. See https://openlayers.org/en/"+("latest"===_util_js__WEBPACK_IMPORTED_MODULE_0__.a?_util_js__WEBPACK_IMPORTED_MODULE_0__.a:"v"+_util_js__WEBPACK_IMPORTED_MODULE_0__.a.split("-")[0])+"/doc/errors/#"+code+" for details.";return(_this=_super.call(this,message)||this).code=code,_this.name="AssertionError",_this.message=message,_this}return __extends(AssertionError,_super),AssertionError}(Error);__webpack_exports__.a=AssertionError},g6Z0:function(module,__webpack_exports__,__webpack_require__){"use strict";var Fill=function(){function Fill(opt_options){var options=opt_options||{};this.color_=void 0!==options.color?options.color:null}return Fill.prototype.clone=function(){var color=this.getColor();return new Fill({color:Array.isArray(color)?color.slice():color||void 0})},Fill.prototype.getColor=function(){return this.color_},Fill.prototype.setColor=function(color){this.color_=color},Fill}();__webpack_exports__.a=Fill},gTaY:function(module,exports){(function(){"use strict";var prefixMatch;prefixMatch=new RegExp(/(?!xmlns)^.*:/),exports.normalize=function(str){return str.toLowerCase()},exports.firstCharLowerCase=function(str){return str.charAt(0).toLowerCase()+str.slice(1)},exports.stripPrefix=function(str){return str.replace(prefixMatch,"")},exports.parseNumbers=function(str){return isNaN(str)||(str=str%1==0?parseInt(str,10):parseFloat(str)),str},exports.parseBooleans=function(str){return/^(?:true|false)$/i.test(str)&&(str="true"===str.toLowerCase()),str}}).call(this)},gpXz:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Fill_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("g6Z0"),_TextPlacement_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("KfZV"),_size_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("NF0S"),Text=function(){function Text(opt_options){var options=opt_options||{};this.font_=options.font,this.rotation_=options.rotation,this.rotateWithView_=options.rotateWithView,this.scale_=options.scale,this.scaleArray_=Object(_size_js__WEBPACK_IMPORTED_MODULE_2__.b)(void 0!==options.scale?options.scale:1),this.text_=options.text,this.textAlign_=options.textAlign,this.textBaseline_=options.textBaseline,this.fill_=void 0!==options.fill?options.fill:new _Fill_js__WEBPACK_IMPORTED_MODULE_0__.a({color:"#333"}),this.maxAngle_=void 0!==options.maxAngle?options.maxAngle:Math.PI/4,this.placement_=void 0!==options.placement?options.placement:_TextPlacement_js__WEBPACK_IMPORTED_MODULE_1__.a.POINT,this.overflow_=!!options.overflow,this.stroke_=void 0!==options.stroke?options.stroke:null,this.offsetX_=void 0!==options.offsetX?options.offsetX:0,this.offsetY_=void 0!==options.offsetY?options.offsetY:0,this.backgroundFill_=options.backgroundFill?options.backgroundFill:null,this.backgroundStroke_=options.backgroundStroke?options.backgroundStroke:null,this.padding_=void 0===options.padding?null:options.padding}return Text.prototype.clone=function(){var scale=this.getScale();return new Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(scale)?scale.slice():scale,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},Text.prototype.getOverflow=function(){return this.overflow_},Text.prototype.getFont=function(){return this.font_},Text.prototype.getMaxAngle=function(){return this.maxAngle_},Text.prototype.getPlacement=function(){return this.placement_},Text.prototype.getOffsetX=function(){return this.offsetX_},Text.prototype.getOffsetY=function(){return this.offsetY_},Text.prototype.getFill=function(){return this.fill_},Text.prototype.getRotateWithView=function(){return this.rotateWithView_},Text.prototype.getRotation=function(){return this.rotation_},Text.prototype.getScale=function(){return this.scale_},Text.prototype.getScaleArray=function(){return this.scaleArray_},Text.prototype.getStroke=function(){return this.stroke_},Text.prototype.getText=function(){return this.text_},Text.prototype.getTextAlign=function(){return this.textAlign_},Text.prototype.getTextBaseline=function(){return this.textBaseline_},Text.prototype.getBackgroundFill=function(){return this.backgroundFill_},Text.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},Text.prototype.getPadding=function(){return this.padding_},Text.prototype.setOverflow=function(overflow){this.overflow_=overflow},Text.prototype.setFont=function(font){this.font_=font},Text.prototype.setMaxAngle=function(maxAngle){this.maxAngle_=maxAngle},Text.prototype.setOffsetX=function(offsetX){this.offsetX_=offsetX},Text.prototype.setOffsetY=function(offsetY){this.offsetY_=offsetY},Text.prototype.setPlacement=function(placement){this.placement_=placement},Text.prototype.setRotateWithView=function(rotateWithView){this.rotateWithView_=rotateWithView},Text.prototype.setFill=function(fill){this.fill_=fill},Text.prototype.setRotation=function(rotation){this.rotation_=rotation},Text.prototype.setScale=function(scale){this.scale_=scale,this.scaleArray_=Object(_size_js__WEBPACK_IMPORTED_MODULE_2__.b)(void 0!==scale?scale:1)},Text.prototype.setStroke=function(stroke){this.stroke_=stroke},Text.prototype.setText=function(text){this.text_=text},Text.prototype.setTextAlign=function(textAlign){this.textAlign_=textAlign},Text.prototype.setTextBaseline=function(textBaseline){this.textBaseline_=textBaseline},Text.prototype.setBackgroundFill=function(fill){this.backgroundFill_=fill},Text.prototype.setBackgroundStroke=function(stroke){this.backgroundStroke_=stroke},Text.prototype.setPadding=function(padding){this.padding_=padding},Text}();__webpack_exports__.a=Text},grDu:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={FRACTION:"fraction",PIXELS:"pixels"}},h3hZ:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_events_Target_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("DsAt"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EwAT"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ImageBase=function(_super){function ImageBase(extent,resolution,pixelRatio,state){var _this=_super.call(this)||this;return _this.extent=extent,_this.pixelRatio_=pixelRatio,_this.resolution=resolution,_this.state=state,_this}return __extends(ImageBase,_super),ImageBase.prototype.changed=function(){this.dispatchEvent(_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CHANGE)},ImageBase.prototype.getExtent=function(){return this.extent},ImageBase.prototype.getImage=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ImageBase.prototype.getResolution=function(){return this.resolution},ImageBase.prototype.getState=function(){return this.state},ImageBase.prototype.load=function(){Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},ImageBase}(_events_Target_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=ImageBase},hoJM:function(module,__webpack_exports__,__webpack_require__){"use strict";var Stroke=function(){function Stroke(opt_options){var options=opt_options||{};this.color_=void 0!==options.color?options.color:null,this.lineCap_=options.lineCap,this.lineDash_=void 0!==options.lineDash?options.lineDash:null,this.lineDashOffset_=options.lineDashOffset,this.lineJoin_=options.lineJoin,this.miterLimit_=options.miterLimit,this.width_=options.width}return Stroke.prototype.clone=function(){var color=this.getColor();return new Stroke({color:Array.isArray(color)?color.slice():color||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Stroke.prototype.getColor=function(){return this.color_},Stroke.prototype.getLineCap=function(){return this.lineCap_},Stroke.prototype.getLineDash=function(){return this.lineDash_},Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Stroke.prototype.getLineJoin=function(){return this.lineJoin_},Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},Stroke.prototype.getWidth=function(){return this.width_},Stroke.prototype.setColor=function(color){this.color_=color},Stroke.prototype.setLineCap=function(lineCap){this.lineCap_=lineCap},Stroke.prototype.setLineDash=function(lineDash){this.lineDash_=lineDash},Stroke.prototype.setLineDashOffset=function(lineDashOffset){this.lineDashOffset_=lineDashOffset},Stroke.prototype.setLineJoin=function(lineJoin){this.lineJoin_=lineJoin},Stroke.prototype.setMiterLimit=function(miterLimit){this.miterLimit_=miterLimit},Stroke.prototype.setWidth=function(width){this.width_=width},Stroke}();__webpack_exports__.a=Stroke},"hp/u":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},hwdV:function(module,exports,__webpack_require__){var buffer=__webpack_require__("tjlA"),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},i6Br:function(module,exports,__webpack_require__){(function(){var XMLDOMErrorHandler,XMLDOMStringList;XMLDOMErrorHandler=__webpack_require__("n6As"),XMLDOMStringList=__webpack_require__("G/lS"),module.exports=function(){function XMLDOMConfiguration(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new XMLDOMErrorHandler,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(XMLDOMConfiguration.prototype,"parameterNames",{get:function(){return new XMLDOMStringList(Object.keys(this.defaultParams))}}),XMLDOMConfiguration.prototype.getParameter=function(name){return this.params.hasOwnProperty(name)?this.params[name]:null},XMLDOMConfiguration.prototype.canSetParameter=function(name,value){return!0},XMLDOMConfiguration.prototype.setParameter=function(name,value){return null!=value?this.params[name]=value:delete this.params[name]},XMLDOMConfiguration}()}).call(this)},"iN/N":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_events_Event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("zvco"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_format_FormatType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Hsuu"),_Interaction_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("QzRn"),_functions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("V8uu"),_proj_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("JW8z"),_events_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),DragAndDropEvent=function(_super){function DragAndDropEvent(type,file,opt_features,opt_projection){var _this=_super.call(this,type)||this;return _this.features=opt_features,_this.file=file,_this.projection=opt_projection,_this}return __extends(DragAndDropEvent,_super),DragAndDropEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_0__.a),DragAndDrop=function(_super){function DragAndDrop(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{handleEvent:_functions_js__WEBPACK_IMPORTED_MODULE_4__.b})||this).readAsBuffer_=!1,_this.formats_=[];for(var formatConstructors=options.formatConstructors?options.formatConstructors:[],i=0,ii=formatConstructors.length;i<ii;++i){var format=formatConstructors[i];"function"==typeof format&&(format=new format),_this.formats_.push(format),_this.readAsBuffer_=_this.readAsBuffer_||format.getType()===_format_FormatType_js__WEBPACK_IMPORTED_MODULE_2__.a.ARRAY_BUFFER}return _this.projection_=options.projection?Object(_proj_js__WEBPACK_IMPORTED_MODULE_5__.j)(options.projection):null,_this.dropListenKeys_=null,_this.source_=options.source||null,_this.target=options.target?options.target:null,_this}return __extends(DragAndDrop,_super),DragAndDrop.prototype.handleResult_=function(file,event){var text,result=event.target.result,map=this.getMap(),projection=this.projection_;projection||(projection=map.getView().getProjection());for(var formats=this.formats_,i=0,ii=formats.length;i<ii;++i){var format=formats[i],input=result;this.readAsBuffer_&&format.getType()!==_format_FormatType_js__WEBPACK_IMPORTED_MODULE_2__.a.ARRAY_BUFFER&&(void 0===text&&(text=(new TextDecoder).decode(result)),input=text);var features=this.tryReadFeatures_(format,input,{featureProjection:projection});if(features&&features.length>0){this.source_&&(this.source_.clear(),this.source_.addFeatures(features)),this.dispatchEvent(new DragAndDropEvent("addfeatures",file,features,projection));break}}},DragAndDrop.prototype.registerListeners_=function(){var map=this.getMap();if(map){var dropArea=this.target?this.target:map.getViewport();this.dropListenKeys_=[Object(_events_js__WEBPACK_IMPORTED_MODULE_6__.a)(dropArea,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.DROP,this.handleDrop,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_6__.a)(dropArea,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.DRAGENTER,this.handleStop,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_6__.a)(dropArea,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.DRAGOVER,this.handleStop,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_6__.a)(dropArea,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.DROP,this.handleStop,this)]}},DragAndDrop.prototype.setActive=function(active){!this.getActive()&&active&&this.registerListeners_(),this.getActive()&&!active&&this.unregisterListeners_(),_super.prototype.setActive.call(this,active)},DragAndDrop.prototype.setMap=function(map){this.unregisterListeners_(),_super.prototype.setMap.call(this,map),this.getActive()&&this.registerListeners_()},DragAndDrop.prototype.tryReadFeatures_=function(format,text,options){try{return format.readFeatures(text,options)}catch(e){return null}},DragAndDrop.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(_events_js__WEBPACK_IMPORTED_MODULE_6__.c),this.dropListenKeys_=null)},DragAndDrop.prototype.handleDrop=function(event){for(var files=event.dataTransfer.files,i=0,ii=files.length;i<ii;++i){var file=files.item(i),reader=new FileReader;reader.addEventListener(_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.LOAD,this.handleResult_.bind(this,file)),this.readAsBuffer_?reader.readAsArrayBuffer(file):reader.readAsText(file)}},DragAndDrop.prototype.handleStop=function(event){event.stopPropagation(),event.preventDefault(),event.dataTransfer.dropEffect="copy"},DragAndDrop}(_Interaction_js__WEBPACK_IMPORTED_MODULE_3__.a);__webpack_exports__.a=DragAndDrop},iNpl:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,GeometryLayout=__webpack_require__("Uhtb"),GeometryType=__webpack_require__("9iPr"),MultiPoint=__webpack_require__("mkQN"),Polygon=__webpack_require__("W8M7"),SimpleGeometry=__webpack_require__("mrzG"),closest=__webpack_require__("l2lA"),ol_extent=__webpack_require__("CvXi"),deflate=__webpack_require__("q7cr"),array=__webpack_require__("n15R"),interiorpoint=__webpack_require__("Cp04"),inflate=__webpack_require__("u2yf"),intersectsextent=__webpack_require__("xWBw"),orient=__webpack_require__("TZgD"),flat_area=__webpack_require__("tYnX"),contains=__webpack_require__("JfHk"),simplify=__webpack_require__("HEh+"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),MultiPolygon_MultiPolygon=function(_super){function MultiPolygon(coordinates,opt_layout,opt_endss){var _this=_super.call(this)||this;if(_this.endss_=[],_this.flatInteriorPointsRevision_=-1,_this.flatInteriorPoints_=null,_this.maxDelta_=-1,_this.maxDeltaRevision_=-1,_this.orientedRevision_=-1,_this.orientedFlatCoordinates_=null,!opt_endss&&!Array.isArray(coordinates[0])){for(var layout=_this.getLayout(),polygons=coordinates,flatCoordinates=[],endss=[],i=0,ii=polygons.length;i<ii;++i){var polygon=polygons[i];0===i&&(layout=polygon.getLayout());for(var offset=flatCoordinates.length,ends=polygon.getEnds(),j=0,jj=ends.length;j<jj;++j)ends[j]+=offset;Object(array.c)(flatCoordinates,polygon.getFlatCoordinates()),endss.push(ends)}opt_layout=layout,coordinates=flatCoordinates,opt_endss=endss}return void 0!==opt_layout&&opt_endss?(_this.setFlatCoordinates(opt_layout,coordinates),_this.endss_=opt_endss):_this.setCoordinates(coordinates,opt_layout),_this}return __extends(MultiPolygon,_super),MultiPolygon.prototype.appendPolygon=function(polygon){var ends;if(this.flatCoordinates){var offset=this.flatCoordinates.length;Object(array.c)(this.flatCoordinates,polygon.getFlatCoordinates());for(var i=0,ii=(ends=polygon.getEnds().slice()).length;i<ii;++i)ends[i]+=offset}else this.flatCoordinates=polygon.getFlatCoordinates().slice(),ends=polygon.getEnds().slice(),this.endss_.push();this.endss_.push(ends),this.changed()},MultiPolygon.prototype.clone=function(){for(var len=this.endss_.length,newEndss=new Array(len),i=0;i<len;++i)newEndss[i]=this.endss_[i].slice();var multiPolygon=new MultiPolygon(this.flatCoordinates.slice(),this.layout,newEndss);return multiPolygon.applyProperties(this),multiPolygon},MultiPolygon.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<Object(ol_extent.e)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(closest.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(closest.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))},MultiPolygon.prototype.containsXY=function(x,y){return Object(contains.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x,y)},MultiPolygon.prototype.getArea=function(){return Object(flat_area.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},MultiPolygon.prototype.getCoordinates=function(opt_right){var flatCoordinates;return void 0!==opt_right?(flatCoordinates=this.getOrientedFlatCoordinates().slice(),Object(orient.d)(flatCoordinates,0,this.endss_,this.stride,opt_right)):flatCoordinates=this.flatCoordinates,Object(inflate.c)(flatCoordinates,0,this.endss_,this.stride)},MultiPolygon.prototype.getEndss=function(){return this.endss_},MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var flatCenters=function(flatCoordinates,offset,endss,stride){for(var flatCenters=[],extent=Object(ol_extent.j)(),i=0,ii=endss.length;i<ii;++i){var ends=endss[i];extent=Object(ol_extent.o)(flatCoordinates,offset,ends[0],stride),flatCenters.push((extent[0]+extent[2])/2,(extent[1]+extent[3])/2),offset=ends[ends.length-1]}return flatCenters}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(interiorpoint.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,flatCenters),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},MultiPolygon.prototype.getInteriorPoints=function(){return new MultiPoint.a(this.getFlatInteriorPoints().slice(),GeometryLayout.a.XYM)},MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var flatCoordinates=this.flatCoordinates;Object(orient.b)(flatCoordinates,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=flatCoordinates:(this.orientedFlatCoordinates_=flatCoordinates.slice(),this.orientedFlatCoordinates_.length=Object(orient.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},MultiPolygon.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[],simplifiedEndss=[];return simplifiedFlatCoordinates.length=Object(simplify.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(squaredTolerance),simplifiedFlatCoordinates,0,simplifiedEndss),new MultiPolygon(simplifiedFlatCoordinates,GeometryLayout.a.XY,simplifiedEndss)},MultiPolygon.prototype.getPolygon=function(index){if(index<0||this.endss_.length<=index)return null;var offset;if(0===index)offset=0;else{var prevEnds=this.endss_[index-1];offset=prevEnds[prevEnds.length-1]}var ends=this.endss_[index].slice(),end=ends[ends.length-1];if(0!==offset)for(var i=0,ii=ends.length;i<ii;++i)ends[i]-=offset;return new Polygon.a(this.flatCoordinates.slice(offset,end),this.layout,ends)},MultiPolygon.prototype.getPolygons=function(){for(var layout=this.layout,flatCoordinates=this.flatCoordinates,endss=this.endss_,polygons=[],offset=0,i=0,ii=endss.length;i<ii;++i){var ends=endss[i].slice(),end=ends[ends.length-1];if(0!==offset)for(var j=0,jj=ends.length;j<jj;++j)ends[j]-=offset;var polygon=new Polygon.a(flatCoordinates.slice(offset,end),layout,ends);polygons.push(polygon),offset=end}return polygons},MultiPolygon.prototype.getType=function(){return GeometryType.a.MULTI_POLYGON},MultiPolygon.prototype.intersectsExtent=function(extent){return Object(intersectsextent.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,extent)},MultiPolygon.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,3),this.flatCoordinates||(this.flatCoordinates=[]);var endss=Object(deflate.d)(this.flatCoordinates,0,coordinates,this.stride,this.endss_);if(0===endss.length)this.flatCoordinates.length=0;else{var lastEnds=endss[endss.length-1];this.flatCoordinates.length=0===lastEnds.length?0:lastEnds[lastEnds.length-1]}this.changed()},MultiPolygon}(SimpleGeometry.a);__webpack_exports__.a=MultiPolygon_MultiPolygon},iTBR:function(module,exports,__webpack_require__){(function(){var NodeType,XMLCharacterData,hasProp={}.hasOwnProperty;NodeType=__webpack_require__("Bl63"),XMLCharacterData=__webpack_require__("V4+3"),module.exports=function(superClass){function XMLComment(parent,text){if(XMLComment.__super__.constructor.call(this,parent),null==text)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=NodeType.Comment,this.value=this.stringify.comment(text)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLComment,superClass),XMLComment.prototype.clone=function(){return Object.create(this)},XMLComment.prototype.toString=function(options){return this.options.writer.comment(this,this.options.writer.filterOptions(options))},XMLComment}(XMLCharacterData)}).call(this)},jMVV:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return disable}),__webpack_require__.d(__webpack_exports__,"d",function(){return none}),__webpack_require__.d(__webpack_exports__,"a",function(){return createSnapToN}),__webpack_require__.d(__webpack_exports__,"b",function(){return createSnapToZero});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f8l7");function disable(rotation){return void 0!==rotation?0:void 0}function none(rotation){return void 0!==rotation?rotation:void 0}function createSnapToN(n){var theta=2*Math.PI/n;return function(rotation,opt_isMoving){return opt_isMoving?rotation:void 0!==rotation?rotation=Math.floor(rotation/theta+.5)*theta:void 0}}function createSnapToZero(opt_tolerance){var tolerance=opt_tolerance||Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.j)(5);return function(rotation,opt_isMoving){return opt_isMoving?rotation:void 0!==rotation?Math.abs(rotation)<=tolerance?0:rotation:void 0}}},jzee:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mld"),_proj_Units_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("/O31"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EwAT"),_transform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("qJZF"),_extent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("CvXi"),_proj_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("JW8z"),_functions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("V8uu"),_flat_transform_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("vvg4"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),tmpTransform=Object(_transform_js__WEBPACK_IMPORTED_MODULE_3__.c)(),Geometry=function(_super){function Geometry(){var _this=_super.call(this)||this;return _this.extent_=Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.j)(),_this.extentRevision_=-1,_this.simplifiedGeometryMaxMinSquaredTolerance=0,_this.simplifiedGeometryRevision=0,_this.simplifyTransformedInternal=Object(_functions_js__WEBPACK_IMPORTED_MODULE_6__.d)(function(revision,squaredTolerance,opt_transform){if(!opt_transform)return this.getSimplifiedGeometry(squaredTolerance);var clone=this.clone();return clone.applyTransform(opt_transform),clone.getSimplifiedGeometry(squaredTolerance)}),_this}return __extends(Geometry,_super),Geometry.prototype.simplifyTransformed=function(squaredTolerance,opt_transform){return this.simplifyTransformedInternal(this.getRevision(),squaredTolerance,opt_transform)},Geometry.prototype.clone=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.containsXY=function(x,y){var coord=this.getClosestPoint([x,y]);return coord[0]===x&&coord[1]===y},Geometry.prototype.getClosestPoint=function(point,opt_closestPoint){var closestPoint=opt_closestPoint||[NaN,NaN];return this.closestPointXY(point[0],point[1],closestPoint,1/0),closestPoint},Geometry.prototype.intersectsCoordinate=function(coordinate){return this.containsXY(coordinate[0],coordinate[1])},Geometry.prototype.computeExtent=function(extent){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.getExtent=function(opt_extent){if(this.extentRevision_!=this.getRevision()){var extent=this.computeExtent(this.extent_);(isNaN(extent[0])||isNaN(extent[1]))&&Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.l)(extent),this.extentRevision_=this.getRevision()}return Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.H)(this.extent_,opt_extent)},Geometry.prototype.rotate=function(angle,anchor){Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.scale=function(sx,opt_sy,opt_anchor){Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.simplify=function(tolerance){return this.getSimplifiedGeometry(tolerance*tolerance)},Geometry.prototype.getSimplifiedGeometry=function(squaredTolerance){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.getType=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.applyTransform=function(transformFn){Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.intersectsExtent=function(extent){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.translate=function(deltaX,deltaY){Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},Geometry.prototype.transform=function(source,destination){var sourceProj=Object(_proj_js__WEBPACK_IMPORTED_MODULE_5__.j)(source),transformFn=sourceProj.getUnits()==_proj_Units_js__WEBPACK_IMPORTED_MODULE_1__.b.TILE_PIXELS?function(inCoordinates,outCoordinates,stride){var pixelExtent=sourceProj.getExtent(),projectedExtent=sourceProj.getWorldExtent(),scale=Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.z)(projectedExtent)/Object(_extent_js__WEBPACK_IMPORTED_MODULE_4__.z)(pixelExtent);return Object(_transform_js__WEBPACK_IMPORTED_MODULE_3__.b)(tmpTransform,projectedExtent[0],projectedExtent[3],scale,-scale,0,0,0),Object(_flat_transform_js__WEBPACK_IMPORTED_MODULE_7__.c)(inCoordinates,0,inCoordinates.length,stride,tmpTransform,outCoordinates),Object(_proj_js__WEBPACK_IMPORTED_MODULE_5__.l)(sourceProj,destination)(inCoordinates,outCoordinates,stride)}:Object(_proj_js__WEBPACK_IMPORTED_MODULE_5__.l)(sourceProj,destination);return this.applyTransform(transformFn),this},Geometry}(_Object_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=Geometry},"kVK+":function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},kud4:function(module,exports,__webpack_require__){(function(){var DocumentPosition,NodeType,XMLCData,XMLComment,XMLDeclaration,XMLDocType,XMLDummy,XMLElement,XMLNodeList,XMLProcessingInstruction,XMLRaw,XMLText,getValue,isEmpty,isFunction,isObject,ref1,hasProp={}.hasOwnProperty;ref1=__webpack_require__("RfOz"),isObject=ref1.isObject,isFunction=ref1.isFunction,isEmpty=ref1.isEmpty,getValue=ref1.getValue,XMLElement=null,XMLCData=null,XMLComment=null,XMLDeclaration=null,XMLDocType=null,XMLRaw=null,XMLText=null,XMLProcessingInstruction=null,XMLDummy=null,NodeType=null,XMLNodeList=null,DocumentPosition=null,module.exports=function(){function XMLNode(parent1){this.parent=parent1,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,XMLElement||(XMLElement=__webpack_require__("uO6I"),XMLCData=__webpack_require__("U26E"),XMLComment=__webpack_require__("iTBR"),XMLDeclaration=__webpack_require__("Uo1N"),XMLDocType=__webpack_require__("1+OA"),XMLRaw=__webpack_require__("UNeu"),XMLText=__webpack_require__("nS9B"),XMLProcessingInstruction=__webpack_require__("8BaB"),XMLDummy=__webpack_require__("Dh7r"),NodeType=__webpack_require__("Bl63"),XMLNodeList=__webpack_require__("BMbm"),__webpack_require__("XCq/"),DocumentPosition=__webpack_require__("0dQ4"))}return Object.defineProperty(XMLNode.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(XMLNode.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(XMLNode.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(XMLNode.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(XMLNode.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new XMLNodeList(this.children)),this.childNodeList}}),Object.defineProperty(XMLNode.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(XMLNode.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(XMLNode.prototype,"previousSibling",{get:function(){var i;return i=this.parent.children.indexOf(this),this.parent.children[i-1]||null}}),Object.defineProperty(XMLNode.prototype,"nextSibling",{get:function(){var i;return i=this.parent.children.indexOf(this),this.parent.children[i+1]||null}}),Object.defineProperty(XMLNode.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(XMLNode.prototype,"textContent",{get:function(){var child,j,len,ref2,str;if(this.nodeType===NodeType.Element||this.nodeType===NodeType.DocumentFragment){for(str="",j=0,len=(ref2=this.children).length;j<len;j++)(child=ref2[j]).textContent&&(str+=child.textContent);return str}return null},set:function(value){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),XMLNode.prototype.setParent=function(parent){var j,len,ref2,results;for(this.parent=parent,parent&&(this.options=parent.options,this.stringify=parent.stringify),results=[],j=0,len=(ref2=this.children).length;j<len;j++)results.push(ref2[j].setParent(this));return results},XMLNode.prototype.element=function(name,attributes,text){var childNode,j,k,key,lastChild,len,len1,ref2,ref3,val;if(lastChild=null,null===attributes&&null==text&&(attributes=(ref2=[{},null])[0],text=ref2[1]),null==attributes&&(attributes={}),attributes=getValue(attributes),isObject(attributes)||(text=(ref3=[attributes,text])[0],attributes=ref3[1]),null!=name&&(name=getValue(name)),Array.isArray(name))for(j=0,len=name.length;j<len;j++)lastChild=this.element(name[j]);else if(isFunction(name))lastChild=this.element(name.apply());else if(isObject(name)){for(key in name)if(hasProp.call(name,key))if(isFunction(val=name[key])&&(val=val.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===key.indexOf(this.stringify.convertAttKey))lastChild=this.attribute(key.substr(this.stringify.convertAttKey.length),val);else if(!this.options.separateArrayItems&&Array.isArray(val)&&isEmpty(val))lastChild=this.dummy();else if(isObject(val)&&isEmpty(val))lastChild=this.element(key);else if(this.options.keepNullNodes||null!=val)if(!this.options.separateArrayItems&&Array.isArray(val))for(k=0,len1=val.length;k<len1;k++)(childNode={})[key]=val[k],lastChild=this.element(childNode);else isObject(val)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===key.indexOf(this.stringify.convertTextKey)?lastChild=this.element(val):(lastChild=this.element(key)).element(val):lastChild=this.element(key,val);else lastChild=this.dummy()}else lastChild=this.options.keepNullNodes||null!==text?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===name.indexOf(this.stringify.convertTextKey)?this.text(text):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===name.indexOf(this.stringify.convertCDataKey)?this.cdata(text):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===name.indexOf(this.stringify.convertCommentKey)?this.comment(text):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===name.indexOf(this.stringify.convertRawKey)?this.raw(text):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===name.indexOf(this.stringify.convertPIKey)?this.instruction(name.substr(this.stringify.convertPIKey.length),text):this.node(name,attributes,text):this.dummy();if(null==lastChild)throw new Error("Could not create any elements with: "+name+". "+this.debugInfo());return lastChild},XMLNode.prototype.insertBefore=function(name,attributes,text){var child,i,newChild,refChild,removed;if(null!=name?name.type:void 0)return refChild=attributes,(newChild=name).setParent(this),refChild?(i=children.indexOf(refChild),removed=children.splice(i),children.push(newChild),Array.prototype.push.apply(children,removed)):children.push(newChild),newChild;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(name));return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i),child=this.parent.element(name,attributes,text),Array.prototype.push.apply(this.parent.children,removed),child},XMLNode.prototype.insertAfter=function(name,attributes,text){var child,i,removed;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(name));return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i+1),child=this.parent.element(name,attributes,text),Array.prototype.push.apply(this.parent.children,removed),child},XMLNode.prototype.remove=function(){var i;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return i=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[i,i-i+1].concat([])),this.parent},XMLNode.prototype.node=function(name,attributes,text){var child,ref2;return null!=name&&(name=getValue(name)),attributes||(attributes={}),attributes=getValue(attributes),isObject(attributes)||(text=(ref2=[attributes,text])[0],attributes=ref2[1]),child=new XMLElement(this,name,attributes),null!=text&&child.text(text),this.children.push(child),child},XMLNode.prototype.text=function(value){var child;return isObject(value)&&this.element(value),child=new XMLText(this,value),this.children.push(child),this},XMLNode.prototype.cdata=function(value){var child;return child=new XMLCData(this,value),this.children.push(child),this},XMLNode.prototype.comment=function(value){var child;return child=new XMLComment(this,value),this.children.push(child),this},XMLNode.prototype.commentBefore=function(value){var i,removed;return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i),this.parent.comment(value),Array.prototype.push.apply(this.parent.children,removed),this},XMLNode.prototype.commentAfter=function(value){var i,removed;return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i+1),this.parent.comment(value),Array.prototype.push.apply(this.parent.children,removed),this},XMLNode.prototype.raw=function(value){var child;return child=new XMLRaw(this,value),this.children.push(child),this},XMLNode.prototype.dummy=function(){return new XMLDummy(this)},XMLNode.prototype.instruction=function(target,value){var insTarget,instruction,j,len;if(null!=target&&(target=getValue(target)),null!=value&&(value=getValue(value)),Array.isArray(target))for(j=0,len=target.length;j<len;j++)this.instruction(insTarget=target[j]);else if(isObject(target))for(insTarget in target)hasProp.call(target,insTarget)&&this.instruction(insTarget,target[insTarget]);else isFunction(value)&&(value=value.apply()),instruction=new XMLProcessingInstruction(this,target,value),this.children.push(instruction);return this},XMLNode.prototype.instructionBefore=function(target,value){var i,removed;return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i),this.parent.instruction(target,value),Array.prototype.push.apply(this.parent.children,removed),this},XMLNode.prototype.instructionAfter=function(target,value){var i,removed;return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i+1),this.parent.instruction(target,value),Array.prototype.push.apply(this.parent.children,removed),this},XMLNode.prototype.declaration=function(version,encoding,standalone){var doc,xmldec;return doc=this.document(),xmldec=new XMLDeclaration(doc,version,encoding,standalone),0===doc.children.length?doc.children.unshift(xmldec):doc.children[0].type===NodeType.Declaration?doc.children[0]=xmldec:doc.children.unshift(xmldec),doc.root()||doc},XMLNode.prototype.dtd=function(pubID,sysID){var doc,doctype,i,j,k,len,len1,ref2,ref3;for(doc=this.document(),doctype=new XMLDocType(doc,pubID,sysID),i=j=0,len=(ref2=doc.children).length;j<len;i=++j)if(ref2[i].type===NodeType.DocType)return doc.children[i]=doctype,doctype;for(i=k=0,len1=(ref3=doc.children).length;k<len1;i=++k)if(ref3[i].isRoot)return doc.children.splice(i,0,doctype),doctype;return doc.children.push(doctype),doctype},XMLNode.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},XMLNode.prototype.root=function(){var node;for(node=this;node;){if(node.type===NodeType.Document)return node.rootObject;if(node.isRoot)return node;node=node.parent}},XMLNode.prototype.document=function(){var node;for(node=this;node;){if(node.type===NodeType.Document)return node;node=node.parent}},XMLNode.prototype.end=function(options){return this.document().end(options)},XMLNode.prototype.prev=function(){var i;if((i=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[i-1]},XMLNode.prototype.next=function(){var i;if(-1===(i=this.parent.children.indexOf(this))||i===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[i+1]},XMLNode.prototype.importDocument=function(doc){var clonedRoot;return(clonedRoot=doc.root().clone()).parent=this,clonedRoot.isRoot=!1,this.children.push(clonedRoot),this},XMLNode.prototype.debugInfo=function(name){var ref2,ref3;return null!=(name=name||this.name)||(null!=(ref2=this.parent)?ref2.name:void 0)?null==name?"parent: <"+this.parent.name+">":(null!=(ref3=this.parent)?ref3.name:void 0)?"node: <"+name+">, parent: <"+this.parent.name+">":"node: <"+name+">":""},XMLNode.prototype.ele=function(name,attributes,text){return this.element(name,attributes,text)},XMLNode.prototype.nod=function(name,attributes,text){return this.node(name,attributes,text)},XMLNode.prototype.txt=function(value){return this.text(value)},XMLNode.prototype.dat=function(value){return this.cdata(value)},XMLNode.prototype.com=function(value){return this.comment(value)},XMLNode.prototype.ins=function(target,value){return this.instruction(target,value)},XMLNode.prototype.doc=function(){return this.document()},XMLNode.prototype.dec=function(version,encoding,standalone){return this.declaration(version,encoding,standalone)},XMLNode.prototype.e=function(name,attributes,text){return this.element(name,attributes,text)},XMLNode.prototype.n=function(name,attributes,text){return this.node(name,attributes,text)},XMLNode.prototype.t=function(value){return this.text(value)},XMLNode.prototype.d=function(value){return this.cdata(value)},XMLNode.prototype.c=function(value){return this.comment(value)},XMLNode.prototype.r=function(value){return this.raw(value)},XMLNode.prototype.i=function(target,value){return this.instruction(target,value)},XMLNode.prototype.u=function(){return this.up()},XMLNode.prototype.importXMLBuilder=function(doc){return this.importDocument(doc)},XMLNode.prototype.replaceChild=function(newChild,oldChild){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.removeChild=function(oldChild){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.appendChild=function(newChild){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.hasChildNodes=function(){return 0!==this.children.length},XMLNode.prototype.cloneNode=function(deep){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.isSupported=function(feature,version){return!0},XMLNode.prototype.hasAttributes=function(){return 0!==this.attribs.length},XMLNode.prototype.compareDocumentPosition=function(other){var res;return this===other?0:this.document()!==other.document()?(res=DocumentPosition.Disconnected|DocumentPosition.ImplementationSpecific,Math.random()<.5?res|=DocumentPosition.Preceding:res|=DocumentPosition.Following,res):this.isAncestor(other)?DocumentPosition.Contains|DocumentPosition.Preceding:this.isDescendant(other)?DocumentPosition.Contains|DocumentPosition.Following:this.isPreceding(other)?DocumentPosition.Preceding:DocumentPosition.Following},XMLNode.prototype.isSameNode=function(other){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.lookupPrefix=function(namespaceURI){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.isDefaultNamespace=function(namespaceURI){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.lookupNamespaceURI=function(prefix){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.isEqualNode=function(node){var i,j,ref2;if(node.nodeType!==this.nodeType)return!1;if(node.children.length!==this.children.length)return!1;for(i=j=0,ref2=this.children.length-1;0<=ref2?j<=ref2:j>=ref2;i=0<=ref2?++j:--j)if(!this.children[i].isEqualNode(node.children[i]))return!1;return!0},XMLNode.prototype.getFeature=function(feature,version){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.setUserData=function(key,data,handler){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.getUserData=function(key){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLNode.prototype.contains=function(other){return!!other&&(other===this||this.isDescendant(other))},XMLNode.prototype.isDescendant=function(node){var child,j,len,ref2;for(j=0,len=(ref2=this.children).length;j<len;j++){if(node===(child=ref2[j]))return!0;if(child.isDescendant(node))return!0}return!1},XMLNode.prototype.isAncestor=function(node){return node.isDescendant(this)},XMLNode.prototype.isPreceding=function(node){var nodePos,thisPos;return nodePos=this.treePosition(node),thisPos=this.treePosition(this),-1!==nodePos&&-1!==thisPos&&nodePos<thisPos},XMLNode.prototype.isFollowing=function(node){var nodePos,thisPos;return nodePos=this.treePosition(node),thisPos=this.treePosition(this),-1!==nodePos&&-1!==thisPos&&nodePos>thisPos},XMLNode.prototype.treePosition=function(node){var found,pos;return pos=0,found=!1,this.foreachTreeNode(this.document(),function(childNode){if(pos++,!found&&childNode===node)return found=!0}),found?pos:-1},XMLNode.prototype.foreachTreeNode=function(node,func){var child,j,len,ref2,res;for(node||(node=this.document()),j=0,len=(ref2=node.children).length;j<len;j++){if(res=func(child=ref2[j]))return res;if(res=this.foreachTreeNode(child,func))return res}},XMLNode}()}).call(this)},kvpX:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return assert});var _AssertionError_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("g1uh");function assert(assertion,errorCode){if(!assertion)throw new _AssertionError_js__WEBPACK_IMPORTED_MODULE_0__.a(errorCode)}},l2lA:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return maxSquaredDelta}),__webpack_require__.d(__webpack_exports__,"a",function(){return arrayMaxSquaredDelta}),__webpack_require__.d(__webpack_exports__,"f",function(){return multiArrayMaxSquaredDelta}),__webpack_require__.d(__webpack_exports__,"d",function(){return assignClosestPoint}),__webpack_require__.d(__webpack_exports__,"b",function(){return assignClosestArrayPoint}),__webpack_require__.d(__webpack_exports__,"c",function(){return assignClosestMultiArrayPoint});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f8l7");function assignClosest(flatCoordinates,offset1,offset2,stride,x,y,closestPoint){var offset,x1=flatCoordinates[offset1],y1=flatCoordinates[offset1+1],dx=flatCoordinates[offset2]-x1,dy=flatCoordinates[offset2+1]-y1;if(0===dx&&0===dy)offset=offset1;else{var t=((x-x1)*dx+(y-y1)*dy)/(dx*dx+dy*dy);if(t>1)offset=offset2;else{if(t>0){for(var i=0;i<stride;++i)closestPoint[i]=Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.c)(flatCoordinates[offset1+i],flatCoordinates[offset2+i],t);return void(closestPoint.length=stride)}offset=offset1}}for(i=0;i<stride;++i)closestPoint[i]=flatCoordinates[offset+i];closestPoint.length=stride}function maxSquaredDelta(flatCoordinates,offset,end,stride,max){var x1=flatCoordinates[offset],y1=flatCoordinates[offset+1];for(offset+=stride;offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1],squaredDelta=Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.g)(x1,y1,x2,y2);squaredDelta>max&&(max=squaredDelta),x1=x2,y1=y2}return max}function arrayMaxSquaredDelta(flatCoordinates,offset,ends,stride,max){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];max=maxSquaredDelta(flatCoordinates,offset,end,stride,max),offset=end}return max}function multiArrayMaxSquaredDelta(flatCoordinates,offset,endss,stride,max){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];max=arrayMaxSquaredDelta(flatCoordinates,offset,ends,stride,max),offset=ends[ends.length-1]}return max}function assignClosestPoint(flatCoordinates,offset,end,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,opt_tmpPoint){if(offset==end)return minSquaredDistance;var i,squaredDistance;if(0===maxDelta){if((squaredDistance=Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.g)(x,y,flatCoordinates[offset],flatCoordinates[offset+1]))<minSquaredDistance){for(i=0;i<stride;++i)closestPoint[i]=flatCoordinates[offset+i];return closestPoint.length=stride,squaredDistance}return minSquaredDistance}for(var tmpPoint=opt_tmpPoint||[NaN,NaN],index=offset+stride;index<end;)if(assignClosest(flatCoordinates,index-stride,index,stride,x,y,tmpPoint),(squaredDistance=Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.g)(x,y,tmpPoint[0],tmpPoint[1]))<minSquaredDistance){for(minSquaredDistance=squaredDistance,i=0;i<stride;++i)closestPoint[i]=tmpPoint[i];closestPoint.length=stride,index+=stride}else index+=stride*Math.max((Math.sqrt(squaredDistance)-Math.sqrt(minSquaredDistance))/maxDelta|0,1);if(isRing&&(assignClosest(flatCoordinates,end-stride,offset,stride,x,y,tmpPoint),(squaredDistance=Object(_math_js__WEBPACK_IMPORTED_MODULE_0__.g)(x,y,tmpPoint[0],tmpPoint[1]))<minSquaredDistance)){for(minSquaredDistance=squaredDistance,i=0;i<stride;++i)closestPoint[i]=tmpPoint[i];closestPoint.length=stride}return minSquaredDistance}function assignClosestArrayPoint(flatCoordinates,offset,ends,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,opt_tmpPoint){for(var tmpPoint=opt_tmpPoint||[NaN,NaN],i=0,ii=ends.length;i<ii;++i){var end=ends[i];minSquaredDistance=assignClosestPoint(flatCoordinates,offset,end,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint),offset=end}return minSquaredDistance}function assignClosestMultiArrayPoint(flatCoordinates,offset,endss,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,opt_tmpPoint){for(var tmpPoint=opt_tmpPoint||[NaN,NaN],i=0,ii=endss.length;i<ii;++i){var ends=endss[i];minSquaredDistance=assignClosestArrayPoint(flatCoordinates,offset,ends,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint),offset=ends[ends.length-1]}return minSquaredDistance}},mkQN:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9iPr"),_Point_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9ANI"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("mrzG"),_extent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("CvXi"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("q7cr"),_array_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("n15R"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("u2yf"),_math_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("f8l7"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),MultiPoint=function(_super){function MultiPoint(coordinates,opt_layout){var _this=_super.call(this)||this;return opt_layout&&!Array.isArray(coordinates[0])?_this.setFlatCoordinates(opt_layout,coordinates):_this.setCoordinates(coordinates,opt_layout),_this}return __extends(MultiPoint,_super),MultiPoint.prototype.appendPoint=function(point){this.flatCoordinates?Object(_array_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.flatCoordinates,point.getFlatCoordinates()):this.flatCoordinates=point.getFlatCoordinates().slice(),this.changed()},MultiPoint.prototype.clone=function(){var multiPoint=new MultiPoint(this.flatCoordinates.slice(),this.layout);return multiPoint.applyProperties(this),multiPoint},MultiPoint.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){if(minSquaredDistance<Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.e)(this.getExtent(),x,y))return minSquaredDistance;for(var flatCoordinates=this.flatCoordinates,stride=this.stride,i=0,ii=flatCoordinates.length;i<ii;i+=stride){var squaredDistance=Object(_math_js__WEBPACK_IMPORTED_MODULE_7__.g)(x,y,flatCoordinates[i],flatCoordinates[i+1]);if(squaredDistance<minSquaredDistance){minSquaredDistance=squaredDistance;for(var j=0;j<stride;++j)closestPoint[j]=flatCoordinates[i+j];closestPoint.length=stride}}return minSquaredDistance},MultiPoint.prototype.getCoordinates=function(){return Object(_flat_inflate_js__WEBPACK_IMPORTED_MODULE_6__.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},MultiPoint.prototype.getPoint=function(index){return index<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=index?null:new _Point_js__WEBPACK_IMPORTED_MODULE_1__.a(this.flatCoordinates.slice(index*this.stride,(index+1)*this.stride),this.layout)},MultiPoint.prototype.getPoints=function(){for(var flatCoordinates=this.flatCoordinates,layout=this.layout,stride=this.stride,points=[],i=0,ii=flatCoordinates.length;i<ii;i+=stride){var point=new _Point_js__WEBPACK_IMPORTED_MODULE_1__.a(flatCoordinates.slice(i,i+stride),layout);points.push(point)}return points},MultiPoint.prototype.getType=function(){return _GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POINT},MultiPoint.prototype.intersectsExtent=function(extent){for(var flatCoordinates=this.flatCoordinates,stride=this.stride,i=0,ii=flatCoordinates.length;i<ii;i+=stride){var x=flatCoordinates[i],y=flatCoordinates[i+1];if(Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.h)(extent,x,y))return!0}return!1},MultiPoint.prototype.setCoordinates=function(coordinates,opt_layout){this.setLayout(opt_layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(_flat_deflate_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.flatCoordinates,0,coordinates,this.stride),this.changed()},MultiPoint}(_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_2__.a);__webpack_exports__.a=MultiPoint},mrzG:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return transformGeom2D});var extendStatics,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("jzee"),_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Uhtb"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EwAT"),_extent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("CvXi"),_flat_transform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("vvg4"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),SimpleGeometry=function(_super){function SimpleGeometry(){var _this=_super.call(this)||this;return _this.layout=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XY,_this.stride=2,_this.flatCoordinates=null,_this}return __extends(SimpleGeometry,_super),SimpleGeometry.prototype.computeExtent=function(extent){return Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,extent)},SimpleGeometry.prototype.getCoordinates=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates},SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},SimpleGeometry.prototype.getLayout=function(){return this.layout},SimpleGeometry.prototype.getSimplifiedGeometry=function(squaredTolerance){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),squaredTolerance<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&squaredTolerance<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var simplifiedGeometry=this.getSimplifiedGeometryInternal(squaredTolerance);return simplifiedGeometry.getFlatCoordinates().length<this.flatCoordinates.length?simplifiedGeometry:(this.simplifiedGeometryMaxMinSquaredTolerance=squaredTolerance,this)},SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){return this},SimpleGeometry.prototype.getStride=function(){return this.stride},SimpleGeometry.prototype.setFlatCoordinates=function(layout,flatCoordinates){this.stride=getStrideForLayout(layout),this.layout=layout,this.flatCoordinates=flatCoordinates},SimpleGeometry.prototype.setCoordinates=function(coordinates,opt_layout){Object(_util_js__WEBPACK_IMPORTED_MODULE_2__.b)()},SimpleGeometry.prototype.setLayout=function(layout,coordinates,nesting){var stride;if(layout)stride=getStrideForLayout(layout);else{for(var i=0;i<nesting;++i){if(0===coordinates.length)return this.layout=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XY,void(this.stride=2);coordinates=coordinates[0]}layout=function(stride){var layout;return 2==stride?layout=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XY:3==stride?layout=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XYZ:4==stride&&(layout=_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XYZM),layout}(stride=coordinates.length)}this.layout=layout,this.stride=stride},SimpleGeometry.prototype.applyTransform=function(transformFn){this.flatCoordinates&&(transformFn(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},SimpleGeometry.prototype.rotate=function(angle,anchor){var flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){var stride=this.getStride();Object(_flat_transform_js__WEBPACK_IMPORTED_MODULE_4__.a)(flatCoordinates,0,flatCoordinates.length,stride,angle,anchor,flatCoordinates),this.changed()}},SimpleGeometry.prototype.scale=function(sx,opt_sy,opt_anchor){var sy=opt_sy;void 0===sy&&(sy=sx);var anchor=opt_anchor;anchor||(anchor=Object(_extent_js__WEBPACK_IMPORTED_MODULE_3__.x)(this.getExtent()));var flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){var stride=this.getStride();Object(_flat_transform_js__WEBPACK_IMPORTED_MODULE_4__.b)(flatCoordinates,0,flatCoordinates.length,stride,sx,sy,anchor,flatCoordinates),this.changed()}},SimpleGeometry.prototype.translate=function(deltaX,deltaY){var flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){var stride=this.getStride();Object(_flat_transform_js__WEBPACK_IMPORTED_MODULE_4__.d)(flatCoordinates,0,flatCoordinates.length,stride,deltaX,deltaY,flatCoordinates),this.changed()}},SimpleGeometry}(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a);function getStrideForLayout(layout){var stride;return layout==_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XY?stride=2:layout==_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XYZ||layout==_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XYM?stride=3:layout==_GeometryLayout_js__WEBPACK_IMPORTED_MODULE_1__.a.XYZM&&(stride=4),stride}function transformGeom2D(simpleGeometry,transform,opt_dest){var flatCoordinates=simpleGeometry.getFlatCoordinates();if(flatCoordinates){var stride=simpleGeometry.getStride();return Object(_flat_transform_js__WEBPACK_IMPORTED_MODULE_4__.c)(flatCoordinates,0,flatCoordinates.length,stride,transform,opt_dest)}return null}__webpack_exports__.a=SimpleGeometry},n15R:function(module,__webpack_exports__,__webpack_require__){"use strict";function binarySearch(haystack,needle,opt_comparator){for(var mid,cmp,comparator=opt_comparator||numberSafeCompareFunction,low=0,high=haystack.length,found=!1;low<high;)(cmp=+comparator(haystack[mid=low+(high-low>>1)],needle))<0?low=mid+1:(high=mid,found=!cmp);return found?low:~low}function numberSafeCompareFunction(a,b){return a>b?1:a<b?-1:0}function includes(arr,obj){return arr.indexOf(obj)>=0}function linearFindNearest(arr,target,direction){var n=arr.length;if(arr[0]<=target)return 0;if(target<=arr[n-1])return n-1;var i=void 0;if(direction>0){for(i=1;i<n;++i)if(arr[i]<target)return i-1}else if(direction<0){for(i=1;i<n;++i)if(arr[i]<=target)return i}else for(i=1;i<n;++i){if(arr[i]==target)return i;if(arr[i]<target)return arr[i-1]-target<target-arr[i]?i-1:i}return n-1}function reverseSubArray(arr,begin,end){for(;begin<end;){var tmp=arr[begin];arr[begin]=arr[end],arr[end]=tmp,++begin,--end}}function extend(arr,data){for(var extension=Array.isArray(data)?data:[data],length=extension.length,i=0;i<length;i++)arr[arr.length]=extension[i]}function equals(arr1,arr2){var len1=arr1.length;if(len1!==arr2.length)return!1;for(var i=0;i<len1;i++)if(arr1[i]!==arr2[i])return!1;return!0}__webpack_require__.d(__webpack_exports__,"a",function(){return binarySearch}),__webpack_require__.d(__webpack_exports__,"f",function(){return numberSafeCompareFunction}),__webpack_require__.d(__webpack_exports__,"d",function(){return includes}),__webpack_require__.d(__webpack_exports__,"e",function(){return linearFindNearest}),__webpack_require__.d(__webpack_exports__,"g",function(){return reverseSubArray}),__webpack_require__.d(__webpack_exports__,"c",function(){return extend}),__webpack_require__.d(__webpack_exports__,"b",function(){return equals})},n6As:function(module,exports){(function(){module.exports=function(){function XMLDOMErrorHandler(){}return XMLDOMErrorHandler.prototype.handleError=function(error){throw new Error(error)},XMLDOMErrorHandler}()}).call(this)},nHi6:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Base_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("VWR+"),_Collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4wAk"),_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("GDrd"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("AdTM"),_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("e0/R"),_source_State_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bYNo"),_asserts_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("kvpX"),_obj_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("OPOH"),_Object_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4mld"),_extent_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("CvXi"),_util_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("EwAT"),_events_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),LayerGroup=function(_super){function LayerGroup(opt_options){var _this=this,options=opt_options||{},baseOptions=Object(_obj_js__WEBPACK_IMPORTED_MODULE_7__.a)({},options);delete baseOptions.layers;var layers=options.layers;return(_this=_super.call(this,baseOptions)||this).layersListenerKeys_=[],_this.listenerKeys_={},_this.addEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_8__.b)("layers"),_this.handleLayersChanged_),layers?Array.isArray(layers)?layers=new _Collection_js__WEBPACK_IMPORTED_MODULE_1__.a(layers.slice(),{unique:!0}):Object(_asserts_js__WEBPACK_IMPORTED_MODULE_6__.a)("function"==typeof layers.getArray,43):layers=new _Collection_js__WEBPACK_IMPORTED_MODULE_1__.a(void 0,{unique:!0}),_this.setLayers(layers),_this}return __extends(LayerGroup,_super),LayerGroup.prototype.handleLayerChange_=function(){this.changed()},LayerGroup.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(_events_js__WEBPACK_IMPORTED_MODULE_11__.c),this.layersListenerKeys_.length=0;var layers=this.getLayers();for(var id in this.layersListenerKeys_.push(Object(_events_js__WEBPACK_IMPORTED_MODULE_11__.a)(layers,_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__.a.ADD,this.handleLayersAdd_,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_11__.a)(layers,_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[id].forEach(_events_js__WEBPACK_IMPORTED_MODULE_11__.c);Object(_obj_js__WEBPACK_IMPORTED_MODULE_7__.b)(this.listenerKeys_);for(var layersArray=layers.getArray(),i=0,ii=layersArray.length;i<ii;i++){var layer=layersArray[i];this.listenerKeys_[Object(_util_js__WEBPACK_IMPORTED_MODULE_10__.c)(layer)]=[Object(_events_js__WEBPACK_IMPORTED_MODULE_11__.a)(layer,_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_4__.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_11__.a)(layer,_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},LayerGroup.prototype.handleLayersAdd_=function(collectionEvent){var layer=collectionEvent.element;this.listenerKeys_[Object(_util_js__WEBPACK_IMPORTED_MODULE_10__.c)(layer)]=[Object(_events_js__WEBPACK_IMPORTED_MODULE_11__.a)(layer,_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_4__.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_11__.a)(layer,_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__.a.CHANGE,this.handleLayerChange_,this)],this.changed()},LayerGroup.prototype.handleLayersRemove_=function(collectionEvent){var layer=collectionEvent.element,key=Object(_util_js__WEBPACK_IMPORTED_MODULE_10__.c)(layer);this.listenerKeys_[key].forEach(_events_js__WEBPACK_IMPORTED_MODULE_11__.c),delete this.listenerKeys_[key],this.changed()},LayerGroup.prototype.getLayers=function(){return this.get("layers")},LayerGroup.prototype.setLayers=function(layers){this.set("layers",layers)},LayerGroup.prototype.getLayersArray=function(opt_array){var array=void 0!==opt_array?opt_array:[];return this.getLayers().forEach(function(layer){layer.getLayersArray(array)}),array},LayerGroup.prototype.getLayerStatesArray=function(opt_states){var states=void 0!==opt_states?opt_states:[],pos=states.length;this.getLayers().forEach(function(layer){layer.getLayerStatesArray(states)});for(var ownLayerState=this.getLayerState(),i=pos,ii=states.length;i<ii;i++){var layerState=states[i];layerState.opacity*=ownLayerState.opacity,layerState.visible=layerState.visible&&ownLayerState.visible,layerState.maxResolution=Math.min(layerState.maxResolution,ownLayerState.maxResolution),layerState.minResolution=Math.max(layerState.minResolution,ownLayerState.minResolution),layerState.minZoom=Math.max(layerState.minZoom,ownLayerState.minZoom),layerState.maxZoom=Math.min(layerState.maxZoom,ownLayerState.maxZoom),void 0!==ownLayerState.extent&&(layerState.extent=void 0!==layerState.extent?Object(_extent_js__WEBPACK_IMPORTED_MODULE_9__.A)(layerState.extent,ownLayerState.extent):ownLayerState.extent)}return states},LayerGroup.prototype.getSourceState=function(){return _source_State_js__WEBPACK_IMPORTED_MODULE_5__.a.READY},LayerGroup}(_Base_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=LayerGroup},nS9B:function(module,exports,__webpack_require__){(function(){var NodeType,XMLCharacterData,hasProp={}.hasOwnProperty;NodeType=__webpack_require__("Bl63"),XMLCharacterData=__webpack_require__("V4+3"),module.exports=function(superClass){function XMLText(parent,text){if(XMLText.__super__.constructor.call(this,parent),null==text)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=NodeType.Text,this.value=this.stringify.text(text)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLText,superClass),Object.defineProperty(XMLText.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(XMLText.prototype,"wholeText",{get:function(){var next,prev,str;for(str="",prev=this.previousSibling;prev;)str=prev.data+str,prev=prev.previousSibling;for(str+=this.data,next=this.nextSibling;next;)str+=next.data,next=next.nextSibling;return str}}),XMLText.prototype.clone=function(){return Object.create(this)},XMLText.prototype.toString=function(options){return this.options.writer.text(this,this.options.writer.filterOptions(options))},XMLText.prototype.splitText=function(offset){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLText.prototype.replaceWholeText=function(content){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLText}(XMLCharacterData)}).call(this)},nUcq:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Control_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("OQAH"),_proj_Units_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("/O31"),_css_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zX6e"),_proj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("JW8z"),_asserts_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("kvpX"),_Object_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4mld"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),LEADING_DIGITS=[1,2,5],ScaleLine=function(_super){function ScaleLine(opt_options){var _this=this,options=opt_options||{},className=void 0!==options.className?options.className:options.bar?"ol-scale-bar":"ol-scale-line";return(_this=_super.call(this,{element:document.createElement("div"),render:options.render,target:options.target})||this).innerElement_=document.createElement("div"),_this.innerElement_.className=className+"-inner",_this.element.className=className+" "+_css_js__WEBPACK_IMPORTED_MODULE_2__.e,_this.element.appendChild(_this.innerElement_),_this.viewState_=null,_this.minWidth_=void 0!==options.minWidth?options.minWidth:64,_this.renderedVisible_=!1,_this.renderedWidth_=void 0,_this.renderedHTML_="",_this.addEventListener(Object(_Object_js__WEBPACK_IMPORTED_MODULE_5__.b)("units"),_this.handleUnitsChanged_),_this.setUnits(options.units||"metric"),_this.scaleBar_=options.bar||!1,_this.scaleBarSteps_=options.steps||4,_this.scaleBarText_=options.text||!1,_this.dpi_=options.dpi||void 0,_this}return __extends(ScaleLine,_super),ScaleLine.prototype.getUnits=function(){return this.get("units")},ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()},ScaleLine.prototype.setUnits=function(units){this.set("units",units)},ScaleLine.prototype.setDpi=function(dpi){this.dpi_=dpi},ScaleLine.prototype.updateElement_=function(){var viewState=this.viewState_;if(viewState){var center=viewState.center,projection=viewState.projection,units=this.getUnits(),pointResolutionUnits="degrees"==units?_proj_Units_js__WEBPACK_IMPORTED_MODULE_1__.b.DEGREES:_proj_Units_js__WEBPACK_IMPORTED_MODULE_1__.b.METERS,pointResolution=Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.k)(projection,viewState.resolution,center,pointResolutionUnits),minWidth=this.minWidth_*(this.dpi_||90.7142857142857)/90.7142857142857,nominalCount=minWidth*pointResolution,suffix="";if("degrees"==units){var metersPerDegree=_proj_js__WEBPACK_IMPORTED_MODULE_3__.a[_proj_Units_js__WEBPACK_IMPORTED_MODULE_1__.b.DEGREES];(nominalCount*=metersPerDegree)<metersPerDegree/60?(suffix="",pointResolution*=3600):nominalCount<metersPerDegree?(suffix="",pointResolution*=60):suffix=""}else"imperial"==units?nominalCount<.9144?(suffix="in",pointResolution/=.0254):nominalCount<1609.344?(suffix="ft",pointResolution/=.3048):(suffix="mi",pointResolution/=1609.344):"nautical"==units?(pointResolution/=1852,suffix="nm"):"metric"==units?nominalCount<.001?(suffix="m",pointResolution*=1e6):nominalCount<1?(suffix="mm",pointResolution*=1e3):nominalCount<1e3?suffix="m":(suffix="km",pointResolution/=1e3):"us"==units?nominalCount<.9144?(suffix="in",pointResolution*=39.37):nominalCount<1609.344?(suffix="ft",pointResolution/=.30480061):(suffix="mi",pointResolution/=1609.3472):Object(_asserts_js__WEBPACK_IMPORTED_MODULE_4__.a)(!1,33);for(var count,width,decimalCount,html,i=3*Math.floor(Math.log(minWidth*pointResolution)/Math.log(10));;){decimalCount=Math.floor(i/3);var decimal=Math.pow(10,decimalCount);if(count=LEADING_DIGITS[(i%3+3)%3]*decimal,width=Math.round(count/pointResolution),isNaN(width))return this.element.style.display="none",void(this.renderedVisible_=!1);if(width>=minWidth)break;++i}html=this.scaleBar_?this.createScaleBar(width,count,suffix):count.toFixed(decimalCount<0?-decimalCount:0)+" "+suffix,this.renderedHTML_!=html&&(this.innerElement_.innerHTML=html,this.renderedHTML_=html),this.renderedWidth_!=width&&(this.innerElement_.style.width=width+"px",this.renderedWidth_=width),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},ScaleLine.prototype.createScaleBar=function(width,scale,suffix){for(var mapScale="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),scaleSteps=[],stepWidth=width/this.scaleBarSteps_,backgroundColor="#ffffff",i=0;i<this.scaleBarSteps_;i++)0===i&&scaleSteps.push(this.createMarker("absolute",i)),scaleSteps.push('<div><div class="ol-scale-singlebar" style="width: '+stepWidth+"px;background-color: "+backgroundColor+';"></div>'+this.createMarker("relative",i)+(i%2==0||2===this.scaleBarSteps_?this.createStepText(i,width,!1,scale,suffix):"")+"</div>"),i===this.scaleBarSteps_-1&&scaleSteps.push(this.createStepText(i+1,width,!0,scale,suffix)),backgroundColor="#ffffff"===backgroundColor?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+width+'px;">'+mapScale+"</div>":"")+scaleSteps.join("")+"</div>"},ScaleLine.prototype.createMarker=function(position,i){return'<div class="ol-scale-step-marker" style="position: '+position+";top: "+("absolute"===position?3:-10)+'px;"></div>'},ScaleLine.prototype.createStepText=function(i,width,isLast,scale,suffix){var length=0===i?0:Math.round(scale/this.scaleBarSteps_*i*100)/100;return'<div class="ol-scale-step-text" style="margin-left: '+(0===i?-3:width/this.scaleBarSteps_*-1)+"px;text-align: "+(0===i?"left":"center")+"; min-width: "+(0===i?0:width/this.scaleBarSteps_*2)+"px;left: "+(isLast?width+"px":"unset")+';">'+length+(0===i?"":" "+suffix)+"</div>"},ScaleLine.prototype.getScaleForResolution=function(){var resolution=Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.k)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),dpi=this.dpi_||90.7142857142857,mpu=this.viewState_.projection.getMetersPerUnit();return parseFloat(resolution.toString())*mpu*(1e3/25.4)*dpi},ScaleLine.prototype.render=function(mapEvent){var frameState=mapEvent.frameState;this.viewState_=frameState?frameState.viewState:null,this.updateElement_()},ScaleLine}(_Control_js__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=ScaleLine},oscj:function(module,__webpack_exports__,__webpack_require__){"use strict";var ol_Object=__webpack_require__("4mld"),GeometryType=__webpack_require__("9iPr"),Units=__webpack_require__("/O31"),ViewHint=__webpack_require__("SW/M"),proj=__webpack_require__("JW8z"),functions=__webpack_require__("V8uu"),ol_coordinate=__webpack_require__("pWiS"),asserts=__webpack_require__("kvpX"),obj=__webpack_require__("OPOH"),math=__webpack_require__("f8l7");function createExtent(extent,onlyCenter,smooth){return function(center,resolution,size,opt_isMoving,opt_centerShift){if(center){var viewWidth=onlyCenter?0:size[0]*resolution,viewHeight=onlyCenter?0:size[1]*resolution,shiftX=opt_centerShift?opt_centerShift[0]:0,shiftY=opt_centerShift?opt_centerShift[1]:0,minX=extent[0]+viewWidth/2+shiftX,maxX=extent[2]-viewWidth/2+shiftX,minY=extent[1]+viewHeight/2+shiftY,maxY=extent[3]-viewHeight/2+shiftY;minX>maxX&&(maxX=minX=(maxX+minX)/2),minY>maxY&&(maxY=minY=(maxY+minY)/2);var x=Object(math.a)(center[0],minX,maxX),y=Object(math.a)(center[1],minY,maxY),ratio=30*resolution;return opt_isMoving&&smooth&&(x+=-ratio*Math.log(1+Math.max(0,minX-center[0])/ratio)+ratio*Math.log(1+Math.max(0,center[0]-maxX)/ratio),y+=-ratio*Math.log(1+Math.max(0,minY-center[1])/ratio)+ratio*Math.log(1+Math.max(0,center[1]-maxY)/ratio)),[x,y]}}}function none(center){return center}var ol_extent=__webpack_require__("CvXi"),array=__webpack_require__("n15R");function getViewportClampedResolution(resolution,maxExtent,viewportSize,showFullExtent){var xResolution=Object(ol_extent.D)(maxExtent)/viewportSize[0],yResolution=Object(ol_extent.z)(maxExtent)/viewportSize[1];return showFullExtent?Math.min(resolution,Math.max(xResolution,yResolution)):Math.min(resolution,Math.min(xResolution,yResolution))}function getSmoothClampedResolution(resolution,maxResolution,minResolution){var result=Math.min(resolution,maxResolution);return result*=Math.log(1+50*Math.max(0,resolution/maxResolution-1))/50+1,minResolution&&(result=Math.max(result,minResolution),result/=Math.log(1+50*Math.max(0,minResolution/resolution-1))/50+1),Object(math.a)(result,minResolution/2,2*maxResolution)}function createMinMaxResolution(maxResolution,minResolution,opt_smooth,opt_maxExtent,opt_showFullExtent){return function(resolution,direction,size,opt_isMoving){if(void 0!==resolution){var cappedMaxRes=opt_maxExtent?getViewportClampedResolution(maxResolution,opt_maxExtent,size,opt_showFullExtent):maxResolution;return(void 0===opt_smooth||opt_smooth)&&opt_isMoving?getSmoothClampedResolution(resolution,cappedMaxRes,minResolution):Object(math.a)(resolution,minResolution,cappedMaxRes)}}}var extendStatics,rotationconstraint=__webpack_require__("jMVV"),easing=__webpack_require__("ykKD"),Polygon=__webpack_require__("W8M7"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),View_View=function(_super){function View(opt_options){var _this=_super.call(this)||this,options=Object(obj.a)({},opt_options);return _this.hints_=[0,0],_this.animations_=[],_this.projection_=Object(proj.e)(options.projection,"EPSG:3857"),_this.viewportSize_=[100,100],_this.targetCenter_=null,_this.cancelAnchor_=void 0,options.center&&(options.center=Object(proj.h)(options.center,_this.projection_)),options.extent&&(options.extent=Object(proj.i)(options.extent,_this.projection_)),_this.applyOptions_(options),_this}return __extends(View,_super),View.prototype.applyOptions_=function(options){var resolutionConstraintInfo=function(options){var resolutionConstraint,maxResolution,minResolution,minZoom=void 0!==options.minZoom?options.minZoom:0,maxZoom=void 0!==options.maxZoom?options.maxZoom:28,zoomFactor=void 0!==options.zoomFactor?options.zoomFactor:2,multiWorld=void 0!==options.multiWorld&&options.multiWorld,smooth=void 0===options.smoothResolutionConstraint||options.smoothResolutionConstraint,showFullExtent=void 0!==options.showFullExtent&&options.showFullExtent,projection=Object(proj.e)(options.projection,"EPSG:3857"),projExtent=projection.getExtent(),constrainOnlyCenter=options.constrainOnlyCenter,extent=options.extent;if(multiWorld||extent||!projection.isGlobal()||(constrainOnlyCenter=!1,extent=projExtent),void 0!==options.resolutions){var resolutions=options.resolutions;maxResolution=resolutions[minZoom],minResolution=void 0!==resolutions[maxZoom]?resolutions[maxZoom]:resolutions[resolutions.length-1],resolutionConstraint=options.constrainResolution?function(resolutions,opt_smooth,opt_maxExtent,opt_showFullExtent){return function(resolution,direction,size,opt_isMoving){if(void 0!==resolution){var maxResolution=resolutions[0],minResolution=resolutions[resolutions.length-1],cappedMaxRes=opt_maxExtent?getViewportClampedResolution(maxResolution,opt_maxExtent,size,opt_showFullExtent):maxResolution;if(opt_isMoving)return void 0===opt_smooth||opt_smooth?getSmoothClampedResolution(resolution,cappedMaxRes,minResolution):Object(math.a)(resolution,minResolution,cappedMaxRes);var capped=Math.min(cappedMaxRes,resolution),z=Math.floor(Object(array.e)(resolutions,capped,direction));return resolutions[z]>cappedMaxRes&&z<resolutions.length-1?resolutions[z+1]:resolutions[z]}}}(resolutions,smooth,!constrainOnlyCenter&&extent,showFullExtent):createMinMaxResolution(maxResolution,minResolution,smooth,!constrainOnlyCenter&&extent,showFullExtent)}else{var defaultMaxResolution=(projExtent?Math.max(Object(ol_extent.D)(projExtent),Object(ol_extent.z)(projExtent)):360*proj.a[Units.b.DEGREES]/projection.getMetersPerUnit())/256/Math.pow(2,0),defaultMinResolution=defaultMaxResolution/Math.pow(2,28);void 0!==(maxResolution=options.maxResolution)?minZoom=0:maxResolution=defaultMaxResolution/Math.pow(zoomFactor,minZoom),void 0===(minResolution=options.minResolution)&&(minResolution=void 0!==options.maxZoom?void 0!==options.maxResolution?maxResolution/Math.pow(zoomFactor,maxZoom):defaultMaxResolution/Math.pow(zoomFactor,maxZoom):defaultMinResolution),maxZoom=minZoom+Math.floor(Math.log(maxResolution/minResolution)/Math.log(zoomFactor)),minResolution=maxResolution/Math.pow(zoomFactor,maxZoom-minZoom),resolutionConstraint=options.constrainResolution?function(power,maxResolution,opt_minResolution,opt_smooth,opt_maxExtent,opt_showFullExtent){return function(resolution,direction,size,opt_isMoving){if(void 0!==resolution){var cappedMaxRes=opt_maxExtent?getViewportClampedResolution(maxResolution,opt_maxExtent,size,opt_showFullExtent):maxResolution,minResolution=void 0!==opt_minResolution?opt_minResolution:0;if(opt_isMoving)return void 0===opt_smooth||opt_smooth?getSmoothClampedResolution(resolution,cappedMaxRes,minResolution):Object(math.a)(resolution,minResolution,cappedMaxRes);var minZoomLevel=Math.ceil(Math.log(maxResolution/cappedMaxRes)/Math.log(power)-1e-9),offset=-direction*(.5-1e-9)+.5,capped=Math.min(cappedMaxRes,resolution),cappedZoomLevel=Math.floor(Math.log(maxResolution/capped)/Math.log(power)+offset),zoomLevel=Math.max(minZoomLevel,cappedZoomLevel),newResolution=maxResolution/Math.pow(power,zoomLevel);return Object(math.a)(newResolution,minResolution,cappedMaxRes)}}}(zoomFactor,maxResolution,minResolution,smooth,!constrainOnlyCenter&&extent,showFullExtent):createMinMaxResolution(maxResolution,minResolution,smooth,!constrainOnlyCenter&&extent,showFullExtent)}return{constraint:resolutionConstraint,maxResolution:maxResolution,minResolution:minResolution,minZoom:minZoom,zoomFactor:zoomFactor}}(options);this.maxResolution_=resolutionConstraintInfo.maxResolution,this.minResolution_=resolutionConstraintInfo.minResolution,this.zoomFactor_=resolutionConstraintInfo.zoomFactor,this.resolutions_=options.resolutions,this.padding=options.padding,this.minZoom_=resolutionConstraintInfo.minZoom;var centerConstraint=function(options){if(void 0!==options.extent)return createExtent(options.extent,options.constrainOnlyCenter,void 0===options.smoothExtentConstraint||options.smoothExtentConstraint);var projection=Object(proj.e)(options.projection,"EPSG:3857");if(!0!==options.multiWorld&&projection.isGlobal()){var extent=projection.getExtent().slice();return extent[0]=-1/0,extent[2]=1/0,createExtent(extent,!1,!1)}return none}(options),resolutionConstraint=resolutionConstraintInfo.constraint,rotationConstraint=function(options){if(void 0===options.enableRotation||options.enableRotation){var constrainRotation=options.constrainRotation;return void 0===constrainRotation||!0===constrainRotation?Object(rotationconstraint.b)():!1===constrainRotation?rotationconstraint.d:"number"==typeof constrainRotation?Object(rotationconstraint.a)(constrainRotation):rotationconstraint.d}return rotationconstraint.c}(options);this.constraints_={center:centerConstraint,resolution:resolutionConstraint,rotation:rotationConstraint},this.setRotation(void 0!==options.rotation?options.rotation:0),this.setCenterInternal(void 0!==options.center?options.center:null),void 0!==options.resolution?this.setResolution(options.resolution):void 0!==options.zoom&&this.setZoom(options.zoom),this.setProperties({}),this.options_=options},View.prototype.getUpdatedOptions_=function(newOptions){var options=Object(obj.a)({},this.options_);return void 0!==options.resolution?options.resolution=this.getResolution():options.zoom=this.getZoom(),options.center=this.getCenterInternal(),options.rotation=this.getRotation(),Object(obj.a)({},options,newOptions)},View.prototype.animate=function(var_args){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var args=new Array(arguments.length),i=0;i<args.length;++i){var options=arguments[i];options.center&&((options=Object(obj.a)({},options)).center=Object(proj.h)(options.center,this.getProjection())),options.anchor&&((options=Object(obj.a)({},options)).anchor=Object(proj.h)(options.anchor,this.getProjection())),args[i]=options}this.animateInternal.apply(this,args)},View.prototype.animateInternal=function(var_args){var callback,animationCount=arguments.length;if(animationCount>1&&"function"==typeof arguments[animationCount-1]&&(callback=arguments[animationCount-1],--animationCount),!this.isDef()){var state=arguments[animationCount-1];return state.center&&this.setCenterInternal(state.center),void 0!==state.zoom&&this.setZoom(state.zoom),void 0!==state.rotation&&this.setRotation(state.rotation),void(callback&&animationCallback(callback,!0))}for(var start=Date.now(),center=this.targetCenter_.slice(),resolution=this.targetResolution_,rotation=this.targetRotation_,series=[],i=0;i<animationCount;++i){var options=arguments[i],animation={start:start,complete:!1,anchor:options.anchor,duration:void 0!==options.duration?options.duration:1e3,easing:options.easing||easing.b,callback:callback};if(options.center&&(animation.sourceCenter=center,animation.targetCenter=options.center.slice(),center=animation.targetCenter),void 0!==options.zoom?(animation.sourceResolution=resolution,animation.targetResolution=this.getResolutionForZoom(options.zoom),resolution=animation.targetResolution):options.resolution&&(animation.sourceResolution=resolution,animation.targetResolution=options.resolution,resolution=animation.targetResolution),void 0!==options.rotation){animation.sourceRotation=rotation;var delta=Object(math.e)(options.rotation-rotation+Math.PI,2*Math.PI)-Math.PI;animation.targetRotation=rotation+delta,rotation=animation.targetRotation}isNoopAnimation(animation)?animation.complete=!0:start+=animation.duration,series.push(animation)}this.animations_.push(series),this.setHint(ViewHint.a.ANIMATING,1),this.updateAnimations_()},View.prototype.getAnimating=function(){return this.hints_[ViewHint.a.ANIMATING]>0},View.prototype.getInteracting=function(){return this.hints_[ViewHint.a.INTERACTING]>0},View.prototype.cancelAnimations=function(){var anchor;this.setHint(ViewHint.a.ANIMATING,-this.hints_[ViewHint.a.ANIMATING]);for(var i=0,ii=this.animations_.length;i<ii;++i){var series=this.animations_[i];if(series[0].callback&&animationCallback(series[0].callback,!1),!anchor)for(var j=0,jj=series.length;j<jj;++j){var animation=series[j];if(!animation.complete){anchor=animation.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=anchor},View.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var now=Date.now(),more=!1,i=this.animations_.length-1;i>=0;--i){for(var series=this.animations_[i],seriesComplete=!0,j=0,jj=series.length;j<jj;++j){var animation=series[j];if(!animation.complete){var fraction=animation.duration>0?(now-animation.start)/animation.duration:1;fraction>=1?(animation.complete=!0,fraction=1):seriesComplete=!1;var progress=animation.easing(fraction);if(animation.sourceCenter){var x0=animation.sourceCenter[0],y0=animation.sourceCenter[1];this.targetCenter_=[x0+progress*(animation.targetCenter[0]-x0),y0+progress*(animation.targetCenter[1]-y0)]}if(animation.sourceResolution&&animation.targetResolution){var resolution=1===progress?animation.targetResolution:animation.sourceResolution+progress*(animation.targetResolution-animation.sourceResolution);if(animation.anchor){var size=this.getViewportSize_(this.getRotation()),constrainedResolution=this.constraints_.resolution(resolution,0,size,!0);this.targetCenter_=this.calculateCenterZoom(constrainedResolution,animation.anchor)}this.targetResolution_=resolution,this.applyTargetState_(!0)}if(void 0!==animation.sourceRotation&&void 0!==animation.targetRotation){var rotation=1===progress?Object(math.e)(animation.targetRotation+Math.PI,2*Math.PI)-Math.PI:animation.sourceRotation+progress*(animation.targetRotation-animation.sourceRotation);if(animation.anchor){var constrainedRotation=this.constraints_.rotation(rotation,!0);this.targetCenter_=this.calculateCenterRotate(constrainedRotation,animation.anchor)}this.targetRotation_=rotation}if(this.applyTargetState_(!0),more=!0,!animation.complete)break}}if(seriesComplete){this.animations_[i]=null,this.setHint(ViewHint.a.ANIMATING,-1);var callback=series[0].callback;callback&&animationCallback(callback,!0)}}this.animations_=this.animations_.filter(Boolean),more&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},View.prototype.calculateCenterRotate=function(rotation,anchor){var center,currentCenter=this.getCenterInternal();return void 0!==currentCenter&&(center=[currentCenter[0]-anchor[0],currentCenter[1]-anchor[1]],Object(ol_coordinate.g)(center,rotation-this.getRotation()),Object(ol_coordinate.a)(center,anchor)),center},View.prototype.calculateCenterZoom=function(resolution,anchor){var center,currentCenter=this.getCenterInternal(),currentResolution=this.getResolution();return void 0!==currentCenter&&void 0!==currentResolution&&(center=[anchor[0]-resolution*(anchor[0]-currentCenter[0])/currentResolution,anchor[1]-resolution*(anchor[1]-currentCenter[1])/currentResolution]),center},View.prototype.getViewportSize_=function(opt_rotation){var size=this.viewportSize_;if(opt_rotation){var w=size[0],h=size[1];return[Math.abs(w*Math.cos(opt_rotation))+Math.abs(h*Math.sin(opt_rotation)),Math.abs(w*Math.sin(opt_rotation))+Math.abs(h*Math.cos(opt_rotation))]}return size},View.prototype.setViewportSize=function(opt_size){this.viewportSize_=Array.isArray(opt_size)?opt_size.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},View.prototype.getCenter=function(){var center=this.getCenterInternal();return center?Object(proj.o)(center,this.getProjection()):center},View.prototype.getCenterInternal=function(){return this.get("center")},View.prototype.getConstraints=function(){return this.constraints_},View.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},View.prototype.getHints=function(opt_hints){return void 0!==opt_hints?(opt_hints[0]=this.hints_[0],opt_hints[1]=this.hints_[1],opt_hints):this.hints_.slice()},View.prototype.calculateExtent=function(opt_size){var extent=this.calculateExtentInternal(opt_size);return Object(proj.p)(extent,this.getProjection())},View.prototype.calculateExtentInternal=function(opt_size){var size=opt_size||this.getViewportSize_(),center=this.getCenterInternal();Object(asserts.a)(center,1);var resolution=this.getResolution();Object(asserts.a)(void 0!==resolution,2);var rotation=this.getRotation();return Object(asserts.a)(void 0!==rotation,3),Object(ol_extent.y)(center,resolution,rotation,size)},View.prototype.getMaxResolution=function(){return this.maxResolution_},View.prototype.getMinResolution=function(){return this.minResolution_},View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},View.prototype.setMaxZoom=function(zoom){this.applyOptions_(this.getUpdatedOptions_({maxZoom:zoom}))},View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},View.prototype.setMinZoom=function(zoom){this.applyOptions_(this.getUpdatedOptions_({minZoom:zoom}))},View.prototype.setConstrainResolution=function(enabled){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:enabled}))},View.prototype.getProjection=function(){return this.projection_},View.prototype.getResolution=function(){return this.get("resolution")},View.prototype.getResolutions=function(){return this.resolutions_},View.prototype.getResolutionForExtent=function(extent,opt_size){return this.getResolutionForExtentInternal(Object(proj.i)(extent,this.getProjection()),opt_size)},View.prototype.getResolutionForExtentInternal=function(extent,opt_size){var size=opt_size||this.getViewportSize_(),xResolution=Object(ol_extent.D)(extent)/size[0],yResolution=Object(ol_extent.z)(extent)/size[1];return Math.max(xResolution,yResolution)},View.prototype.getResolutionForValueFunction=function(opt_power){var power=opt_power||2,maxResolution=this.getConstrainedResolution(this.maxResolution_),max=Math.log(maxResolution/this.minResolution_)/Math.log(power);return function(value){return maxResolution/Math.pow(power,value*max)}},View.prototype.getRotation=function(){return this.get("rotation")},View.prototype.getValueForResolutionFunction=function(opt_power){var logPower=Math.log(opt_power||2),maxResolution=this.getConstrainedResolution(this.maxResolution_),max=Math.log(maxResolution/this.minResolution_)/logPower;return function(resolution){return Math.log(maxResolution/resolution)/logPower/max}},View.prototype.getViewportSizeMinusPadding_=function(opt_rotation){var size=this.getViewportSize_(opt_rotation),padding=this.padding;return padding&&(size=[size[0]-padding[1]-padding[3],size[1]-padding[0]-padding[2]]),size},View.prototype.getState=function(){var projection=this.getProjection(),resolution=this.getResolution(),rotation=this.getRotation(),center=this.getCenterInternal(),padding=this.padding;if(padding){var reducedSize=this.getViewportSizeMinusPadding_();center=calculateCenterOn(center,this.getViewportSize_(),[reducedSize[0]/2+padding[3],reducedSize[1]/2+padding[0]],resolution,rotation)}return{center:center.slice(0),projection:void 0!==projection?projection:null,resolution:resolution,rotation:rotation,zoom:this.getZoom()}},View.prototype.getZoom=function(){var zoom,resolution=this.getResolution();return void 0!==resolution&&(zoom=this.getZoomForResolution(resolution)),zoom},View.prototype.getZoomForResolution=function(resolution){var max,zoomFactor,offset=this.minZoom_||0;if(this.resolutions_){var nearest=Object(array.e)(this.resolutions_,resolution,1);offset=nearest,max=this.resolutions_[nearest],zoomFactor=nearest==this.resolutions_.length-1?2:max/this.resolutions_[nearest+1]}else max=this.maxResolution_,zoomFactor=this.zoomFactor_;return offset+Math.log(max/resolution)/Math.log(zoomFactor)},View.prototype.getResolutionForZoom=function(zoom){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var baseLevel=Object(math.a)(Math.floor(zoom),0,this.resolutions_.length-2);return this.resolutions_[baseLevel]/Math.pow(this.resolutions_[baseLevel]/this.resolutions_[baseLevel+1],Object(math.a)(zoom-baseLevel,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,zoom-this.minZoom_)},View.prototype.fit=function(geometryOrExtent,opt_options){var geometry;if(Object(asserts.a)(Array.isArray(geometryOrExtent)||"function"==typeof geometryOrExtent.getSimplifiedGeometry,24),Array.isArray(geometryOrExtent)){Object(asserts.a)(!Object(ol_extent.G)(geometryOrExtent),25);var extent=Object(proj.i)(geometryOrExtent,this.getProjection());geometry=Object(Polygon.c)(extent)}else if(geometryOrExtent.getType()===GeometryType.a.CIRCLE)extent=Object(proj.i)(geometryOrExtent.getExtent(),this.getProjection()),(geometry=Object(Polygon.c)(extent)).rotate(this.getRotation(),Object(ol_extent.x)(extent));else{var userProjection=Object(proj.n)();geometry=userProjection?geometryOrExtent.clone().transform(userProjection,this.getProjection()):geometryOrExtent}this.fitInternal(geometry,opt_options)},View.prototype.fitInternal=function(geometry,opt_options){var options=opt_options||{},size=options.size;size||(size=this.getViewportSizeMinusPadding_());var minResolution,padding=void 0!==options.padding?options.padding:[0,0,0,0],nearest=void 0!==options.nearest&&options.nearest;minResolution=void 0!==options.minResolution?options.minResolution:void 0!==options.maxZoom?this.getResolutionForZoom(options.maxZoom):0;for(var coords=geometry.getFlatCoordinates(),rotation=this.getRotation(),cosAngle=Math.cos(-rotation),sinAngle=Math.sin(-rotation),minRotX=1/0,minRotY=1/0,maxRotX=-1/0,maxRotY=-1/0,stride=geometry.getStride(),i=0,ii=coords.length;i<ii;i+=stride){var rotX=coords[i]*cosAngle-coords[i+1]*sinAngle,rotY=coords[i]*sinAngle+coords[i+1]*cosAngle;minRotX=Math.min(minRotX,rotX),minRotY=Math.min(minRotY,rotY),maxRotX=Math.max(maxRotX,rotX),maxRotY=Math.max(maxRotY,rotY)}var resolution=this.getResolutionForExtentInternal([minRotX,minRotY,maxRotX,maxRotY],[size[0]-padding[1]-padding[3],size[1]-padding[0]-padding[2]]);resolution=isNaN(resolution)?minResolution:Math.max(resolution,minResolution),resolution=this.getConstrainedResolution(resolution,nearest?0:1);var centerRotX=(minRotX+maxRotX)/2,centerRotY=(minRotY+maxRotY)/2,center=this.getConstrainedCenter([(centerRotX+=(padding[1]-padding[3])/2*resolution)*cosAngle-(centerRotY+=(padding[0]-padding[2])/2*resolution)*(sinAngle=-sinAngle),centerRotY*cosAngle+centerRotX*sinAngle],resolution),callback=options.callback?options.callback:functions.c;void 0!==options.duration?this.animateInternal({resolution:resolution,center:center,duration:options.duration,easing:options.easing},callback):(this.targetResolution_=resolution,this.targetCenter_=center,this.applyTargetState_(!1,!0),animationCallback(callback,!0))},View.prototype.centerOn=function(coordinate,size,position){this.centerOnInternal(Object(proj.h)(coordinate,this.getProjection()),size,position)},View.prototype.centerOnInternal=function(coordinate,size,position){this.setCenterInternal(calculateCenterOn(coordinate,size,position,this.getResolution(),this.getRotation()))},View.prototype.calculateCenterShift=function(center,resolution,rotation,size){var centerShift,padding=this.padding;if(padding&&center){var reducedSize=this.getViewportSizeMinusPadding_(-rotation),shiftedCenter=calculateCenterOn(center,size,[reducedSize[0]/2+padding[3],reducedSize[1]/2+padding[0]],resolution,rotation);centerShift=[center[0]-shiftedCenter[0],center[1]-shiftedCenter[1]]}return centerShift},View.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},View.prototype.adjustCenter=function(deltaCoordinates){var center=Object(proj.o)(this.targetCenter_,this.getProjection());this.setCenter([center[0]+deltaCoordinates[0],center[1]+deltaCoordinates[1]])},View.prototype.adjustCenterInternal=function(deltaCoordinates){var center=this.targetCenter_;this.setCenterInternal([center[0]+deltaCoordinates[0],center[1]+deltaCoordinates[1]])},View.prototype.adjustResolution=function(ratio,opt_anchor){var anchor=opt_anchor&&Object(proj.h)(opt_anchor,this.getProjection());this.adjustResolutionInternal(ratio,anchor)},View.prototype.adjustResolutionInternal=function(ratio,opt_anchor){var isMoving=this.getAnimating()||this.getInteracting(),size=this.getViewportSize_(this.getRotation()),newResolution=this.constraints_.resolution(this.targetResolution_*ratio,0,size,isMoving);opt_anchor&&(this.targetCenter_=this.calculateCenterZoom(newResolution,opt_anchor)),this.targetResolution_*=ratio,this.applyTargetState_()},View.prototype.adjustZoom=function(delta,opt_anchor){this.adjustResolution(Math.pow(this.zoomFactor_,-delta),opt_anchor)},View.prototype.adjustRotation=function(delta,opt_anchor){opt_anchor&&(opt_anchor=Object(proj.h)(opt_anchor,this.getProjection())),this.adjustRotationInternal(delta,opt_anchor)},View.prototype.adjustRotationInternal=function(delta,opt_anchor){var isMoving=this.getAnimating()||this.getInteracting(),newRotation=this.constraints_.rotation(this.targetRotation_+delta,isMoving);opt_anchor&&(this.targetCenter_=this.calculateCenterRotate(newRotation,opt_anchor)),this.targetRotation_+=delta,this.applyTargetState_()},View.prototype.setCenter=function(center){this.setCenterInternal(Object(proj.h)(center,this.getProjection()))},View.prototype.setCenterInternal=function(center){this.targetCenter_=center,this.applyTargetState_()},View.prototype.setHint=function(hint,delta){return this.hints_[hint]+=delta,this.changed(),this.hints_[hint]},View.prototype.setResolution=function(resolution){this.targetResolution_=resolution,this.applyTargetState_()},View.prototype.setRotation=function(rotation){this.targetRotation_=rotation,this.applyTargetState_()},View.prototype.setZoom=function(zoom){this.setResolution(this.getResolutionForZoom(zoom))},View.prototype.applyTargetState_=function(opt_doNotCancelAnims,opt_forceMoving){var isMoving=this.getAnimating()||this.getInteracting()||opt_forceMoving,newRotation=this.constraints_.rotation(this.targetRotation_,isMoving),size=this.getViewportSize_(newRotation),newResolution=this.constraints_.resolution(this.targetResolution_,0,size,isMoving),newCenter=this.constraints_.center(this.targetCenter_,newResolution,size,isMoving,this.calculateCenterShift(this.targetCenter_,newResolution,newRotation,size));this.get("rotation")!==newRotation&&this.set("rotation",newRotation),this.get("resolution")!==newResolution&&this.set("resolution",newResolution),this.get("center")&&Object(ol_coordinate.e)(this.get("center"),newCenter)||this.set("center",newCenter),this.getAnimating()&&!opt_doNotCancelAnims&&this.cancelAnimations(),this.cancelAnchor_=void 0},View.prototype.resolveConstraints=function(opt_duration,opt_resolutionDirection,opt_anchor){var duration=void 0!==opt_duration?opt_duration:200,direction=opt_resolutionDirection||0,newRotation=this.constraints_.rotation(this.targetRotation_),size=this.getViewportSize_(newRotation),newResolution=this.constraints_.resolution(this.targetResolution_,direction,size),newCenter=this.constraints_.center(this.targetCenter_,newResolution,size,!1,this.calculateCenterShift(this.targetCenter_,newResolution,newRotation,size));if(0===duration&&!this.cancelAnchor_)return this.targetResolution_=newResolution,this.targetRotation_=newRotation,this.targetCenter_=newCenter,void this.applyTargetState_();var anchor=opt_anchor||(0===duration?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===newResolution&&this.getRotation()===newRotation&&this.getCenterInternal()&&Object(ol_coordinate.e)(this.getCenterInternal(),newCenter)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:newRotation,center:newCenter,resolution:newResolution,duration:duration,easing:easing.a,anchor:anchor}))},View.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ViewHint.a.INTERACTING,1)},View.prototype.endInteraction=function(opt_duration,opt_resolutionDirection,opt_anchor){var anchor=opt_anchor&&Object(proj.h)(opt_anchor,this.getProjection());this.endInteractionInternal(opt_duration,opt_resolutionDirection,anchor)},View.prototype.endInteractionInternal=function(opt_duration,opt_resolutionDirection,opt_anchor){this.setHint(ViewHint.a.INTERACTING,-1),this.resolveConstraints(opt_duration,opt_resolutionDirection,opt_anchor)},View.prototype.getConstrainedCenter=function(targetCenter,opt_targetResolution){var size=this.getViewportSize_(this.getRotation());return this.constraints_.center(targetCenter,opt_targetResolution||this.getResolution(),size)},View.prototype.getConstrainedZoom=function(targetZoom,opt_direction){var targetRes=this.getResolutionForZoom(targetZoom);return this.getZoomForResolution(this.getConstrainedResolution(targetRes,opt_direction))},View.prototype.getConstrainedResolution=function(targetResolution,opt_direction){var direction=opt_direction||0,size=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(targetResolution,direction,size)},View}(ol_Object.a);function animationCallback(callback,returnValue){setTimeout(function(){callback(returnValue)},0)}function isNoopAnimation(animation){return!(animation.sourceCenter&&animation.targetCenter&&!Object(ol_coordinate.e)(animation.sourceCenter,animation.targetCenter))&&animation.sourceResolution===animation.targetResolution&&animation.sourceRotation===animation.targetRotation}function calculateCenterOn(coordinate,size,position,resolution,rotation){var cosAngle=Math.cos(-rotation),sinAngle=Math.sin(-rotation),rotX=coordinate[0]*cosAngle-coordinate[1]*sinAngle,rotY=coordinate[1]*cosAngle+coordinate[0]*sinAngle;return[(rotX+=(size[0]/2-position[0])*resolution)*cosAngle-(rotY+=(position[1]-size[1]/2)*resolution)*(sinAngle=-sinAngle),rotY*cosAngle+rotX*sinAngle]}__webpack_exports__.a=View_View},ouHB:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,Feature=__webpack_require__("TN97"),GeometryCollection=__webpack_require__("01Jf"),GeometryType=__webpack_require__("9iPr"),format_Feature=__webpack_require__("t98H"),FormatType=__webpack_require__("Hsuu"),util=__webpack_require__("EwAT"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function getObject(source){return"string"==typeof source?JSON.parse(source)||null:null!==source?source:null}var format_JSONFeature=function(_super){function JSONFeature(){return _super.call(this)||this}return __extends(JSONFeature,_super),JSONFeature.prototype.getType=function(){return FormatType.a.JSON},JSONFeature.prototype.readFeature=function(source,opt_options){return this.readFeatureFromObject(getObject(source),this.getReadOptions(source,opt_options))},JSONFeature.prototype.readFeatures=function(source,opt_options){return this.readFeaturesFromObject(getObject(source),this.getReadOptions(source,opt_options))},JSONFeature.prototype.readFeatureFromObject=function(object,opt_options){return Object(util.b)()},JSONFeature.prototype.readFeaturesFromObject=function(object,opt_options){return Object(util.b)()},JSONFeature.prototype.readGeometry=function(source,opt_options){return this.readGeometryFromObject(getObject(source),this.getReadOptions(source,opt_options))},JSONFeature.prototype.readGeometryFromObject=function(object,opt_options){return Object(util.b)()},JSONFeature.prototype.readProjection=function(source){return this.readProjectionFromObject(getObject(source))},JSONFeature.prototype.readProjectionFromObject=function(object){return Object(util.b)()},JSONFeature.prototype.writeFeature=function(feature,opt_options){return JSON.stringify(this.writeFeatureObject(feature,opt_options))},JSONFeature.prototype.writeFeatureObject=function(feature,opt_options){return Object(util.b)()},JSONFeature.prototype.writeFeatures=function(features,opt_options){return JSON.stringify(this.writeFeaturesObject(features,opt_options))},JSONFeature.prototype.writeFeaturesObject=function(features,opt_options){return Object(util.b)()},JSONFeature.prototype.writeGeometry=function(geometry,opt_options){return JSON.stringify(this.writeGeometryObject(geometry,opt_options))},JSONFeature.prototype.writeGeometryObject=function(geometry,opt_options){return Object(util.b)()},JSONFeature}(format_Feature.a),LineString=__webpack_require__("egkh"),MultiLineString=__webpack_require__("R+T3"),MultiPoint=__webpack_require__("mkQN"),MultiPolygon=__webpack_require__("iNpl"),Point=__webpack_require__("9ANI"),Polygon=__webpack_require__("W8M7"),asserts=__webpack_require__("kvpX"),obj=__webpack_require__("OPOH"),proj=__webpack_require__("JW8z"),GeoJSON_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GeoJSON_GeoJSON=function(_super){function GeoJSON(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this)||this).dataProjection=Object(proj.j)(options.dataProjection?options.dataProjection:"EPSG:4326"),options.featureProjection&&(_this.defaultFeatureProjection=Object(proj.j)(options.featureProjection)),_this.geometryName_=options.geometryName,_this.extractGeometryName_=options.extractGeometryName,_this}return GeoJSON_extends(GeoJSON,_super),GeoJSON.prototype.readFeatureFromObject=function(object,opt_options){var geoJSONFeature,geometry=readGeometry((geoJSONFeature="Feature"===object.type?object:{type:"Feature",geometry:object,properties:null}).geometry,opt_options),feature=new Feature.a;return this.geometryName_?feature.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in geoJSONFeature!==void 0&&feature.setGeometryName(geoJSONFeature.geometry_name),feature.setGeometry(geometry),"id"in geoJSONFeature&&feature.setId(geoJSONFeature.id),geoJSONFeature.properties&&feature.setProperties(geoJSONFeature.properties,!0),feature},GeoJSON.prototype.readFeaturesFromObject=function(object,opt_options){var features=null;if("FeatureCollection"===object.type){features=[];for(var geoJSONFeatures=object.features,i=0,ii=geoJSONFeatures.length;i<ii;++i)features.push(this.readFeatureFromObject(geoJSONFeatures[i],opt_options))}else features=[this.readFeatureFromObject(object,opt_options)];return features},GeoJSON.prototype.readGeometryFromObject=function(object,opt_options){return readGeometry(object,opt_options)},GeoJSON.prototype.readProjectionFromObject=function(object){var projection,crs=object.crs;return crs?"name"==crs.type?projection=Object(proj.j)(crs.properties.name):"EPSG"===crs.type?projection=Object(proj.j)("EPSG:"+crs.properties.code):Object(asserts.a)(!1,36):projection=this.dataProjection,projection},GeoJSON.prototype.writeFeatureObject=function(feature,opt_options){opt_options=this.adaptOptions(opt_options);var object={type:"Feature",geometry:null,properties:null},id=feature.getId();if(void 0!==id&&(object.id=id),!feature.hasProperties())return object;var properties=feature.getProperties(),geometry=feature.getGeometry();return geometry&&(object.geometry=writeGeometry(geometry,opt_options),delete properties[feature.getGeometryName()]),Object(obj.d)(properties)||(object.properties=properties),object},GeoJSON.prototype.writeFeaturesObject=function(features,opt_options){opt_options=this.adaptOptions(opt_options);for(var objects=[],i=0,ii=features.length;i<ii;++i)objects.push(this.writeFeatureObject(features[i],opt_options));return{type:"FeatureCollection",features:objects}},GeoJSON.prototype.writeGeometryObject=function(geometry,opt_options){return writeGeometry(geometry,this.adaptOptions(opt_options))},GeoJSON}(format_JSONFeature);function readGeometry(object,opt_options){if(!object)return null;var geometry;switch(object.type){case GeometryType.a.POINT:geometry=function(object){return new Point.a(object.coordinates)}(object);break;case GeometryType.a.LINE_STRING:geometry=function(object){return new LineString.a(object.coordinates)}(object);break;case GeometryType.a.POLYGON:geometry=function(object){return new Polygon.a(object.coordinates)}(object);break;case GeometryType.a.MULTI_POINT:geometry=function(object){return new MultiPoint.a(object.coordinates)}(object);break;case GeometryType.a.MULTI_LINE_STRING:geometry=function(object){return new MultiLineString.a(object.coordinates)}(object);break;case GeometryType.a.MULTI_POLYGON:geometry=function(object){return new MultiPolygon.a(object.coordinates)}(object);break;case GeometryType.a.GEOMETRY_COLLECTION:geometry=function(object,opt_options){var geometries=object.geometries.map(function(geometry){return readGeometry(geometry,void 0)});return new GeometryCollection.a(geometries)}(object);break;default:throw new Error("Unsupported GeoJSON type: "+object.type)}return Object(format_Feature.c)(geometry,!1,opt_options)}function writeGeometry(geometry,opt_options){var geoJSON,type=(geometry=Object(format_Feature.c)(geometry,!0,opt_options)).getType();switch(type){case GeometryType.a.POINT:geoJSON=function(geometry,opt_options){return{type:"Point",coordinates:geometry.getCoordinates()}}(geometry);break;case GeometryType.a.LINE_STRING:geoJSON=function(geometry,opt_options){return{type:"LineString",coordinates:geometry.getCoordinates()}}(geometry);break;case GeometryType.a.POLYGON:geoJSON=function(geometry,opt_options){var right;return opt_options&&(right=opt_options.rightHanded),{type:"Polygon",coordinates:geometry.getCoordinates(right)}}(geometry,opt_options);break;case GeometryType.a.MULTI_POINT:geoJSON=function(geometry,opt_options){return{type:"MultiPoint",coordinates:geometry.getCoordinates()}}(geometry);break;case GeometryType.a.MULTI_LINE_STRING:geoJSON=function(geometry,opt_options){return{type:"MultiLineString",coordinates:geometry.getCoordinates()}}(geometry);break;case GeometryType.a.MULTI_POLYGON:geoJSON=function(geometry,opt_options){var right;return opt_options&&(right=opt_options.rightHanded),{type:"MultiPolygon",coordinates:geometry.getCoordinates(right)}}(geometry,opt_options);break;case GeometryType.a.GEOMETRY_COLLECTION:geoJSON=function(geometry,opt_options){return{type:"GeometryCollection",geometries:geometry.getGeometriesArray().map(function(geometry){var options=Object(obj.a)({},opt_options);return delete options.featureProjection,writeGeometry(geometry,options)})}}(geometry,opt_options);break;case GeometryType.a.CIRCLE:geoJSON={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+type)}return geoJSON}__webpack_exports__.a=GeoJSON_GeoJSON},p6ou:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _ReactNativeFile_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("27Ei");__webpack_require__.d(__webpack_exports__,"ReactNativeFile",function(){return _ReactNativeFile_js__WEBPACK_IMPORTED_MODULE_0__});var _extractFiles_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("fvjI");__webpack_require__.d(__webpack_exports__,"extractFiles",function(){return _extractFiles_js__WEBPACK_IMPORTED_MODULE_1__});var _isExtractableFile_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Dtfp");__webpack_require__.d(__webpack_exports__,"isExtractableFile",function(){return _isExtractableFile_js__WEBPACK_IMPORTED_MODULE_2__})},"pD/Q":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},"pLb+":function(module,exports,__webpack_require__){(function(){var NodeType,WriterState,assign,hasProp={}.hasOwnProperty;assign=__webpack_require__("RfOz").assign,NodeType=__webpack_require__("Bl63"),__webpack_require__("Uo1N"),__webpack_require__("1+OA"),__webpack_require__("U26E"),__webpack_require__("iTBR"),__webpack_require__("uO6I"),__webpack_require__("UNeu"),__webpack_require__("nS9B"),__webpack_require__("8BaB"),__webpack_require__("Dh7r"),__webpack_require__("GI8a"),__webpack_require__("OzLs"),__webpack_require__("FYWk"),__webpack_require__("tuH/"),WriterState=__webpack_require__("CYXk"),module.exports=function(){function XMLWriterBase(options){var key,ref,value;for(key in options||(options={}),this.options=options,ref=options.writer||{})hasProp.call(ref,key)&&(value=ref[key],this["_"+key]=this[key],this[key]=value)}return XMLWriterBase.prototype.filterOptions=function(options){var filteredOptions,ref,ref1,ref2,ref3,ref4,ref5,ref6;return options||(options={}),options=assign({},this.options,options),(filteredOptions={writer:this}).pretty=options.pretty||!1,filteredOptions.allowEmpty=options.allowEmpty||!1,filteredOptions.indent=null!=(ref=options.indent)?ref:"  ",filteredOptions.newline=null!=(ref1=options.newline)?ref1:"\n",filteredOptions.offset=null!=(ref2=options.offset)?ref2:0,filteredOptions.dontPrettyTextNodes=null!=(ref3=null!=(ref4=options.dontPrettyTextNodes)?ref4:options.dontprettytextnodes)?ref3:0,filteredOptions.spaceBeforeSlash=null!=(ref5=null!=(ref6=options.spaceBeforeSlash)?ref6:options.spacebeforeslash)?ref5:"",!0===filteredOptions.spaceBeforeSlash&&(filteredOptions.spaceBeforeSlash=" "),filteredOptions.suppressPrettyCount=0,filteredOptions.user={},filteredOptions.state=WriterState.None,filteredOptions},XMLWriterBase.prototype.indent=function(node,options,level){var indentLevel;return!options.pretty||options.suppressPrettyCount?"":options.pretty&&(indentLevel=(level||0)+options.offset+1)>0?new Array(indentLevel).join(options.indent):""},XMLWriterBase.prototype.endline=function(node,options,level){return!options.pretty||options.suppressPrettyCount?"":options.newline},XMLWriterBase.prototype.attribute=function(att,options,level){var r;return this.openAttribute(att,options,level),r=" "+att.name+'="'+att.value+'"',this.closeAttribute(att,options,level),r},XMLWriterBase.prototype.cdata=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<![CDATA[",options.state=WriterState.InsideTag,r+=node.value,options.state=WriterState.CloseTag,r+="]]>"+this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.comment=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"\x3c!-- ",options.state=WriterState.InsideTag,r+=node.value,options.state=WriterState.CloseTag,r+=" --\x3e"+this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.declaration=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<?xml",options.state=WriterState.InsideTag,r+=' version="'+node.version+'"',null!=node.encoding&&(r+=' encoding="'+node.encoding+'"'),null!=node.standalone&&(r+=' standalone="'+node.standalone+'"'),options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+"?>",r+=this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.docType=function(node,options,level){var i,len,r,ref;if(level||(level=0),this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level),r+="<!DOCTYPE "+node.root().name,node.pubID&&node.sysID?r+=' PUBLIC "'+node.pubID+'" "'+node.sysID+'"':node.sysID&&(r+=' SYSTEM "'+node.sysID+'"'),node.children.length>0){for(r+=" [",r+=this.endline(node,options,level),options.state=WriterState.InsideTag,i=0,len=(ref=node.children).length;i<len;i++)r+=this.writeChildNode(ref[i],options,level+1);options.state=WriterState.CloseTag,r+="]"}return options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+">",r+=this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.element=function(node,options,level){var child,childNodeCount,firstChildNode,i,j,len,len1,name,prettySuppressed,r,ref,ref1,ref2;for(name in level||(level=0),prettySuppressed=!1,r="",this.openNode(node,options,level),options.state=WriterState.OpenTag,r+=this.indent(node,options,level)+"<"+node.name,ref=node.attribs)hasProp.call(ref,name)&&(r+=this.attribute(ref[name],options,level));if(firstChildNode=0===(childNodeCount=node.children.length)?null:node.children[0],0===childNodeCount||node.children.every(function(e){return(e.type===NodeType.Text||e.type===NodeType.Raw)&&""===e.value}))options.allowEmpty?(r+=">",options.state=WriterState.CloseTag,r+="</"+node.name+">"+this.endline(node,options,level)):(options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+"/>"+this.endline(node,options,level));else if(!options.pretty||1!==childNodeCount||firstChildNode.type!==NodeType.Text&&firstChildNode.type!==NodeType.Raw||null==firstChildNode.value){if(options.dontPrettyTextNodes)for(i=0,len=(ref1=node.children).length;i<len;i++)if(((child=ref1[i]).type===NodeType.Text||child.type===NodeType.Raw)&&null!=child.value){options.suppressPrettyCount++,prettySuppressed=!0;break}for(r+=">"+this.endline(node,options,level),options.state=WriterState.InsideTag,j=0,len1=(ref2=node.children).length;j<len1;j++)r+=this.writeChildNode(child=ref2[j],options,level+1);options.state=WriterState.CloseTag,r+=this.indent(node,options,level)+"</"+node.name+">",prettySuppressed&&options.suppressPrettyCount--,r+=this.endline(node,options,level),options.state=WriterState.None}else r+=">",options.state=WriterState.InsideTag,options.suppressPrettyCount++,prettySuppressed=!0,r+=this.writeChildNode(firstChildNode,options,level+1),options.suppressPrettyCount--,prettySuppressed=!1,options.state=WriterState.CloseTag,r+="</"+node.name+">"+this.endline(node,options,level);return this.closeNode(node,options,level),r},XMLWriterBase.prototype.writeChildNode=function(node,options,level){switch(node.type){case NodeType.CData:return this.cdata(node,options,level);case NodeType.Comment:return this.comment(node,options,level);case NodeType.Element:return this.element(node,options,level);case NodeType.Raw:return this.raw(node,options,level);case NodeType.Text:return this.text(node,options,level);case NodeType.ProcessingInstruction:return this.processingInstruction(node,options,level);case NodeType.Dummy:return"";case NodeType.Declaration:return this.declaration(node,options,level);case NodeType.DocType:return this.docType(node,options,level);case NodeType.AttributeDeclaration:return this.dtdAttList(node,options,level);case NodeType.ElementDeclaration:return this.dtdElement(node,options,level);case NodeType.EntityDeclaration:return this.dtdEntity(node,options,level);case NodeType.NotationDeclaration:return this.dtdNotation(node,options,level);default:throw new Error("Unknown XML node type: "+node.constructor.name)}},XMLWriterBase.prototype.processingInstruction=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<?",options.state=WriterState.InsideTag,r+=node.target,node.value&&(r+=" "+node.value),options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+"?>",r+=this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.raw=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level),options.state=WriterState.InsideTag,r+=node.value,options.state=WriterState.CloseTag,r+=this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.text=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level),options.state=WriterState.InsideTag,r+=node.value,options.state=WriterState.CloseTag,r+=this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.dtdAttList=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<!ATTLIST",options.state=WriterState.InsideTag,r+=" "+node.elementName+" "+node.attributeName+" "+node.attributeType,"#DEFAULT"!==node.defaultValueType&&(r+=" "+node.defaultValueType),node.defaultValue&&(r+=' "'+node.defaultValue+'"'),options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+">"+this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.dtdElement=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<!ELEMENT",options.state=WriterState.InsideTag,r+=" "+node.name+" "+node.value,options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+">"+this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.dtdEntity=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<!ENTITY",options.state=WriterState.InsideTag,node.pe&&(r+=" %"),r+=" "+node.name,node.value?r+=' "'+node.value+'"':(node.pubID&&node.sysID?r+=' PUBLIC "'+node.pubID+'" "'+node.sysID+'"':node.sysID&&(r+=' SYSTEM "'+node.sysID+'"'),node.nData&&(r+=" NDATA "+node.nData)),options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+">"+this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.dtdNotation=function(node,options,level){var r;return this.openNode(node,options,level),options.state=WriterState.OpenTag,r=this.indent(node,options,level)+"<!NOTATION",options.state=WriterState.InsideTag,r+=" "+node.name,node.pubID&&node.sysID?r+=' PUBLIC "'+node.pubID+'" "'+node.sysID+'"':node.pubID?r+=' PUBLIC "'+node.pubID+'"':node.sysID&&(r+=' SYSTEM "'+node.sysID+'"'),options.state=WriterState.CloseTag,r+=options.spaceBeforeSlash+">"+this.endline(node,options,level),options.state=WriterState.None,this.closeNode(node,options,level),r},XMLWriterBase.prototype.openNode=function(node,options,level){},XMLWriterBase.prototype.closeNode=function(node,options,level){},XMLWriterBase.prototype.openAttribute=function(att,options,level){},XMLWriterBase.prototype.closeAttribute=function(att,options,level){},XMLWriterBase}()}).call(this)},pSrk:function(module,exports){function Emitter(obj){if(obj)return function(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){var self=this;function on(){self.off(event,on),fn.apply(this,arguments)}return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks)for(var i=0,len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args);return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},pWiS:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return add}),__webpack_require__.d(__webpack_exports__,"b",function(){return closestOnCircle}),__webpack_require__.d(__webpack_exports__,"c",function(){return closestOnSegment}),__webpack_require__.d(__webpack_exports__,"e",function(){return equals}),__webpack_require__.d(__webpack_exports__,"g",function(){return rotate}),__webpack_require__.d(__webpack_exports__,"h",function(){return scale}),__webpack_require__.d(__webpack_exports__,"i",function(){return squaredDistance}),__webpack_require__.d(__webpack_exports__,"d",function(){return distance}),__webpack_require__.d(__webpack_exports__,"j",function(){return squaredDistanceToSegment}),__webpack_require__.d(__webpack_exports__,"k",function(){return toStringHDMS}),__webpack_require__.d(__webpack_exports__,"l",function(){return wrapX}),__webpack_require__.d(__webpack_exports__,"f",function(){return getWorldsAway});var _extent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("CvXi"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f8l7"),_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("sMGE");function add(coordinate,delta){return coordinate[0]+=+delta[0],coordinate[1]+=+delta[1],coordinate}function closestOnCircle(coordinate,circle){var r=circle.getRadius(),center=circle.getCenter(),x0=center[0],y0=center[1],dx=coordinate[0]-x0,dy=coordinate[1]-y0;0===dx&&0===dy&&(dx=1);var d=Math.sqrt(dx*dx+dy*dy);return[x0+r*dx/d,y0+r*dy/d]}function closestOnSegment(coordinate,segment){var x,y,start=segment[0],end=segment[1],x1=start[0],y1=start[1],x2=end[0],y2=end[1],dx=x2-x1,dy=y2-y1,along=0===dx&&0===dy?0:(dx*(coordinate[0]-x1)+dy*(coordinate[1]-y1))/(dx*dx+dy*dy||0);return along<=0?(x=x1,y=y1):along>=1?(x=x2,y=y2):(x=x1+along*dx,y=y1+along*dy),[x,y]}function degreesToStringHDMS(hemispheres,degrees,opt_fractionDigits){var normalizedDegrees=Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.e)(degrees+180,360)-180,x=Math.abs(3600*normalizedDegrees),dflPrecision=opt_fractionDigits||0,precision=Math.pow(10,dflPrecision),deg=Math.floor(x/3600),min=Math.floor((x-3600*deg)/60),sec=x-3600*deg-60*min;return(sec=Math.ceil(sec*precision)/precision)>=60&&(sec=0,min+=1),min>=60&&(min=0,deg+=1),deg+" "+Object(_string_js__WEBPACK_IMPORTED_MODULE_2__.b)(min,2)+" "+Object(_string_js__WEBPACK_IMPORTED_MODULE_2__.b)(sec,2,dflPrecision)+""+(0==normalizedDegrees?"":" "+hemispheres.charAt(normalizedDegrees<0?1:0))}function equals(coordinate1,coordinate2){for(var equals=!0,i=coordinate1.length-1;i>=0;--i)if(coordinate1[i]!=coordinate2[i]){equals=!1;break}return equals}function rotate(coordinate,angle){var cosAngle=Math.cos(angle),sinAngle=Math.sin(angle),y=coordinate[1]*cosAngle+coordinate[0]*sinAngle;return coordinate[0]=coordinate[0]*cosAngle-coordinate[1]*sinAngle,coordinate[1]=y,coordinate}function scale(coordinate,scale){return coordinate[0]*=scale,coordinate[1]*=scale,coordinate}function squaredDistance(coord1,coord2){var dx=coord1[0]-coord2[0],dy=coord1[1]-coord2[1];return dx*dx+dy*dy}function distance(coord1,coord2){return Math.sqrt(squaredDistance(coord1,coord2))}function squaredDistanceToSegment(coordinate,segment){return squaredDistance(coordinate,closestOnSegment(coordinate,segment))}function toStringHDMS(coordinate,opt_fractionDigits){return coordinate?degreesToStringHDMS("NS",coordinate[1],opt_fractionDigits)+" "+degreesToStringHDMS("EW",coordinate[0],opt_fractionDigits):""}function wrapX(coordinate,projection){if(projection.canWrapX()){var worldWidth=Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.D)(projection.getExtent()),worldsAway=getWorldsAway(coordinate,projection,worldWidth);worldsAway&&(coordinate[0]-=worldsAway*worldWidth)}return coordinate}function getWorldsAway(coordinate,projection,opt_sourceExtentWidth){var projectionExtent=projection.getExtent(),worldsAway=0;if(projection.canWrapX()&&(coordinate[0]<projectionExtent[0]||coordinate[0]>projectionExtent[2])){var sourceExtentWidth=opt_sourceExtentWidth||Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.D)(projectionExtent);worldsAway=Math.floor((coordinate[0]-projectionExtent[0])/sourceExtentWidth)}return worldsAway}},pn46:function(module,exports){(function(){exports.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},q7cr:function(module,__webpack_exports__,__webpack_require__){"use strict";function deflateCoordinate(flatCoordinates,offset,coordinate,stride){for(var i=0,ii=coordinate.length;i<ii;++i)flatCoordinates[offset++]=coordinate[i];return offset}function deflateCoordinates(flatCoordinates,offset,coordinates,stride){for(var i=0,ii=coordinates.length;i<ii;++i)for(var coordinate=coordinates[i],j=0;j<stride;++j)flatCoordinates[offset++]=coordinate[j];return offset}function deflateCoordinatesArray(flatCoordinates,offset,coordinatess,stride,opt_ends){for(var ends=opt_ends||[],i=0,j=0,jj=coordinatess.length;j<jj;++j){var end=deflateCoordinates(flatCoordinates,offset,coordinatess[j],stride);ends[i++]=end,offset=end}return ends.length=i,ends}function deflateMultiCoordinatesArray(flatCoordinates,offset,coordinatesss,stride,opt_endss){for(var endss=opt_endss||[],i=0,j=0,jj=coordinatesss.length;j<jj;++j){var ends=deflateCoordinatesArray(flatCoordinates,offset,coordinatesss[j],stride,endss[i]);endss[i++]=ends,offset=ends[ends.length-1]}return endss.length=i,endss}__webpack_require__.d(__webpack_exports__,"a",function(){return deflateCoordinate}),__webpack_require__.d(__webpack_exports__,"b",function(){return deflateCoordinates}),__webpack_require__.d(__webpack_exports__,"c",function(){return deflateCoordinatesArray}),__webpack_require__.d(__webpack_exports__,"d",function(){return deflateMultiCoordinatesArray})},qJZF:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return create}),__webpack_require__.d(__webpack_exports__,"f",function(){return multiply}),__webpack_require__.d(__webpack_exports__,"h",function(){return setFromArray}),__webpack_require__.d(__webpack_exports__,"a",function(){return apply}),__webpack_require__.d(__webpack_exports__,"g",function(){return scale}),__webpack_require__.d(__webpack_exports__,"e",function(){return makeScale}),__webpack_require__.d(__webpack_exports__,"b",function(){return compose}),__webpack_require__.d(__webpack_exports__,"d",function(){return makeInverse}),__webpack_require__.d(__webpack_exports__,"i",function(){return toString});var _asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("kvpX"),tmp_=new Array(6);function create(){return[1,0,0,1,0,0]}function multiply(transform1,transform2){var a1=transform1[0],b1=transform1[1],c1=transform1[2],d1=transform1[3],e1=transform1[4],f1=transform1[5],a2=transform2[0],b2=transform2[1],c2=transform2[2],d2=transform2[3],e2=transform2[4],f2=transform2[5];return transform1[0]=a1*a2+c1*b2,transform1[1]=b1*a2+d1*b2,transform1[2]=a1*c2+c1*d2,transform1[3]=b1*c2+d1*d2,transform1[4]=a1*e2+c1*f2+e1,transform1[5]=b1*e2+d1*f2+f1,transform1}function set(transform,a,b,c,d,e,f){return transform[0]=a,transform[1]=b,transform[2]=c,transform[3]=d,transform[4]=e,transform[5]=f,transform}function setFromArray(transform1,transform2){return transform1[0]=transform2[0],transform1[1]=transform2[1],transform1[2]=transform2[2],transform1[3]=transform2[3],transform1[4]=transform2[4],transform1[5]=transform2[5],transform1}function apply(transform,coordinate){var x=coordinate[0],y=coordinate[1];return coordinate[0]=transform[0]*x+transform[2]*y+transform[4],coordinate[1]=transform[1]*x+transform[3]*y+transform[5],coordinate}function scale(transform,x,y){return multiply(transform,set(tmp_,x,0,0,y,0,0))}function makeScale(target,x,y){return set(target,x,0,0,y,0,0)}function compose(transform,dx1,dy1,sx,sy,angle,dx2,dy2){var sin=Math.sin(angle),cos=Math.cos(angle);return transform[0]=sx*cos,transform[1]=sy*sin,transform[2]=-sx*sin,transform[3]=sy*cos,transform[4]=dx2*sx*cos-dy2*sx*sin+dx1,transform[5]=dx2*sy*sin+dy2*sy*cos+dy1,transform}function makeInverse(target,source){var mat,det=(mat=source)[0]*mat[3]-mat[1]*mat[2];Object(_asserts_js__WEBPACK_IMPORTED_MODULE_0__.a)(0!==det,32);var a=source[0],b=source[1],c=source[2],d=source[3],e=source[4],f=source[5];return target[0]=d/det,target[1]=-b/det,target[2]=-c/det,target[3]=a/det,target[4]=(c*f-d*e)/det,target[5]=-(a*f-b*e)/det,target}function toString(mat){return"matrix("+mat.join(", ")+")"}},qxDF:function(module,exports,__webpack_require__){(function(){"use strict";var bom,defaults,events,isEmpty,processItem,processors,sax,setImmediate,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},hasProp={}.hasOwnProperty;sax=__webpack_require__("MXF5"),events=__webpack_require__("+qE3"),bom=__webpack_require__("b5cc"),processors=__webpack_require__("gTaY"),setImmediate=__webpack_require__("62BN").setImmediate,defaults=__webpack_require__("pn46").defaults,isEmpty=function(thing){return"object"==typeof thing&&null!=thing&&0===Object.keys(thing).length},processItem=function(processors,item,key){var i,len;for(i=0,len=processors.length;i<len;i++)item=(0,processors[i])(item,key);return item},exports.Parser=function(superClass){function Parser(opts){var key,ref;if(this.parseStringPromise=bind(this.parseStringPromise,this),this.parseString=bind(this.parseString,this),this.reset=bind(this.reset,this),this.assignOrPush=bind(this.assignOrPush,this),this.processAsync=bind(this.processAsync,this),!(this instanceof exports.Parser))return new exports.Parser(opts);for(key in this.options={},ref=defaults[.2])hasProp.call(ref,key)&&(this.options[key]=ref[key]);for(key in opts)hasProp.call(opts,key)&&(this.options[key]=opts[key]);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(processors.normalize)),this.reset()}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(Parser,superClass),Parser.prototype.processAsync=function(){var chunk,err;try{return this.remaining.length<=this.options.chunkSize?(chunk=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(chunk),this.saxParser.close()):(chunk=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(chunk),setImmediate(this.processAsync))}catch(error1){if(err=error1,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(err)}},Parser.prototype.assignOrPush=function(obj,key,newValue){return key in obj?(obj[key]instanceof Array||(obj[key]=[obj[key]]),obj[key].push(newValue)):obj[key]=this.options.explicitArray?[newValue]:newValue},Parser.prototype.reset=function(){var attrkey,charkey,ontext,stack,_this;return this.removeAllListeners(),this.saxParser=sax.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(_this=this,function(error){if(_this.saxParser.resume(),!_this.saxParser.errThrown)return _this.saxParser.errThrown=!0,_this.emit("error",error)}),this.saxParser.onend=function(_this){return function(){if(!_this.saxParser.ended)return _this.saxParser.ended=!0,_this.emit("end",_this.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,stack=[],attrkey=this.options.attrkey,charkey=this.options.charkey,this.saxParser.onopentag=function(_this){return function(node){var key,newValue,obj,processedKey,ref;if((obj={})[charkey]="",!_this.options.ignoreAttrs)for(key in ref=node.attributes)hasProp.call(ref,key)&&(attrkey in obj||_this.options.mergeAttrs||(obj[attrkey]={}),newValue=_this.options.attrValueProcessors?processItem(_this.options.attrValueProcessors,node.attributes[key],key):node.attributes[key],processedKey=_this.options.attrNameProcessors?processItem(_this.options.attrNameProcessors,key):key,_this.options.mergeAttrs?_this.assignOrPush(obj,processedKey,newValue):obj[attrkey][processedKey]=newValue);return obj["#name"]=_this.options.tagNameProcessors?processItem(_this.options.tagNameProcessors,node.name):node.name,_this.options.xmlns&&(obj[_this.options.xmlnskey]={uri:node.uri,local:node.local}),stack.push(obj)}}(this),this.saxParser.onclosetag=function(_this){return function(){var cdata,emptyStr,key,node,nodeName,obj,objClone,old,s,xpath;if(obj=stack.pop(),nodeName=obj["#name"],_this.options.explicitChildren&&_this.options.preserveChildrenOrder||delete obj["#name"],!0===obj.cdata&&(cdata=obj.cdata,delete obj.cdata),s=stack[stack.length-1],obj[charkey].match(/^\s*$/)&&!cdata?(emptyStr=obj[charkey],delete obj[charkey]):(_this.options.trim&&(obj[charkey]=obj[charkey].trim()),_this.options.normalize&&(obj[charkey]=obj[charkey].replace(/\s{2,}/g," ").trim()),obj[charkey]=_this.options.valueProcessors?processItem(_this.options.valueProcessors,obj[charkey],nodeName):obj[charkey],1===Object.keys(obj).length&&charkey in obj&&!_this.EXPLICIT_CHARKEY&&(obj=obj[charkey])),isEmpty(obj)&&(obj=""!==_this.options.emptyTag?_this.options.emptyTag:emptyStr),null!=_this.options.validator&&(xpath="/"+function(){var i,len,results;for(results=[],i=0,len=stack.length;i<len;i++)results.push((node=stack[i])["#name"]);return results}().concat(nodeName).join("/"),function(){try{obj=_this.options.validator(xpath,s&&s[nodeName],obj)}catch(error1){return _this.emit("error",error1)}}()),_this.options.explicitChildren&&!_this.options.mergeAttrs&&"object"==typeof obj)if(_this.options.preserveChildrenOrder){if(s){for(key in s[_this.options.childkey]=s[_this.options.childkey]||[],objClone={},obj)hasProp.call(obj,key)&&(objClone[key]=obj[key]);s[_this.options.childkey].push(objClone),delete obj["#name"],1===Object.keys(obj).length&&charkey in obj&&!_this.EXPLICIT_CHARKEY&&(obj=obj[charkey])}}else node={},_this.options.attrkey in obj&&(node[_this.options.attrkey]=obj[_this.options.attrkey],delete obj[_this.options.attrkey]),!_this.options.charsAsChildren&&_this.options.charkey in obj&&(node[_this.options.charkey]=obj[_this.options.charkey],delete obj[_this.options.charkey]),Object.getOwnPropertyNames(obj).length>0&&(node[_this.options.childkey]=obj),obj=node;return stack.length>0?_this.assignOrPush(s,nodeName,obj):(_this.options.explicitRoot&&(old=obj,(obj={})[nodeName]=old),_this.resultObject=obj,_this.saxParser.ended=!0,_this.emit("end",_this.resultObject))}}(this),ontext=function(_this){return function(text){var charChild,s;if(s=stack[stack.length-1])return s[charkey]+=text,_this.options.explicitChildren&&_this.options.preserveChildrenOrder&&_this.options.charsAsChildren&&(_this.options.includeWhiteChars||""!==text.replace(/\\n/g,"").trim())&&(s[_this.options.childkey]=s[_this.options.childkey]||[],(charChild={"#name":"__text__"})[charkey]=text,_this.options.normalize&&(charChild[charkey]=charChild[charkey].replace(/\s{2,}/g," ").trim()),s[_this.options.childkey].push(charChild)),s}}(this),this.saxParser.ontext=ontext,this.saxParser.oncdata=function(text){var s;if(s=ontext(text))return s.cdata=!0}},Parser.prototype.parseString=function(str,cb){var err;null!=cb&&"function"==typeof cb&&(this.on("end",function(result){return this.reset(),cb(null,result)}),this.on("error",function(err){return this.reset(),cb(err)}));try{return""===(str=str.toString()).trim()?(this.emit("end",null),!0):(str=bom.stripBOM(str),this.options.async?(this.remaining=str,setImmediate(this.processAsync),this.saxParser):this.saxParser.write(str).close())}catch(error1){if(err=error1,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",err),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw err}},Parser.prototype.parseStringPromise=function(str){return new Promise((_this=this,function(resolve,reject){return _this.parseString(str,function(err,value){return err?reject(err):resolve(value)})}));var _this},Parser}(events),exports.parseString=function(str,a,b){var cb,options;return null!=b?("function"==typeof b&&(cb=b),"object"==typeof a&&(options=a)):("function"==typeof a&&(cb=a),options={}),new exports.Parser(options).parseString(str,cb)},exports.parseStringPromise=function(str,a){var options;return"object"==typeof a&&(options=a),new exports.Parser(options).parseStringPromise(str)}}).call(this)},qzVC:function(module,__webpack_exports__,__webpack_require__){"use strict";var _util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("EwAT"),_size_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("NF0S"),ImageStyle=function(){function ImageStyle(options){this.opacity_=options.opacity,this.rotateWithView_=options.rotateWithView,this.rotation_=options.rotation,this.scale_=options.scale,this.scaleArray_=Object(_size_js__WEBPACK_IMPORTED_MODULE_1__.b)(options.scale),this.displacement_=options.displacement}return ImageStyle.prototype.clone=function(){var scale=this.getScale();return new ImageStyle({opacity:this.getOpacity(),scale:Array.isArray(scale)?scale.slice():scale,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},ImageStyle.prototype.getOpacity=function(){return this.opacity_},ImageStyle.prototype.getRotateWithView=function(){return this.rotateWithView_},ImageStyle.prototype.getRotation=function(){return this.rotation_},ImageStyle.prototype.getScale=function(){return this.scale_},ImageStyle.prototype.getScaleArray=function(){return this.scaleArray_},ImageStyle.prototype.getDisplacement=function(){return this.displacement_},ImageStyle.prototype.getAnchor=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getImage=function(pixelRatio){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getHitDetectionImage=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getPixelRatio=function(pixelRatio){return 1},ImageStyle.prototype.getImageState=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getImageSize=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getHitDetectionImageSize=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getOrigin=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.getSize=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.setOpacity=function(opacity){this.opacity_=opacity},ImageStyle.prototype.setRotateWithView=function(rotateWithView){this.rotateWithView_=rotateWithView},ImageStyle.prototype.setRotation=function(rotation){this.rotation_=rotation},ImageStyle.prototype.setScale=function(scale){this.scale_=scale,this.scaleArray_=Object(_size_js__WEBPACK_IMPORTED_MODULE_1__.b)(scale)},ImageStyle.prototype.listenImageChange=function(listener){Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.load=function(){Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle.prototype.unlistenImageChange=function(listener){Object(_util_js__WEBPACK_IMPORTED_MODULE_0__.b)()},ImageStyle}();__webpack_exports__.a=ImageStyle},rCk2:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,GeometryType=__webpack_require__("9iPr"),SimpleGeometry=__webpack_require__("mrzG"),ol_extent=__webpack_require__("CvXi"),deflate=__webpack_require__("q7cr"),transform=__webpack_require__("vvg4"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),geom_Circle=function(_super){function Circle(center,opt_radius,opt_layout){var _this=_super.call(this)||this;return void 0!==opt_layout&&void 0===opt_radius?_this.setFlatCoordinates(opt_layout,center):_this.setCenterAndRadius(center,opt_radius||0,opt_layout),_this}return __extends(Circle,_super),Circle.prototype.clone=function(){var circle=new Circle(this.flatCoordinates.slice(),void 0,this.layout);return circle.applyProperties(this),circle},Circle.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){var flatCoordinates=this.flatCoordinates,dx=x-flatCoordinates[0],dy=y-flatCoordinates[1],squaredDistance=dx*dx+dy*dy;if(squaredDistance<minSquaredDistance){if(0===squaredDistance)for(var i=0;i<this.stride;++i)closestPoint[i]=flatCoordinates[i];else{var delta=this.getRadius()/Math.sqrt(squaredDistance);for(closestPoint[0]=flatCoordinates[0]+delta*dx,closestPoint[1]=flatCoordinates[1]+delta*dy,i=2;i<this.stride;++i)closestPoint[i]=flatCoordinates[i]}return closestPoint.length=this.stride,squaredDistance}return minSquaredDistance},Circle.prototype.containsXY=function(x,y){var flatCoordinates=this.flatCoordinates,dx=x-flatCoordinates[0],dy=y-flatCoordinates[1];return dx*dx+dy*dy<=this.getRadiusSquared_()},Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},Circle.prototype.computeExtent=function(extent){var flatCoordinates=this.flatCoordinates,radius=flatCoordinates[this.stride]-flatCoordinates[0];return Object(ol_extent.k)(flatCoordinates[0]-radius,flatCoordinates[1]-radius,flatCoordinates[0]+radius,flatCoordinates[1]+radius,extent)},Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},Circle.prototype.getRadiusSquared_=function(){var dx=this.flatCoordinates[this.stride]-this.flatCoordinates[0],dy=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return dx*dx+dy*dy},Circle.prototype.getType=function(){return GeometryType.a.CIRCLE},Circle.prototype.intersectsExtent=function(extent){var circleExtent=this.getExtent();if(Object(ol_extent.E)(extent,circleExtent)){var center=this.getCenter();return extent[0]<=center[0]&&extent[2]>=center[0]||extent[1]<=center[1]&&extent[3]>=center[1]||Object(ol_extent.t)(extent,this.intersectsCoordinate.bind(this))}return!1},Circle.prototype.setCenter=function(center){var stride=this.stride,radius=this.flatCoordinates[stride]-this.flatCoordinates[0],flatCoordinates=center.slice();flatCoordinates[stride]=flatCoordinates[0]+radius;for(var i=1;i<stride;++i)flatCoordinates[stride+i]=center[i];this.setFlatCoordinates(this.layout,flatCoordinates),this.changed()},Circle.prototype.setCenterAndRadius=function(center,radius,opt_layout){this.setLayout(opt_layout,center,0),this.flatCoordinates||(this.flatCoordinates=[]);var flatCoordinates=this.flatCoordinates,offset=Object(deflate.a)(flatCoordinates,0,center,this.stride);flatCoordinates[offset++]=flatCoordinates[0]+radius;for(var i=1,ii=this.stride;i<ii;++i)flatCoordinates[offset++]=flatCoordinates[i];flatCoordinates.length=offset,this.changed()},Circle.prototype.getCoordinates=function(){return null},Circle.prototype.setCoordinates=function(coordinates,opt_layout){},Circle.prototype.setRadius=function(radius){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+radius,this.changed()},Circle.prototype.rotate=function(angle,anchor){var center=this.getCenter(),stride=this.getStride();this.setCenter(Object(transform.a)(center,0,center.length,stride,angle,anchor,center)),this.changed()},Circle.prototype.translate=function(deltaX,deltaY){var center=this.getCenter(),stride=this.getStride();this.setCenter(Object(transform.d)(center,0,center.length,stride,deltaX,deltaY,center)),this.changed()},Circle}(SimpleGeometry.a),Event=__webpack_require__("zvco"),EventType=__webpack_require__("AdTM"),Feature=__webpack_require__("TN97"),Property=__webpack_require__("v2Km"),LineString=__webpack_require__("egkh"),MapBrowserEvent=__webpack_require__("UJv6"),MapBrowserEventType=__webpack_require__("Cy2j"),MultiLineString=__webpack_require__("R+T3"),MultiPoint=__webpack_require__("mkQN"),MultiPolygon=__webpack_require__("iNpl"),Point=__webpack_require__("9ANI"),Pointer=__webpack_require__("QQWy"),Polygon=__webpack_require__("W8M7"),Vector=__webpack_require__("Pmt0"),source_Vector=__webpack_require__("WDFe"),functions=__webpack_require__("V8uu"),condition=__webpack_require__("Bviv"),Style=__webpack_require__("bHcU"),proj=__webpack_require__("JW8z"),ol_Object=__webpack_require__("4mld"),ol_coordinate=__webpack_require__("pWiS"),Draw_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),DrawEvent=function(_super){function DrawEvent(type,feature){var _this=_super.call(this,type)||this;return _this.feature=feature,_this}return Draw_extends(DrawEvent,_super),DrawEvent}(Event.a),Draw_Draw=function(_super){function Draw(options){var type,mode,_this=this,pointerOptions=options;pointerOptions.stopDown||(pointerOptions.stopDown=functions.a),(_this=_super.call(this,pointerOptions)||this).shouldHandle_=!1,_this.downPx_=null,_this.freehand_=!1,_this.source_=options.source?options.source:null,_this.features_=options.features?options.features:null,_this.snapTolerance_=options.snapTolerance?options.snapTolerance:12,_this.type_=options.type,_this.mode_=((type=_this.type_)===GeometryType.a.POINT||type===GeometryType.a.MULTI_POINT?mode="Point":type===GeometryType.a.LINE_STRING||type===GeometryType.a.MULTI_LINE_STRING?mode="LineString":type===GeometryType.a.POLYGON||type===GeometryType.a.MULTI_POLYGON?mode="Polygon":type===GeometryType.a.CIRCLE&&(mode="Circle"),mode),_this.stopClick_=!!options.stopClick,_this.minPoints_=options.minPoints?options.minPoints:"Polygon"===_this.mode_?3:2,_this.maxPoints_="Circle"===_this.mode_?2:options.maxPoints?options.maxPoints:1/0,_this.finishCondition_=options.finishCondition?options.finishCondition:functions.b;var styles,geometryFunction=options.geometryFunction;if(!geometryFunction){var Constructor_1,mode_1=_this.mode_;"Circle"===mode_1?geometryFunction=function(coordinates,geometry,projection){var circle=geometry||new geom_Circle([NaN,NaN]),center=Object(proj.h)(coordinates[0],projection),squaredLength=Object(ol_coordinate.i)(center,Object(proj.h)(coordinates[coordinates.length-1],projection));circle.setCenterAndRadius(center,Math.sqrt(squaredLength));var userProjection=Object(proj.n)();return userProjection&&circle.transform(projection,userProjection),circle}:("Point"===mode_1?Constructor_1=Point.a:"LineString"===mode_1?Constructor_1=LineString.a:"Polygon"===mode_1&&(Constructor_1=Polygon.a),geometryFunction=function(coordinates,geometry,projection){return geometry?geometry.setCoordinates("Polygon"===mode_1?coordinates[0].length?[coordinates[0].concat([coordinates[0][0]])]:[]:coordinates):geometry=new Constructor_1(coordinates),geometry})}return _this.geometryFunction_=geometryFunction,_this.dragVertexDelay_=void 0!==options.dragVertexDelay?options.dragVertexDelay:500,_this.finishCoordinate_=null,_this.sketchFeature_=null,_this.sketchPoint_=null,_this.sketchCoords_=null,_this.sketchLine_=null,_this.sketchLineCoords_=null,_this.squaredClickTolerance_=options.clickTolerance?options.clickTolerance*options.clickTolerance:36,_this.overlay_=new Vector.a({source:new source_Vector.a({useSpatialIndex:!1,wrapX:!!options.wrapX&&options.wrapX}),style:options.style?options.style:(styles=Object(Style.b)(),function(feature,resolution){return styles[feature.getGeometry().getType()]}),updateWhileInteracting:!0}),_this.geometryName_=options.geometryName,_this.condition_=options.condition?options.condition:condition.i,_this.freehandCondition_=options.freehand?condition.c:options.freehandCondition?options.freehandCondition:condition.k,_this.addEventListener(Object(ol_Object.b)(Property.a.ACTIVE),_this.updateState_),_this}return Draw_extends(Draw,_super),Draw.prototype.setMap=function(map){_super.prototype.setMap.call(this,map),this.updateState_()},Draw.prototype.getOverlay=function(){return this.overlay_},Draw.prototype.handleEvent=function(event){event.originalEvent.type===EventType.a.CONTEXTMENU&&event.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(event);var move=event.type===MapBrowserEventType.a.POINTERMOVE,pass=!0;return!this.freehand_&&this.lastDragTime_&&event.type===MapBrowserEventType.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=event.pixel,this.shouldHandle_=!this.freehand_,move=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&event.type===MapBrowserEventType.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(event.coordinate),pass=!1):this.freehand_&&event.type===MapBrowserEventType.a.POINTERDOWN?pass=!1:move&&this.getPointerCount()<2?(pass=event.type===MapBrowserEventType.a.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(event),this.shouldHandle_&&event.originalEvent.preventDefault()):("mouse"===event.originalEvent.pointerType||event.type===MapBrowserEventType.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(event):event.type===MapBrowserEventType.a.DBLCLICK&&(pass=!1),_super.prototype.handleEvent.call(this,event)&&pass},Draw.prototype.handleDownEvent=function(event){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=event.pixel,this.finishCoordinate_||this.startDrawing_(event.coordinate),!0):this.condition_(event)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((function(){this.handlePointerMove_(new MapBrowserEvent.a(MapBrowserEventType.a.POINTERMOVE,event.map,event.originalEvent,!1,event.frameState))}).bind(this),this.dragVertexDelay_),this.downPx_=event.pixel,!0):(this.lastDragTime_=void 0,!1)},Draw.prototype.handleUpEvent=function(event){var pass=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(event),this.shouldHandle_){switch(!0){case!this.finishCoordinate_:if(this.startDrawing_(event.coordinate),"Point"!==this.mode_)break;case this.freehand_||this.atFinish_(event.pixel)&&this.finishCondition_(event):this.finishDrawing();break;case!this.freehand_:this.addToDrawing_(event.coordinate)}pass=!1}else this.freehand_&&this.abortDrawing();return!pass&&this.stopClick_&&event.originalEvent.stopPropagation(),pass},Draw.prototype.handlePointerMove_=function(event){if(this.pointerType_=event.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var downPx=this.downPx_,clickPx=event.pixel,dx=downPx[0]-clickPx[0],dy=downPx[1]-clickPx[1],squaredDistance=dx*dx+dy*dy;if(this.shouldHandle_=this.freehand_?squaredDistance>this.squaredClickTolerance_:squaredDistance<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(event.coordinate):this.createOrUpdateSketchPoint_(event)},Draw.prototype.atFinish_=function(pixel){var at=!1;if(this.sketchFeature_){var potentiallyDone=!1,potentiallyFinishCoordinates=[this.finishCoordinate_],mode=this.mode_;if("Point"===mode)at=!0;else if("Circle"===mode)at=2===this.sketchCoords_.length;else if("LineString"===mode)potentiallyDone=this.sketchCoords_.length>this.minPoints_;else if("Polygon"===mode){var sketchCoords=this.sketchCoords_;potentiallyDone=sketchCoords[0].length>this.minPoints_,potentiallyFinishCoordinates=[sketchCoords[0][0],sketchCoords[0][sketchCoords[0].length-2]]}if(potentiallyDone)for(var map=this.getMap(),i=0,ii=potentiallyFinishCoordinates.length;i<ii;i++){var finishCoordinate=potentiallyFinishCoordinates[i],finishPixel=map.getPixelFromCoordinate(finishCoordinate),dx=pixel[0]-finishPixel[0],dy=pixel[1]-finishPixel[1],snapTolerance=this.freehand_?1:this.snapTolerance_;if(at=Math.sqrt(dx*dx+dy*dy)<=snapTolerance){this.finishCoordinate_=finishCoordinate;break}}}return at},Draw.prototype.createOrUpdateSketchPoint_=function(event){var coordinates=event.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(coordinates):(this.sketchPoint_=new Feature.a(new Point.a(coordinates)),this.updateSketchFeatures_())},Draw.prototype.createOrUpdateCustomSketchLine_=function(geometry){this.sketchLine_||(this.sketchLine_=new Feature.a);var ring=geometry.getLinearRing(0),sketchLineGeom=this.sketchLine_.getGeometry();sketchLineGeom?(sketchLineGeom.setFlatCoordinates(ring.getLayout(),ring.getFlatCoordinates()),sketchLineGeom.changed()):(sketchLineGeom=new LineString.a(ring.getFlatCoordinates(),ring.getLayout()),this.sketchLine_.setGeometry(sketchLineGeom))},Draw.prototype.startDrawing_=function(start){var projection=this.getMap().getView().getProjection();this.finishCoordinate_=start,"Point"===this.mode_?this.sketchCoords_=start.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[start.slice(),start.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[start.slice(),start.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Feature.a(new LineString.a(this.sketchLineCoords_)));var geometry=this.geometryFunction_(this.sketchCoords_,void 0,projection);this.sketchFeature_=new Feature.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(geometry),this.updateSketchFeatures_(),this.dispatchEvent(new DrawEvent("drawstart",this.sketchFeature_))},Draw.prototype.modifyDrawing_=function(coordinate){var coordinates,last,map=this.getMap(),geometry=this.sketchFeature_.getGeometry(),projection=map.getView().getProjection();"Point"===this.mode_?last=this.sketchCoords_:"Polygon"===this.mode_?(last=(coordinates=this.sketchCoords_[0])[coordinates.length-1],this.atFinish_(map.getPixelFromCoordinate(coordinate))&&(coordinate=this.finishCoordinate_.slice())):last=(coordinates=this.sketchCoords_)[coordinates.length-1],last[0]=coordinate[0],last[1]=coordinate[1],this.geometryFunction_(this.sketchCoords_,geometry,projection),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(coordinate),geometry.getType()===GeometryType.a.POLYGON&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(geometry):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},Draw.prototype.addToDrawing_=function(coordinate){var done,coordinates,geometry=this.sketchFeature_.getGeometry(),projection=this.getMap().getView().getProjection(),mode=this.mode_;"LineString"===mode||"Circle"===mode?(this.finishCoordinate_=coordinate.slice(),(coordinates=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?coordinates.pop():done=!0),coordinates.push(coordinate.slice()),this.geometryFunction_(coordinates,geometry,projection)):"Polygon"===mode&&((coordinates=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?coordinates.pop():done=!0),coordinates.push(coordinate.slice()),done&&(this.finishCoordinate_=coordinates[0]),this.geometryFunction_(this.sketchCoords_,geometry,projection)),this.updateSketchFeatures_(),done&&this.finishDrawing()},Draw.prototype.removeLastPoint=function(){if(this.sketchFeature_){var coordinates,geometry=this.sketchFeature_.getGeometry(),projection=this.getMap().getView().getProjection(),mode=this.mode_;if("LineString"===mode||"Circle"===mode){if((coordinates=this.sketchCoords_).splice(-2,1),coordinates.length>=2){this.finishCoordinate_=coordinates[coordinates.length-2].slice();var finishCoordinate=this.finishCoordinate_.slice();coordinates[coordinates.length-1]=finishCoordinate,this.sketchPoint_.setGeometry(new Point.a(finishCoordinate))}this.geometryFunction_(coordinates,geometry,projection),geometry.getType()===GeometryType.a.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(geometry)}else if("Polygon"===mode){(coordinates=this.sketchCoords_[0]).splice(-2,1);var sketchLineGeom=this.sketchLine_.getGeometry();coordinates.length>=2&&(finishCoordinate=coordinates[coordinates.length-2].slice(),coordinates[coordinates.length-1]=finishCoordinate,this.sketchPoint_.setGeometry(new Point.a(finishCoordinate))),sketchLineGeom.setCoordinates(coordinates),this.geometryFunction_(this.sketchCoords_,geometry,projection)}1===coordinates.length&&this.abortDrawing(),this.updateSketchFeatures_()}},Draw.prototype.finishDrawing=function(){var sketchFeature=this.abortDrawing_();if(sketchFeature){var coordinates=this.sketchCoords_,geometry=sketchFeature.getGeometry(),projection=this.getMap().getView().getProjection();"LineString"===this.mode_?(coordinates.pop(),this.geometryFunction_(coordinates,geometry,projection)):"Polygon"===this.mode_&&(coordinates[0].pop(),this.geometryFunction_(coordinates,geometry,projection),coordinates=geometry.getCoordinates()),this.type_===GeometryType.a.MULTI_POINT?sketchFeature.setGeometry(new MultiPoint.a([coordinates])):this.type_===GeometryType.a.MULTI_LINE_STRING?sketchFeature.setGeometry(new MultiLineString.a([coordinates])):this.type_===GeometryType.a.MULTI_POLYGON&&sketchFeature.setGeometry(new MultiPolygon.a([coordinates])),this.dispatchEvent(new DrawEvent("drawend",sketchFeature)),this.features_&&this.features_.push(sketchFeature),this.source_&&this.source_.addFeature(sketchFeature)}},Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var sketchFeature=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),sketchFeature},Draw.prototype.abortDrawing=function(){var sketchFeature=this.abortDrawing_();sketchFeature&&this.dispatchEvent(new DrawEvent("drawabort",sketchFeature))},Draw.prototype.appendCoordinates=function(coordinates){var sketchCoords,mode=this.mode_,newDrawing=!this.sketchFeature_;if(newDrawing&&this.startDrawing_(coordinates[0]),"LineString"===mode||"Circle"===mode)sketchCoords=this.sketchCoords_;else{if("Polygon"!==mode)return;sketchCoords=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}newDrawing&&sketchCoords.shift(),sketchCoords.pop();for(var i=0;i<coordinates.length;i++)this.addToDrawing_(coordinates[i]);var ending=coordinates[coordinates.length-1];this.addToDrawing_(ending),this.modifyDrawing_(ending)},Draw.prototype.extend=function(feature){var lineString=feature.getGeometry();this.sketchFeature_=feature,this.sketchCoords_=lineString.getCoordinates();var last=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=last.slice(),this.sketchCoords_.push(last.slice()),this.sketchPoint_=new Feature.a(new Point.a(last)),this.updateSketchFeatures_(),this.dispatchEvent(new DrawEvent("drawstart",this.sketchFeature_))},Draw.prototype.updateSketchFeatures_=function(){var sketchFeatures=[];this.sketchFeature_&&sketchFeatures.push(this.sketchFeature_),this.sketchLine_&&sketchFeatures.push(this.sketchLine_),this.sketchPoint_&&sketchFeatures.push(this.sketchPoint_);var overlaySource=this.overlay_.getSource();overlaySource.clear(!0),overlaySource.addFeatures(sketchFeatures)},Draw.prototype.updateState_=function(){var map=this.getMap(),active=this.getActive();map&&active||this.abortDrawing(),this.overlay_.setMap(active?map:null)},Draw}(Pointer.b);__webpack_exports__.a=Draw_Draw},rgrL:function(module,exports,__webpack_require__){(function(){var NodeType,XMLDOMConfiguration,XMLDOMImplementation,XMLNode,XMLStringWriter,XMLStringifier,isPlainObject,hasProp={}.hasOwnProperty;isPlainObject=__webpack_require__("RfOz").isPlainObject,XMLDOMImplementation=__webpack_require__("Cm3p"),XMLDOMConfiguration=__webpack_require__("i6Br"),XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),XMLStringifier=__webpack_require__("WmE4"),XMLStringWriter=__webpack_require__("HwjW"),module.exports=function(superClass){function XMLDocument(options){XMLDocument.__super__.constructor.call(this,null),this.name="#document",this.type=NodeType.Document,this.documentURI=null,this.domConfig=new XMLDOMConfiguration,options||(options={}),options.writer||(options.writer=new XMLStringWriter),this.options=options,this.stringify=new XMLStringifier(options)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDocument,superClass),Object.defineProperty(XMLDocument.prototype,"implementation",{value:new XMLDOMImplementation}),Object.defineProperty(XMLDocument.prototype,"doctype",{get:function(){var child,i,len,ref;for(i=0,len=(ref=this.children).length;i<len;i++)if((child=ref[i]).type===NodeType.DocType)return child;return null}}),Object.defineProperty(XMLDocument.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(XMLDocument.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(XMLDocument.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(XMLDocument.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===NodeType.Declaration?this.children[0].encoding:null}}),Object.defineProperty(XMLDocument.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===NodeType.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(XMLDocument.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===NodeType.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(XMLDocument.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(XMLDocument.prototype,"origin",{get:function(){return null}}),Object.defineProperty(XMLDocument.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(XMLDocument.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(XMLDocument.prototype,"contentType",{get:function(){return null}}),XMLDocument.prototype.end=function(writer){var writerOptions;return writerOptions={},writer?isPlainObject(writer)&&(writerOptions=writer,writer=this.options.writer):writer=this.options.writer,writer.document(this,writer.filterOptions(writerOptions))},XMLDocument.prototype.toString=function(options){return this.options.writer.document(this,this.options.writer.filterOptions(options))},XMLDocument.prototype.createElement=function(tagName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createTextNode=function(data){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createComment=function(data){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createCDATASection=function(data){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createProcessingInstruction=function(target,data){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createAttribute=function(name){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createEntityReference=function(name){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.getElementsByTagName=function(tagname){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.importNode=function(importedNode,deep){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createElementNS=function(namespaceURI,qualifiedName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createAttributeNS=function(namespaceURI,qualifiedName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.getElementsByTagNameNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.getElementById=function(elementId){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.adoptNode=function(source){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.renameNode=function(node,namespaceURI,qualifiedName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.getElementsByClassName=function(classNames){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createEvent=function(eventInterface){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createNodeIterator=function(root,whatToShow,filter){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument.prototype.createTreeWalker=function(root,whatToShow,filter){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLDocument}(XMLNode)}).call(this)},sMGE:function(module,__webpack_exports__,__webpack_require__){"use strict";function padNumber(number,width,opt_precision){var numberString=void 0!==opt_precision?number.toFixed(opt_precision):""+number,decimal=numberString.indexOf(".");return(decimal=-1===decimal?numberString.length:decimal)>width?numberString:new Array(1+width-decimal).join("0")+numberString}function compareVersions(v1,v2){for(var s1=(""+v1).split("."),s2=(""+v2).split("."),i=0;i<Math.max(s1.length,s2.length);i++){var n1=parseInt(s1[i]||"0",10),n2=parseInt(s2[i]||"0",10);if(n1>n2)return 1;if(n2>n1)return-1}return 0}__webpack_require__.d(__webpack_exports__,"b",function(){return padNumber}),__webpack_require__.d(__webpack_exports__,"a",function(){return compareVersions})},saKC:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return interpolatePoint}),__webpack_require__.d(__webpack_exports__,"b",function(){return lineStringCoordinateAtM}),__webpack_require__.d(__webpack_exports__,"c",function(){return lineStringsCoordinateAtM});var _array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("n15R"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f8l7");function interpolatePoint(flatCoordinates,offset,end,stride,fraction,opt_dest,opt_dimension){var o,t,n=(end-offset)/stride;if(1===n)o=offset;else if(2===n)o=offset,t=fraction;else if(0!==n){for(var x1=flatCoordinates[offset],y1=flatCoordinates[offset+1],length_1=0,cumulativeLengths=[0],i=offset+stride;i<end;i+=stride){var x2=flatCoordinates[i],y2=flatCoordinates[i+1];length_1+=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)),cumulativeLengths.push(length_1),x1=x2,y1=y2}var target=fraction*length_1,index=Object(_array_js__WEBPACK_IMPORTED_MODULE_0__.a)(cumulativeLengths,target);index<0?(t=(target-cumulativeLengths[-index-2])/(cumulativeLengths[-index-1]-cumulativeLengths[-index-2]),o=offset+(-index-2)*stride):o=offset+index*stride}var dimension=opt_dimension>1?opt_dimension:2,dest=opt_dest||new Array(dimension);for(i=0;i<dimension;++i)dest[i]=void 0===o?NaN:void 0===t?flatCoordinates[o+i]:Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.c)(flatCoordinates[o+i],flatCoordinates[o+stride+i],t);return dest}function lineStringCoordinateAtM(flatCoordinates,offset,end,stride,m,extrapolate){if(end==offset)return null;var coordinate;if(m<flatCoordinates[offset+stride-1])return extrapolate?((coordinate=flatCoordinates.slice(offset,offset+stride))[stride-1]=m,coordinate):null;if(flatCoordinates[end-1]<m)return extrapolate?((coordinate=flatCoordinates.slice(end-stride,end))[stride-1]=m,coordinate):null;if(m==flatCoordinates[offset+stride-1])return flatCoordinates.slice(offset,offset+stride);for(var lo=offset/stride,hi=end/stride;lo<hi;){var mid=lo+hi>>1;m<flatCoordinates[(mid+1)*stride-1]?hi=mid:lo=mid+1}var m0=flatCoordinates[lo*stride-1];if(m==m0)return flatCoordinates.slice((lo-1)*stride,(lo-1)*stride+stride);var t=(m-m0)/(flatCoordinates[(lo+1)*stride-1]-m0);coordinate=[];for(var i=0;i<stride-1;++i)coordinate.push(Object(_math_js__WEBPACK_IMPORTED_MODULE_1__.c)(flatCoordinates[(lo-1)*stride+i],flatCoordinates[lo*stride+i],t));return coordinate.push(m),coordinate}function lineStringsCoordinateAtM(flatCoordinates,offset,ends,stride,m,extrapolate,interpolate){if(interpolate)return lineStringCoordinateAtM(flatCoordinates,offset,ends[ends.length-1],stride,m,extrapolate);var coordinate;if(m<flatCoordinates[stride-1])return extrapolate?((coordinate=flatCoordinates.slice(0,stride))[stride-1]=m,coordinate):null;if(flatCoordinates[flatCoordinates.length-1]<m)return extrapolate?((coordinate=flatCoordinates.slice(flatCoordinates.length-stride))[stride-1]=m,coordinate):null;for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];if(offset!=end){if(m<flatCoordinates[offset+stride-1])return null;if(m<=flatCoordinates[end-1])return lineStringCoordinateAtM(flatCoordinates,offset,end,stride,m,!1);offset=end}}return null}},svx0:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("GDrd"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("AdTM"),_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("9iPr"),_Pointer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("QQWy"),_structs_RBush_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Sn2A"),_source_VectorEventType_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("pD/Q"),_functions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("V8uu"),_extent_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("CvXi"),_coordinate_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("pWiS"),_geom_Polygon_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("W8M7"),_proj_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("JW8z"),_util_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("EwAT"),_obj_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("OPOH"),_events_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Ho3V"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function getFeatureFromEvent(evt){return evt.feature?evt.feature:evt.element?evt.element:void 0}var tempSegment=[],Snap=function(_super){function Snap(opt_options){var _this=this,options=opt_options||{},pointerOptions=options;return pointerOptions.handleDownEvent||(pointerOptions.handleDownEvent=_functions_js__WEBPACK_IMPORTED_MODULE_6__.b),pointerOptions.stopDown||(pointerOptions.stopDown=_functions_js__WEBPACK_IMPORTED_MODULE_6__.a),(_this=_super.call(this,pointerOptions)||this).source_=options.source?options.source:null,_this.vertex_=void 0===options.vertex||options.vertex,_this.edge_=void 0===options.edge||options.edge,_this.features_=options.features?options.features:null,_this.featuresListenerKeys_=[],_this.featureChangeListenerKeys_={},_this.indexedFeaturesExtents_={},_this.pendingFeatures_={},_this.pixelTolerance_=void 0!==options.pixelTolerance?options.pixelTolerance:10,_this.rBush_=new _structs_RBush_js__WEBPACK_IMPORTED_MODULE_4__.a,_this.SEGMENT_WRITERS_={Point:_this.writePointGeometry_.bind(_this),LineString:_this.writeLineStringGeometry_.bind(_this),LinearRing:_this.writeLineStringGeometry_.bind(_this),Polygon:_this.writePolygonGeometry_.bind(_this),MultiPoint:_this.writeMultiPointGeometry_.bind(_this),MultiLineString:_this.writeMultiLineStringGeometry_.bind(_this),MultiPolygon:_this.writeMultiPolygonGeometry_.bind(_this),GeometryCollection:_this.writeGeometryCollectionGeometry_.bind(_this),Circle:_this.writeCircleGeometry_.bind(_this)},_this}return __extends(Snap,_super),Snap.prototype.addFeature=function(feature,opt_listen){var register=void 0===opt_listen||opt_listen,feature_uid=Object(_util_js__WEBPACK_IMPORTED_MODULE_11__.c)(feature),geometry=feature.getGeometry();if(geometry){var segmentWriter=this.SEGMENT_WRITERS_[geometry.getType()];segmentWriter&&(this.indexedFeaturesExtents_[feature_uid]=geometry.getExtent(Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.j)()),segmentWriter(feature,geometry))}register&&(this.featureChangeListenerKeys_[feature_uid]=Object(_events_js__WEBPACK_IMPORTED_MODULE_13__.a)(feature,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.a.CHANGE,this.handleFeatureChange_,this))},Snap.prototype.forEachFeatureAdd_=function(feature){this.addFeature(feature)},Snap.prototype.forEachFeatureRemove_=function(feature){this.removeFeature(feature)},Snap.prototype.getFeatures_=function(){var features;return this.features_?features=this.features_:this.source_&&(features=this.source_.getFeatures()),features},Snap.prototype.handleEvent=function(evt){var result=this.snapTo(evt.pixel,evt.coordinate,evt.map);return result.snapped&&(evt.coordinate=result.vertex.slice(0,2),evt.pixel=result.vertexPixel),_super.prototype.handleEvent.call(this,evt)},Snap.prototype.handleFeatureAdd_=function(evt){var feature=getFeatureFromEvent(evt);this.addFeature(feature)},Snap.prototype.handleFeatureRemove_=function(evt){var feature=getFeatureFromEvent(evt);this.removeFeature(feature)},Snap.prototype.handleFeatureChange_=function(evt){var feature=evt.target;if(this.handlingDownUpSequence){var uid=Object(_util_js__WEBPACK_IMPORTED_MODULE_11__.c)(feature);uid in this.pendingFeatures_||(this.pendingFeatures_[uid]=feature)}else this.updateFeature_(feature)},Snap.prototype.handleUpEvent=function(evt){var featuresToUpdate=Object(_obj_js__WEBPACK_IMPORTED_MODULE_12__.c)(this.pendingFeatures_);return featuresToUpdate.length&&(featuresToUpdate.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},Snap.prototype.removeFeature=function(feature,opt_unlisten){var unregister=void 0===opt_unlisten||opt_unlisten,feature_uid=Object(_util_js__WEBPACK_IMPORTED_MODULE_11__.c)(feature),extent=this.indexedFeaturesExtents_[feature_uid];if(extent){var rBush=this.rBush_,nodesToRemove_1=[];rBush.forEachInExtent(extent,function(node){feature===node.feature&&nodesToRemove_1.push(node)});for(var i=nodesToRemove_1.length-1;i>=0;--i)rBush.remove(nodesToRemove_1[i])}unregister&&(Object(_events_js__WEBPACK_IMPORTED_MODULE_13__.c)(this.featureChangeListenerKeys_[feature_uid]),delete this.featureChangeListenerKeys_[feature_uid])},Snap.prototype.setMap=function(map){var currentMap=this.getMap(),keys=this.featuresListenerKeys_,features=this.getFeatures_();currentMap&&(keys.forEach(_events_js__WEBPACK_IMPORTED_MODULE_13__.c),keys.length=0,features.forEach(this.forEachFeatureRemove_.bind(this))),_super.prototype.setMap.call(this,map),map&&(this.features_?keys.push(Object(_events_js__WEBPACK_IMPORTED_MODULE_13__.a)(this.features_,_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_0__.a.ADD,this.handleFeatureAdd_,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_13__.a)(this.features_,_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_0__.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&keys.push(Object(_events_js__WEBPACK_IMPORTED_MODULE_13__.a)(this.source_,_source_VectorEventType_js__WEBPACK_IMPORTED_MODULE_5__.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(_events_js__WEBPACK_IMPORTED_MODULE_13__.a)(this.source_,_source_VectorEventType_js__WEBPACK_IMPORTED_MODULE_5__.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),features.forEach(this.forEachFeatureAdd_.bind(this)))},Snap.prototype.snapTo=function(pixel,pixelCoordinate,map){var lowerLeft=map.getCoordinateFromPixel([pixel[0]-this.pixelTolerance_,pixel[1]+this.pixelTolerance_]),upperRight=map.getCoordinateFromPixel([pixel[0]+this.pixelTolerance_,pixel[1]-this.pixelTolerance_]),box=Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.b)([lowerLeft,upperRight]),segments=this.rBush_.getInExtent(box);this.vertex_&&!this.edge_&&(segments=segments.filter(function(segment){return segment.feature.getGeometry().getType()!==_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.CIRCLE}));var snapped=!1,vertex=null,vertexPixel=null;if(0===segments.length)return{snapped:snapped,vertex:vertex,vertexPixel:vertexPixel};for(var closestSegmentData,projection=map.getView().getProjection(),projectedCoordinate=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.h)(pixelCoordinate,projection),minSquaredDistance=1/0,i=0;i<segments.length;++i){var segmentData=segments[i];tempSegment[0]=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.h)(segmentData.segment[0],projection),tempSegment[1]=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.h)(segmentData.segment[1],projection);var delta=Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.j)(projectedCoordinate,tempSegment);delta<minSquaredDistance&&(closestSegmentData=segmentData,minSquaredDistance=delta)}var closestSegment=closestSegmentData.segment;if(this.vertex_&&!this.edge_){var pixel1=map.getPixelFromCoordinate(closestSegment[0]),pixel2=map.getPixelFromCoordinate(closestSegment[1]),squaredDist1=Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.i)(pixel,pixel1),squaredDist2=Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.i)(pixel,pixel2);Math.sqrt(Math.min(squaredDist1,squaredDist2))<=this.pixelTolerance_&&(snapped=!0,vertexPixel=map.getPixelFromCoordinate(vertex=squaredDist1>squaredDist2?closestSegment[1]:closestSegment[0]))}else if(this.edge_){var isCircle=closestSegmentData.feature.getGeometry().getType()===_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_2__.a.CIRCLE;if(isCircle){var circleGeometry=closestSegmentData.feature.getGeometry(),userProjection=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.n)();userProjection&&(circleGeometry=circleGeometry.clone().transform(userProjection,projection)),vertex=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.o)(Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.b)(projectedCoordinate,circleGeometry),projection)}else tempSegment[0]=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.h)(closestSegment[0],projection),tempSegment[1]=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.h)(closestSegment[1],projection),vertex=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.o)(Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.c)(projectedCoordinate,tempSegment),projection);vertexPixel=map.getPixelFromCoordinate(vertex),Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.d)(pixel,vertexPixel)<=this.pixelTolerance_&&(snapped=!0,this.vertex_&&!isCircle)&&(pixel1=map.getPixelFromCoordinate(closestSegment[0]),pixel2=map.getPixelFromCoordinate(closestSegment[1]),squaredDist1=Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.i)(vertexPixel,pixel1),squaredDist2=Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_8__.i)(vertexPixel,pixel2),Math.sqrt(Math.min(squaredDist1,squaredDist2))<=this.pixelTolerance_&&(vertexPixel=map.getPixelFromCoordinate(vertex=squaredDist1>squaredDist2?closestSegment[1]:closestSegment[0])))}return snapped&&(vertexPixel=[Math.round(vertexPixel[0]),Math.round(vertexPixel[1])]),{snapped:snapped,vertex:vertex,vertexPixel:vertexPixel}},Snap.prototype.updateFeature_=function(feature){this.removeFeature(feature,!1),this.addFeature(feature,!1)},Snap.prototype.writeCircleGeometry_=function(feature,geometry){var projection=this.getMap().getView().getProjection(),circleGeometry=geometry,userProjection=Object(_proj_js__WEBPACK_IMPORTED_MODULE_10__.n)();userProjection&&(circleGeometry=circleGeometry.clone().transform(userProjection,projection));var polygon=Object(_geom_Polygon_js__WEBPACK_IMPORTED_MODULE_9__.b)(circleGeometry);userProjection&&polygon.transform(projection,userProjection);for(var coordinates=polygon.getCoordinates()[0],i=0,ii=coordinates.length-1;i<ii;++i){var segment=coordinates.slice(i,i+2),segmentData={feature:feature,segment:segment};this.rBush_.insert(Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.b)(segment),segmentData)}},Snap.prototype.writeGeometryCollectionGeometry_=function(feature,geometry){for(var geometries=geometry.getGeometriesArray(),i=0;i<geometries.length;++i){var segmentWriter=this.SEGMENT_WRITERS_[geometries[i].getType()];segmentWriter&&segmentWriter(feature,geometries[i])}},Snap.prototype.writeLineStringGeometry_=function(feature,geometry){for(var coordinates=geometry.getCoordinates(),i=0,ii=coordinates.length-1;i<ii;++i){var segment=coordinates.slice(i,i+2),segmentData={feature:feature,segment:segment};this.rBush_.insert(Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.b)(segment),segmentData)}},Snap.prototype.writeMultiLineStringGeometry_=function(feature,geometry){for(var lines=geometry.getCoordinates(),j=0,jj=lines.length;j<jj;++j)for(var coordinates=lines[j],i=0,ii=coordinates.length-1;i<ii;++i){var segment=coordinates.slice(i,i+2),segmentData={feature:feature,segment:segment};this.rBush_.insert(Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.b)(segment),segmentData)}},Snap.prototype.writeMultiPointGeometry_=function(feature,geometry){for(var points=geometry.getCoordinates(),i=0,ii=points.length;i<ii;++i){var coordinates=points[i],segmentData={feature:feature,segment:[coordinates,coordinates]};this.rBush_.insert(geometry.getExtent(),segmentData)}},Snap.prototype.writeMultiPolygonGeometry_=function(feature,geometry){for(var polygons=geometry.getCoordinates(),k=0,kk=polygons.length;k<kk;++k)for(var rings=polygons[k],j=0,jj=rings.length;j<jj;++j)for(var coordinates=rings[j],i=0,ii=coordinates.length-1;i<ii;++i){var segment=coordinates.slice(i,i+2),segmentData={feature:feature,segment:segment};this.rBush_.insert(Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.b)(segment),segmentData)}},Snap.prototype.writePointGeometry_=function(feature,geometry){var coordinates=geometry.getCoordinates(),segmentData={feature:feature,segment:[coordinates,coordinates]};this.rBush_.insert(geometry.getExtent(),segmentData)},Snap.prototype.writePolygonGeometry_=function(feature,geometry){for(var rings=geometry.getCoordinates(),j=0,jj=rings.length;j<jj;++j)for(var coordinates=rings[j],i=0,ii=coordinates.length-1;i<ii;++i){var segment=coordinates.slice(i,i+2),segmentData={feature:feature,segment:segment};this.rBush_.insert(Object(_extent_js__WEBPACK_IMPORTED_MODULE_7__.b)(segment),segmentData)}},Snap}(_Pointer_js__WEBPACK_IMPORTED_MODULE_3__.b);__webpack_exports__.a=Snap},t98H:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return transformGeometryWithOptions}),__webpack_require__.d(__webpack_exports__,"b",function(){return transformExtentWithOptions});var _proj_Units_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("/O31"),_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("EwAT"),_obj_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OPOH"),_proj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("JW8z"),FeatureFormat=function(){function FeatureFormat(){this.dataProjection=null,this.defaultFeatureProjection=null}return FeatureFormat.prototype.getReadOptions=function(source,opt_options){var options;if(opt_options){var dataProjection=opt_options.dataProjection?Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(opt_options.dataProjection):this.readProjection(source);opt_options.extent&&dataProjection&&dataProjection.getUnits()===_proj_Units_js__WEBPACK_IMPORTED_MODULE_0__.b.TILE_PIXELS&&(dataProjection=Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(dataProjection)).setWorldExtent(opt_options.extent),options={dataProjection:dataProjection,featureProjection:opt_options.featureProjection}}return this.adaptOptions(options)},FeatureFormat.prototype.adaptOptions=function(options){return Object(_obj_js__WEBPACK_IMPORTED_MODULE_2__.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},options)},FeatureFormat.prototype.getType=function(){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.readFeature=function(source,opt_options){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.readFeatures=function(source,opt_options){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.readGeometry=function(source,opt_options){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.readProjection=function(source){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.writeFeature=function(feature,opt_options){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.writeFeatures=function(features,opt_options){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat.prototype.writeGeometry=function(geometry,opt_options){return Object(_util_js__WEBPACK_IMPORTED_MODULE_1__.b)()},FeatureFormat}();function transformGeometryWithOptions(geometry,write,opt_options){var transformed,featureProjection=opt_options?Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(opt_options.featureProjection):null,dataProjection=opt_options?Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(opt_options.dataProjection):null;if(transformed=featureProjection&&dataProjection&&!Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.g)(featureProjection,dataProjection)?(write?geometry.clone():geometry).transform(write?featureProjection:dataProjection,write?dataProjection:featureProjection):geometry,write&&opt_options&&void 0!==opt_options.decimals){var power_1=Math.pow(10,opt_options.decimals);transformed===geometry&&(transformed=geometry.clone()),transformed.applyTransform(function(coordinates){for(var i=0,ii=coordinates.length;i<ii;++i)coordinates[i]=Math.round(coordinates[i]*power_1)/power_1;return coordinates})}return transformed}function transformExtentWithOptions(extent,opt_options){var featureProjection=opt_options?Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(opt_options.featureProjection):null,dataProjection=opt_options?Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.j)(opt_options.dataProjection):null;return featureProjection&&dataProjection&&!Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.g)(featureProjection,dataProjection)?Object(_proj_js__WEBPACK_IMPORTED_MODULE_3__.r)(extent,dataProjection,featureProjection):extent}__webpack_exports__.a=FeatureFormat},tYnX:function(module,__webpack_exports__,__webpack_require__){"use strict";function linearRing(flatCoordinates,offset,end,stride){for(var twiceArea=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];twiceArea+=y1*x2-x1*y2,x1=x2,y1=y2}return twiceArea/2}function linearRings(flatCoordinates,offset,ends,stride){for(var area=0,i=0,ii=ends.length;i<ii;++i){var end=ends[i];area+=linearRing(flatCoordinates,offset,end,stride),offset=end}return area}function linearRingss(flatCoordinates,offset,endss,stride){for(var area=0,i=0,ii=endss.length;i<ii;++i){var ends=endss[i];area+=linearRings(flatCoordinates,offset,ends,stride),offset=ends[ends.length-1]}return area}__webpack_require__.d(__webpack_exports__,"a",function(){return linearRing}),__webpack_require__.d(__webpack_exports__,"b",function(){return linearRings}),__webpack_require__.d(__webpack_exports__,"c",function(){return linearRingss})},tjlA:function(module,exports,__webpack_require__){"use strict";var base64=__webpack_require__("H7XF"),ieee754=__webpack_require__("kVK+"),isArray=__webpack_require__("49sm");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array),that}(that,value,encodingOrOffset,length):"string"==typeof value?function(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length||obj.copy(that,0,0,len),that}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||(val=obj.length)!=val?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}var val;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)hi=(c=str.charCodeAt(i))>>8,byteArray.push(c%256),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return base64.fromByteArray(0===start&&end===buf.length?buf:buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:thirdByte=buf[i+2],128==(192&(secondByte=buf[i+1]))&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&(secondByte=buf[i+1]))&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(res.push((codePoint-=65536)>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}(res)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var n,len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=(n=buf[i])<16?"0"+n.toString(16):n.toString(16);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}exports.Buffer=Buffer,exports.SlowBuffer=function(length){return+length!=length&&(length=0),Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(null,size):void 0!==fill?"string"==typeof encoding?createBuffer(null,size).fill(fill,encoding):createBuffer(null,size).fill(fill):createBuffer(null,size)}(0,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset|=0,byteLength|=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset|=0,byteLength|=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}},"tuH/":function(module,exports,__webpack_require__){(function(){var NodeType,XMLNode,hasProp={}.hasOwnProperty;XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),module.exports=function(superClass){function XMLDTDNotation(parent,name,value){if(XMLDTDNotation.__super__.constructor.call(this,parent),null==name)throw new Error("Missing DTD notation name. "+this.debugInfo(name));if(!value.pubID&&!value.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(name));this.name=this.stringify.name(name),this.type=NodeType.NotationDeclaration,null!=value.pubID&&(this.pubID=this.stringify.dtdPubID(value.pubID)),null!=value.sysID&&(this.sysID=this.stringify.dtdSysID(value.sysID))}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLDTDNotation,superClass),Object.defineProperty(XMLDTDNotation.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(XMLDTDNotation.prototype,"systemId",{get:function(){return this.sysID}}),XMLDTDNotation.prototype.toString=function(options){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(options))},XMLDTDNotation}(XMLNode)}).call(this)},u2yf:function(module,__webpack_exports__,__webpack_require__){"use strict";function inflateCoordinates(flatCoordinates,offset,end,stride,opt_coordinates){for(var coordinates=void 0!==opt_coordinates?opt_coordinates:[],i=0,j=offset;j<end;j+=stride)coordinates[i++]=flatCoordinates.slice(j,j+stride);return coordinates.length=i,coordinates}function inflateCoordinatesArray(flatCoordinates,offset,ends,stride,opt_coordinatess){for(var coordinatess=void 0!==opt_coordinatess?opt_coordinatess:[],i=0,j=0,jj=ends.length;j<jj;++j){var end=ends[j];coordinatess[i++]=inflateCoordinates(flatCoordinates,offset,end,stride,coordinatess[i]),offset=end}return coordinatess.length=i,coordinatess}function inflateMultiCoordinatesArray(flatCoordinates,offset,endss,stride,opt_coordinatesss){for(var coordinatesss=void 0!==opt_coordinatesss?opt_coordinatesss:[],i=0,j=0,jj=endss.length;j<jj;++j){var ends=endss[j];coordinatesss[i++]=inflateCoordinatesArray(flatCoordinates,offset,ends,stride,coordinatesss[i]),offset=ends[ends.length-1]}return coordinatesss.length=i,coordinatesss}__webpack_require__.d(__webpack_exports__,"a",function(){return inflateCoordinates}),__webpack_require__.d(__webpack_exports__,"b",function(){return inflateCoordinatesArray}),__webpack_require__.d(__webpack_exports__,"c",function(){return inflateMultiCoordinatesArray})},uO6I:function(module,exports,__webpack_require__){(function(){var NodeType,XMLAttribute,XMLNamedNodeMap,XMLNode,getValue,isFunction,isObject,ref,hasProp={}.hasOwnProperty;ref=__webpack_require__("RfOz"),isObject=ref.isObject,isFunction=ref.isFunction,getValue=ref.getValue,XMLNode=__webpack_require__("kud4"),NodeType=__webpack_require__("Bl63"),XMLAttribute=__webpack_require__("IoDD"),XMLNamedNodeMap=__webpack_require__("XCq/"),module.exports=function(superClass){function XMLElement(parent,name,attributes){var child,j,len,ref1;if(XMLElement.__super__.constructor.call(this,parent),null==name)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(name),this.type=NodeType.Element,this.attribs={},this.schemaTypeInfo=null,null!=attributes&&this.attribute(attributes),parent.type===NodeType.Document&&(this.isRoot=!0,this.documentObject=parent,parent.rootObject=this,parent.children))for(j=0,len=(ref1=parent.children).length;j<len;j++)if((child=ref1[j]).type===NodeType.DocType){child.name=this.name;break}}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLElement,superClass),Object.defineProperty(XMLElement.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(XMLElement.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(XMLElement.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(XMLElement.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(XMLElement.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(XMLElement.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(XMLElement.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(XMLElement.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new XMLNamedNodeMap(this.attribs)),this.attributeMap}}),XMLElement.prototype.clone=function(){var attName,clonedSelf,ref1;for(attName in(clonedSelf=Object.create(this)).isRoot&&(clonedSelf.documentObject=null),clonedSelf.attribs={},ref1=this.attribs)hasProp.call(ref1,attName)&&(clonedSelf.attribs[attName]=ref1[attName].clone());return clonedSelf.children=[],this.children.forEach(function(child){var clonedChild;return(clonedChild=child.clone()).parent=clonedSelf,clonedSelf.children.push(clonedChild)}),clonedSelf},XMLElement.prototype.attribute=function(name,value){var attName;if(null!=name&&(name=getValue(name)),isObject(name))for(attName in name)hasProp.call(name,attName)&&this.attribute(attName,name[attName]);else isFunction(value)&&(value=value.apply()),this.options.keepNullAttributes&&null==value?this.attribs[name]=new XMLAttribute(this,name,""):null!=value&&(this.attribs[name]=new XMLAttribute(this,name,value));return this},XMLElement.prototype.removeAttribute=function(name){var j,len;if(null==name)throw new Error("Missing attribute name. "+this.debugInfo());if(name=getValue(name),Array.isArray(name))for(j=0,len=name.length;j<len;j++)delete this.attribs[name[j]];else delete this.attribs[name];return this},XMLElement.prototype.toString=function(options){return this.options.writer.element(this,this.options.writer.filterOptions(options))},XMLElement.prototype.att=function(name,value){return this.attribute(name,value)},XMLElement.prototype.a=function(name,value){return this.attribute(name,value)},XMLElement.prototype.getAttribute=function(name){return this.attribs.hasOwnProperty(name)?this.attribs[name].value:null},XMLElement.prototype.setAttribute=function(name,value){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getAttributeNode=function(name){return this.attribs.hasOwnProperty(name)?this.attribs[name]:null},XMLElement.prototype.setAttributeNode=function(newAttr){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.removeAttributeNode=function(oldAttr){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getElementsByTagName=function(name){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getAttributeNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.setAttributeNS=function(namespaceURI,qualifiedName,value){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.removeAttributeNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getAttributeNodeNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.setAttributeNodeNS=function(newAttr){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getElementsByTagNameNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.hasAttribute=function(name){return this.attribs.hasOwnProperty(name)},XMLElement.prototype.hasAttributeNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.setIdAttribute=function(name,isId){return this.attribs.hasOwnProperty(name)?this.attribs[name].isId:isId},XMLElement.prototype.setIdAttributeNS=function(namespaceURI,localName,isId){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.setIdAttributeNode=function(idAttr,isId){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getElementsByTagName=function(tagname){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getElementsByTagNameNS=function(namespaceURI,localName){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.getElementsByClassName=function(classNames){throw new Error("This DOM method is not implemented."+this.debugInfo())},XMLElement.prototype.isEqualNode=function(node){var i,j,ref1;if(!XMLElement.__super__.isEqualNode.apply(this,arguments).isEqualNode(node))return!1;if(node.namespaceURI!==this.namespaceURI)return!1;if(node.prefix!==this.prefix)return!1;if(node.localName!==this.localName)return!1;if(node.attribs.length!==this.attribs.length)return!1;for(i=j=0,ref1=this.attribs.length-1;0<=ref1?j<=ref1:j>=ref1;i=0<=ref1?++j:--j)if(!this.attribs[i].isEqualNode(node.attribs[i]))return!1;return!0},XMLElement}(XMLNode)}).call(this)},v2Km:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={ACTIVE:"active"}},vvg4:function(module,__webpack_exports__,__webpack_require__){"use strict";function transform2D(flatCoordinates,offset,end,stride,transform,opt_dest){for(var dest=opt_dest||[],i=0,j=offset;j<end;j+=stride){var x=flatCoordinates[j],y=flatCoordinates[j+1];dest[i++]=transform[0]*x+transform[2]*y+transform[4],dest[i++]=transform[1]*x+transform[3]*y+transform[5]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}function rotate(flatCoordinates,offset,end,stride,angle,anchor,opt_dest){for(var dest=opt_dest||[],cos=Math.cos(angle),sin=Math.sin(angle),anchorX=anchor[0],anchorY=anchor[1],i=0,j=offset;j<end;j+=stride){var deltaX=flatCoordinates[j]-anchorX,deltaY=flatCoordinates[j+1]-anchorY;dest[i++]=anchorX+deltaX*cos-deltaY*sin,dest[i++]=anchorY+deltaX*sin+deltaY*cos;for(var k=j+2;k<j+stride;++k)dest[i++]=flatCoordinates[k]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}function scale(flatCoordinates,offset,end,stride,sx,sy,anchor,opt_dest){for(var dest=opt_dest||[],anchorX=anchor[0],anchorY=anchor[1],i=0,j=offset;j<end;j+=stride){var deltaY=flatCoordinates[j+1]-anchorY;dest[i++]=anchorX+sx*(flatCoordinates[j]-anchorX),dest[i++]=anchorY+sy*deltaY;for(var k=j+2;k<j+stride;++k)dest[i++]=flatCoordinates[k]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}function translate(flatCoordinates,offset,end,stride,deltaX,deltaY,opt_dest){for(var dest=opt_dest||[],i=0,j=offset;j<end;j+=stride){dest[i++]=flatCoordinates[j]+deltaX,dest[i++]=flatCoordinates[j+1]+deltaY;for(var k=j+2;k<j+stride;++k)dest[i++]=flatCoordinates[k]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}__webpack_require__.d(__webpack_exports__,"c",function(){return transform2D}),__webpack_require__.d(__webpack_exports__,"a",function(){return rotate}),__webpack_require__.d(__webpack_exports__,"b",function(){return scale}),__webpack_require__.d(__webpack_exports__,"d",function(){return translate})},w3aC:function(module,exports,__webpack_require__){(function(){var NodeType,WriterState,XMLWriterBase,hasProp={}.hasOwnProperty;NodeType=__webpack_require__("Bl63"),XMLWriterBase=__webpack_require__("pLb+"),WriterState=__webpack_require__("CYXk"),module.exports=function(superClass){function XMLStreamWriter(stream,options){this.stream=stream,XMLStreamWriter.__super__.constructor.call(this,options)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(XMLStreamWriter,superClass),XMLStreamWriter.prototype.endline=function(node,options,level){return node.isLastRootNode&&options.state===WriterState.CloseTag?"":XMLStreamWriter.__super__.endline.call(this,node,options,level)},XMLStreamWriter.prototype.document=function(doc,options){var i,j,k,len,len1,ref,ref1,results;for(i=j=0,len=(ref=doc.children).length;j<len;i=++j)ref[i].isLastRootNode=i===doc.children.length-1;for(options=this.filterOptions(options),results=[],k=0,len1=(ref1=doc.children).length;k<len1;k++)results.push(this.writeChildNode(ref1[k],options,0));return results},XMLStreamWriter.prototype.attribute=function(att,options,level){return this.stream.write(XMLStreamWriter.__super__.attribute.call(this,att,options,level))},XMLStreamWriter.prototype.cdata=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.cdata.call(this,node,options,level))},XMLStreamWriter.prototype.comment=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.comment.call(this,node,options,level))},XMLStreamWriter.prototype.declaration=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.declaration.call(this,node,options,level))},XMLStreamWriter.prototype.docType=function(node,options,level){var j,len,ref;if(level||(level=0),this.openNode(node,options,level),options.state=WriterState.OpenTag,this.stream.write(this.indent(node,options,level)),this.stream.write("<!DOCTYPE "+node.root().name),node.pubID&&node.sysID?this.stream.write(' PUBLIC "'+node.pubID+'" "'+node.sysID+'"'):node.sysID&&this.stream.write(' SYSTEM "'+node.sysID+'"'),node.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(node,options,level)),options.state=WriterState.InsideTag,j=0,len=(ref=node.children).length;j<len;j++)this.writeChildNode(ref[j],options,level+1);options.state=WriterState.CloseTag,this.stream.write("]")}return options.state=WriterState.CloseTag,this.stream.write(options.spaceBeforeSlash+">"),this.stream.write(this.endline(node,options,level)),options.state=WriterState.None,this.closeNode(node,options,level)},XMLStreamWriter.prototype.element=function(node,options,level){var childNodeCount,firstChildNode,j,len,name,ref,ref1;for(name in level||(level=0),this.openNode(node,options,level),options.state=WriterState.OpenTag,this.stream.write(this.indent(node,options,level)+"<"+node.name),ref=node.attribs)hasProp.call(ref,name)&&this.attribute(ref[name],options,level);if(firstChildNode=0===(childNodeCount=node.children.length)?null:node.children[0],0===childNodeCount||node.children.every(function(e){return(e.type===NodeType.Text||e.type===NodeType.Raw)&&""===e.value}))options.allowEmpty?(this.stream.write(">"),options.state=WriterState.CloseTag,this.stream.write("</"+node.name+">")):(options.state=WriterState.CloseTag,this.stream.write(options.spaceBeforeSlash+"/>"));else if(!options.pretty||1!==childNodeCount||firstChildNode.type!==NodeType.Text&&firstChildNode.type!==NodeType.Raw||null==firstChildNode.value){for(this.stream.write(">"+this.endline(node,options,level)),options.state=WriterState.InsideTag,j=0,len=(ref1=node.children).length;j<len;j++)this.writeChildNode(ref1[j],options,level+1);options.state=WriterState.CloseTag,this.stream.write(this.indent(node,options,level)+"</"+node.name+">")}else this.stream.write(">"),options.state=WriterState.InsideTag,options.suppressPrettyCount++,this.writeChildNode(firstChildNode,options,level+1),options.suppressPrettyCount--,options.state=WriterState.CloseTag,this.stream.write("</"+node.name+">");return this.stream.write(this.endline(node,options,level)),options.state=WriterState.None,this.closeNode(node,options,level)},XMLStreamWriter.prototype.processingInstruction=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this,node,options,level))},XMLStreamWriter.prototype.raw=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.raw.call(this,node,options,level))},XMLStreamWriter.prototype.text=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.text.call(this,node,options,level))},XMLStreamWriter.prototype.dtdAttList=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this,node,options,level))},XMLStreamWriter.prototype.dtdElement=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this,node,options,level))},XMLStreamWriter.prototype.dtdEntity=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this,node,options,level))},XMLStreamWriter.prototype.dtdNotation=function(node,options,level){return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this,node,options,level))},XMLStreamWriter}(XMLWriterBase)}).call(this)},wVse:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return clear}),__webpack_require__.d(__webpack_exports__,"a",function(){return add}),__webpack_require__.d(__webpack_exports__,"c",function(){return get}),__webpack_require__("OPOH");var transforms={};function clear(){transforms={}}function add(source,destination,transformFn){var sourceCode=source.getCode(),destinationCode=destination.getCode();sourceCode in transforms||(transforms[sourceCode]={}),transforms[sourceCode][destinationCode]=transformFn}function get(sourceCode,destinationCode){var transform;return sourceCode in transforms&&destinationCode in transforms[sourceCode]&&(transform=transforms[sourceCode][destinationCode]),transform}},xWBw:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return intersectsLineString}),__webpack_require__.d(__webpack_exports__,"b",function(){return intersectsLineStringArray}),__webpack_require__.d(__webpack_exports__,"c",function(){return intersectsLinearRingArray}),__webpack_require__.d(__webpack_exports__,"d",function(){return intersectsLinearRingMultiArray});var _extent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("CvXi"),_segments_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("/U2p"),_contains_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("JfHk");function intersectsLineString(flatCoordinates,offset,end,stride,extent){var coordinatesExtent=Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.s)(Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.j)(),flatCoordinates,offset,end,stride);return!!Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.E)(extent,coordinatesExtent)&&(!!Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.g)(extent,coordinatesExtent)||coordinatesExtent[0]>=extent[0]&&coordinatesExtent[2]<=extent[2]||coordinatesExtent[1]>=extent[1]&&coordinatesExtent[3]<=extent[3]||Object(_segments_js__WEBPACK_IMPORTED_MODULE_1__.a)(flatCoordinates,offset,end,stride,function(point1,point2){return Object(_extent_js__WEBPACK_IMPORTED_MODULE_0__.F)(extent,point1,point2)}))}function intersectsLineStringArray(flatCoordinates,offset,ends,stride,extent){for(var i=0,ii=ends.length;i<ii;++i){if(intersectsLineString(flatCoordinates,offset,ends[i],stride,extent))return!0;offset=ends[i]}return!1}function intersectsLinearRingArray(flatCoordinates,offset,ends,stride,extent){if(!function(flatCoordinates,offset,end,stride,extent){return!!(intersectsLineString(flatCoordinates,offset,end,stride,extent)||Object(_contains_js__WEBPACK_IMPORTED_MODULE_2__.b)(flatCoordinates,offset,end,stride,extent[0],extent[1])||Object(_contains_js__WEBPACK_IMPORTED_MODULE_2__.b)(flatCoordinates,offset,end,stride,extent[0],extent[3])||Object(_contains_js__WEBPACK_IMPORTED_MODULE_2__.b)(flatCoordinates,offset,end,stride,extent[2],extent[1])||Object(_contains_js__WEBPACK_IMPORTED_MODULE_2__.b)(flatCoordinates,offset,end,stride,extent[2],extent[3]))}(flatCoordinates,offset,ends[0],stride,extent))return!1;if(1===ends.length)return!0;for(var i=1,ii=ends.length;i<ii;++i)if(Object(_contains_js__WEBPACK_IMPORTED_MODULE_2__.a)(flatCoordinates,ends[i-1],ends[i],stride,extent)&&!intersectsLineString(flatCoordinates,ends[i-1],ends[i],stride,extent))return!1;return!0}function intersectsLinearRingMultiArray(flatCoordinates,offset,endss,stride,extent){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];if(intersectsLinearRingArray(flatCoordinates,offset,ends,stride,extent))return!0;offset=ends[ends.length-1]}return!1}},"y23+":function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Pointer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QQWy"),_functions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("V8uu"),_events_condition_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Bviv"),_rotationconstraint_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("jMVV"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),DragRotate=function(_super){function DragRotate(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,{stopDown:_functions_js__WEBPACK_IMPORTED_MODULE_1__.a})||this).condition_=options.condition?options.condition:_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.b,_this.lastAngle_=void 0,_this.duration_=void 0!==options.duration?options.duration:250,_this}return __extends(DragRotate,_super),DragRotate.prototype.handleDragEvent=function(mapBrowserEvent){if(Object(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.g)(mapBrowserEvent)){var map=mapBrowserEvent.map,view=map.getView();if(view.getConstraints().rotation!==_rotationconstraint_js__WEBPACK_IMPORTED_MODULE_3__.c){var size=map.getSize(),offset=mapBrowserEvent.pixel,theta=Math.atan2(size[1]/2-offset[1],offset[0]-size[0]/2);void 0!==this.lastAngle_&&view.adjustRotationInternal(-(theta-this.lastAngle_)),this.lastAngle_=theta}}},DragRotate.prototype.handleUpEvent=function(mapBrowserEvent){return!Object(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.g)(mapBrowserEvent)||(mapBrowserEvent.map.getView().endInteraction(this.duration_),!1)},DragRotate.prototype.handleDownEvent=function(mapBrowserEvent){return!(!Object(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.g)(mapBrowserEvent)||!Object(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.f)(mapBrowserEvent)||!this.condition_(mapBrowserEvent)||(mapBrowserEvent.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},DragRotate}(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.b);__webpack_exports__.a=DragRotate},y3bx:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_Pointer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QQWy"),_functions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("V8uu"),_events_condition_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Bviv"),_easing_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ykKD"),_coordinate_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("pWiS"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),DragPan=function(_super){function DragPan(opt_options){var _this=_super.call(this,{stopDown:_functions_js__WEBPACK_IMPORTED_MODULE_1__.a})||this,options=opt_options||{};_this.kinetic_=options.kinetic,_this.lastCentroid=null,_this.panning_=!1;var condition=options.condition?options.condition:Object(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.a)(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.i,_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.j);return _this.condition_=options.onFocusOnly?Object(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.a)(_events_condition_js__WEBPACK_IMPORTED_MODULE_2__.e,condition):condition,_this.noKinetic_=!1,_this}return __extends(DragPan,_super),DragPan.prototype.handleDragEvent=function(mapBrowserEvent){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var targetPointers=this.targetPointers,centroid=Object(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.a)(targetPointers);if(targetPointers.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(centroid[0],centroid[1]),this.lastCentroid){var delta=[this.lastCentroid[0]-centroid[0],centroid[1]-this.lastCentroid[1]],view=mapBrowserEvent.map.getView();Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_4__.h)(delta,view.getResolution()),Object(_coordinate_js__WEBPACK_IMPORTED_MODULE_4__.g)(delta,view.getRotation()),view.adjustCenterInternal(delta)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=centroid,this.lastPointersCount_=targetPointers.length,mapBrowserEvent.originalEvent.preventDefault()},DragPan.prototype.handleUpEvent=function(mapBrowserEvent){var map=mapBrowserEvent.map,view=map.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var distance=this.kinetic_.getDistance(),angle=this.kinetic_.getAngle(),center=view.getCenterInternal(),centerpx=map.getPixelFromCoordinateInternal(center),dest=map.getCoordinateFromPixelInternal([centerpx[0]-distance*Math.cos(angle),centerpx[1]-distance*Math.sin(angle)]);view.animateInternal({center:view.getConstrainedCenter(dest),duration:500,easing:_easing_js__WEBPACK_IMPORTED_MODULE_3__.a})}return this.panning_&&(this.panning_=!1,view.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},DragPan.prototype.handleDownEvent=function(mapBrowserEvent){if(this.targetPointers.length>0&&this.condition_(mapBrowserEvent)){var view=mapBrowserEvent.map.getView();return this.lastCentroid=null,view.getAnimating()&&view.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},DragPan}(_Pointer_js__WEBPACK_IMPORTED_MODULE_0__.b);__webpack_exports__.a=DragPan},yLV6:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(window,document,exportName,undefined){"use strict";var assign,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=document.createElement("div"),round=Math.round,abs=Math.abs,now=Date.now;function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){return!!Array.isArray(arg)&&(each(arg,context[fn],context),!0)}function each(obj,iterator,context){var i;if(obj)if(obj.forEach)obj.forEach(iterator,context);else if(void 0!==obj.length)for(i=0;i<obj.length;)iterator.call(context,obj[i],i,obj),i++;else for(i in obj)obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}function deprecate(method,name,message){var deprecationMessage="DEPRECATED METHOD: "+name+"\n"+message+" AT \n";return function(){var e=new Error("get-stack-trace"),stack=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",log=window.console&&(window.console.warn||window.console.log);return log&&log.call(window.console,deprecationMessage,stack),method.apply(this,arguments)}}assign="function"!=typeof Object.assign?function(target){if(null==target)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(target),index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var nextKey in source)source.hasOwnProperty(nextKey)&&(output[nextKey]=source[nextKey])}return output}:Object.assign;var extend=deprecate(function(dest,src,merge){for(var keys=Object.keys(src),i=0;i<keys.length;)(!merge||merge&&void 0===dest[keys[i]])&&(dest[keys[i]]=src[keys[i]]),i++;return dest},"extend","Use `assign`."),merge=deprecate(function(dest,src){return extend(dest,src,!0)},"merge","Use `assign`.");function inherit(child,base,properties){var childP,baseP=base.prototype;(childP=child.prototype=Object.create(baseP)).constructor=child,childP._super=baseP,properties&&assign(childP,properties)}function bindFn(fn,context){return function(){return fn.apply(context,arguments)}}function boolOrFn(val,args){return"function"==typeof val?val.apply(args&&args[0]||void 0,args):val}function ifUndefined(val1,val2){return void 0===val1?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,!1)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,!1)})}function hasParent(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey)return src.indexOf(find);for(var i=0;i<src.length;){if(findByKey&&src[i][findByKey]==find||!findByKey&&src[i]===find)return i;i++}return-1}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){for(var results=[],values=[],i=0;i<src.length;){var val=key?src[i][key]:src[i];inArray(values,val)<0&&results.push(src[i]),values[i]=val,i++}return sort&&(results=key?results.sort(function(a,b){return a[key]>b[key]}):results.sort()),results}function prefixed(obj,property){for(var prefix,prop,camelProp=property[0].toUpperCase()+property.slice(1),i=0;i<VENDOR_PREFIXES.length;){if((prop=(prefix=VENDOR_PREFIXES[i])?prefix+camelProp:property)in obj)return prop;i++}}var _uniqueId=1;function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}var SUPPORT_TOUCH="ontouchstart"in window,SUPPORT_POINTER_EVENTS=void 0!==prefixed(window,"PointerEvent"),SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function Input(manager,callback){var self=this;this.manager=manager,this.callback=callback,this.element=manager.element,this.target=manager.options.inputTarget,this.domHandler=function(ev){boolOrFn(manager.options.enable,[manager])&&self.handler(ev)},this.init()}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length,changedPointersLen=input.changedPointers.length,isFirst=1&eventType&&pointersLen-changedPointersLen==0,isFinal=12&eventType&&pointersLen-changedPointersLen==0;input.isFirst=!!isFirst,input.isFinal=!!isFinal,isFirst&&(manager.session={}),input.eventType=eventType,function(manager,input){var session=manager.session,pointers=input.pointers,pointersLength=pointers.length;session.firstInput||(session.firstInput=simpleCloneInputData(input)),pointersLength>1&&!session.firstMultiple?session.firstMultiple=simpleCloneInputData(input):1===pointersLength&&(session.firstMultiple=!1);var firstInput=session.firstInput,firstMultiple=session.firstMultiple,offsetCenter=firstMultiple?firstMultiple.center:firstInput.center,center=input.center=getCenter(pointers);input.timeStamp=now(),input.deltaTime=input.timeStamp-firstInput.timeStamp,input.angle=getAngle(offsetCenter,center),input.distance=getDistance(offsetCenter,center),function(session,input){var center=input.center,offset=session.offsetDelta||{},prevDelta=session.prevDelta||{},prevInput=session.prevInput||{};1!==input.eventType&&4!==prevInput.eventType||(prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0},offset=session.offsetDelta={x:center.x,y:center.y}),input.deltaX=prevDelta.x+(center.x-offset.x),input.deltaY=prevDelta.y+(center.y-offset.y)}(session,input),input.offsetDirection=getDirection(input.deltaX,input.deltaY);var start,end,overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x,input.overallVelocityY=overallVelocity.y,input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y,input.scale=firstMultiple?(start=firstMultiple.pointers,getDistance((end=pointers)[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)):1,input.rotation=firstMultiple?function(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}(firstMultiple.pointers,pointers):0,input.maxPointers=session.prevInput?input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers:input.pointers.length,function(session,input){var velocity,velocityX,velocityY,direction,last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp;if(8!=input.eventType&&(deltaTime>25||void 0===last.velocity)){var deltaX=input.deltaX-last.deltaX,deltaY=input.deltaY-last.deltaY,v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x,velocityY=v.y,velocity=abs(v.x)>abs(v.y)?v.x:v.y,direction=getDirection(deltaX,deltaY),session.lastInterval=input}else velocity=last.velocity,velocityX=last.velocityX,velocityY=last.velocityY,direction=last.direction;input.velocity=velocity,input.velocityX=velocityX,input.velocityY=velocityY,input.direction=direction}(session,input);var target=manager.element;hasParent(input.srcEvent.target,target)&&(target=input.srcEvent.target),input.target=target}(manager,input),manager.emit("hammer.input",input),manager.recognize(input),manager.session.prevInput=input}function simpleCloneInputData(input){for(var pointers=[],i=0;i<input.pointers.length;)pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)},i++;return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(1===pointersLength)return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)};for(var x=0,y=0,i=0;i<pointersLength;)x+=pointers[i].clientX,y+=pointers[i].clientY,i++;return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){return x===y?1:abs(x)>=abs(y)?x<0?2:4:y<0?8:16}function getDistance(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){return props||(props=PROPS_XY),180*Math.atan2(p2[props[1]]-p1[props[1]],p2[props[0]]-p1[props[0]])/Math.PI}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var MOUSE_INPUT_MAP={mousedown:1,mousemove:2,mouseup:4};function MouseInput(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function(ev){var eventType=MOUSE_INPUT_MAP[ev.type];1&eventType&&0===ev.button&&(this.pressed=!0),2&eventType&&1!==ev.which&&(eventType=4),this.pressed&&(4&eventType&&(this.pressed=!1),this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:"mouse",srcEvent:ev}))}});var POINTER_INPUT_MAP={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},IE10_POINTER_TYPE_ENUM={2:"touch",3:"pen",4:"mouse",5:"kinect"},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS,this.evWin=POINTER_WINDOW_EVENTS,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}window.MSPointerEvent&&!window.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function(ev){var store=this.store,removePointer=!1,eventTypeNormalized=ev.type.toLowerCase().replace("ms",""),eventType=POINTER_INPUT_MAP[eventTypeNormalized],pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType,isTouch="touch"==pointerType,storeIndex=inArray(store,ev.pointerId,"pointerId");1&eventType&&(0===ev.button||isTouch)?storeIndex<0&&(store.push(ev),storeIndex=store.length-1):12&eventType&&(removePointer=!0),storeIndex<0||(store[storeIndex]=ev,this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev}),removePointer&&store.splice(storeIndex,1))}});var SINGLE_TOUCH_INPUT_MAP={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function SingleTouchInput(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(ev,type){var all=toArray(ev.touches),changed=toArray(ev.changedTouches);return 12&type&&(all=uniqueArray(all.concat(changed),"identifier",!0)),[all,changed]}inherit(SingleTouchInput,Input,{handler:function(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(1===type&&(this.started=!0),this.started){var touches=normalizeSingleTouches.call(this,ev,type);12&type&&touches[0].length-touches[1].length==0&&(this.started=!1),this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:"touch",srcEvent:ev})}}});var TOUCH_INPUT_MAP={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function TouchInput(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},Input.apply(this,arguments)}function getTouches(ev,type){var allTouches=toArray(ev.touches),targetIds=this.targetIds;if(3&type&&1===allTouches.length)return targetIds[allTouches[0].identifier]=!0,[allTouches,allTouches];var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;if(targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)}),1===type)for(i=0;i<targetTouches.length;)targetIds[targetTouches[i].identifier]=!0,i++;for(i=0;i<changedTouches.length;)targetIds[changedTouches[i].identifier]&&changedTargetTouches.push(changedTouches[i]),12&type&&delete targetIds[changedTouches[i].identifier],i++;return changedTargetTouches.length?[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",!0),changedTargetTouches]:void 0}function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler),this.mouse=new MouseInput(this.manager,handler),this.primaryTouch=null,this.lastTouches=[]}function recordTouches(eventType,eventData){1&eventType?(this.primaryTouch=eventData.changedPointers[0].identifier,setLastTouch.call(this,eventData)):12&eventType&&setLastTouch.call(this,eventData)}function setLastTouch(eventData){var touch=eventData.changedPointers[0];if(touch.identifier===this.primaryTouch){var lastTouch={x:touch.clientX,y:touch.clientY};this.lastTouches.push(lastTouch);var lts=this.lastTouches;setTimeout(function(){var i=lts.indexOf(lastTouch);i>-1&&lts.splice(i,1)},2500)}}function isSyntheticEvent(eventData){for(var x=eventData.srcEvent.clientX,y=eventData.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var t=this.lastTouches[i],dx=Math.abs(x-t.x),dy=Math.abs(y-t.y);if(dx<=25&&dy<=25)return!0}return!1}inherit(TouchInput,Input,{handler:function(ev){var type=TOUCH_INPUT_MAP[ev.type],touches=getTouches.call(this,ev,type);touches&&this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:"touch",srcEvent:ev})}}),inherit(TouchMouseInput,Input,{handler:function(manager,inputEvent,inputData){var isMouse="mouse"==inputData.pointerType;if(!(isMouse&&inputData.sourceCapabilities&&inputData.sourceCapabilities.firesTouchEvents)){if("touch"==inputData.pointerType)recordTouches.call(this,inputEvent,inputData);else if(isMouse&&isSyntheticEvent.call(this,inputData))return;this.callback(manager,inputEvent,inputData)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=void 0!==PREFIXED_TOUCH_ACTION,TOUCH_ACTION_MAP=function(){if(!NATIVE_TOUCH_ACTION)return!1;var touchMap={},cssSupports=window.CSS&&window.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(val){touchMap[val]=!cssSupports||window.CSS.supports("touch-action",val)}),touchMap}();function TouchAction(manager,value){this.manager=manager,this.set(value)}function Recognizer(options){this.options=assign({},this.defaults,options||{}),this.id=_uniqueId++,this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function stateStr(state){return 16&state?"cancel":8&state?"end":4&state?"move":2&state?"start":""}function directionStr(direction){return 16==direction?"down":8==direction?"up":2==direction?"left":4==direction?"right":""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;return manager?manager.get(otherRecognizer):otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(element,options){return(options=options||{}).recognizers=ifUndefined(options.recognizers,Hammer.defaults.preset),new Manager(element,options)}function Manager(element,options){this.options=assign({},Hammer.defaults,options||{}),this.options.inputTarget=this.options.inputTarget||element,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=element,this.input=new(this.options.inputClass||(SUPPORT_POINTER_EVENTS?PointerEventInput:SUPPORT_ONLY_TOUCH?TouchInput:SUPPORT_TOUCH?TouchMouseInput:MouseInput))(this,inputHandler),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(item){var recognizer=this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]),item[3]&&recognizer.requireFailure(item[3])},this)}function toggleCssProps(manager,add){var prop,element=manager.element;element.style&&(each(manager.options.cssProps,function(value,name){prop=prefixed(element.style,name),add?(manager.oldCssProps[prop]=element.style[prop],element.style[prop]=value):element.style[prop]=manager.oldCssProps[prop]||""}),add||(manager.oldCssProps={}))}TouchAction.prototype={set:function(value){"compute"==value&&(value=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[value]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=value),this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];return each(this.manager.recognizers,function(recognizer){boolOrFn(recognizer.options.enable,[recognizer])&&(actions=actions.concat(recognizer.getTouchAction()))}),function(actions){if(inStr(actions,"none"))return"none";var hasPanX=inStr(actions,"pan-x"),hasPanY=inStr(actions,"pan-y");return hasPanX&&hasPanY?"none":hasPanX||hasPanY?hasPanX?"pan-x":"pan-y":inStr(actions,"manipulation")?"manipulation":"auto"}(actions.join(" "))},preventDefaults:function(input){var srcEvent=input.srcEvent,direction=input.offsetDirection;if(this.manager.session.prevented)srcEvent.preventDefault();else{var actions=this.actions,hasNone=inStr(actions,"none")&&!TOUCH_ACTION_MAP.none,hasPanY=inStr(actions,"pan-y")&&!TOUCH_ACTION_MAP["pan-y"],hasPanX=inStr(actions,"pan-x")&&!TOUCH_ACTION_MAP["pan-x"];if(hasNone&&1===input.pointers.length&&input.distance<2&&input.deltaTime<250)return;if(!hasPanX||!hasPanY)return hasNone||hasPanY&&6&direction||hasPanX&&24&direction?this.preventSrc(srcEvent):void 0}},preventSrc:function(srcEvent){this.manager.session.prevented=!0,srcEvent.preventDefault()}},Recognizer.prototype={defaults:{},set:function(options){return assign(this.options,options),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this))return this;var simultaneous=this.simultaneous;return simultaneous[(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this)).id]||(simultaneous[otherRecognizer.id]=otherRecognizer,otherRecognizer.recognizeWith(this)),this},dropRecognizeWith:function(otherRecognizer){return invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)||(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),delete this.simultaneous[otherRecognizer.id]),this},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this))return this;var requireFail=this.requireFail;return-1===inArray(requireFail,otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this))&&(requireFail.push(otherRecognizer),otherRecognizer.requireFailure(this)),this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this))return this;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);return index>-1&&this.requireFail.splice(index,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]},emit:function(input){var self=this,state=this.state;function emit(event){self.manager.emit(event,input)}state<8&&emit(self.options.event+stateStr(state)),emit(self.options.event),input.additionalEvent&&emit(input.additionalEvent),state>=8&&emit(self.options.event+stateStr(state))},tryEmit:function(input){if(this.canEmit())return this.emit(input);this.state=32},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(33&this.requireFail[i].state))return!1;i++}return!0},recognize:function(inputData){var inputDataClone=assign({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(inputDataClone),30&this.state&&this.tryEmit(inputDataClone)},process:function(inputData){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return 0===optionPointers||input.pointers.length===optionPointers},process:function(input){var state=this.state,eventType=input.eventType,isRecognized=6&state,isValid=this.attrTest(input);return isRecognized&&(8&eventType||!isValid)?16|state:isRecognized||isValid?4&eventType?8|state:2&state?4|state:2:32}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var direction=this.options.direction,actions=[];return 6&direction&&actions.push("pan-y"),24&direction&&actions.push("pan-x"),actions},directionTest:function(input){var options=this.options,hasMoved=!0,distance=input.distance,direction=input.direction,x=input.deltaX,y=input.deltaY;return direction&options.direction||(6&options.direction?(direction=0===x?1:x<0?2:4,hasMoved=x!=this.pX,distance=Math.abs(input.deltaX)):(direction=0===y?1:y<0?8:16,hasMoved=y!=this.pY,distance=Math.abs(input.deltaY))),input.direction=direction,hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(2&this.state||!(2&this.state)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX,this.pY=input.deltaY;var direction=directionStr(input.direction);direction&&(input.additionalEvent=this.options.event+direction),this._super.emit.call(this,input)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||2&this.state)},emit:function(input){1!==input.scale&&(input.additionalEvent=this.options.event+(input.scale<1?"in":"out")),this._super.emit.call(this,input)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTime=input.deltaTime>options.time;if(this._input=input,!validMovement||!validPointers||12&input.eventType&&!validTime)this.reset();else if(1&input.eventType)this.reset(),this._timer=setTimeoutContext(function(){this.state=8,this.tryEmit()},options.time,this);else if(4&input.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(input){8===this.state&&(input&&4&input.eventType?this.manager.emit(this.options.event+"up",input):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||2&this.state)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var velocity,direction=this.options.direction;return 30&direction?velocity=input.overallVelocity:6&direction?velocity=input.overallVelocityX:24&direction&&(velocity=input.overallVelocityY),this._super.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&abs(velocity)>this.options.velocity&&4&input.eventType},emit:function(input){var direction=directionStr(input.offsetDirection);direction&&this.manager.emit(this.options.event+direction,input),this.manager.emit(this.options.event,input)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTouchTime=input.deltaTime<options.time;if(this.reset(),1&input.eventType&&0===this.count)return this.failTimeout();if(validMovement&&validTouchTime&&validPointers){if(4!=input.eventType)return this.failTimeout();var validInterval=!this.pTime||input.timeStamp-this.pTime<options.interval,validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;if(this.pTime=input.timeStamp,this.pCenter=input.center,validMultiTap&&validInterval?this.count+=1:this.count=1,this._input=input,0==this.count%options.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=8,this.tryEmit()},options.interval,this),2):8}return 32},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:6}],[PanRecognizer,{direction:6},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Manager.prototype={set:function(options){return assign(this.options,options),options.touchAction&&this.touchAction.update(),options.inputTarget&&(this.input.destroy(),this.input.target=options.inputTarget,this.input.init()),this},stop:function(force){this.session.stopped=force?2:1},recognize:function(inputData){var session=this.session;if(!session.stopped){var recognizer;this.touchAction.preventDefaults(inputData);var recognizers=this.recognizers,curRecognizer=session.curRecognizer;(!curRecognizer||curRecognizer&&8&curRecognizer.state)&&(curRecognizer=session.curRecognizer=null);for(var i=0;i<recognizers.length;)recognizer=recognizers[i],2===session.stopped||curRecognizer&&recognizer!=curRecognizer&&!recognizer.canRecognizeWith(curRecognizer)?recognizer.reset():recognizer.recognize(inputData),!curRecognizer&&14&recognizer.state&&(curRecognizer=session.curRecognizer=recognizer),i++}},get:function(recognizer){if(recognizer instanceof Recognizer)return recognizer;for(var recognizers=this.recognizers,i=0;i<recognizers.length;i++)if(recognizers[i].options.event==recognizer)return recognizers[i];return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this))return this;var existing=this.get(recognizer.options.event);return existing&&this.remove(existing),this.recognizers.push(recognizer),recognizer.manager=this,this.touchAction.update(),recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this))return this;if(recognizer=this.get(recognizer)){var recognizers=this.recognizers,index=inArray(recognizers,recognizer);-1!==index&&(recognizers.splice(index,1),this.touchAction.update())}return this},on:function(events,handler){if(void 0!==events&&void 0!==handler){var handlers=this.handlers;return each(splitStr(events),function(event){handlers[event]=handlers[event]||[],handlers[event].push(handler)}),this}},off:function(events,handler){if(void 0!==events){var handlers=this.handlers;return each(splitStr(events),function(event){handler?handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1):delete handlers[event]}),this}},emit:function(event,data){this.options.domEvents&&function(event,data){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,!0,!0),gestureEvent.gesture=data,data.target.dispatchEvent(gestureEvent)}(event,data);var handlers=this.handlers[event]&&this.handlers[event].slice();if(handlers&&handlers.length){data.type=event,data.preventDefault=function(){data.srcEvent.preventDefault()};for(var i=0;i<handlers.length;)handlers[i](data),i++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},assign(Hammer,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:merge,extend:extend,assign:assign,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),(void 0!==window?window:"undefined"!=typeof self?self:{}).Hammer=Hammer,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return Hammer}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window,document)},yUaI:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9iPr"),_VectorContext_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("94wz"),_colorlike_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("6Y3p"),_transform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("qJZF"),_canvas_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3er3"),_array_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("n15R"),_extent_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("CvXi"),_geom_flat_transform_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("vvg4"),_geom_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("mrzG"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),CanvasImmediateRenderer=function(_super){function CanvasImmediateRenderer(context,pixelRatio,extent,transform,viewRotation,opt_squaredTolerance,opt_userTransform){var _this=_super.call(this)||this;return _this.context_=context,_this.pixelRatio_=pixelRatio,_this.extent_=extent,_this.transform_=transform,_this.viewRotation_=viewRotation,_this.squaredTolerance_=opt_squaredTolerance,_this.userTransform_=opt_userTransform,_this.contextFillState_=null,_this.contextStrokeState_=null,_this.contextTextState_=null,_this.fillState_=null,_this.strokeState_=null,_this.image_=null,_this.imageAnchorX_=0,_this.imageAnchorY_=0,_this.imageHeight_=0,_this.imageOpacity_=0,_this.imageOriginX_=0,_this.imageOriginY_=0,_this.imageRotateWithView_=!1,_this.imageRotation_=0,_this.imageScale_=[0,0],_this.imageWidth_=0,_this.text_="",_this.textOffsetX_=0,_this.textOffsetY_=0,_this.textRotateWithView_=!1,_this.textRotation_=0,_this.textScale_=[0,0],_this.textFillState_=null,_this.textStrokeState_=null,_this.textState_=null,_this.pixelCoordinates_=[],_this.tmpLocalTransform_=Object(_transform_js__WEBPACK_IMPORTED_MODULE_3__.c)(),_this}return __extends(CanvasImmediateRenderer,_super),CanvasImmediateRenderer.prototype.drawImages_=function(flatCoordinates,offset,end,stride){if(this.image_){var pixelCoordinates=Object(_geom_flat_transform_js__WEBPACK_IMPORTED_MODULE_7__.c)(flatCoordinates,offset,end,2,this.transform_,this.pixelCoordinates_),context=this.context_,localTransform=this.tmpLocalTransform_,alpha=context.globalAlpha;1!=this.imageOpacity_&&(context.globalAlpha=alpha*this.imageOpacity_);var rotation=this.imageRotation_;this.imageRotateWithView_&&(rotation+=this.viewRotation_);for(var i=0,ii=pixelCoordinates.length;i<ii;i+=2){var x=pixelCoordinates[i]-this.imageAnchorX_,y=pixelCoordinates[i+1]-this.imageAnchorY_;if(0!==rotation||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var centerX=x+this.imageAnchorX_,centerY=y+this.imageAnchorY_;Object(_transform_js__WEBPACK_IMPORTED_MODULE_3__.b)(localTransform,centerX,centerY,1,1,rotation,-centerX,-centerY),context.setTransform.apply(context,localTransform),context.translate(centerX,centerY),context.scale(this.imageScale_[0],this.imageScale_[1]),context.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),context.setTransform(1,0,0,1,0,0)}else context.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,x,y,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(context.globalAlpha=alpha)}},CanvasImmediateRenderer.prototype.drawText_=function(flatCoordinates,offset,end,stride){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var pixelCoordinates=Object(_geom_flat_transform_js__WEBPACK_IMPORTED_MODULE_7__.c)(flatCoordinates,offset,end,stride,this.transform_,this.pixelCoordinates_),context=this.context_,rotation=this.textRotation_;for(this.textRotateWithView_&&(rotation+=this.viewRotation_);offset<end;offset+=stride){var x=pixelCoordinates[offset]+this.textOffsetX_,y=pixelCoordinates[offset+1]+this.textOffsetY_;if(0!==rotation||1!=this.textScale_[0]||1!=this.textScale_[1]){var localTransform=Object(_transform_js__WEBPACK_IMPORTED_MODULE_3__.b)(this.tmpLocalTransform_,x,y,1,1,rotation,-x,-y);context.setTransform.apply(context,localTransform),context.translate(x,y),context.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&context.strokeText(this.text_,0,0),this.textFillState_&&context.fillText(this.text_,0,0),context.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&context.strokeText(this.text_,x,y),this.textFillState_&&context.fillText(this.text_,x,y)}}},CanvasImmediateRenderer.prototype.moveToLineTo_=function(flatCoordinates,offset,end,stride,close){var context=this.context_,pixelCoordinates=Object(_geom_flat_transform_js__WEBPACK_IMPORTED_MODULE_7__.c)(flatCoordinates,offset,end,stride,this.transform_,this.pixelCoordinates_);context.moveTo(pixelCoordinates[0],pixelCoordinates[1]);var length=pixelCoordinates.length;close&&(length-=2);for(var i=2;i<length;i+=2)context.lineTo(pixelCoordinates[i],pixelCoordinates[i+1]);return close&&context.closePath(),end},CanvasImmediateRenderer.prototype.drawRings_=function(flatCoordinates,offset,ends,stride){for(var i=0,ii=ends.length;i<ii;++i)offset=this.moveToLineTo_(flatCoordinates,offset,ends[i],stride,!0);return offset},CanvasImmediateRenderer.prototype.drawCircle=function(geometry){if(Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.E)(this.extent_,geometry.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var pixelCoordinates=Object(_geom_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_8__.b)(geometry,this.transform_,this.pixelCoordinates_),dx=pixelCoordinates[2]-pixelCoordinates[0],dy=pixelCoordinates[3]-pixelCoordinates[1],radius=Math.sqrt(dx*dx+dy*dy),context=this.context_;context.beginPath(),context.arc(pixelCoordinates[0],pixelCoordinates[1],radius,0,2*Math.PI),this.fillState_&&context.fill(),this.strokeState_&&context.stroke()}""!==this.text_&&this.drawText_(geometry.getCenter(),0,2,2)}},CanvasImmediateRenderer.prototype.setStyle=function(style){this.setFillStrokeStyle(style.getFill(),style.getStroke()),this.setImageStyle(style.getImage()),this.setTextStyle(style.getText())},CanvasImmediateRenderer.prototype.setTransform=function(transform){this.transform_=transform},CanvasImmediateRenderer.prototype.drawGeometry=function(geometry){switch(geometry.getType()){case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POINT:this.drawPoint(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.LINE_STRING:this.drawLineString(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.POLYGON:this.drawPolygon(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POINT:this.drawMultiPoint(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_LINE_STRING:this.drawMultiLineString(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.MULTI_POLYGON:this.drawMultiPolygon(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(geometry);break;case _geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_0__.a.CIRCLE:this.drawCircle(geometry)}},CanvasImmediateRenderer.prototype.drawFeature=function(feature,style){var geometry=style.getGeometryFunction()(feature);geometry&&Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.E)(this.extent_,geometry.getExtent())&&(this.setStyle(style),this.drawGeometry(geometry))},CanvasImmediateRenderer.prototype.drawGeometryCollection=function(geometry){for(var geometries=geometry.getGeometriesArray(),i=0,ii=geometries.length;i<ii;++i)this.drawGeometry(geometries[i])},CanvasImmediateRenderer.prototype.drawPoint=function(geometry){this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var flatCoordinates=geometry.getFlatCoordinates(),stride=geometry.getStride();this.image_&&this.drawImages_(flatCoordinates,0,flatCoordinates.length,stride),""!==this.text_&&this.drawText_(flatCoordinates,0,flatCoordinates.length,stride)},CanvasImmediateRenderer.prototype.drawMultiPoint=function(geometry){this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var flatCoordinates=geometry.getFlatCoordinates(),stride=geometry.getStride();this.image_&&this.drawImages_(flatCoordinates,0,flatCoordinates.length,stride),""!==this.text_&&this.drawText_(flatCoordinates,0,flatCoordinates.length,stride)},CanvasImmediateRenderer.prototype.drawLineString=function(geometry){if(this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.E)(this.extent_,geometry.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var context=this.context_,flatCoordinates=geometry.getFlatCoordinates();context.beginPath(),this.moveToLineTo_(flatCoordinates,0,flatCoordinates.length,geometry.getStride(),!1),context.stroke()}if(""!==this.text_){var flatMidpoint=geometry.getFlatMidpoint();this.drawText_(flatMidpoint,0,2,2)}}},CanvasImmediateRenderer.prototype.drawMultiLineString=function(geometry){this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var geometryExtent=geometry.getExtent();if(Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.E)(this.extent_,geometryExtent)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var context=this.context_,flatCoordinates=geometry.getFlatCoordinates(),offset=0,ends=geometry.getEnds(),stride=geometry.getStride();context.beginPath();for(var i=0,ii=ends.length;i<ii;++i)offset=this.moveToLineTo_(flatCoordinates,offset,ends[i],stride,!1);context.stroke()}if(""!==this.text_){var flatMidpoints=geometry.getFlatMidpoints();this.drawText_(flatMidpoints,0,flatMidpoints.length,2)}}},CanvasImmediateRenderer.prototype.drawPolygon=function(geometry){if(this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.E)(this.extent_,geometry.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var context=this.context_;context.beginPath(),this.drawRings_(geometry.getOrientedFlatCoordinates(),0,geometry.getEnds(),geometry.getStride()),this.fillState_&&context.fill(),this.strokeState_&&context.stroke()}if(""!==this.text_){var flatInteriorPoint=geometry.getFlatInteriorPoint();this.drawText_(flatInteriorPoint,0,2,2)}}},CanvasImmediateRenderer.prototype.drawMultiPolygon=function(geometry){if(this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(_extent_js__WEBPACK_IMPORTED_MODULE_6__.E)(this.extent_,geometry.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var context=this.context_,flatCoordinates=geometry.getOrientedFlatCoordinates(),offset=0,endss=geometry.getEndss(),stride=geometry.getStride();context.beginPath();for(var i=0,ii=endss.length;i<ii;++i)offset=this.drawRings_(flatCoordinates,offset,endss[i],stride);this.fillState_&&context.fill(),this.strokeState_&&context.stroke()}if(""!==this.text_){var flatInteriorPoints=geometry.getFlatInteriorPoints();this.drawText_(flatInteriorPoints,0,flatInteriorPoints.length,2)}}},CanvasImmediateRenderer.prototype.setContextFillState_=function(fillState){var context=this.context_,contextFillState=this.contextFillState_;contextFillState?contextFillState.fillStyle!=fillState.fillStyle&&(contextFillState.fillStyle=fillState.fillStyle,context.fillStyle=fillState.fillStyle):(context.fillStyle=fillState.fillStyle,this.contextFillState_={fillStyle:fillState.fillStyle})},CanvasImmediateRenderer.prototype.setContextStrokeState_=function(strokeState){var context=this.context_,contextStrokeState=this.contextStrokeState_;contextStrokeState?(contextStrokeState.lineCap!=strokeState.lineCap&&(contextStrokeState.lineCap=strokeState.lineCap,context.lineCap=strokeState.lineCap),context.setLineDash&&(Object(_array_js__WEBPACK_IMPORTED_MODULE_5__.b)(contextStrokeState.lineDash,strokeState.lineDash)||context.setLineDash(contextStrokeState.lineDash=strokeState.lineDash),contextStrokeState.lineDashOffset!=strokeState.lineDashOffset&&(contextStrokeState.lineDashOffset=strokeState.lineDashOffset,context.lineDashOffset=strokeState.lineDashOffset)),contextStrokeState.lineJoin!=strokeState.lineJoin&&(contextStrokeState.lineJoin=strokeState.lineJoin,context.lineJoin=strokeState.lineJoin),contextStrokeState.lineWidth!=strokeState.lineWidth&&(contextStrokeState.lineWidth=strokeState.lineWidth,context.lineWidth=strokeState.lineWidth),contextStrokeState.miterLimit!=strokeState.miterLimit&&(contextStrokeState.miterLimit=strokeState.miterLimit,context.miterLimit=strokeState.miterLimit),contextStrokeState.strokeStyle!=strokeState.strokeStyle&&(contextStrokeState.strokeStyle=strokeState.strokeStyle,context.strokeStyle=strokeState.strokeStyle)):(context.lineCap=strokeState.lineCap,context.setLineDash&&(context.setLineDash(strokeState.lineDash),context.lineDashOffset=strokeState.lineDashOffset),context.lineJoin=strokeState.lineJoin,context.lineWidth=strokeState.lineWidth,context.miterLimit=strokeState.miterLimit,context.strokeStyle=strokeState.strokeStyle,this.contextStrokeState_={lineCap:strokeState.lineCap,lineDash:strokeState.lineDash,lineDashOffset:strokeState.lineDashOffset,lineJoin:strokeState.lineJoin,lineWidth:strokeState.lineWidth,miterLimit:strokeState.miterLimit,strokeStyle:strokeState.strokeStyle})},CanvasImmediateRenderer.prototype.setContextTextState_=function(textState){var context=this.context_,contextTextState=this.contextTextState_,textAlign=textState.textAlign?textState.textAlign:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.m;contextTextState?(contextTextState.font!=textState.font&&(contextTextState.font=textState.font,context.font=textState.font),contextTextState.textAlign!=textAlign&&(contextTextState.textAlign=textAlign,context.textAlign=textAlign),contextTextState.textBaseline!=textState.textBaseline&&(contextTextState.textBaseline=textState.textBaseline,context.textBaseline=textState.textBaseline)):(context.font=textState.font,context.textAlign=textAlign,context.textBaseline=textState.textBaseline,this.contextTextState_={font:textState.font,textAlign:textAlign,textBaseline:textState.textBaseline})},CanvasImmediateRenderer.prototype.setFillStrokeStyle=function(fillStyle,strokeStyle){if(fillStyle){var fillStyleColor=fillStyle.getColor();this.fillState_={fillStyle:Object(_colorlike_js__WEBPACK_IMPORTED_MODULE_2__.a)(fillStyleColor||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.c)}}else this.fillState_=null;if(strokeStyle){var strokeStyleColor=strokeStyle.getColor(),strokeStyleLineCap=strokeStyle.getLineCap(),strokeStyleLineDash=strokeStyle.getLineDash(),strokeStyleLineDashOffset=strokeStyle.getLineDashOffset(),strokeStyleLineJoin=strokeStyle.getLineJoin(),strokeStyleWidth=strokeStyle.getWidth(),strokeStyleMiterLimit=strokeStyle.getMiterLimit();this.strokeState_={lineCap:void 0!==strokeStyleLineCap?strokeStyleLineCap:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.e,lineDash:strokeStyleLineDash||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.f,lineDashOffset:strokeStyleLineDashOffset||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.g,lineJoin:void 0!==strokeStyleLineJoin?strokeStyleLineJoin:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.h,lineWidth:this.pixelRatio_*(void 0!==strokeStyleWidth?strokeStyleWidth:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.i),miterLimit:void 0!==strokeStyleMiterLimit?strokeStyleMiterLimit:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.j,strokeStyle:Object(_colorlike_js__WEBPACK_IMPORTED_MODULE_2__.a)(strokeStyleColor||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.l)}}else this.strokeState_=null},CanvasImmediateRenderer.prototype.setImageStyle=function(imageStyle){if(imageStyle){var imageSize=imageStyle.getSize();if(imageSize){var imageAnchor=imageStyle.getAnchor(),imageImage=imageStyle.getImage(1),imageOrigin=imageStyle.getOrigin(),imageScale=imageStyle.getScaleArray();this.imageAnchorX_=imageAnchor[0],this.imageAnchorY_=imageAnchor[1],this.imageHeight_=imageSize[1],this.image_=imageImage,this.imageOpacity_=imageStyle.getOpacity(),this.imageOriginX_=imageOrigin[0],this.imageOriginY_=imageOrigin[1],this.imageRotateWithView_=imageStyle.getRotateWithView(),this.imageRotation_=imageStyle.getRotation(),this.imageScale_=[this.pixelRatio_*imageScale[0],this.pixelRatio_*imageScale[1]],this.imageWidth_=imageSize[0]}else this.image_=null}else this.image_=null},CanvasImmediateRenderer.prototype.setTextStyle=function(textStyle){if(textStyle){var textFillStyle=textStyle.getFill();if(textFillStyle){var textFillStyleColor=textFillStyle.getColor();this.textFillState_={fillStyle:Object(_colorlike_js__WEBPACK_IMPORTED_MODULE_2__.a)(textFillStyleColor||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.c)}}else this.textFillState_=null;var textStrokeStyle=textStyle.getStroke();if(textStrokeStyle){var textStrokeStyleColor=textStrokeStyle.getColor(),textStrokeStyleLineCap=textStrokeStyle.getLineCap(),textStrokeStyleLineDash=textStrokeStyle.getLineDash(),textStrokeStyleLineDashOffset=textStrokeStyle.getLineDashOffset(),textStrokeStyleLineJoin=textStrokeStyle.getLineJoin(),textStrokeStyleWidth=textStrokeStyle.getWidth(),textStrokeStyleMiterLimit=textStrokeStyle.getMiterLimit();this.textStrokeState_={lineCap:void 0!==textStrokeStyleLineCap?textStrokeStyleLineCap:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.e,lineDash:textStrokeStyleLineDash||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.f,lineDashOffset:textStrokeStyleLineDashOffset||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.g,lineJoin:void 0!==textStrokeStyleLineJoin?textStrokeStyleLineJoin:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.h,lineWidth:void 0!==textStrokeStyleWidth?textStrokeStyleWidth:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.i,miterLimit:void 0!==textStrokeStyleMiterLimit?textStrokeStyleMiterLimit:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.j,strokeStyle:Object(_colorlike_js__WEBPACK_IMPORTED_MODULE_2__.a)(textStrokeStyleColor||_canvas_js__WEBPACK_IMPORTED_MODULE_4__.l)}}else this.textStrokeState_=null;var textFont=textStyle.getFont(),textOffsetX=textStyle.getOffsetX(),textOffsetY=textStyle.getOffsetY(),textRotateWithView=textStyle.getRotateWithView(),textRotation=textStyle.getRotation(),textScale=textStyle.getScaleArray(),textText=textStyle.getText(),textTextAlign=textStyle.getTextAlign(),textTextBaseline=textStyle.getTextBaseline();this.textState_={font:void 0!==textFont?textFont:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.d,textAlign:void 0!==textTextAlign?textTextAlign:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.m,textBaseline:void 0!==textTextBaseline?textTextBaseline:_canvas_js__WEBPACK_IMPORTED_MODULE_4__.n},this.text_=void 0!==textText?textText:"",this.textOffsetX_=void 0!==textOffsetX?this.pixelRatio_*textOffsetX:0,this.textOffsetY_=void 0!==textOffsetY?this.pixelRatio_*textOffsetY:0,this.textRotateWithView_=void 0!==textRotateWithView&&textRotateWithView,this.textRotation_=void 0!==textRotation?textRotation:0,this.textScale_=[this.pixelRatio_*textScale[0],this.pixelRatio_*textScale[1]]}else this.text_=""},CanvasImmediateRenderer}(_VectorContext_js__WEBPACK_IMPORTED_MODULE_1__.a);__webpack_exports__.a=CanvasImmediateRenderer},ykKD:function(module,__webpack_exports__,__webpack_require__){"use strict";function easeOut(t){return 1-function(t){return Math.pow(t,3)}(1-t)}function inAndOut(t){return 3*t*t-2*t*t*t}function linear(t){return t}__webpack_require__.d(__webpack_exports__,"a",function(){return easeOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return inAndOut}),__webpack_require__.d(__webpack_exports__,"c",function(){return linear})},zUnb:function(module,__webpack_exports__,__webpack_require__){"use strict";function isFunction(x){return"function"==typeof x}__webpack_require__.r(__webpack_exports__);let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(err){setTimeout(()=>{throw err},0)}const empty={closed:!0,next(value){},error(err){if(config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)},complete(){}},isArray=(()=>Array.isArray||(x=>x&&"number"==typeof x.length))();function isObject(x){return null!==x&&"object"==typeof x}const UnsubscriptionError=(()=>{function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=errors,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl})();let Subscription_Subscription=(()=>{class Subscription{constructor(unsubscribe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors;if(this.closed)return;let{_parentOrParents:_parentOrParents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_parentOrParents instanceof Subscription)_parentOrParents.remove(this);else if(null!==_parentOrParents)for(let index=0;index<_parentOrParents.length;++index)_parentOrParents[index].remove(this);if(isFunction(_unsubscribe))try{_unsubscribe.call(this)}catch(e){errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(_subscriptions)){let index=-1,len=_subscriptions.length;for(;++index<len;){const sub=_subscriptions[index];if(isObject(sub))try{sub.unsubscribe()}catch(e){errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}}if(errors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;if(!teardown)return Subscription.EMPTY;switch(typeof teardown){case"function":subscription=new Subscription(teardown);case"object":if(subscription===this||subscription.closed||"function"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){const tmp=subscription;subscription=new Subscription,subscription._subscriptions=[tmp]}break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}let{_parentOrParents:_parentOrParents}=subscription;if(null===_parentOrParents)subscription._parentOrParents=this;else if(_parentOrParents instanceof Subscription){if(_parentOrParents===this)return subscription;subscription._parentOrParents=[_parentOrParents,this]}else{if(-1!==_parentOrParents.indexOf(this))return subscription;_parentOrParents.push(this)}const subscriptions=this._subscriptions;return null===subscriptions?this._subscriptions=[subscription]:subscriptions.push(subscription),subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}}return Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription})();function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}const rxSubscriber=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class Subscriber_Subscriber extends Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=empty;break;case 1:if(!destinationOrNext){this.destination=empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber](){return this}static create(next,error,complete){const subscriber=new Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:_parentOrParents}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_parentOrParents,this}}class Subscriber_SafeSubscriber extends Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==empty&&(context=Object.create(observerOrNext),isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!config_config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{fn.call(this._context,value)}catch(err){return config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const observable_observable=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function identity(x){return x}let Observable_Observable=(()=>{class Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber])return nextOrObserver[rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_Subscriber(nextOrObserver,error,complete):new Subscriber_Subscriber(empty)}(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this.source):this.source||config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber_Subscriber?destination:null}return!0}(sink)?sink.error(err):console.warn(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable_observable](){return this}pipe(...operations){return 0===operations.length?this:(0===(fns=operations).length?identity:1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)})(this);var fns}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}return Observable.create=subscribe=>new Observable(subscribe),Observable})();function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config_config.Promise||Promise),!promiseCtor)throw new Error("no Promise impl found");return promiseCtor}const ObjectUnsubscribedError=(()=>{function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl})();class SubjectSubscription_SubjectSubscription extends Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class Subject_SubjectSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}let Subject_Subject=(()=>{class Subject extends Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable_Observable;return observable.source=this,observable}}return Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source),Subject})();class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription_Subscription.EMPTY}}function isScheduler(value){return value&&"function"==typeof value.schedule}class InnerSubscriber_InnerSubscriber extends Subscriber_Subscriber{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()};function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const iterator_iterator=getSymbolIterator(),isArrayLike=x=>x&&"number"==typeof x.length&&"function"!=typeof x;function isPromise(value){return!!value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}const subscribeTo=result=>{if(result&&"function"==typeof result[observable_observable])return obj=result,subscriber=>{const obs=obj[observable_observable]();if("function"!=typeof obs.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return obs.subscribe(subscriber)};if(isArrayLike(result))return subscribeToArray(result);if(isPromise(result))return promise=result,subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError),subscriber);if(result&&"function"==typeof result[iterator_iterator])return iterable=result,subscriber=>{const iterator=iterable[iterator_iterator]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return"function"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber};{const value=isObject(result)?"an invalid object":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var iterable,promise,obj};function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,innerSubscriber=new InnerSubscriber_InnerSubscriber(outerSubscriber,outerValue,outerIndex)){if(!innerSubscriber.closed)return result instanceof Observable_Observable?result.subscribe(innerSubscriber):subscribeTo(result)(innerSubscriber)}class OuterSubscriber_OuterSubscriber extends Subscriber_Subscriber{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}function map_map(project,thisArg){return function(source){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new map_MapSubscriber(subscriber,this.project,this.thisArg))}}class map_MapSubscriber extends Subscriber_Subscriber{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function scheduleArray(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;let i=0;return sub.add(scheduler.schedule(function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()})),sub})}function from_from(input,scheduler){return scheduler?function(input,scheduler){if(null!=input){if(function(input){return input&&"function"==typeof input[observable_observable]}(input))return function(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>{const observable=input[observable_observable]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub})}(input,scheduler);if(isPromise(input))return function(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub})}(input,scheduler);if(isArrayLike(input))return scheduleArray(input,scheduler);if(function(input){return input&&"function"==typeof input[iterator_iterator]}(input)||"string"==typeof input)return function(input,scheduler){if(!input)throw new Error("Iterable cannot be null");return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;let iterator;return sub.add(()=>{iterator&&"function"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[iterator_iterator](),sub.add(scheduler.schedule(function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())}))})),sub})}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+" is not observable")}(input,scheduler):input instanceof Observable_Observable?input:new Observable_Observable(subscribeTo(input))}function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return"function"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>from_from(project(a,i)).pipe(map_map((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):("number"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new mergeMap_MergeMapSubscriber(observer,this.project,this.concurrent))}}class mergeMap_MergeMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,value,index),destination=this.destination;destination.add(innerSubscriber);const innerSubscription=subscribeToResult(this,ish,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&destination.add(innerSubscription)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function mergeAll(concurrent=Number.POSITIVE_INFINITY){return mergeMap(identity,concurrent)}function fromArray(input,scheduler){return scheduler?scheduleArray(input,scheduler):new Observable_Observable(subscribeToArray(input))}function merge(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_Observable?observables[0]:mergeAll(concurrent)(fromArray(observables,scheduler))}function refCount_refCount(){return function(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber_Subscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}class ConnectableObservable_ConnectableObservable extends Observable_Observable{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,connection=this._connection=new Subscription_Subscription,connection.add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed&&(this._connection=null,connection=Subscription_Subscription.EMPTY)),connection}refCount(){return refCount_refCount()(this)}}const connectableObservableDescriptor=(()=>{const connectableProto=ConnectableObservable_ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}}})();class ConnectableObservable_ConnectableSubscriber extends Subject_SubjectSubscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}function shareSubjectFactory(){return new Subject_Subject}function share(){return source=>{return refCount_refCount()((subjectOrSubjectFactory=shareSubjectFactory,function(source){let subjectFactory;subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory};const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable})(source));var subjectOrSubjectFactory}}function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error("Could not find renamed property on target object.")}function fillProperties(target,source){for(const key in source)source.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=source[key])}function stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return""+res;const newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function concatStringsWithSpace(before,after){return null==before||""===before?null===after?"":after:null==after||""===after?before:before+" "+after}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){return isForwardRef(type)?type():type}function isForwardRef(fn){return"function"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef}function defineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}function defineInjector(options){return{factory:options.factory,providers:options.providers||[],imports:options.imports||[]}}function getInjectableDef(type){return getOwnDefinition(type,NG_PROV_DEF)||getOwnDefinition(type,NG_INJECTABLE_DEF)}function getOwnDefinition(type,field){return type.hasOwnProperty(field)?type[field]:null}function getInjectorDef(type){return type&&(type.hasOwnProperty(NG_INJ_DEF)||type.hasOwnProperty(NG_INJECTOR_DEF))?type[NG_INJ_DEF]:null}const NG_PROV_DEF=getClosureSafeProperty({"prov":getClosureSafeProperty}),NG_INJ_DEF=getClosureSafeProperty({"inj":getClosureSafeProperty}),NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty}),NG_INJECTOR_DEF=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});var InjectFlags=function(InjectFlags){return InjectFlags[InjectFlags.Default=0]="Default",InjectFlags[InjectFlags.Host=1]="Host",InjectFlags[InjectFlags.Self=2]="Self",InjectFlags[InjectFlags.SkipSelf=4]="SkipSelf",InjectFlags[InjectFlags.Optional=8]="Optional",InjectFlags}({});let _injectImplementation;function setInjectImplementation(impl){const previous=_injectImplementation;return _injectImplementation=impl,previous}function injectRootLimpMode(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&"root"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;if(void 0!==notFoundValue)return notFoundValue;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}function noSideEffects(fn){return{toString:fn}.toString()}var ChangeDetectionStrategy=function(ChangeDetectionStrategy){return ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default",ChangeDetectionStrategy}({}),ViewEncapsulation=function(ViewEncapsulation){return ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom",ViewEncapsulation}({});const __globalThis="undefined"!=typeof globalThis&&globalThis,__window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global="undefined"!=typeof global&&global,_global=__globalThis||__global||__window||__self,EMPTY_OBJ={},EMPTY_ARRAY=[],NG_COMP_DEF=getClosureSafeProperty({"cmp":getClosureSafeProperty}),NG_DIR_DEF=getClosureSafeProperty({"dir":getClosureSafeProperty}),NG_PIPE_DEF=getClosureSafeProperty({"pipe":getClosureSafeProperty}),NG_MOD_DEF=getClosureSafeProperty({"mod":getClosureSafeProperty}),NG_LOC_ID_DEF=getClosureSafeProperty({"loc":getClosureSafeProperty}),NG_FACTORY_DEF=getClosureSafeProperty({"fac":getClosureSafeProperty}),NG_ELEMENT_ID=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty});let _renderCompCount=0;function defineComponent(componentDefinition){return noSideEffects(()=>{const declaredInputs={},def={type:componentDefinition.type,providersResolver:null,decls:componentDefinition.decls,vars:componentDefinition.vars,factory:null,template:componentDefinition.template||null,consts:componentDefinition.consts||null,ngContentSelectors:componentDefinition.ngContentSelectors,hostBindings:componentDefinition.hostBindings||null,hostVars:componentDefinition.hostVars||0,hostAttrs:componentDefinition.hostAttrs||null,contentQueries:componentDefinition.contentQueries||null,declaredInputs:declaredInputs,inputs:null,outputs:null,exportAs:componentDefinition.exportAs||null,onPush:componentDefinition.changeDetection===ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,selectors:componentDefinition.selectors||EMPTY_ARRAY,viewQuery:componentDefinition.viewQuery||null,features:componentDefinition.features||null,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||ViewEncapsulation.Emulated,id:"c",styles:componentDefinition.styles||EMPTY_ARRAY,_:null,setInput:null,schemas:componentDefinition.schemas||null,tView:null},directiveTypes=componentDefinition.directives,feature=componentDefinition.features,pipeTypes=componentDefinition.pipes;return def.id+=_renderCompCount++,def.inputs=invertObject(componentDefinition.inputs,declaredInputs),def.outputs=invertObject(componentDefinition.outputs),feature&&feature.forEach(fn=>fn(def)),def.directiveDefs=directiveTypes?()=>("function"==typeof directiveTypes?directiveTypes():directiveTypes).map(extractDirectiveDef):null,def.pipeDefs=pipeTypes?()=>("function"==typeof pipeTypes?pipeTypes():pipeTypes).map(extractPipeDef):null,def})}function extractDirectiveDef(type){return getComponentDef(type)||function(type){return type[NG_DIR_DEF]||null}(type)}function extractPipeDef(type){return function(type){return type[NG_PIPE_DEF]||null}(type)}const autoRegisterModuleById={};function defineNgModule(def){const res={type:def.type,bootstrap:def.bootstrap||EMPTY_ARRAY,declarations:def.declarations||EMPTY_ARRAY,imports:def.imports||EMPTY_ARRAY,exports:def.exports||EMPTY_ARRAY,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null};return null!=def.id&&noSideEffects(()=>{autoRegisterModuleById[def.id]=def.type}),res}function invertObject(obj,secondary){if(null==obj)return EMPTY_OBJ;const newLookup={};for(const minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){let publicName=obj[minifiedKey],declaredName=publicName;Array.isArray(publicName)&&(declaredName=publicName[1],publicName=publicName[0]),newLookup[publicName]=minifiedKey,secondary&&(secondary[publicName]=declaredName)}return newLookup}const defineDirective=defineComponent;function definePipe(pipeDef){return{type:pipeDef.type,name:pipeDef.name,factory:null,pure:!1!==pipeDef.pure,onDestroy:pipeDef.type.prototype.ngOnDestroy||null}}function getComponentDef(type){return type[NG_COMP_DEF]||null}function getNgModuleDef(type,throwNotFound){const ngModuleDef=type[NG_MOD_DEF]||null;if(!ngModuleDef&&!0===throwNotFound)throw new Error(`Type ${stringify(type)} does not have 'mod' property.`);return ngModuleDef}function isLView(value){return Array.isArray(value)&&"object"==typeof value[1]}function isLContainer(value){return Array.isArray(value)&&!0===value[1]}function isContentQueryHost(tNode){return 0!=(8&tNode.flags)}function isComponentHost(tNode){return 2==(2&tNode.flags)}function isDirectiveHost(tNode){return 1==(1&tNode.flags)}function isComponentDef(def){return null!==def.template}function getFactoryDef(type,throwNotFound){return type.hasOwnProperty(NG_FACTORY_DEF)?type[NG_FACTORY_DEF]:null}class RuntimeError extends Error{constructor(code,message){super(function(code,message){return`${code?`NG0${code}: `:""}${message}`}(code,message)),this.code=code}}function renderStringify(value){return"string"==typeof value?value:null==value?"":String(value)}function stringifyForError(value){return"function"==typeof value?value.name||value.toString():"object"==typeof value&&null!=value&&"function"==typeof value.type?value.type.name||value.type.toString():renderStringify(value)}function throwProviderNotFoundError(token,injectorName){const injectorDetails=injectorName?` in ${injectorName}`:"";throw new RuntimeError("201",`No provider for ${stringifyForError(token)} found${injectorDetails}`)}class SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}function NgOnChangesFeature(){return NgOnChangesFeatureImpl}function NgOnChangesFeatureImpl(definition){return definition.type.prototype.ngOnChanges&&(definition.setInput=ngOnChangesSetInput),rememberChangeHistoryAndInvokeOnChangesHook}function rememberChangeHistoryAndInvokeOnChangesHook(){const simpleChangesStore=getSimpleChangesStore(this),current=null==simpleChangesStore?void 0:simpleChangesStore.current;if(current){const previous=simpleChangesStore.previous;if(previous===EMPTY_OBJ)simpleChangesStore.previous=current;else for(let key in current)previous[key]=current[key];simpleChangesStore.current=null,this.ngOnChanges(current)}}function ngOnChangesSetInput(instance,value,publicName,privateName){const simpleChangesStore=getSimpleChangesStore(instance)||function(instance,store){return instance.__ngSimpleChanges__=store}(instance,{previous:EMPTY_OBJ,current:null}),current=simpleChangesStore.current||(simpleChangesStore.current={}),previous=simpleChangesStore.previous,declaredName=this.declaredInputs[publicName],previousChange=previous[declaredName];current[declaredName]=new SimpleChange(previousChange&&previousChange.currentValue,value,previous===EMPTY_OBJ),instance[privateName]=value}function getSimpleChangesStore(instance){return instance.__ngSimpleChanges__||null}let DOCUMENT;function isProceduralRenderer(renderer){return!!renderer.listen}NgOnChangesFeature.ngInherit=!0;const domRendererFactory3={createRenderer:(hostElement,rendererType)=>void 0!==DOCUMENT?DOCUMENT:"undefined"!=typeof document?document:void 0};function unwrapRNode(value){for(;Array.isArray(value);)value=value[0];return value}function getNativeByIndex(index,lView){return unwrapRNode(lView[index])}function getNativeByTNode(tNode,lView){return unwrapRNode(lView[tNode.index])}function getTNode(tView,index){return tView.data[index]}function load(view,index){return view[index]}function getComponentLViewByIndex(nodeIndex,hostView){const slotValue=hostView[nodeIndex];return isLView(slotValue)?slotValue:slotValue[0]}function readPatchedLView(target){const value=function(target){return target.__ngContext__||null}(target);return value?Array.isArray(value)?value:value.lView:null}function isCreationMode(view){return 4==(4&view[2])}function viewAttachedToChangeDetector(view){return 128==(128&view[2])}function getConstant(consts,index){return null==index?null:consts[index]}function resetPreOrderHookFlags(lView){lView[18]=0}function updateTransplantedViewCount(lContainer,amount){lContainer[5]+=amount;let viewOrContainer=lContainer,parent=lContainer[3];for(;null!==parent&&(1===amount&&1===viewOrContainer[5]||-1===amount&&0===viewOrContainer[5]);)parent[5]+=amount,viewOrContainer=parent,parent=parent[3]}const instructionState={lFrame:createLFrame(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function getBindingsEnabled(){return instructionState.bindingsEnabled}function getLView(){return instructionState.lFrame.lView}function getTView(){return instructionState.lFrame.tView}function restoreView(viewToRestore){instructionState.lFrame.contextLView=viewToRestore}function getCurrentTNode(){let currentTNode=getCurrentTNodePlaceholderOk();for(;null!==currentTNode&&64===currentTNode.type;)currentTNode=currentTNode.parent;return currentTNode}function getCurrentTNodePlaceholderOk(){return instructionState.lFrame.currentTNode}function setCurrentTNode(tNode,isParent){const lFrame=instructionState.lFrame;lFrame.currentTNode=tNode,lFrame.isParent=isParent}function isCurrentTNodeParent(){return instructionState.lFrame.isParent}function setCurrentTNodeAsNotParent(){instructionState.lFrame.isParent=!1}function isInCheckNoChangesMode(){return instructionState.isInCheckNoChangesMode}function setIsInCheckNoChangesMode(mode){instructionState.isInCheckNoChangesMode=mode}function getBindingRoot(){const lFrame=instructionState.lFrame;let index=lFrame.bindingRootIndex;return-1===index&&(index=lFrame.bindingRootIndex=lFrame.tView.bindingStartIndex),index}function getBindingIndex(){return instructionState.lFrame.bindingIndex}function nextBindingIndex(){return instructionState.lFrame.bindingIndex++}function incrementBindingIndex(count){const lFrame=instructionState.lFrame,index=lFrame.bindingIndex;return lFrame.bindingIndex=lFrame.bindingIndex+count,index}function setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex){const lFrame=instructionState.lFrame;lFrame.bindingIndex=lFrame.bindingRootIndex=bindingRootIndex,setCurrentDirectiveIndex(currentDirectiveIndex)}function setCurrentDirectiveIndex(currentDirectiveIndex){instructionState.lFrame.currentDirectiveIndex=currentDirectiveIndex}function getCurrentDirectiveDef(tData){const currentDirectiveIndex=instructionState.lFrame.currentDirectiveIndex;return-1===currentDirectiveIndex?null:tData[currentDirectiveIndex]}function getCurrentQueryIndex(){return instructionState.lFrame.currentQueryIndex}function setCurrentQueryIndex(value){instructionState.lFrame.currentQueryIndex=value}function getDeclarationTNode(lView){const tView=lView[1];return 2===tView.type?tView.declTNode:1===tView.type?lView[6]:null}function enterDI(lView,tNode,flags){if(flags&InjectFlags.SkipSelf){let parentTNode=tNode,parentLView=lView;for(;parentTNode=parentTNode.parent,!(null!==parentTNode||flags&InjectFlags.Host||(parentTNode=getDeclarationTNode(parentLView),null===parentTNode)||(parentLView=parentLView[15],10&parentTNode.type)););if(null===parentTNode)return!1;tNode=parentTNode,lView=parentLView}const lFrame=instructionState.lFrame=allocLFrame();return lFrame.currentTNode=tNode,lFrame.lView=lView,!0}function enterView(newView){const newLFrame=allocLFrame(),tView=newView[1];instructionState.lFrame=newLFrame,newLFrame.currentTNode=tView.firstChild,newLFrame.lView=newView,newLFrame.tView=tView,newLFrame.contextLView=newView,newLFrame.bindingIndex=tView.bindingStartIndex,newLFrame.inI18n=!1}function allocLFrame(){const currentLFrame=instructionState.lFrame,childLFrame=null===currentLFrame?null:currentLFrame.child;return null===childLFrame?createLFrame(currentLFrame):childLFrame}function createLFrame(parent){const lFrame={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:parent,child:null,inI18n:!1};return null!==parent&&(parent.child=lFrame),lFrame}function leaveViewLight(){const oldLFrame=instructionState.lFrame;return instructionState.lFrame=oldLFrame.parent,oldLFrame.currentTNode=null,oldLFrame.lView=null,oldLFrame}const leaveDI=leaveViewLight;function leaveView(){const oldLFrame=leaveViewLight();oldLFrame.isParent=!0,oldLFrame.tView=null,oldLFrame.selectedIndex=-1,oldLFrame.contextLView=null,oldLFrame.elementDepthCount=0,oldLFrame.currentDirectiveIndex=-1,oldLFrame.currentNamespace=null,oldLFrame.bindingRootIndex=-1,oldLFrame.bindingIndex=-1,oldLFrame.currentQueryIndex=0}function getSelectedIndex(){return instructionState.lFrame.selectedIndex}function setSelectedIndex(index){instructionState.lFrame.selectedIndex=index}function getSelectedTNode(){const lFrame=instructionState.lFrame;return getTNode(lFrame.tView,lFrame.selectedIndex)}function registerPostOrderHooks(tView,tNode){for(let i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){const lifecycleHooks=tView.data[i].type.prototype,{ngAfterContentInit:ngAfterContentInit,ngAfterContentChecked:ngAfterContentChecked,ngAfterViewInit:ngAfterViewInit,ngAfterViewChecked:ngAfterViewChecked,ngOnDestroy:ngOnDestroy}=lifecycleHooks;ngAfterContentInit&&(tView.contentHooks||(tView.contentHooks=[])).push(-i,ngAfterContentInit),ngAfterContentChecked&&((tView.contentHooks||(tView.contentHooks=[])).push(i,ngAfterContentChecked),(tView.contentCheckHooks||(tView.contentCheckHooks=[])).push(i,ngAfterContentChecked)),ngAfterViewInit&&(tView.viewHooks||(tView.viewHooks=[])).push(-i,ngAfterViewInit),ngAfterViewChecked&&((tView.viewHooks||(tView.viewHooks=[])).push(i,ngAfterViewChecked),(tView.viewCheckHooks||(tView.viewCheckHooks=[])).push(i,ngAfterViewChecked)),null!=ngOnDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(i,ngOnDestroy)}}function executeCheckHooks(lView,hooks,nodeIndex){callHooks(lView,hooks,3,nodeIndex)}function executeInitAndCheckHooks(lView,hooks,initPhase,nodeIndex){(3&lView[2])===initPhase&&callHooks(lView,hooks,initPhase,nodeIndex)}function incrementInitPhaseFlags(lView,initPhase){let flags=lView[2];(3&flags)===initPhase&&(flags&=2047,flags+=1,lView[2]=flags)}function callHooks(currentView,arr,initPhase,currentNodeIndex){const nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1,max=arr.length-1;let lastNodeIndexFound=0;for(let i=void 0!==currentNodeIndex?65535&currentView[18]:0;i<max;i++)if("number"==typeof arr[i+1]){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else arr[i]<0&&(currentView[18]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(callHook(currentView,initPhase,arr,i),currentView[18]=(4294901760&currentView[18])+i+2),i++}function callHook(currentView,initPhase,arr,i){const isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];isInitHook?currentView[2]>>11<currentView[18]>>16&&(3&currentView[2])===initPhase&&(currentView[2]+=2048,hook.call(directive)):hook.call(directive)}class NodeInjectorFactory{constructor(factory,isViewProvider,injectImplementation){this.factory=factory,this.resolving=!1,this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}function setUpAttributes(renderer,native,attrs){const isProc=isProceduralRenderer(renderer);let i=0;for(;i<attrs.length;){const value=attrs[i];if("number"==typeof value){if(0!==value)break;i++;const namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];isProc?renderer.setAttribute(native,attrName,attrVal,namespaceURI):native.setAttributeNS(namespaceURI,attrName,attrVal)}else{const attrName=value,attrVal=attrs[++i];isAnimationProp(attrName)?isProc&&renderer.setProperty(native,attrName,attrVal):isProc?renderer.setAttribute(native,attrName,attrVal):native.setAttribute(attrName,attrVal),i++}}return i}function isNameOnlyAttributeMarker(marker){return 3===marker||4===marker||6===marker}function isAnimationProp(name){return 64===name.charCodeAt(0)}function mergeHostAttrs(dst,src){if(null===src||0===src.length);else if(null===dst||0===dst.length)dst=src.slice();else{let srcMarker=-1;for(let i=0;i<src.length;i++){const item=src[i];"number"==typeof item?srcMarker=item:0===srcMarker||mergeHostAttribute(dst,srcMarker,item,null,-1===srcMarker||2===srcMarker?src[++i]:null)}}return dst}function mergeHostAttribute(dst,marker,key1,key2,value){let i=0,markerInsertPosition=dst.length;if(-1===marker)markerInsertPosition=-1;else for(;i<dst.length;){const dstValue=dst[i++];if("number"==typeof dstValue){if(dstValue===marker){markerInsertPosition=-1;break}if(dstValue>marker){markerInsertPosition=i-1;break}}}for(;i<dst.length;){const item=dst[i];if("number"==typeof item)break;if(item===key1){if(null===key2)return void(null!==value&&(dst[i+1]=value));if(key2===dst[i+1])return void(dst[i+2]=value)}i++,null!==key2&&i++,null!==value&&i++}-1!==markerInsertPosition&&(dst.splice(markerInsertPosition,0,marker),i=markerInsertPosition+1),dst.splice(i++,0,key1),null!==key2&&dst.splice(i++,0,key2),null!==value&&dst.splice(i++,0,value)}function hasParentInjector(parentLocation){return-1!==parentLocation}function getParentInjectorIndex(parentLocation){return 32767&parentLocation}function getParentInjectorView(location,startView){let viewOffset=location>>16,parentView=startView;for(;viewOffset>0;)parentView=parentView[15],viewOffset--;return parentView}let includeViewProviders=!0;function setIncludeViewProviders(v){const oldValue=includeViewProviders;return includeViewProviders=v,oldValue}let nextNgElementId=0;function getOrCreateNodeInjectorForNode(tNode,lView){const existingInjectorIndex=getInjectorIndex(tNode,lView);if(-1!==existingInjectorIndex)return existingInjectorIndex;const tView=lView[1];tView.firstCreatePass&&(tNode.injectorIndex=lView.length,insertBloom(tView.data,tNode),insertBloom(lView,null),insertBloom(tView.blueprint,null));const parentLoc=getParentInjectorLocation(tNode,lView),injectorIndex=tNode.injectorIndex;if(hasParentInjector(parentLoc)){const parentIndex=getParentInjectorIndex(parentLoc),parentLView=getParentInjectorView(parentLoc,lView),parentData=parentLView[1].data;for(let i=0;i<8;i++)lView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i]}return lView[injectorIndex+8]=parentLoc,injectorIndex}function insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function getInjectorIndex(tNode,lView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null===lView[tNode.injectorIndex+8]?-1:tNode.injectorIndex}function getParentInjectorLocation(tNode,lView){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;let declarationViewOffset=0,parentTNode=null,lViewCursor=lView;for(;null!==lViewCursor;){const tView=lViewCursor[1],tViewType=tView.type;if(parentTNode=2===tViewType?tView.declTNode:1===tViewType?lViewCursor[6]:null,null===parentTNode)return-1;if(declarationViewOffset++,lViewCursor=lViewCursor[15],-1!==parentTNode.injectorIndex)return parentTNode.injectorIndex|declarationViewOffset<<16}return-1}function diPublicInInjector(injectorIndex,tView,token){!function(injectorIndex,tView,type){let id;"string"==typeof type?id=type.charCodeAt(0)||0:type.hasOwnProperty(NG_ELEMENT_ID)&&(id=type[NG_ELEMENT_ID]),null==id&&(id=type[NG_ELEMENT_ID]=nextNgElementId++);const bloomHash=255&id;tView.data[injectorIndex+(bloomHash>>5)]|=1<<bloomHash}(injectorIndex,tView,token)}function notFoundValueOrThrow(notFoundValue,token,flags){if(flags&InjectFlags.Optional)return notFoundValue;throwProviderNotFoundError(token,"NodeInjector")}function lookupTokenUsingModuleInjector(lView,token,flags,notFoundValue){if(flags&InjectFlags.Optional&&void 0===notFoundValue&&(notFoundValue=null),0==(flags&(InjectFlags.Self|InjectFlags.Host))){const moduleInjector=lView[9],previousInjectImplementation=setInjectImplementation(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,flags&InjectFlags.Optional):injectRootLimpMode(token,notFoundValue,flags&InjectFlags.Optional)}finally{setInjectImplementation(previousInjectImplementation)}}return notFoundValueOrThrow(notFoundValue,token,flags)}function getOrCreateInjectable(tNode,lView,token,flags=InjectFlags.Default,notFoundValue){if(null!==tNode){const bloomHash=function(token){if("string"==typeof token)return token.charCodeAt(0)||0;const tokenId=token.hasOwnProperty(NG_ELEMENT_ID)?token[NG_ELEMENT_ID]:void 0;return"number"==typeof tokenId?tokenId>=0?255&tokenId:createNodeInjector:tokenId}(token);if("function"==typeof bloomHash){if(!enterDI(lView,tNode,flags))return flags&InjectFlags.Host?notFoundValueOrThrow(notFoundValue,token,flags):lookupTokenUsingModuleInjector(lView,token,flags,notFoundValue);try{const value=bloomHash();if(null!=value||flags&InjectFlags.Optional)return value;throwProviderNotFoundError(token)}finally{leaveDI()}}else if("number"==typeof bloomHash){let previousTView=null,injectorIndex=getInjectorIndex(tNode,lView),parentLocation=-1,hostTElementNode=flags&InjectFlags.Host?lView[16][6]:null;for((-1===injectorIndex||flags&InjectFlags.SkipSelf)&&(parentLocation=-1===injectorIndex?getParentInjectorLocation(tNode,lView):lView[injectorIndex+8],-1!==parentLocation&&shouldSearchParent(flags,!1)?(previousTView=lView[1],injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){const tView=lView[1];if(bloomHasToken(bloomHash,injectorIndex,tView.data)){const instance=searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==NOT_FOUND)return instance}parentLocation=lView[injectorIndex+8],-1!==parentLocation&&shouldSearchParent(flags,lView[1].data[injectorIndex+8]===hostTElementNode)&&bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}}return lookupTokenUsingModuleInjector(lView,token,flags,notFoundValue)}const NOT_FOUND={};function createNodeInjector(){return new NodeInjector(getCurrentTNode(),getLView())}function searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){const currentTView=lView[1],tNode=currentTView.data[injectorIndex+8],injectableIdx=locateDirectiveOrProvider(tNode,currentTView,token,null==previousTView?isComponentHost(tNode)&&includeViewProviders:previousTView!=currentTView&&0!=(3&tNode.type),flags&InjectFlags.Host&&hostTElementNode===tNode);return null!==injectableIdx?getNodeInjectable(lView,currentTView,injectableIdx,tNode):NOT_FOUND}function locateDirectiveOrProvider(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){const nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=1048575&nodeProviderIndexes,directivesStart=tNode.directiveStart,cptViewProvidersCount=nodeProviderIndexes>>20,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:tNode.directiveEnd;for(let i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){const providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){const dirDef=tInjectables[directivesStart];if(dirDef&&isComponentDef(dirDef)&&dirDef.type===token)return directivesStart}return null}function getNodeInjectable(lView,tView,index,tNode){let value=lView[index];const tData=tView.data;if(value instanceof NodeInjectorFactory){const factory=value;factory.resolving&&function(token,path){throw new RuntimeError("200",`Circular dependency in DI detected for ${token}`)}(stringifyForError(tData[index]));const previousIncludeViewProviders=setIncludeViewProviders(factory.canSeeViewProviders);factory.resolving=!0;const previousInjectImplementation=factory.injectImpl?setInjectImplementation(factory.injectImpl):null;enterDI(lView,tNode,InjectFlags.Default);try{value=lView[index]=factory.factory(void 0,tData,lView,tNode),tView.firstCreatePass&&index>=tNode.directiveStart&&function(directiveIndex,directiveDef,tView){const{ngOnChanges:ngOnChanges,ngOnInit:ngOnInit,ngDoCheck:ngDoCheck}=directiveDef.type.prototype;if(ngOnChanges){const wrappedOnChanges=NgOnChangesFeatureImpl(directiveDef);(tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,wrappedOnChanges),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,wrappedOnChanges)}ngOnInit&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(0-directiveIndex,ngOnInit),ngDoCheck&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,ngDoCheck),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,ngDoCheck))}(index,tData[index],tView)}finally{null!==previousInjectImplementation&&setInjectImplementation(previousInjectImplementation),setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,leaveDI()}}return value}function bloomHasToken(bloomHash,injectorIndex,injectorView){return!!(injectorView[injectorIndex+(bloomHash>>5)]&1<<bloomHash)}function shouldSearchParent(flags,isFirstHostTNode){return!(flags&InjectFlags.Self||flags&InjectFlags.Host&&isFirstHostTNode)}class NodeInjector{constructor(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}get(token,notFoundValue){return getOrCreateInjectable(this._tNode,this._lView,token,void 0,notFoundValue)}}function getFactoryOf(type){const typeAny=type;if(isForwardRef(type))return()=>{const factory=getFactoryOf(resolveForwardRef(typeAny));return factory?factory():null};let factory=getFactoryDef(typeAny);if(null===factory){const injectorDef=getInjectorDef(typeAny);factory=injectorDef&&injectorDef.factory}return factory||null}function getInheritedFactory(type){return noSideEffects(()=>{const ownConstructor=type.prototype.constructor,ownFactory=ownConstructor[NG_FACTORY_DEF]||getFactoryOf(ownConstructor),objectPrototype=Object.prototype;let parent=Object.getPrototypeOf(type.prototype).constructor;for(;parent&&parent!==objectPrototype;){const factory=parent[NG_FACTORY_DEF]||getFactoryOf(parent);if(factory&&factory!==ownFactory)return factory;parent=Object.getPrototypeOf(parent)}return t=>new t})}function injectAttribute(attrNameToInject){return function(tNode,attrNameToInject){if("class"===attrNameToInject)return tNode.classes;if("style"===attrNameToInject)return tNode.styles;const attrs=tNode.attrs;if(attrs){const attrsLength=attrs.length;let i=0;for(;i<attrsLength;){const value=attrs[i];if(isNameOnlyAttributeMarker(value))break;if(0===value)i+=2;else if("number"==typeof value)for(i++;i<attrsLength&&"string"==typeof attrs[i];)i++;else{if(value===attrNameToInject)return attrs[i+1];i+=2}}}return null}(getCurrentTNode(),attrNameToInject)}function makeParamDecorator(name,props,parentClass){return noSideEffects(()=>{const metaCtor=function(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty("__parameters__")?cls.__parameters__:Object.defineProperty(cls,"__parameters__",{value:[]}).__parameters__;for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory})}class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.prov=defineInjectable({token:this,providedIn:options.providedIn||"root",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken("AnalyzeForEntryComponents"),Type=Function;function flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}function deepForEach(input,fn){input.forEach(value=>Array.isArray(value)?deepForEach(value,fn):fn(value))}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}function newArray(size,value){const list=[];for(let i=0;i<size;i++)list.push(value);return list}function keyValueArraySet(keyValueArray,key,value){let index=keyValueArrayIndexOf(keyValueArray,key);return index>=0?keyValueArray[1|index]=value:(index=~index,function(array,index,value1,value2){let end=array.length;if(end==index)array.push(value1,value2);else if(1===end)array.push(value2,array[0]),array[0]=value1;else{for(end--,array.push(array[end-1],array[end]);end>index;)array[end]=array[end-2],end--;array[index]=value1,array[index+1]=value2}}(keyValueArray,index,key,value)),index}function keyValueArrayGet(keyValueArray,key){const index=keyValueArrayIndexOf(keyValueArray,key);if(index>=0)return keyValueArray[1|index]}function keyValueArrayIndexOf(keyValueArray,key){return function(array,value,shift){let start=0,end=array.length>>1;for(;end!==start;){const middle=start+(end-start>>1),current=array[middle<<1];if(value===current)return middle<<1;current>value?end=middle:start=middle+1}return~(end<<1)}(keyValueArray,key)}const THROW_IF_NOT_FOUND={},NEW_LINE=/\n/gm,USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _currentInjector;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function injectInjectorOnly(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error("inject() must be called from an injection context");return null===_currentInjector?injectRootLimpMode(token,void 0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}function inject(token,flags=InjectFlags.Default){return(_injectImplementation||injectInjectorOnly)(resolveForwardRef(token),flags)}const inject=inject;function injectArgs(types){const args=[];for(let i=0;i<types.length;i++){const arg=resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new Error("Arguments array must have arguments.");let type,flags=InjectFlags.Default;for(let j=0;j<arg.length;j++){const meta=arg[j],flag=meta.__NG_DI_FLAG__;"number"==typeof flag?-1===flag?type=meta.token:flags|=flag:type=meta}args.push(inject(type,flags))}else args.push(inject(arg))}return args}function attachInjectFlag(decorator,flag){return decorator.__NG_DI_FLAG__=flag,decorator.prototype.__NG_DI_FLAG__=flag,decorator}const Inject=attachInjectFlag(makeParamDecorator("Inject",token=>({token:token})),-1),Optional=attachInjectFlag(makeParamDecorator("Optional"),8),SkipSelf=attachInjectFlag(makeParamDecorator("SkipSelf"),4);let policy;function trustedHTMLFromString(html){var _a;return(null===(_a=function(){if(void 0===policy&&(policy=null,_global.trustedTypes))try{policy=_global.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(_a){}return policy}())||void 0===_a?void 0:_a.createHTML(html))||html}class SafeValueImpl{constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}function unwrapSafeValue(value){return value instanceof SafeValueImpl?value.changingThisBreaksApplicationSecurity:value}function allowSanitizationBypassAndThrow(value,type){const actualType=getSanitizationBypassType(value);if(null!=actualType&&actualType!==type){if("ResourceURL"===actualType&&"URL"===type)return!0;throw new Error(`Required a safe ${type}, got a ${actualType} (see https://g.co/ng/security#xss)`)}return actualType===type}function getSanitizationBypassType(value){return value instanceof SafeValueImpl&&value.getTypeName()||null}class DOMParserHelper{constructor(inertDocumentHelper){this.inertDocumentHelper=inertDocumentHelper}getInertBodyElement(html){html="<body><remove></remove>"+html;try{const body=(new window.DOMParser).parseFromString(trustedHTMLFromString(html),"text/html").body;return null===body?this.inertDocumentHelper.getInertBodyElement(html):(body.removeChild(body.firstChild),body)}catch(_a){return null}}}class InertDocumentHelper{constructor(defaultDoc){if(this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const inertHtml=this.inertDocument.createElement("html");this.inertDocument.appendChild(inertHtml);const inertBodyElement=this.inertDocument.createElement("body");inertHtml.appendChild(inertBodyElement)}}getInertBodyElement(html){const templateEl=this.inertDocument.createElement("template");if("content"in templateEl)return templateEl.innerHTML=trustedHTMLFromString(html),templateEl;const inertBody=this.inertDocument.createElement("body");return inertBody.innerHTML=trustedHTMLFromString(html),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(inertBody),inertBody}stripCustomNsAttrs(el){const elAttrs=el.attributes;for(let i=elAttrs.length-1;0<i;i--){const attrName=elAttrs.item(i).name;"xmlns:ns1"!==attrName&&0!==attrName.indexOf("ns1:")||el.removeAttribute(attrName)}let childNode=el.firstChild;for(;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling}}const SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:"unsafe:"+url}function tagSet(tags){const res={};for(const t of tags.split(","))res[t]=!0;return res}function core_merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),VALID_ELEMENTS=core_merge(VOID_ELEMENTS,core_merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),VALID_ATTRS=core_merge(URI_ATTRS,SRCSET_ATTRS,tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet("script,style,template");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(el){let current=el.firstChild,traverseContent=!0;for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join("")}startElement(element){const tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push("<"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(srcset=value,value=(srcset=String(srcset)).split(",").map(srcset=>_sanitizeUrl(srcset.trim())).join(", ")),this.buf.push(" ",attrName,'="',encodeEntities(value),'"')}var srcset;return this.buf.push(">"),!0}endElement(current){const tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))}chars(chars){this.buf.push(encodeEntities(chars))}checkClobberedElement(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${node.outerHTML}`);return nextNode}}const SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(match){return"&#"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(match){return"&#"+match.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let inertBodyHelper;function getTemplateContent(el){return"content"in el&&function(el){return el.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===el.nodeName}(el)?el.content:null}var SecurityContext=function(SecurityContext){return SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL",SecurityContext}({});function sanitizeUrl(unsafeUrl){const sanitizer=function(){const lView=getLView();return lView&&lView[12]}();return sanitizer?sanitizer.sanitize(SecurityContext.URL,unsafeUrl)||"":allowSanitizationBypassAndThrow(unsafeUrl,"URL")?unwrapSafeValue(unsafeUrl):_sanitizeUrl(renderStringify(unsafeUrl))}function getDebugContext(error){return error.ngDebugContext}function getOriginalError(error){return error.ngOriginalError}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error.ngErrorLogger||defaultErrorLogger}(error);errorLogger(this._console,"ERROR",error),originalError&&errorLogger(this._console,"ORIGINAL ERROR",originalError),context&&errorLogger(this._console,"ERROR CONTEXT",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}function attachPatchData(target,data){target.__ngContext__=data}const defaultScheduler=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global))();function resolveBody(element){return{name:"body",target:element.ownerDocument.body}}function maybeUnwrapFn(value){return value instanceof Function?value():value}var RendererStyleFlags2=function(RendererStyleFlags2){return RendererStyleFlags2[RendererStyleFlags2.Important=1]="Important",RendererStyleFlags2[RendererStyleFlags2.DashCase=2]="DashCase",RendererStyleFlags2}({});function icuContainerIterate(tIcuContainerNode,lView){return(void 0)(tIcuContainerNode,lView)}function getLViewParent(lView){const parent=lView[3];return isLContainer(parent)?parent[3]:parent}function getFirstLContainer(lView){return getNearestLContainer(lView[13])}function getNextLContainer(container){return getNearestLContainer(container[4])}function getNearestLContainer(viewOrContainer){for(;null!==viewOrContainer&&!isLContainer(viewOrContainer);)viewOrContainer=viewOrContainer[4];return viewOrContainer}function applyToElementOrContainer(action,renderer,parent,lNodeToHandle,beforeNode){if(null!=lNodeToHandle){let lContainer,isComponent=!1;isLContainer(lNodeToHandle)?lContainer=lNodeToHandle:isLView(lNodeToHandle)&&(isComponent=!0,lNodeToHandle=lNodeToHandle[0]);const rNode=unwrapRNode(lNodeToHandle);0===action&&null!==parent?null==beforeNode?nativeAppendChild(renderer,parent,rNode):nativeInsertBefore(renderer,parent,rNode,beforeNode||null,!0):1===action&&null!==parent?nativeInsertBefore(renderer,parent,rNode,beforeNode||null,!0):2===action?function(renderer,rNode,isHostElement){const nativeParent=nativeParentNode(renderer,rNode);nativeParent&&function(renderer,parent,child,isHostElement){isProceduralRenderer(renderer)?renderer.removeChild(parent,child,isHostElement):parent.removeChild(child)}(renderer,nativeParent,rNode,isHostElement)}(renderer,rNode,isComponent):3===action&&renderer.destroyNode(rNode),null!=lContainer&&function(renderer,action,lContainer,parentRElement,beforeNode){const anchor=lContainer[7];anchor!==unwrapRNode(lContainer)&&applyToElementOrContainer(action,renderer,parentRElement,anchor,beforeNode);for(let i=10;i<lContainer.length;i++){const lView=lContainer[i];applyView(lView[1],lView,renderer,action,parentRElement,anchor)}}(renderer,action,lContainer,parent,beforeNode)}}function createElementNode(renderer,name,namespace){return isProceduralRenderer(renderer)?renderer.createElement(name,namespace):null===namespace?renderer.createElement(name):renderer.createElementNS(namespace,name)}function detachMovedView(declarationContainer,lView){const movedViews=declarationContainer[9],declarationViewIndex=movedViews.indexOf(lView),insertionLContainer=lView[3];1024&lView[2]&&(lView[2]&=-1025,updateTransplantedViewCount(insertionLContainer,-1)),movedViews.splice(declarationViewIndex,1)}function detachView(lContainer,removeIndex){if(lContainer.length<=10)return;const indexInContainer=10+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){const declarationLContainer=viewToDetach[17];null!==declarationLContainer&&declarationLContainer!==lContainer&&detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][4]=viewToDetach[4]);const removedLView=removeFromArray(lContainer,10+removeIndex);applyView(viewToDetach[1],lView=viewToDetach,lView[11],2,null,null),lView[0]=null,lView[6]=null;const lQueries=removedLView[19];null!==lQueries&&lQueries.detachView(removedLView[1]),viewToDetach[3]=null,viewToDetach[4]=null,viewToDetach[2]&=-129}var lView;return viewToDetach}function destroyLView(tView,lView){if(!(256&lView[2])){const renderer=lView[11];isProceduralRenderer(renderer)&&renderer.destroyNode&&applyView(tView,lView,renderer,3,null,null),function(rootView){let lViewOrLContainer=rootView[13];if(!lViewOrLContainer)return cleanUpView(rootView[1],rootView);for(;lViewOrLContainer;){let next=null;if(isLView(lViewOrLContainer))next=lViewOrLContainer[13];else{const firstView=lViewOrLContainer[10];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[4]&&lViewOrLContainer!==rootView;)isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),lViewOrLContainer=lViewOrLContainer[3];null===lViewOrLContainer&&(lViewOrLContainer=rootView),isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),next=lViewOrLContainer&&lViewOrLContainer[4]}lViewOrLContainer=next}}(lView)}}function cleanUpView(tView,lView){if(!(256&lView[2])){lView[2]&=-129,lView[2]|=256,function(tView,lView){let destroyHooks;if(null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(let i=0;i<destroyHooks.length;i+=2){const context=lView[destroyHooks[i]];if(!(context instanceof NodeInjectorFactory)){const toCall=destroyHooks[i+1];if(Array.isArray(toCall))for(let j=0;j<toCall.length;j+=2)toCall[j+1].call(context[toCall[j]]);else toCall.call(context)}}}(tView,lView),function(tView,lView){const tCleanup=tView.cleanup,lCleanup=lView[7];let lastLCleanupIndex=-1;if(null!==tCleanup)for(let i=0;i<tCleanup.length-1;i+=2)if("string"==typeof tCleanup[i]){const idxOrTargetGetter=tCleanup[i+1],target="function"==typeof idxOrTargetGetter?idxOrTargetGetter(lView):unwrapRNode(lView[idxOrTargetGetter]),listener=lCleanup[lastLCleanupIndex=tCleanup[i+2]],useCaptureOrSubIdx=tCleanup[i+3];"boolean"==typeof useCaptureOrSubIdx?target.removeEventListener(tCleanup[i],listener,useCaptureOrSubIdx):useCaptureOrSubIdx>=0?lCleanup[lastLCleanupIndex=useCaptureOrSubIdx]():lCleanup[lastLCleanupIndex=-useCaptureOrSubIdx].unsubscribe(),i+=2}else{const context=lCleanup[lastLCleanupIndex=tCleanup[i+1]];tCleanup[i].call(context)}if(null!==lCleanup){for(let i=lastLCleanupIndex+1;i<lCleanup.length;i++)(0,lCleanup[i])();lView[7]=null}}(tView,lView),1===lView[1].type&&isProceduralRenderer(lView[11])&&lView[11].destroy();const declarationContainer=lView[17];if(null!==declarationContainer&&isLContainer(lView[3])){declarationContainer!==lView[3]&&detachMovedView(declarationContainer,lView);const lQueries=lView[19];null!==lQueries&&lQueries.detachView(tView)}}}function getParentRElement(tView,tNode,lView){return function(tView,tNode,lView){let parentTNode=tNode;for(;null!==parentTNode&&40&parentTNode.type;)parentTNode=(tNode=parentTNode).parent;if(null===parentTNode)return lView[0];if(2&parentTNode.flags){const encapsulation=tView.data[parentTNode.directiveStart].encapsulation;if(encapsulation===ViewEncapsulation.None||encapsulation===ViewEncapsulation.Emulated)return null}return getNativeByTNode(parentTNode,lView)}(tView,tNode.parent,lView)}function nativeInsertBefore(renderer,parent,child,beforeNode,isMove){isProceduralRenderer(renderer)?renderer.insertBefore(parent,child,beforeNode,isMove):parent.insertBefore(child,beforeNode,isMove)}function nativeAppendChild(renderer,parent,child){isProceduralRenderer(renderer)?renderer.appendChild(parent,child):parent.appendChild(child)}function nativeAppendOrInsertBefore(renderer,parent,child,beforeNode,isMove){null!==beforeNode?nativeInsertBefore(renderer,parent,child,beforeNode,isMove):nativeAppendChild(renderer,parent,child)}function nativeParentNode(renderer,node){return isProceduralRenderer(renderer)?renderer.parentNode(node):node.parentNode}function getInsertInFrontOfRNode(parentTNode,currentTNode,lView){return _getInsertInFrontOfRNodeWithI18n(parentTNode,currentTNode,lView)}let _getInsertInFrontOfRNodeWithI18n=function(parentTNode,currentTNode,lView){return 40&parentTNode.type?getNativeByTNode(parentTNode,lView):null};function appendChild(tView,lView,childRNode,childTNode){const parentRNode=getParentRElement(tView,childTNode,lView),renderer=lView[11],anchorNode=getInsertInFrontOfRNode(childTNode.parent||lView[6],childTNode,lView);if(null!=parentRNode)if(Array.isArray(childRNode))for(let i=0;i<childRNode.length;i++)nativeAppendOrInsertBefore(renderer,parentRNode,childRNode[i],anchorNode,!1);else nativeAppendOrInsertBefore(renderer,parentRNode,childRNode,anchorNode,!1)}function getFirstNativeNode(lView,tNode){if(null!==tNode){const tNodeType=tNode.type;if(3&tNodeType)return getNativeByTNode(tNode,lView);if(4&tNodeType)return getBeforeNodeForView(-1,lView[tNode.index]);if(8&tNodeType){const elIcuContainerChild=tNode.child;if(null!==elIcuContainerChild)return getFirstNativeNode(lView,elIcuContainerChild);{const rNodeOrLContainer=lView[tNode.index];return isLContainer(rNodeOrLContainer)?getBeforeNodeForView(-1,rNodeOrLContainer):unwrapRNode(rNodeOrLContainer)}}if(32&tNodeType)return icuContainerIterate(tNode,lView)()||unwrapRNode(lView[tNode.index]);{const projectionNodes=getProjectionNodes(lView,tNode);return null!==projectionNodes?Array.isArray(projectionNodes)?projectionNodes[0]:getFirstNativeNode(getLViewParent(lView[16]),projectionNodes):getFirstNativeNode(lView,tNode.next)}}return null}function getProjectionNodes(lView,tNode){return null!==tNode?lView[16][6].projection[tNode.projection]:null}function getBeforeNodeForView(viewIndexInContainer,lContainer){const nextViewIndex=10+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){const lView=lContainer[nextViewIndex],firstTNodeOfView=lView[1].firstChild;if(null!==firstTNodeOfView)return getFirstNativeNode(lView,firstTNodeOfView)}return lContainer[7]}function applyNodes(renderer,action,tNode,lView,parentRElement,beforeNode,isProjection){for(;null!=tNode;){const rawSlotValue=lView[tNode.index],tNodeType=tNode.type;if(isProjection&&0===action&&(rawSlotValue&&attachPatchData(unwrapRNode(rawSlotValue),lView),tNode.flags|=4),64!=(64&tNode.flags))if(8&tNodeType)applyNodes(renderer,action,tNode.child,lView,parentRElement,beforeNode,!1),applyToElementOrContainer(action,renderer,parentRElement,rawSlotValue,beforeNode);else if(32&tNodeType){const nextRNode=icuContainerIterate(tNode,lView);let rNode;for(;rNode=nextRNode();)applyToElementOrContainer(action,renderer,parentRElement,rNode,beforeNode);applyToElementOrContainer(action,renderer,parentRElement,rawSlotValue,beforeNode)}else 16&tNodeType?applyProjectionRecursive(renderer,action,lView,tNode,parentRElement,beforeNode):applyToElementOrContainer(action,renderer,parentRElement,rawSlotValue,beforeNode);tNode=isProjection?tNode.projectionNext:tNode.next}}function applyView(tView,lView,renderer,action,parentRElement,beforeNode){applyNodes(renderer,action,tView.firstChild,lView,parentRElement,beforeNode,!1)}function applyProjectionRecursive(renderer,action,lView,tProjectionNode,parentRElement,beforeNode){const componentLView=lView[16],nodeToProjectOrRNodes=componentLView[6].projection[tProjectionNode.projection];if(Array.isArray(nodeToProjectOrRNodes))for(let i=0;i<nodeToProjectOrRNodes.length;i++)applyToElementOrContainer(action,renderer,parentRElement,nodeToProjectOrRNodes[i],beforeNode);else applyNodes(renderer,action,nodeToProjectOrRNodes,componentLView[3],parentRElement,beforeNode,!0)}function writeDirectStyle(renderer,element,newValue){isProceduralRenderer(renderer)?renderer.setAttribute(element,"style",newValue):element.style.cssText=newValue}function writeDirectClass(renderer,element,newValue){isProceduralRenderer(renderer)?""===newValue?renderer.removeAttribute(element,"class"):renderer.setAttribute(element,"class",newValue):element.className=newValue}function classIndexOf(className,classToSearch,startingIndex){let end=className.length;for(;;){const foundIndex=className.indexOf(classToSearch,startingIndex);if(-1===foundIndex)return foundIndex;if(0===foundIndex||className.charCodeAt(foundIndex-1)<=32){const length=classToSearch.length;if(foundIndex+length===end||className.charCodeAt(foundIndex+length)<=32)return foundIndex}startingIndex=foundIndex+1}}function isCssClassMatching(attrs,cssClassToMatch,isProjectionMode){let i=0;for(;i<attrs.length;){let item=attrs[i++];if(isProjectionMode&&"class"===item){if(item=attrs[i],-1!==classIndexOf(item.toLowerCase(),cssClassToMatch,0))return!0}else if(1===item){for(;i<attrs.length&&"string"==typeof(item=attrs[i++]);)if(item.toLowerCase()===cssClassToMatch)return!0;return!1}}return!1}function isInlineTemplate(tNode){return 4===tNode.type&&"ng-template"!==tNode.value}function hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(4!==tNode.type||isProjectionMode?tNode.value:"ng-template")}function isNodeMatchingSelector(tNode,selector,isProjectionMode){let mode=4;const nodeAttrs=tNode.attrs||[],nameOnlyMarkerIdx=function(nodeAttrs){for(let i=0;i<nodeAttrs.length;i++)if(isNameOnlyAttributeMarker(nodeAttrs[i]))return i;return nodeAttrs.length}(nodeAttrs);let skipToNextSelector=!1;for(let i=0;i<selector.length;i++){const current=selector[i];if("number"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,""!==current&&!hasTagAndTypeMatch(tNode,current,isProjectionMode)||""===current&&1===selector.length){if(isPositive(mode))return!1;skipToNextSelector=!0}}else{const selectorAttrValue=8&mode?current:selector[++i];if(8&mode&&null!==tNode.attrs){if(!isCssClassMatching(tNode.attrs,selectorAttrValue,isProjectionMode)){if(isPositive(mode))return!1;skipToNextSelector=!0}continue}const attrIndexInNode=findAttrIndexInNode(8&mode?"class":current,nodeAttrs,isInlineTemplate(tNode),isProjectionMode);if(-1===attrIndexInNode){if(isPositive(mode))return!1;skipToNextSelector=!0;continue}if(""!==selectorAttrValue){let nodeAttrValue;nodeAttrValue=attrIndexInNode>nameOnlyMarkerIdx?"":nodeAttrs[attrIndexInNode+1].toLowerCase();const compareAgainstClassName=8&mode?nodeAttrValue:null;if(compareAgainstClassName&&-1!==classIndexOf(compareAgainstClassName,selectorAttrValue,0)||2&mode&&selectorAttrValue!==nodeAttrValue){if(isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!isPositive(mode)&&!isPositive(current))return!1;if(skipToNextSelector&&isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return isPositive(mode)||skipToNextSelector}function isPositive(mode){return 0==(1&mode)}function findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;let i=0;if(isProjectionMode||!isInlineTemplate){let bindingsMode=!1;for(;i<attrs.length;){const maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName||2===maybeAttrName){let value=attrs[++i];for(;"string"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function(attrs,name){let i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){const attr=attrs[i];if("number"==typeof attr)return-1;if(attr===name)return i;i++}return-1}(attrs,name)}function isNodeMatchingSelectorList(tNode,selector,isProjectionMode=!1){for(let i=0;i<selector.length;i++)if(isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}function isSelectorInSelectorList(selector,list){selectorListLoop:for(let i=0;i<list.length;i++){const currentSelectorInList=list[i];if(selector.length===currentSelectorInList.length){for(let j=0;j<selector.length;j++)if(selector[j]!==currentSelectorInList[j])continue selectorListLoop;return!0}}return!1}function maybeWrapInNotSelector(isNegativeMode,chunk){return isNegativeMode?":not("+chunk.trim()+")":chunk}function stringifyCSSSelector(selector){let result=selector[0],i=1,mode=2,currentChunk="",isNegativeMode=!1;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)if(2&mode){const attrValue=selector[++i];currentChunk+="["+valueOrMarker+(attrValue.length>0?'="'+attrValue+'"':"")+"]"}else 8&mode?currentChunk+="."+valueOrMarker:4&mode&&(currentChunk+=" "+valueOrMarker);else""===currentChunk||isPositive(valueOrMarker)||(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk),currentChunk=""),mode=valueOrMarker,isNegativeMode=isNegativeMode||!isPositive(mode);i++}return""!==currentChunk&&(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk)),result}const NO_CHANGE={};function advance(delta){selectIndexInternal(getTView(),getLView(),getSelectedIndex()+delta,isInCheckNoChangesMode())}function selectIndexInternal(tView,lView,index,checkNoChangesMode){if(!checkNoChangesMode)if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,index)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,index)}setSelectedIndex(index)}function toTStylingRange(prev,next){return prev<<17|next<<2}function getTStylingRangePrev(tStylingRange){return tStylingRange>>17&32767}function setTStylingRangePrevDuplicate(tStylingRange){return 2|tStylingRange}function getTStylingRangeNext(tStylingRange){return(131068&tStylingRange)>>2}function setTStylingRangeNext(tStylingRange,next){return-131069&tStylingRange|next<<2}function setTStylingRangeNextDuplicate(tStylingRange){return 1|tStylingRange}function refreshContentQueries(tView,lView){const contentQueries=tView.contentQueries;if(null!==contentQueries)for(let i=0;i<contentQueries.length;i+=2){const queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){const directiveDef=tView.data[directiveDefIdx];setCurrentQueryIndex(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}function createLView(parentLView,tView,context,flags,host,tHostNode,rendererFactory,renderer,sanitizer,injector){const lView=tView.blueprint.slice();return lView[0]=host,lView[2]=140|flags,resetPreOrderHookFlags(lView),lView[3]=lView[15]=parentLView,lView[8]=context,lView[10]=rendererFactory||parentLView&&parentLView[10],lView[11]=renderer||parentLView&&parentLView[11],lView[12]=sanitizer||parentLView&&parentLView[12]||null,lView[9]=injector||parentLView&&parentLView[9]||null,lView[6]=tHostNode,lView[16]=2==tView.type?parentLView[16]:lView,lView}function getOrCreateTNode(tView,index,type,name,attrs){let tNode=tView.data[index];if(null===tNode)tNode=function(tView,index,type,name,attrs){const currentTNode=getCurrentTNodePlaceholderOk(),isParent=isCurrentTNodeParent(),tNode=tView.data[index]=function(tView,tParent,type,index,value,attrs){return{type:type,index:index,insertBeforeIndex:null,injectorIndex:tParent?tParent.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:value,attrs:attrs,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,isParent?currentTNode:currentTNode&&currentTNode.parent,type,index,name,attrs);return null===tView.firstChild&&(tView.firstChild=tNode),null!==currentTNode&&(isParent?null==currentTNode.child&&null!==tNode.parent&&(currentTNode.child=tNode):null===currentTNode.next&&(currentTNode.next=tNode)),tNode}(tView,index,type,name,attrs),instructionState.lFrame.inI18n&&(tNode.flags|=64);else if(64&tNode.type){tNode.type=type,tNode.value=name,tNode.attrs=attrs;const parent=function(){const lFrame=instructionState.lFrame,currentTNode=lFrame.currentTNode;return lFrame.isParent?currentTNode:currentTNode.parent}();tNode.injectorIndex=null===parent?-1:parent.injectorIndex}return setCurrentTNode(tNode,!0),tNode}function allocExpando(tView,lView,numSlotsToAlloc,initialValue){if(0===numSlotsToAlloc)return-1;const allocIdx=lView.length;for(let i=0;i<numSlotsToAlloc;i++)lView.push(initialValue),tView.blueprint.push(initialValue),tView.data.push(null);return allocIdx}function renderView(tView,lView,context){enterView(lView);try{const viewQuery=tView.viewQuery;null!==viewQuery&&executeViewQueryFn(1,viewQuery,context);const templateFn=tView.template;null!==templateFn&&executeTemplate(tView,lView,templateFn,1,context),tView.firstCreatePass&&(tView.firstCreatePass=!1),tView.staticContentQueries&&refreshContentQueries(tView,lView),tView.staticViewQueries&&executeViewQueryFn(2,tView.viewQuery,context);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)renderComponent(hostLView,components[i])}(lView,components)}catch(error){throw tView.firstCreatePass&&(tView.incompleteFirstPass=!0),error}finally{lView[2]&=-5,leaveView()}}function refreshView(tView,lView,templateFn,context){const flags=lView[2];if(256==(256&flags))return;enterView(lView);const isInCheckNoChangesPass=isInCheckNoChangesMode();try{resetPreOrderHookFlags(lView),instructionState.lFrame.bindingIndex=tView.bindingStartIndex,null!==templateFn&&executeTemplate(tView,lView,templateFn,2,context);const hooksInitPhaseCompleted=3==(3&flags);if(!isInCheckNoChangesPass)if(hooksInitPhaseCompleted){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}if(function(lView){for(let lContainer=getFirstLContainer(lView);null!==lContainer;lContainer=getNextLContainer(lContainer)){if(!lContainer[2])continue;const movedViews=lContainer[9];for(let i=0;i<movedViews.length;i++){const movedLView=movedViews[i],insertionLContainer=movedLView[3];0==(1024&movedLView[2])&&updateTransplantedViewCount(insertionLContainer,1),movedLView[2]|=1024}}}(lView),function(lView){for(let lContainer=getFirstLContainer(lView);null!==lContainer;lContainer=getNextLContainer(lContainer))for(let i=10;i<lContainer.length;i++){const embeddedLView=lContainer[i],embeddedTView=embeddedLView[1];viewAttachedToChangeDetector(embeddedLView)&&refreshView(embeddedTView,embeddedLView,embeddedTView.template,embeddedLView[8])}}(lView),null!==tView.contentQueries&&refreshContentQueries(tView,lView),!isInCheckNoChangesPass)if(hooksInitPhaseCompleted){const contentCheckHooks=tView.contentCheckHooks;null!==contentCheckHooks&&executeCheckHooks(lView,contentCheckHooks)}else{const contentHooks=tView.contentHooks;null!==contentHooks&&executeInitAndCheckHooks(lView,contentHooks,1),incrementInitPhaseFlags(lView,1)}!function(tView,lView){const hostBindingOpCodes=tView.hostBindingOpCodes;if(null!==hostBindingOpCodes)try{for(let i=0;i<hostBindingOpCodes.length;i++){const opCode=hostBindingOpCodes[i];if(opCode<0)setSelectedIndex(~opCode);else{const directiveIdx=opCode,bindingRootIndx=hostBindingOpCodes[++i],hostBindingFn=hostBindingOpCodes[++i];setBindingRootForHostBindings(bindingRootIndx,directiveIdx),hostBindingFn(2,lView[directiveIdx])}}}finally{setSelectedIndex(-1)}}(tView,lView);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)refreshComponent(hostLView,components[i])}(lView,components);const viewQuery=tView.viewQuery;if(null!==viewQuery&&executeViewQueryFn(2,viewQuery,context),!isInCheckNoChangesPass)if(hooksInitPhaseCompleted){const viewCheckHooks=tView.viewCheckHooks;null!==viewCheckHooks&&executeCheckHooks(lView,viewCheckHooks)}else{const viewHooks=tView.viewHooks;null!==viewHooks&&executeInitAndCheckHooks(lView,viewHooks,2),incrementInitPhaseFlags(lView,2)}!0===tView.firstUpdatePass&&(tView.firstUpdatePass=!1),isInCheckNoChangesPass||(lView[2]&=-73),1024&lView[2]&&(lView[2]&=-1025,updateTransplantedViewCount(lView[3],-1))}finally{leaveView()}}function renderComponentOrTemplate(tView,lView,templateFn,context){const rendererFactory=lView[10],normalExecutionPath=!isInCheckNoChangesMode(),creationModeIsActive=isCreationMode(lView);try{normalExecutionPath&&!creationModeIsActive&&rendererFactory.begin&&rendererFactory.begin(),creationModeIsActive&&renderView(tView,lView,context),refreshView(tView,lView,templateFn,context)}finally{normalExecutionPath&&!creationModeIsActive&&rendererFactory.end&&rendererFactory.end()}}function executeTemplate(tView,lView,templateFn,rf,context){const prevSelectedIndex=getSelectedIndex();try{setSelectedIndex(-1),2&rf&&lView.length>20&&selectIndexInternal(tView,lView,20,isInCheckNoChangesMode()),templateFn(rf,context)}finally{setSelectedIndex(prevSelectedIndex)}}function executeContentQueries(tView,tNode,lView){if(isContentQueryHost(tNode)){const end=tNode.directiveEnd;for(let directiveIndex=tNode.directiveStart;directiveIndex<end;directiveIndex++){const def=tView.data[directiveIndex];def.contentQueries&&def.contentQueries(1,lView[directiveIndex],directiveIndex)}}}function createDirectivesInstances(tView,lView,tNode){getBindingsEnabled()&&(function(tView,lView,tNode,native){const start=tNode.directiveStart,end=tNode.directiveEnd;tView.firstCreatePass||getOrCreateNodeInjectorForNode(tNode,lView),attachPatchData(native,lView);const initialInputs=tNode.initialInputs;for(let i=start;i<end;i++){const def=tView.data[i],isComponent=isComponentDef(def);isComponent&&addComponentLogic(lView,tNode,def);const directive=getNodeInjectable(lView,tView,i,tNode);attachPatchData(directive,lView),null!==initialInputs&&setInputsFromAttrs(0,i-start,directive,def,0,initialInputs),isComponent&&(getComponentLViewByIndex(tNode.index,lView)[8]=directive)}}(tView,lView,tNode,getNativeByTNode(tNode,lView)),128==(128&tNode.flags)&&function(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,elementIndex=tNode.index,currentDirectiveIndex=instructionState.lFrame.currentDirectiveIndex;try{setSelectedIndex(elementIndex);for(let dirIndex=start;dirIndex<end;dirIndex++){const def=tView.data[dirIndex],directive=lView[dirIndex];setCurrentDirectiveIndex(dirIndex),null===def.hostBindings&&0===def.hostVars&&null===def.hostAttrs||invokeHostBindingsInCreationMode(def,directive)}}finally{setSelectedIndex(-1),setCurrentDirectiveIndex(currentDirectiveIndex)}}(tView,lView,tNode))}function saveResolvedLocalsInData(viewData,tNode,localRefExtractor=getNativeByTNode){const localNames=tNode.localNames;if(null!==localNames){let localIndex=tNode.index+1;for(let i=0;i<localNames.length;i+=2){const index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}}function getOrCreateTComponentView(def){const tView=def.tView;return null===tView||tView.incompleteFirstPass?def.tView=createTView(1,null,def.template,def.decls,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas,def.consts):tView}function createTView(type,declTNode,templateFn,decls,vars,directives,pipes,viewQuery,schemas,constsOrFactory){const bindingStartIndex=20+decls,initialViewLength=bindingStartIndex+vars,blueprint=function(bindingStartIndex,initialViewLength){const blueprint=[];for(let i=0;i<initialViewLength;i++)blueprint.push(i<bindingStartIndex?null:NO_CHANGE);return blueprint}(bindingStartIndex,initialViewLength),consts="function"==typeof constsOrFactory?constsOrFactory():constsOrFactory;return blueprint[1]={type:type,blueprint:blueprint,template:templateFn,queries:null,viewQuery:viewQuery,declTNode:declTNode,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex:bindingStartIndex,expandoStartIndex:initialViewLength,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof directives?directives():directives,pipeRegistry:"function"==typeof pipes?pipes():pipes,firstChild:null,schemas:schemas,consts:consts,incompleteFirstPass:!1}}function storeCleanupWithContext(tView,lView,context,cleanupFn){const lCleanup=getOrCreateLViewCleanup(lView);null===context?lCleanup.push(cleanupFn):(lCleanup.push(context),tView.firstCreatePass&&getOrCreateTViewCleanup(tView).push(cleanupFn,lCleanup.length-1))}function generatePropertyAliases(inputAliasMap,directiveDefIdx,propStore){for(let publicName in inputAliasMap)if(inputAliasMap.hasOwnProperty(publicName)){const internalName=inputAliasMap[publicName];(propStore=null===propStore?{}:propStore).hasOwnProperty(publicName)?propStore[publicName].push(directiveDefIdx,internalName):propStore[publicName]=[directiveDefIdx,internalName]}return propStore}function elementPropertyInternal(tView,tNode,lView,propName,value,renderer,sanitizer,nativeOnly){const element=getNativeByTNode(tNode,lView);let dataValue,inputData=tNode.inputs;var name;!nativeOnly&&null!=inputData&&(dataValue=inputData[propName])?(setInputsForProperty(tView,lView,dataValue,propName,value),isComponentHost(tNode)&&function(lView,viewIndex){const childComponentLView=getComponentLViewByIndex(viewIndex,lView);16&childComponentLView[2]||(childComponentLView[2]|=64)}(lView,tNode.index)):3&tNode.type&&(propName="class"===(name=propName)?"className":"for"===name?"htmlFor":"formaction"===name?"formAction":"innerHtml"===name?"innerHTML":"readonly"===name?"readOnly":"tabindex"===name?"tabIndex":name,value=null!=sanitizer?sanitizer(value,tNode.value||"",propName):value,isProceduralRenderer(renderer)?renderer.setProperty(element,propName,value):isAnimationProp(propName)||(element.setProperty?element.setProperty(propName,value):element[propName]=value))}function resolveDirectives(tView,lView,tNode,localRefs){let hasDirectives=!1;if(getBindingsEnabled()){const directiveDefs=function(tView,viewData,tNode){const registry=tView.directiveRegistry;let matches=null;if(registry)for(let i=0;i<registry.length;i++){const def=registry[i];isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches||(matches=[]),diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,viewData),tView,def.type),isComponentDef(def)?(markAsComponentHost(tView,tNode),matches.unshift(def)):matches.push(def))}return matches}(tView,lView,tNode),exportsMap=null===localRefs?null:{"":-1};if(null!==directiveDefs){hasDirectives=!0,initTNodeFlags(tNode,tView.data.length,directiveDefs.length);for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];def.providersResolver&&def.providersResolver(def)}let preOrderHooksFound=!1,preOrderCheckHooksFound=!1,directiveIdx=allocExpando(tView,lView,directiveDefs.length,null);for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,def.hostAttrs),configureViewWithDirective(tView,tNode,lView,directiveIdx,def),saveNameToExportMap(directiveIdx,def,exportsMap),null!==def.contentQueries&&(tNode.flags|=8),null===def.hostBindings&&null===def.hostAttrs&&0===def.hostVars||(tNode.flags|=128);const lifeCycleHooks=def.type.prototype;!preOrderHooksFound&&(lifeCycleHooks.ngOnChanges||lifeCycleHooks.ngOnInit||lifeCycleHooks.ngDoCheck)&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(tNode.index),preOrderHooksFound=!0),preOrderCheckHooksFound||!lifeCycleHooks.ngOnChanges&&!lifeCycleHooks.ngDoCheck||((tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(tNode.index),preOrderCheckHooksFound=!0),directiveIdx++}!function(tView,tNode){const end=tNode.directiveEnd,tViewData=tView.data,tNodeAttrs=tNode.attrs,inputsFromAttrs=[];let inputsStore=null,outputsStore=null;for(let i=tNode.directiveStart;i<end;i++){const directiveDef=tViewData[i],directiveInputs=directiveDef.inputs,initialInputs=null===tNodeAttrs||isInlineTemplate(tNode)?null:generateInitialInputs(directiveInputs,tNodeAttrs);inputsFromAttrs.push(initialInputs),inputsStore=generatePropertyAliases(directiveInputs,i,inputsStore),outputsStore=generatePropertyAliases(directiveDef.outputs,i,outputsStore)}null!==inputsStore&&(inputsStore.hasOwnProperty("class")&&(tNode.flags|=16),inputsStore.hasOwnProperty("style")&&(tNode.flags|=32)),tNode.initialInputs=inputsFromAttrs,tNode.inputs=inputsStore,tNode.outputs=outputsStore}(tView,tNode)}exportsMap&&function(tNode,localRefs,exportsMap){if(localRefs){const localNames=tNode.localNames=[];for(let i=0;i<localRefs.length;i+=2){const index=exportsMap[localRefs[i+1]];if(null==index)throw new RuntimeError("301",`Export of name '${localRefs[i+1]}' not found!`);localNames.push(localRefs[i],index)}}}(tNode,localRefs,exportsMap)}return tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs),hasDirectives}function registerHostBindingOpCodes(tView,tNode,lView,directiveIdx,directiveVarsIdx,def){const hostBindings=def.hostBindings;if(hostBindings){let hostBindingOpCodes=tView.hostBindingOpCodes;null===hostBindingOpCodes&&(hostBindingOpCodes=tView.hostBindingOpCodes=[]);const elementIndx=~tNode.index;(function(hostBindingOpCodes){let i=hostBindingOpCodes.length;for(;i>0;){const value=hostBindingOpCodes[--i];if("number"==typeof value&&value<0)return value}return 0})(hostBindingOpCodes)!=elementIndx&&hostBindingOpCodes.push(elementIndx),hostBindingOpCodes.push(directiveIdx,directiveVarsIdx,hostBindings)}}function invokeHostBindingsInCreationMode(def,directive){null!==def.hostBindings&&def.hostBindings(1,directive)}function markAsComponentHost(tView,hostTNode){hostTNode.flags|=2,(tView.components||(tView.components=[])).push(hostTNode.index)}function saveNameToExportMap(directiveIdx,def,exportsMap){if(exportsMap){if(def.exportAs)for(let i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=directiveIdx;isComponentDef(def)&&(exportsMap[""]=directiveIdx)}}function initTNodeFlags(tNode,index,numberOfDirectives){tNode.flags|=1,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}function configureViewWithDirective(tView,tNode,lView,directiveIndex,def){tView.data[directiveIndex]=def;const directiveFactory=def.factory||(def.factory=getFactoryDef(def.type)),nodeInjectorFactory=new NodeInjectorFactory(directiveFactory,isComponentDef(def),null);tView.blueprint[directiveIndex]=nodeInjectorFactory,lView[directiveIndex]=nodeInjectorFactory,registerHostBindingOpCodes(tView,tNode,0,directiveIndex,allocExpando(tView,lView,def.hostVars,NO_CHANGE),def)}function addComponentLogic(lView,hostTNode,def){const native=getNativeByTNode(hostTNode,lView),tView=getOrCreateTComponentView(def),rendererFactory=lView[10],componentView=addToViewTree(lView,createLView(lView,tView,null,def.onPush?64:16,native,hostTNode,rendererFactory,rendererFactory.createRenderer(native,def),null,null));lView[hostTNode.index]=componentView}function setInputsFromAttrs(lView,directiveIndex,instance,def,tNode,initialInputData){const initialInputs=initialInputData[directiveIndex];if(null!==initialInputs){const setInput=def.setInput;for(let i=0;i<initialInputs.length;){const publicName=initialInputs[i++],privateName=initialInputs[i++],value=initialInputs[i++];null!==setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}}function generateInitialInputs(inputs,attrs){let inputsToStore=null,i=0;for(;i<attrs.length;){const attrName=attrs[i];if(0!==attrName)if(5!==attrName){if("number"==typeof attrName)break;inputs.hasOwnProperty(attrName)&&(null===inputsToStore&&(inputsToStore=[]),inputsToStore.push(attrName,inputs[attrName],attrs[i+1])),i+=2}else i+=2;else i+=4}return inputsToStore}function createLContainer(hostNative,currentView,native,tNode){return new Array(hostNative,!0,!1,currentView,null,0,tNode,native,null,null)}function refreshComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView);if(viewAttachedToChangeDetector(componentView)){const tView=componentView[1];80&componentView[2]?refreshView(tView,componentView,tView.template,componentView[8]):componentView[5]>0&&refreshContainsDirtyView(componentView)}}function refreshContainsDirtyView(lView){for(let lContainer=getFirstLContainer(lView);null!==lContainer;lContainer=getNextLContainer(lContainer))for(let i=10;i<lContainer.length;i++){const embeddedLView=lContainer[i];if(1024&embeddedLView[2]){const embeddedTView=embeddedLView[1];refreshView(embeddedTView,embeddedLView,embeddedTView.template,embeddedLView[8])}else embeddedLView[5]>0&&refreshContainsDirtyView(embeddedLView)}const components=lView[1].components;if(null!==components)for(let i=0;i<components.length;i++){const componentView=getComponentLViewByIndex(components[i],lView);viewAttachedToChangeDetector(componentView)&&componentView[5]>0&&refreshContainsDirtyView(componentView)}}function renderComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView),componentTView=componentView[1];!function(tView,lView){for(let i=lView.length;i<tView.blueprint.length;i++)lView.push(tView.blueprint[i])}(componentTView,componentView),renderView(componentTView,componentView,componentView[8])}function addToViewTree(lView,lViewOrLContainer){return lView[13]?lView[14][4]=lViewOrLContainer:lView[13]=lViewOrLContainer,lView[14]=lViewOrLContainer,lViewOrLContainer}function markViewDirty(lView){for(;lView;){lView[2]|=64;const parent=getLViewParent(lView);if(0!=(512&lView[2])&&!parent)return lView;lView=parent}return null}function detectChangesInternal(tView,lView,context){const rendererFactory=lView[10];rendererFactory.begin&&rendererFactory.begin();try{refreshView(tView,lView,tView.template,context)}catch(error){throw handleError(lView,error),error}finally{rendererFactory.end&&rendererFactory.end()}}function detectChangesInRootView(lView){!function(rootContext){for(let i=0;i<rootContext.components.length;i++){const rootComponent=rootContext.components[i],lView=readPatchedLView(rootComponent),tView=lView[1];renderComponentOrTemplate(tView,lView,tView.template,rootComponent)}}(lView[8])}function executeViewQueryFn(flags,viewQueryFn,component){setCurrentQueryIndex(0),viewQueryFn(flags,component)}const CLEAN_PROMISE=(()=>Promise.resolve(null))();function getOrCreateLViewCleanup(view){return view[7]||(view[7]=[])}function getOrCreateTViewCleanup(tView){return tView.cleanup||(tView.cleanup=[])}function loadComponentRenderer(currentDef,tNode,lView){return(null===currentDef||isComponentDef(currentDef))&&(lView=function(value){for(;Array.isArray(value);){if("object"==typeof value[1])return value;value=value[0]}return null}(lView[tNode.index])),lView[11]}function handleError(lView,error){const injector=lView[9],errorHandler=injector?injector.get(ErrorHandler,null):null;errorHandler&&errorHandler.handleError(error)}function setInputsForProperty(tView,lView,inputs,publicName,value){for(let i=0;i<inputs.length;){const index=inputs[i++],privateName=inputs[i++],instance=lView[index],def=tView.data[index];null!==def.setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}function textBindingInternal(lView,index,value){const element=getNativeByIndex(index,lView);!function(renderer,rNode,value){isProceduralRenderer(renderer)?renderer.setValue(rNode,value):rNode.textContent=value}(lView[11],element,value)}function computeStaticStyling(tNode,attrs,writeToHost){let styles=writeToHost?tNode.styles:null,classes=writeToHost?tNode.classes:null,mode=0;if(null!==attrs)for(let i=0;i<attrs.length;i++){const value=attrs[i];"number"==typeof value?mode=value:1==mode?classes=concatStringsWithSpace(classes,value):2==mode&&(styles=concatStringsWithSpace(styles,value+": "+attrs[++i]+";"))}writeToHost?tNode.styles=styles:tNode.stylesWithoutHost=styles,writeToHost?tNode.classes=classes:tNode.classesWithoutHost=classes}const INJECTOR$1=new InjectionToken("INJECTOR",-1);class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name="NullInjectorError",error}return notFoundValue}}const INJECTOR_SCOPE=new InjectionToken("Set Injector scope."),NOT_YET={},CIRCULAR={},EMPTY_ARRAY$1=[];let NULL_INJECTOR;function getNullInjector(){return void 0===NULL_INJECTOR&&(NULL_INJECTOR=new NullInjector),NULL_INJECTOR}function createInjectorWithoutInjectorInstances(defType,parent=null,additionalProviders=null,name){return new R3Injector(defType,additionalProviders,parent||getNullInjector(),name)}class R3Injector{constructor(def,additionalProviders,parent,source=null){this.parent=parent,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const dedupStack=[];additionalProviders&&deepForEach(additionalProviders,provider=>this.processProvider(provider,def,additionalProviders)),deepForEach([def],injectorDef=>this.processInjectorType(injectorDef,[],dedupStack)),this.records.set(INJECTOR$1,makeRecord(void 0,this));const record=this.records.get(INJECTOR_SCOPE);this.scope=null!=record?record.value:null,this.source=source||("object"==typeof def?null:stringify(def))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(service=>service.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(token,notFoundValue=THROW_IF_NOT_FOUND,flags=InjectFlags.Default){this.assertNotDestroyed();const previousInjector=setCurrentInjector(this);try{if(!(flags&InjectFlags.SkipSelf)){let record=this.records.get(token);if(void 0===record){const def=("function"==typeof(value=token)||"object"==typeof value&&value instanceof InjectionToken)&&getInjectableDef(token);record=def&&this.injectableDefInScope(def)?makeRecord(injectableDefOrInjectorDefFactory(token),NOT_YET):null,this.records.set(token,record)}if(null!=record)return this.hydrate(token,record)}return(flags&InjectFlags.Self?getNullInjector():this.parent).get(token,notFoundValue=flags&InjectFlags.Optional&&notFoundValue===THROW_IF_NOT_FOUND?null:notFoundValue)}catch(e){if("NullInjectorError"===e.name){if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(stringify(token)),previousInjector)throw e;return function(e,token,injectorErrorName,source){const tokenPath=e.ngTempTokenPath;throw token.__source&&tokenPath.unshift(token.__source),e.message=function(text,obj,injectorErrorName,source=null){text=text&&"\n"===text.charAt(0)&&""==text.charAt(1)?text.substr(2):text;let context=stringify(obj);if(Array.isArray(obj))context=obj.map(stringify).join(" -> ");else if("object"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+":"+("string"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(", ")}}`}return`${injectorErrorName}${source?"("+source+")":""}[${context}]: ${text.replace(NEW_LINE,"\n  ")}`}("\n"+e.message,tokenPath,injectorErrorName,source),e.ngTokenPath=tokenPath,e.ngTempTokenPath=null,e}(e,token,"R3InjectorError",this.source)}throw e}finally{setCurrentInjector(previousInjector)}var value}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(defType=>this.get(defType))}toString(){const tokens=[];return this.records.forEach((v,token)=>tokens.push(stringify(token))),`R3Injector[${tokens.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(defOrWrappedDef,parents,dedupStack){if(!(defOrWrappedDef=resolveForwardRef(defOrWrappedDef)))return!1;let def=getInjectorDef(defOrWrappedDef);const ngModule=null==def&&defOrWrappedDef.ngModule||void 0,defType=void 0===ngModule?defOrWrappedDef:ngModule,isDuplicate=-1!==dedupStack.indexOf(defType);if(void 0!==ngModule&&(def=getInjectorDef(ngModule)),null==def)return!1;if(null!=def.imports&&!isDuplicate){let importTypesWithProviders;dedupStack.push(defType);try{deepForEach(def.imports,imported=>{this.processInjectorType(imported,parents,dedupStack)&&(void 0===importTypesWithProviders&&(importTypesWithProviders=[]),importTypesWithProviders.push(imported))})}finally{}if(void 0!==importTypesWithProviders)for(let i=0;i<importTypesWithProviders.length;i++){const{ngModule:ngModule,providers:providers}=importTypesWithProviders[i];deepForEach(providers,provider=>this.processProvider(provider,ngModule,providers||EMPTY_ARRAY$1))}}this.injectorDefTypes.add(defType),this.records.set(defType,makeRecord(def.factory,NOT_YET));const defProviders=def.providers;if(null!=defProviders&&!isDuplicate){const injectorType=defOrWrappedDef;deepForEach(defProviders,provider=>this.processProvider(provider,injectorType,defProviders))}return void 0!==ngModule&&void 0!==defOrWrappedDef.providers}processProvider(provider,ngModuleType,providers){let token=isTypeProvider(provider=resolveForwardRef(provider))?provider:resolveForwardRef(provider&&provider.provide);const record=function(provider,ngModuleType,providers){return isValueProvider(provider)?makeRecord(void 0,provider.useValue):makeRecord(providerToFactory(provider),NOT_YET)}(provider);if(isTypeProvider(provider)||!0!==provider.multi)this.records.get(token);else{let multiRecord=this.records.get(token);multiRecord||(multiRecord=makeRecord(void 0,NOT_YET,!0),multiRecord.factory=()=>injectArgs(multiRecord.multi),this.records.set(token,multiRecord)),token=provider,multiRecord.multi.push(provider)}this.records.set(token,record)}hydrate(token,record){var value;return record.value===NOT_YET&&(record.value=CIRCULAR,record.value=record.factory()),"object"==typeof record.value&&record.value&&null!==(value=record.value)&&"object"==typeof value&&"function"==typeof value.ngOnDestroy&&this.onDestroy.add(record.value),record.value}injectableDefInScope(def){return!!def.providedIn&&("string"==typeof def.providedIn?"any"===def.providedIn||def.providedIn===this.scope:this.injectorDefTypes.has(def.providedIn))}}function injectableDefOrInjectorDefFactory(token){const injectableDef=getInjectableDef(token),factory=null!==injectableDef?injectableDef.factory:getFactoryDef(token);if(null!==factory)return factory;const injectorDef=getInjectorDef(token);if(null!==injectorDef)return injectorDef.factory;if(token instanceof InjectionToken)throw new Error(`Token ${stringify(token)} is missing a prov definition.`);if(token instanceof Function)return function(token){const paramLength=token.length;if(paramLength>0){const args=newArray(paramLength,"?");throw new Error(`Can't resolve all parameters for ${stringify(token)}: (${args.join(", ")}).`)}const inheritedInjectableDef=function(type){const def=type&&(type[NG_PROV_DEF]||type[NG_INJECTABLE_DEF]);if(def){const typeName=function(type){if(type.hasOwnProperty("name"))return type.name;const match=(""+type).match(/^function\s*([^\s(]+)/);return null===match?"":match[1]}(type);return console.warn(`DEPRECATED: DI is instantiating a token "${typeName}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${typeName}" class.`),def}return null}(token);return null!==inheritedInjectableDef?()=>inheritedInjectableDef.factory(token):()=>new token}(token);throw new Error("unreachable")}function providerToFactory(provider,ngModuleType,providers){let factory;if(isTypeProvider(provider)){const unwrappedProvider=resolveForwardRef(provider);return getFactoryDef(unwrappedProvider)||injectableDefOrInjectorDefFactory(unwrappedProvider)}if(isValueProvider(provider))factory=()=>resolveForwardRef(provider.useValue);else if((value=provider)&&value.useFactory)factory=()=>provider.useFactory(...injectArgs(provider.deps||[]));else if(function(value){return!(!value||!value.useExisting)}(provider))factory=()=>inject(resolveForwardRef(provider.useExisting));else{const classRef=resolveForwardRef(provider&&(provider.useClass||provider.provide));if(!function(value){return!!value.deps}(provider))return getFactoryDef(classRef)||injectableDefOrInjectorDefFactory(classRef);factory=()=>new classRef(...injectArgs(provider.deps))}var value;return factory}function makeRecord(factory,value,multi=!1){return{factory:factory,value:value,multi:multi?[]:void 0}}function isValueProvider(value){return null!==value&&"object"==typeof value&&USE_VALUE in value}function isTypeProvider(value){return"function"==typeof value}const INJECTOR_IMPL=function(providers,parent,name){return function(defType,parent=null,additionalProviders=null,name){const injector=createInjectorWithoutInjectorInstances(defType,parent,additionalProviders,name);return injector._resolveInjectorDefTypes(),injector}({name:name},parent,providers,name)};let Injector=(()=>{class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,""):INJECTOR_IMPL(options.providers,options.parent,options.name||"")}}return Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.prov=defineInjectable({token:Injector,providedIn:"any",factory:()=>inject(INJECTOR$1)}),Injector.__NG_ELEMENT_ID__=-1,Injector})();function LifecycleHooksFeature(component,def){registerPostOrderHooks(readPatchedLView(component)[1],getCurrentTNode())}function InheritDefinitionFeature(definition){let superType=Object.getPrototypeOf(definition.type.prototype).constructor,shouldInheritFields=!0;const inheritanceChain=[definition];for(;superType;){let superDef;if(isComponentDef(definition))superDef=superType.cmp||superType.dir;else{if(superType.cmp)throw new Error("Directives cannot inherit Components");superDef=superType.dir}if(superDef){if(shouldInheritFields){inheritanceChain.push(superDef);const writeableDef=definition;writeableDef.inputs=maybeUnwrapEmpty(definition.inputs),writeableDef.declaredInputs=maybeUnwrapEmpty(definition.declaredInputs),writeableDef.outputs=maybeUnwrapEmpty(definition.outputs);const superHostBindings=superDef.hostBindings;superHostBindings&&inheritHostBindings(definition,superHostBindings);const superViewQuery=superDef.viewQuery,superContentQueries=superDef.contentQueries;if(superViewQuery&&inheritViewQuery(definition,superViewQuery),superContentQueries&&inheritContentQueries(definition,superContentQueries),fillProperties(definition.inputs,superDef.inputs),fillProperties(definition.declaredInputs,superDef.declaredInputs),fillProperties(definition.outputs,superDef.outputs),isComponentDef(superDef)&&superDef.data.animation){const defData=definition.data;defData.animation=(defData.animation||[]).concat(superDef.data.animation)}}const features=superDef.features;if(features)for(let i=0;i<features.length;i++){const feature=features[i];feature&&feature.ngInherit&&feature(definition),feature===InheritDefinitionFeature&&(shouldInheritFields=!1)}}superType=Object.getPrototypeOf(superType)}!function(inheritanceChain){let hostVars=0,hostAttrs=null;for(let i=inheritanceChain.length-1;i>=0;i--){const def=inheritanceChain[i];def.hostVars=hostVars+=def.hostVars,def.hostAttrs=mergeHostAttrs(def.hostAttrs,hostAttrs=mergeHostAttrs(hostAttrs,def.hostAttrs))}}(inheritanceChain)}function maybeUnwrapEmpty(value){return value===EMPTY_OBJ?{}:value===EMPTY_ARRAY?[]:value}function inheritViewQuery(definition,superViewQuery){const prevViewQuery=definition.viewQuery;definition.viewQuery=prevViewQuery?(rf,ctx)=>{superViewQuery(rf,ctx),prevViewQuery(rf,ctx)}:superViewQuery}function inheritContentQueries(definition,superContentQueries){const prevContentQueries=definition.contentQueries;definition.contentQueries=prevContentQueries?(rf,ctx,directiveIndex)=>{superContentQueries(rf,ctx,directiveIndex),prevContentQueries(rf,ctx,directiveIndex)}:superContentQueries}function inheritHostBindings(definition,superHostBindings){const prevHostBindings=definition.hostBindings;definition.hostBindings=prevHostBindings?(rf,ctx)=>{superHostBindings(rf,ctx),prevHostBindings(rf,ctx)}:superHostBindings}let _symbolIterator=null;function core_getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}class WrappedValue{constructor(value){this.wrapped=value}static wrap(value){return new WrappedValue(value)}static unwrap(value){return WrappedValue.isWrapped(value)?value.wrapped:value}static isWrapped(value){return value instanceof WrappedValue}}function isListLikeIterable(obj){return!!isJsObject(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&core_getSymbolIterator()in obj)}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function updateBinding(lView,bindingIndex,value){return lView[bindingIndex]=value}function bindingUpdated(lView,bindingIndex,value){return!Object.is(lView[bindingIndex],value)&&(lView[bindingIndex]=value,!0)}function attribute(name,value,sanitizer,namespace){const lView=getLView();return bindingUpdated(lView,nextBindingIndex(),value)&&(getTView(),function(tNode,lView,name,value,sanitizer,namespace){const element=getNativeByTNode(tNode,lView);!function(renderer,element,namespace,tagName,name,value,sanitizer){if(null==value)isProceduralRenderer(renderer)?renderer.removeAttribute(element,name,namespace):element.removeAttribute(name);else{const strValue=null==sanitizer?renderStringify(value):sanitizer(value,tagName||"",name);isProceduralRenderer(renderer)?renderer.setAttribute(element,name,strValue,namespace):namespace?element.setAttributeNS(namespace,name,strValue):element.setAttribute(name,strValue)}}(lView[11],element,namespace,tNode.value,name,value,sanitizer)}(getSelectedTNode(),lView,name,value,sanitizer,namespace)),attribute}function interpolation1(lView,prefix,v0,suffix){return bindingUpdated(lView,nextBindingIndex(),v0)?prefix+renderStringify(v0)+suffix:NO_CHANGE}function template(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){const lView=getLView(),tView=getTView(),adjustedIndex=index+20,tNode=tView.firstCreatePass?function(index,tView,lView,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,tNode=getOrCreateTNode(tView,index,4,tagName||null,getConstant(tViewConsts,attrsIndex));resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),registerPostOrderHooks(tView,tNode);const embeddedTView=tNode.tViews=createTView(2,tNode,templateFn,decls,vars,tView.directiveRegistry,tView.pipeRegistry,null,tView.schemas,tViewConsts);return null!==tView.queries&&(tView.queries.template(tView,tNode),embeddedTView.queries=tView.queries.embeddedTView(tNode)),tNode}(adjustedIndex,tView,lView,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setCurrentTNode(tNode,!1);const comment=lView[11].createComment("");appendChild(tView,lView,comment,tNode),attachPatchData(comment,lView),addToViewTree(lView,lView[adjustedIndex]=createLContainer(comment,lView,comment,tNode)),isDirectiveHost(tNode)&&createDirectivesInstances(tView,lView,tNode),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode,localRefExtractor)}function reference(index){return load(instructionState.lFrame.contextLView,20+index)}function directiveInject(token,flags=InjectFlags.Default){const lView=getLView();return null===lView?inject(token,flags):getOrCreateInjectable(getCurrentTNode(),lView,resolveForwardRef(token),flags)}function property(propName,value,sanitizer){const lView=getLView();return bindingUpdated(lView,nextBindingIndex(),value)&&elementPropertyInternal(getTView(),getSelectedTNode(),lView,propName,value,lView[11],sanitizer,!1),property}function setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased){const property=isClassBased?"class":"style";setInputsForProperty(tView,lView,tNode.inputs[property],property,value)}function elementStart(index,name,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=20+index,renderer=lView[11],native=lView[adjustedIndex]=createElementNode(renderer,name,instructionState.lFrame.currentNamespace),tNode=tView.firstCreatePass?function(index,tView,lView,native,name,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,tNode=getOrCreateTNode(tView,index,2,name,getConstant(tViewConsts,attrsIndex));return resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),null!==tNode.attrs&&computeStaticStyling(tNode,tNode.attrs,!1),null!==tNode.mergedAttrs&&computeStaticStyling(tNode,tNode.mergedAttrs,!0),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}(adjustedIndex,tView,lView,0,name,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setCurrentTNode(tNode,!0);const mergedAttrs=tNode.mergedAttrs;null!==mergedAttrs&&setUpAttributes(renderer,native,mergedAttrs);const classes=tNode.classes;null!==classes&&writeDirectClass(renderer,native,classes);const styles=tNode.styles;null!==styles&&writeDirectStyle(renderer,native,styles),64!=(64&tNode.flags)&&appendChild(tView,lView,native,tNode),0===instructionState.lFrame.elementDepthCount&&attachPatchData(native,lView),instructionState.lFrame.elementDepthCount++,isDirectiveHost(tNode)&&(createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)),null!==localRefsIndex&&saveResolvedLocalsInData(lView,tNode)}function elementEnd(){let currentTNode=getCurrentTNode();isCurrentTNodeParent()?setCurrentTNodeAsNotParent():(currentTNode=currentTNode.parent,setCurrentTNode(currentTNode,!1));const tNode=currentTNode;instructionState.lFrame.elementDepthCount--;const tView=getTView();tView.firstCreatePass&&(registerPostOrderHooks(tView,currentTNode),isContentQueryHost(currentTNode)&&tView.queries.elementEnd(currentTNode)),null!=tNode.classesWithoutHost&&function(tNode){return 0!=(16&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.classesWithoutHost,!0),null!=tNode.stylesWithoutHost&&function(tNode){return 0!=(32&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.stylesWithoutHost,!1)}function element(index,name,attrsIndex,localRefsIndex){elementStart(index,name,attrsIndex,localRefsIndex),elementEnd()}function elementContainerStart(index,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=index+20,tNode=tView.firstCreatePass?function(index,tView,lView,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=getConstant(tViewConsts,attrsIndex),tNode=getOrCreateTNode(tView,index,8,"ng-container",attrs);return null!==attrs&&computeStaticStyling(tNode,attrs,!0),resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}(adjustedIndex,tView,lView,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setCurrentTNode(tNode,!0);const native=lView[adjustedIndex]=lView[11].createComment("");appendChild(tView,lView,native,tNode),attachPatchData(native,lView),isDirectiveHost(tNode)&&(createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode)}function elementContainerEnd(){let currentTNode=getCurrentTNode();const tView=getTView();isCurrentTNodeParent()?setCurrentTNodeAsNotParent():(currentTNode=currentTNode.parent,setCurrentTNode(currentTNode,!1)),tView.firstCreatePass&&(registerPostOrderHooks(tView,currentTNode),isContentQueryHost(currentTNode)&&tView.queries.elementEnd(currentTNode))}function getCurrentView(){return getLView()}function core_isPromise(obj){return!!obj&&"function"==typeof obj.then}function isSubscribable(obj){return!!obj&&"function"==typeof obj.subscribe}const isObservable=isSubscribable;function listener(eventName,listenerFn,useCapture=!1,eventTargetResolver){const lView=getLView(),tView=getTView(),tNode=getCurrentTNode();return listenerInternal(tView,lView,lView[11],tNode,eventName,listenerFn,useCapture,eventTargetResolver),listener}function syntheticHostListener(eventName,listenerFn,useCapture=!1,eventTargetResolver){const tNode=getCurrentTNode(),lView=getLView(),tView=getTView();return listenerInternal(tView,lView,loadComponentRenderer(getCurrentDirectiveDef(tView.data),tNode,lView),tNode,eventName,listenerFn,useCapture,eventTargetResolver),syntheticHostListener}function listenerInternal(tView,lView,renderer,tNode,eventName,listenerFn,useCapture=!1,eventTargetResolver){const isTNodeDirectiveHost=isDirectiveHost(tNode),tCleanup=tView.firstCreatePass&&getOrCreateTViewCleanup(tView),lCleanup=getOrCreateLViewCleanup(lView);let processOutputs=!0;if(3&tNode.type){const native=getNativeByTNode(tNode,lView),resolved=eventTargetResolver?eventTargetResolver(native):EMPTY_OBJ,target=resolved.target||native,lCleanupIndex=lCleanup.length,idxOrTargetGetter=eventTargetResolver?_lView=>eventTargetResolver(unwrapRNode(_lView[tNode.index])).target:tNode.index;if(isProceduralRenderer(renderer)){let existingListener=null;if(!eventTargetResolver&&isTNodeDirectiveHost&&(existingListener=function(tView,lView,eventName,tNodeIdx){const tCleanup=tView.cleanup;if(null!=tCleanup)for(let i=0;i<tCleanup.length-1;i+=2){const cleanupEventName=tCleanup[i];if(cleanupEventName===eventName&&tCleanup[i+1]===tNodeIdx){const lCleanup=lView[7],listenerIdxInLCleanup=tCleanup[i+2];return lCleanup.length>listenerIdxInLCleanup?lCleanup[listenerIdxInLCleanup]:null}"string"==typeof cleanupEventName&&(i+=2)}return null}(tView,lView,eventName,tNode.index)),null!==existingListener)(existingListener.__ngLastListenerFn__||existingListener).__ngNextListenerFn__=listenerFn,existingListener.__ngLastListenerFn__=listenerFn,processOutputs=!1;else{listenerFn=wrapListener(tNode,lView,listenerFn,!1);const cleanupFn=renderer.listen(resolved.name||target,eventName,listenerFn);lCleanup.push(listenerFn,cleanupFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,lCleanupIndex+1)}}else listenerFn=wrapListener(tNode,lView,listenerFn,!0),target.addEventListener(eventName,listenerFn,useCapture),lCleanup.push(listenerFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,useCapture)}else listenerFn=wrapListener(tNode,lView,listenerFn,!1);const outputs=tNode.outputs;let props;if(processOutputs&&null!==outputs&&(props=outputs[eventName])){const propsLength=props.length;if(propsLength)for(let i=0;i<propsLength;i+=2){const subscription=lView[props[i]][props[i+1]].subscribe(listenerFn),idx=lCleanup.length;lCleanup.push(listenerFn,subscription),tCleanup&&tCleanup.push(eventName,tNode.index,idx,-(idx+1))}}}function executeListenerWithErrorHandling(lView,listenerFn,e){try{return!1!==listenerFn(e)}catch(error){return handleError(lView,error),!1}}function wrapListener(tNode,lView,listenerFn,wrapWithPreventDefault){return function wrapListenerIn_markDirtyAndPreventDefault(e){if(e===Function)return listenerFn;const startView=2&tNode.flags?getComponentLViewByIndex(tNode.index,lView):lView;0==(32&lView[2])&&markViewDirty(startView);let result=executeListenerWithErrorHandling(lView,listenerFn,e),nextListenerFn=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;for(;nextListenerFn;)result=executeListenerWithErrorHandling(lView,nextListenerFn,e)&&result,nextListenerFn=nextListenerFn.__ngNextListenerFn__;return wrapWithPreventDefault&&!1===result&&(e.preventDefault(),e.returnValue=!1),result}}function nextContext(level=1){return function(level){return(instructionState.lFrame.contextLView=function(nestingLevel,currentView){for(;nestingLevel>0;)currentView=currentView[15],nestingLevel--;return currentView}(level,instructionState.lFrame.contextLView))[8]}(level)}function matchingProjectionSlotIndex(tNode,projectionSlots){let wildcardNgContentIndex=null;const ngProjectAsAttrVal=function(tNode){const nodeAttrs=tNode.attrs;if(null!=nodeAttrs){const ngProjectAsAttrIdx=nodeAttrs.indexOf(5);if(0==(1&ngProjectAsAttrIdx))return nodeAttrs[ngProjectAsAttrIdx+1]}return null}(tNode);for(let i=0;i<projectionSlots.length;i++){const slotValue=projectionSlots[i];if("*"!==slotValue){if(null===ngProjectAsAttrVal?isNodeMatchingSelectorList(tNode,slotValue,!0):isSelectorInSelectorList(ngProjectAsAttrVal,slotValue))return i}else wildcardNgContentIndex=i}return wildcardNgContentIndex}function projectionDef(projectionSlots){const componentNode=getLView()[16][6];if(!componentNode.projection){const projectionHeads=componentNode.projection=newArray(projectionSlots?projectionSlots.length:1,null),tails=projectionHeads.slice();let componentChild=componentNode.child;for(;null!==componentChild;){const slotIndex=projectionSlots?matchingProjectionSlotIndex(componentChild,projectionSlots):0;null!==slotIndex&&(tails[slotIndex]?tails[slotIndex].projectionNext=componentChild:projectionHeads[slotIndex]=componentChild,tails[slotIndex]=componentChild),componentChild=componentChild.next}}}function projection(nodeIndex,selectorIndex=0,attrs){const lView=getLView(),tView=getTView(),tProjectionNode=getOrCreateTNode(tView,20+nodeIndex,16,null,attrs||null);null===tProjectionNode.projection&&(tProjectionNode.projection=selectorIndex),setCurrentTNodeAsNotParent(),64!=(64&tProjectionNode.flags)&&function(tView,lView,tProjectionNode){applyProjectionRecursive(lView[11],0,lView,tProjectionNode,getParentRElement(tView,tProjectionNode,lView),getInsertInFrontOfRNode(tProjectionNode.parent||lView[6],tProjectionNode,lView))}(tView,lView,tProjectionNode)}function propertyInterpolate(propName,v0,sanitizer){return propertyInterpolate1(propName,"",v0,"",sanitizer),propertyInterpolate}function propertyInterpolate1(propName,prefix,v0,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation1(lView,prefix,v0,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(getTView(),getSelectedTNode(),lView,propName,interpolatedValue,lView[11],sanitizer,!1),propertyInterpolate1}const EMPTY_ARRAY$3=[];function markDuplicates(tData,tStylingKey,index,isPrevDir,isClassBinding){const tStylingAtIndex=tData[index+1],isMap=null===tStylingKey;let cursor=isPrevDir?getTStylingRangePrev(tStylingAtIndex):getTStylingRangeNext(tStylingAtIndex),foundDuplicate=!1;for(;0!==cursor&&(!1===foundDuplicate||isMap);){const tStyleRangeAtCursor=tData[cursor+1];isStylingMatch(tData[cursor],tStylingKey)&&(foundDuplicate=!0,tData[cursor+1]=isPrevDir?setTStylingRangeNextDuplicate(tStyleRangeAtCursor):setTStylingRangePrevDuplicate(tStyleRangeAtCursor)),cursor=isPrevDir?getTStylingRangePrev(tStyleRangeAtCursor):getTStylingRangeNext(tStyleRangeAtCursor)}foundDuplicate&&(tData[index+1]=isPrevDir?setTStylingRangePrevDuplicate(tStylingAtIndex):setTStylingRangeNextDuplicate(tStylingAtIndex))}function isStylingMatch(tStylingKeyCursor,tStylingKey){return null===tStylingKeyCursor||null==tStylingKey||(Array.isArray(tStylingKeyCursor)?tStylingKeyCursor[1]:tStylingKeyCursor)===tStylingKey||!(!Array.isArray(tStylingKeyCursor)||"string"!=typeof tStylingKey)&&keyValueArrayIndexOf(tStylingKeyCursor,tStylingKey)>=0}const parserState={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function getLastParsedKey(text){return text.substring(parserState.key,parserState.keyEnd)}function parseClassNameNext(text,index){const end=parserState.textEnd;return end===index?-1:(index=parserState.keyEnd=function(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)>32;)startIndex++;return startIndex}(text,parserState.key=index,end),consumeWhitespace(text,index,end))}function consumeWhitespace(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)<=32;)startIndex++;return startIndex}function styleProp(prop,value,suffix){return checkStylingProperty(prop,value,suffix,!1),styleProp}function classProp(className,value){return checkStylingProperty(className,value,null,!0),classProp}function classStringParser(keyValueArray,text){for(let i=function(text){return function(text){parserState.key=0,parserState.keyEnd=0,parserState.value=0,parserState.valueEnd=0,parserState.textEnd=text.length}(text),parseClassNameNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseClassNameNext(text,i))keyValueArraySet(keyValueArray,getLastParsedKey(text),!0)}function checkStylingProperty(prop,value,suffix,isClassBased){const lView=getLView(),tView=getTView(),bindingIndex=incrementBindingIndex(2);tView.firstUpdatePass&&stylingFirstUpdatePass(tView,prop,bindingIndex,isClassBased),value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)&&updateStyling(tView,tView.data[getSelectedIndex()],lView,lView[11],prop,lView[bindingIndex+1]=function(value,suffix){return null==value||("string"==typeof suffix?value+=suffix:"object"==typeof value&&(value=stringify(unwrapSafeValue(value)))),value}(value,suffix),isClassBased,bindingIndex)}function isInHostBindings(tView,bindingIndex){return bindingIndex>=tView.expandoStartIndex}function stylingFirstUpdatePass(tView,tStylingKey,bindingIndex,isClassBased){const tData=tView.data;if(null===tData[bindingIndex+1]){const tNode=tData[getSelectedIndex()],isHostBindings=isInHostBindings(tView,bindingIndex);hasStylingInputShadow(tNode,isClassBased)&&null===tStylingKey&&!isHostBindings&&(tStylingKey=!1),tStylingKey=function(tData,tNode,stylingKey,isClassBased){const hostDirectiveDef=getCurrentDirectiveDef(tData);let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;if(null===hostDirectiveDef)0===(isClassBased?tNode.classBindings:tNode.styleBindings)&&(stylingKey=collectStylingFromTAttrs(stylingKey=collectStylingFromDirectives(null,tData,tNode,stylingKey,isClassBased),tNode.attrs,isClassBased),residual=null);else{const directiveStylingLast=tNode.directiveStylingLast;if(-1===directiveStylingLast||tData[directiveStylingLast]!==hostDirectiveDef)if(stylingKey=collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased),null===residual){let templateStylingKey=function(tData,tNode,isClassBased){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;if(0!==getTStylingRangeNext(bindings))return tData[getTStylingRangePrev(bindings)]}(tData,tNode,isClassBased);void 0!==templateStylingKey&&Array.isArray(templateStylingKey)&&(templateStylingKey=collectStylingFromDirectives(null,tData,tNode,templateStylingKey[1],isClassBased),templateStylingKey=collectStylingFromTAttrs(templateStylingKey,tNode.attrs,isClassBased),function(tData,tNode,isClassBased,tStylingKey){tData[getTStylingRangePrev(isClassBased?tNode.classBindings:tNode.styleBindings)]=tStylingKey}(tData,tNode,isClassBased,templateStylingKey))}else residual=function(tData,tNode,isClassBased){let residual;const directiveEnd=tNode.directiveEnd;for(let i=1+tNode.directiveStylingLast;i<directiveEnd;i++)residual=collectStylingFromTAttrs(residual,tData[i].hostAttrs,isClassBased);return collectStylingFromTAttrs(residual,tNode.attrs,isClassBased)}(tData,tNode,isClassBased)}return void 0!==residual&&(isClassBased?tNode.residualClasses=residual:tNode.residualStyles=residual),stylingKey}(tData,tNode,tStylingKey,isClassBased),function(tData,tNode,tStylingKeyWithStatic,index,isHostBinding,isClassBinding){let tBindings=isClassBinding?tNode.classBindings:tNode.styleBindings,tmplHead=getTStylingRangePrev(tBindings),tmplTail=getTStylingRangeNext(tBindings);tData[index]=tStylingKeyWithStatic;let tStylingKey,isKeyDuplicateOfStatic=!1;if(Array.isArray(tStylingKeyWithStatic)){const staticKeyValueArray=tStylingKeyWithStatic;tStylingKey=staticKeyValueArray[1],(null===tStylingKey||keyValueArrayIndexOf(staticKeyValueArray,tStylingKey)>0)&&(isKeyDuplicateOfStatic=!0)}else tStylingKey=tStylingKeyWithStatic;if(isHostBinding)if(0!==tmplTail){const previousNode=getTStylingRangePrev(tData[tmplHead+1]);tData[index+1]=toTStylingRange(previousNode,tmplHead),0!==previousNode&&(tData[previousNode+1]=setTStylingRangeNext(tData[previousNode+1],index)),tData[tmplHead+1]=131071&tData[tmplHead+1]|index<<17}else tData[index+1]=toTStylingRange(tmplHead,0),0!==tmplHead&&(tData[tmplHead+1]=setTStylingRangeNext(tData[tmplHead+1],index)),tmplHead=index;else tData[index+1]=toTStylingRange(tmplTail,0),0===tmplHead?tmplHead=index:tData[tmplTail+1]=setTStylingRangeNext(tData[tmplTail+1],index),tmplTail=index;isKeyDuplicateOfStatic&&(tData[index+1]=setTStylingRangePrevDuplicate(tData[index+1])),markDuplicates(tData,tStylingKey,index,!0),markDuplicates(tData,tStylingKey,index,!1),function(tNode,tStylingKey,tData,index,isClassBinding){const residual=isClassBinding?tNode.residualClasses:tNode.residualStyles;null!=residual&&"string"==typeof tStylingKey&&keyValueArrayIndexOf(residual,tStylingKey)>=0&&(tData[index+1]=setTStylingRangeNextDuplicate(tData[index+1]))}(tNode,tStylingKey,tData,index,isClassBinding),tBindings=toTStylingRange(tmplHead,tmplTail),isClassBinding?tNode.classBindings=tBindings:tNode.styleBindings=tBindings}(tData,tNode,tStylingKey,bindingIndex,isHostBindings,isClassBased)}}function collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased){let currentDirective=null;const directiveEnd=tNode.directiveEnd;let directiveStylingLast=tNode.directiveStylingLast;for(-1===directiveStylingLast?directiveStylingLast=tNode.directiveStart:directiveStylingLast++;directiveStylingLast<directiveEnd&&(currentDirective=tData[directiveStylingLast],stylingKey=collectStylingFromTAttrs(stylingKey,currentDirective.hostAttrs,isClassBased),currentDirective!==hostDirectiveDef);)directiveStylingLast++;return null!==hostDirectiveDef&&(tNode.directiveStylingLast=directiveStylingLast),stylingKey}function collectStylingFromTAttrs(stylingKey,attrs,isClassBased){const desiredMarker=isClassBased?1:2;let currentMarker=-1;if(null!==attrs)for(let i=0;i<attrs.length;i++){const item=attrs[i];"number"==typeof item?currentMarker=item:currentMarker===desiredMarker&&(Array.isArray(stylingKey)||(stylingKey=void 0===stylingKey?[]:["",stylingKey]),keyValueArraySet(stylingKey,item,!!isClassBased||attrs[++i]))}return void 0===stylingKey?null:stylingKey}function updateStyling(tView,tNode,lView,renderer,prop,value,isClassBased,bindingIndex){if(!(3&tNode.type))return;const tData=tView.data,tRange=tData[bindingIndex+1];isStylingValuePresent(1==(1&tRange)?findStylingValue(tData,tNode,lView,prop,getTStylingRangeNext(tRange),isClassBased):void 0)||(isStylingValuePresent(value)||2==(2&tRange)&&(value=findStylingValue(tData,null,lView,prop,bindingIndex,isClassBased)),function(renderer,isClassBased,rNode,prop,value){const isProcedural=isProceduralRenderer(renderer);if(isClassBased)value?isProcedural?renderer.addClass(rNode,prop):rNode.classList.add(prop):isProcedural?renderer.removeClass(rNode,prop):rNode.classList.remove(prop);else{let flags=-1===prop.indexOf("-")?void 0:RendererStyleFlags2.DashCase;if(null==value)isProcedural?renderer.removeStyle(rNode,prop,flags):rNode.style.removeProperty(prop);else{const isImportant="string"==typeof value&&value.endsWith("!important");isImportant&&(value=value.slice(0,-10),flags|=RendererStyleFlags2.Important),isProcedural?renderer.setStyle(rNode,prop,value,flags):rNode.style.setProperty(prop,value,isImportant?"important":"")}}}(renderer,isClassBased,getNativeByIndex(getSelectedIndex(),lView),prop,value))}function findStylingValue(tData,tNode,lView,prop,index,isClassBased){const isPrevDirection=null===tNode;let value;for(;index>0;){const rawKey=tData[index],containsStatics=Array.isArray(rawKey),key=containsStatics?rawKey[1]:rawKey,isStylingMap=null===key;let valueAtLViewIndex=lView[index+1];valueAtLViewIndex===NO_CHANGE&&(valueAtLViewIndex=isStylingMap?EMPTY_ARRAY$3:void 0);let currentValue=isStylingMap?keyValueArrayGet(valueAtLViewIndex,prop):key===prop?valueAtLViewIndex:void 0;if(containsStatics&&!isStylingValuePresent(currentValue)&&(currentValue=keyValueArrayGet(rawKey,prop)),isStylingValuePresent(currentValue)&&(value=currentValue,isPrevDirection))return value;const tRange=tData[index+1];index=isPrevDirection?getTStylingRangePrev(tRange):getTStylingRangeNext(tRange)}if(null!==tNode){let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;null!=residual&&(value=keyValueArrayGet(residual,prop))}return value}function isStylingValuePresent(value){return void 0!==value}function hasStylingInputShadow(tNode,isClassBased){return 0!=(tNode.flags&(isClassBased?16:32))}function text(index,value=""){const lView=getLView(),tView=getTView(),adjustedIndex=index+20,tNode=tView.firstCreatePass?getOrCreateTNode(tView,adjustedIndex,1,value,null):tView.data[adjustedIndex],textNative=lView[adjustedIndex]=function(renderer,value){return isProceduralRenderer(renderer)?renderer.createText(value):renderer.createTextNode(value)}(lView[11],value);appendChild(tView,lView,textNative,tNode),setCurrentTNode(tNode,!1)}function textInterpolate(v0){return textInterpolate1("",v0,""),textInterpolate}function textInterpolate1(prefix,v0,suffix){const lView=getLView(),interpolated=interpolation1(lView,prefix,v0,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),textInterpolate1}function textInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){const lView=getLView(),interpolated=function(lView,prefix,v0,i0,v1,i1,v2,suffix){const different=function(lView,bindingIndex,exp1,exp2,exp3){const different=function(lView,bindingIndex,exp1,exp2){const different=bindingUpdated(lView,bindingIndex,exp1);return bindingUpdated(lView,bindingIndex+1,exp2)||different}(lView,bindingIndex,exp1,exp2);return bindingUpdated(lView,bindingIndex+2,exp3)||different}(lView,getBindingIndex(),v0,v1,v2);return incrementBindingIndex(3),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+suffix:NO_CHANGE}(lView,prefix,v0,i0,v1,i1,v2,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),textInterpolate3}function hostProperty(propName,value,sanitizer){const lView=getLView();return bindingUpdated(lView,nextBindingIndex(),value)&&elementPropertyInternal(getTView(),getSelectedTNode(),lView,propName,value,lView[11],sanitizer,!0),hostProperty}function syntheticHostProperty(propName,value,sanitizer){const lView=getLView();if(bindingUpdated(lView,nextBindingIndex(),value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,loadComponentRenderer(getCurrentDirectiveDef(tView.data),tNode,lView),sanitizer,!0)}return syntheticHostProperty}var localeEn=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}];let LOCALE_DATA={};function getLocaleData(normalizedLocale){return normalizedLocale in LOCALE_DATA||(LOCALE_DATA[normalizedLocale]=_global.ng&&_global.ng.common&&_global.ng.common.locales&&_global.ng.common.locales[normalizedLocale]),LOCALE_DATA[normalizedLocale]}var LocaleDataIndex=function(LocaleDataIndex){return LocaleDataIndex[LocaleDataIndex.LocaleId=0]="LocaleId",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat=1]="DayPeriodsFormat",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone=2]="DayPeriodsStandalone",LocaleDataIndex[LocaleDataIndex.DaysFormat=3]="DaysFormat",LocaleDataIndex[LocaleDataIndex.DaysStandalone=4]="DaysStandalone",LocaleDataIndex[LocaleDataIndex.MonthsFormat=5]="MonthsFormat",LocaleDataIndex[LocaleDataIndex.MonthsStandalone=6]="MonthsStandalone",LocaleDataIndex[LocaleDataIndex.Eras=7]="Eras",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek=8]="FirstDayOfWeek",LocaleDataIndex[LocaleDataIndex.WeekendRange=9]="WeekendRange",LocaleDataIndex[LocaleDataIndex.DateFormat=10]="DateFormat",LocaleDataIndex[LocaleDataIndex.TimeFormat=11]="TimeFormat",LocaleDataIndex[LocaleDataIndex.DateTimeFormat=12]="DateTimeFormat",LocaleDataIndex[LocaleDataIndex.NumberSymbols=13]="NumberSymbols",LocaleDataIndex[LocaleDataIndex.NumberFormats=14]="NumberFormats",LocaleDataIndex[LocaleDataIndex.CurrencyCode=15]="CurrencyCode",LocaleDataIndex[LocaleDataIndex.CurrencySymbol=16]="CurrencySymbol",LocaleDataIndex[LocaleDataIndex.CurrencyName=17]="CurrencyName",LocaleDataIndex[LocaleDataIndex.Currencies=18]="Currencies",LocaleDataIndex[LocaleDataIndex.Directionality=19]="Directionality",LocaleDataIndex[LocaleDataIndex.PluralCase=20]="PluralCase",LocaleDataIndex[LocaleDataIndex.ExtraData=21]="ExtraData",LocaleDataIndex}({});let LOCALE_ID="en-US";function setLocaleId(localeId){var actual,msg;msg="Expected localeId to be defined",null==(actual=localeId)&&function(msg,actual,expected,comparison){throw new Error(`ASSERTION ERROR: ${msg} [Expected=> null != ${actual} <=Actual]`)}(msg,actual),"string"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,"-"))}function resolveProvider$1(provider,tInjectables,lInjectablesBlueprint,isComponent,isViewProvider){if(provider=resolveForwardRef(provider),Array.isArray(provider))for(let i=0;i<provider.length;i++)resolveProvider$1(provider[i],tInjectables,lInjectablesBlueprint,isComponent,isViewProvider);else{const tView=getTView(),lView=getLView();let token=isTypeProvider(provider)?provider:resolveForwardRef(provider.provide),providerFactory=providerToFactory(provider);const tNode=getCurrentTNode(),beginIndex=1048575&tNode.providerIndexes,endIndex=tNode.directiveStart,cptViewProvidersCount=tNode.providerIndexes>>20;if(isTypeProvider(provider)||!provider.multi){const factory=new NodeInjectorFactory(providerFactory,isViewProvider,directiveInject),existingFactoryIndex=indexOf(token,tInjectables,isViewProvider?beginIndex:beginIndex+cptViewProvidersCount,endIndex);-1===existingFactoryIndex?(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token),registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=1048576),lInjectablesBlueprint.push(factory),lView.push(factory)):(lInjectablesBlueprint[existingFactoryIndex]=factory,lView[existingFactoryIndex]=factory)}else{const existingProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex+cptViewProvidersCount,endIndex),existingViewProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex,beginIndex+cptViewProvidersCount),doesProvidersFactoryExist=existingProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingProvidersFactoryIndex],doesViewProvidersFactoryExist=existingViewProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingViewProvidersFactoryIndex];if(isViewProvider&&!doesViewProvidersFactoryExist||!isViewProvider&&!doesProvidersFactoryExist){diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token);const factory=function(factoryFn,index,isViewProvider,isComponent,f){const factory=new NodeInjectorFactory(factoryFn,isViewProvider,directiveInject);return factory.multi=[],factory.index=index,factory.componentProviders=0,multiFactoryAdd(factory,f,isComponent&&!isViewProvider),factory}(isViewProvider?multiViewProvidersFactoryResolver:multiProvidersFactoryResolver,lInjectablesBlueprint.length,isViewProvider,isComponent,providerFactory);!isViewProvider&&doesViewProvidersFactoryExist&&(lInjectablesBlueprint[existingViewProvidersFactoryIndex].providerFactory=factory),registerDestroyHooksIfSupported(tView,provider,tInjectables.length,0),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=1048576),lInjectablesBlueprint.push(factory),lView.push(factory)}else registerDestroyHooksIfSupported(tView,provider,existingProvidersFactoryIndex>-1?existingProvidersFactoryIndex:existingViewProvidersFactoryIndex,multiFactoryAdd(lInjectablesBlueprint[isViewProvider?existingViewProvidersFactoryIndex:existingProvidersFactoryIndex],providerFactory,!isViewProvider&&isComponent));!isViewProvider&&isComponent&&doesViewProvidersFactoryExist&&lInjectablesBlueprint[existingViewProvidersFactoryIndex].componentProviders++}}}function registerDestroyHooksIfSupported(tView,provider,contextIndex,indexInFactory){const providerIsTypeProvider=isTypeProvider(provider);if(providerIsTypeProvider||provider.useClass){const ngOnDestroy=(provider.useClass||provider).prototype.ngOnDestroy;if(ngOnDestroy){const hooks=tView.destroyHooks||(tView.destroyHooks=[]);if(!providerIsTypeProvider&&provider.multi){const existingCallbacksIndex=hooks.indexOf(contextIndex);-1===existingCallbacksIndex?hooks.push(contextIndex,[indexInFactory,ngOnDestroy]):hooks[existingCallbacksIndex+1].push(indexInFactory,ngOnDestroy)}else hooks.push(contextIndex,ngOnDestroy)}}}function multiFactoryAdd(multiFactory,factory,isComponentProvider){return isComponentProvider&&multiFactory.componentProviders++,multiFactory.multi.push(factory)-1}function indexOf(item,arr,begin,end){for(let i=begin;i<end;i++)if(arr[i]===item)return i;return-1}function multiProvidersFactoryResolver(_,tData,lData,tNode){return multiResolve(this.multi,[])}function multiViewProvidersFactoryResolver(_,tData,lView,tNode){const factories=this.multi;let result;if(this.providerFactory){const componentCount=this.providerFactory.componentProviders,multiProviders=getNodeInjectable(lView,lView[1],this.providerFactory.index,tNode);result=multiProviders.slice(0,componentCount),multiResolve(factories,result);for(let i=componentCount;i<multiProviders.length;i++)result.push(multiProviders[i])}else result=[],multiResolve(factories,result);return result}function multiResolve(factories,result){for(let i=0;i<factories.length;i++)result.push((0,factories[i])());return result}function ProvidersFeature(providers,viewProviders=[]){return definition=>{definition.providersResolver=(def,processProvidersFn)=>function(def,providers,viewProviders){const tView=getTView();if(tView.firstCreatePass){const isComponent=isComponentDef(def);resolveProvider$1(viewProviders,tView.data,tView.blueprint,isComponent,!0),resolveProvider$1(providers,tView.data,tView.blueprint,isComponent,!1)}}(def,processProvidersFn?processProvidersFn(providers):providers,viewProviders)}}class ComponentFactory{}class _NullComponentFactoryResolver{resolveComponentFactory(component){throw function(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error.ngComponent=component,error}(component)}}let ComponentFactoryResolver=(()=>{class ComponentFactoryResolver{}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver})();function noop(...args){}function createElementRef(tNode,lView){return new ElementRef(getNativeByTNode(tNode,lView))}const SWITCH_ELEMENT_REF_FACTORY=function(){return createElementRef(getCurrentTNode(),getLView())};let ElementRef=(()=>{class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}return ElementRef.__NG_ELEMENT_ID__=SWITCH_ELEMENT_REF_FACTORY,ElementRef})();function unwrapElementRef(value){return value instanceof ElementRef?value.nativeElement:value}class RendererFactory2{}let Renderer2=(()=>{class Renderer2{}return Renderer2.__NG_ELEMENT_ID__=()=>SWITCH_RENDERER2_FACTORY(),Renderer2})();const SWITCH_RENDERER2_FACTORY=function(){const lView=getLView(),nodeAtIndex=getComponentLViewByIndex(getCurrentTNode().index,lView);return function(lView){return lView[11]}(isLView(nodeAtIndex)?nodeAtIndex:lView)};let Sanitizer=(()=>{class Sanitizer{}return Sanitizer.prov=defineInjectable({token:Sanitizer,providedIn:"root",factory:()=>null}),Sanitizer})();class Version{constructor(full){this.full=full,this.major=full.split(".")[0],this.minor=full.split(".")[1],this.patch=full.split(".").slice(2).join(".")}}const VERSION=new Version("11.2.1");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)item=collection[index],itemTrackBy=this._trackByFn(index,item),null!==record&&Object.is(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),Object.is(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[core_getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&Object.is(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),Object.is(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=record._nextMoved)record.previousIndex=record.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(Object.is(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(Object.is(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),this._additionsTail=null===this._additionsTail?this._additionsHead=record:this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex||(this._movesTail=null===this._movesTail?this._movesHead=record:this._movesTail._nextMoved=record),record}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=record:this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&Object.is(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const recordList=this.map.get(trackById);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){Object.is(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function defaultIterableDiffersFactory(){return new IterableDiffers([new DefaultIterableDifferFactory])}let IterableDiffers=(()=>{class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>IterableDiffers.create(factories,parent||defaultIterableDiffersFactory()),deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${type=iterable,type.name||typeof type}'`);var type}}return IterableDiffers.prov=defineInjectable({token:IterableDiffers,providedIn:"root",factory:defaultIterableDiffersFactory}),IterableDiffers})();function defaultKeyValueDiffersFactory(){return new KeyValueDiffers([new DefaultKeyValueDifferFactory])}let KeyValueDiffers=(()=>{class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>KeyValueDiffers.create(factories,parent||defaultKeyValueDiffersFactory()),deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}return KeyValueDiffers.prov=defineInjectable({token:KeyValueDiffers,providedIn:"root",factory:defaultKeyValueDiffersFactory}),KeyValueDiffers})();function collectNativeNodes(tView,lView,tNode,result,isProjection=!1){for(;null!==tNode;){const lNode=lView[tNode.index];if(null!==lNode&&result.push(unwrapRNode(lNode)),isLContainer(lNode))for(let i=10;i<lNode.length;i++){const lViewInAContainer=lNode[i],lViewFirstChildTNode=lViewInAContainer[1].firstChild;null!==lViewFirstChildTNode&&collectNativeNodes(lViewInAContainer[1],lViewInAContainer,lViewFirstChildTNode,result)}const tNodeType=tNode.type;if(8&tNodeType)collectNativeNodes(tView,lView,tNode.child,result);else if(32&tNodeType){const nextRNode=icuContainerIterate(tNode,lView);let rNode;for(;rNode=nextRNode();)result.push(rNode)}else if(16&tNodeType){const nodesInSlot=getProjectionNodes(lView,tNode);if(Array.isArray(nodesInSlot))result.push(...nodesInSlot);else{const parentView=getLViewParent(lView[16]);collectNativeNodes(parentView[1],parentView,nodesInSlot,result,!0)}}tNode=isProjection?tNode.projectionNext:tNode.next}return result}class ViewRef{constructor(_lView,_cdRefInjectingView){this._lView=_lView,this._cdRefInjectingView=_cdRefInjectingView,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const lView=this._lView,tView=lView[1];return collectNativeNodes(tView,lView,tView.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const parent=this._lView[3];if(isLContainer(parent)){const viewRefs=parent[8],index=viewRefs?viewRefs.indexOf(this):-1;index>-1&&(detachView(parent,index),removeFromArray(viewRefs,index))}this._attachedToViewContainer=!1}destroyLView(this._lView[1],this._lView)}onDestroy(callback){storeCleanupWithContext(this._lView[1],this._lView,null,callback)}markForCheck(){markViewDirty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){detectChangesInternal(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(tView,view,context){setIsInCheckNoChangesMode(!0);try{detectChangesInternal(tView,view,context)}finally{setIsInCheckNoChangesMode(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var lView;this._appRef=null,applyView(this._lView[1],lView=this._lView,lView[11],2,null,null)}attachToAppRef(appRef){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef}}class RootViewRef extends ViewRef{constructor(_view){super(_view),this._view=_view}detectChanges(){detectChangesInRootView(this._view)}checkNoChanges(){!function(lView){setIsInCheckNoChangesMode(!0);try{detectChangesInRootView(lView)}finally{setIsInCheckNoChangesMode(!1)}}(this._view)}get context(){return null}}const SWITCH_CHANGE_DETECTOR_REF_FACTORY=injectChangeDetectorRef;let ChangeDetectorRef=(()=>{class ChangeDetectorRef{}return ChangeDetectorRef.__NG_ELEMENT_ID__=SWITCH_CHANGE_DETECTOR_REF_FACTORY,ChangeDetectorRef.__ChangeDetectorRef__=!0,ChangeDetectorRef})();function injectChangeDetectorRef(isPipe=!1){return function(tNode,lView,isPipe){if(!isPipe&&isComponentHost(tNode)){const componentView=getComponentLViewByIndex(tNode.index,lView);return new ViewRef(componentView,componentView)}return 47&tNode.type?new ViewRef(lView[16],lView):null}(getCurrentTNode(),getLView(),isPipe)}const keyValDiff=[new DefaultKeyValueDifferFactory],defaultIterableDiffers=new IterableDiffers([new DefaultIterableDifferFactory]),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff),SWITCH_TEMPLATE_REF_FACTORY=function(){return createTemplateRef(getCurrentTNode(),getLView())};let TemplateRef=(()=>{class TemplateRef{}return TemplateRef.__NG_ELEMENT_ID__=SWITCH_TEMPLATE_REF_FACTORY,TemplateRef})();const ViewEngineTemplateRef=TemplateRef,R3TemplateRef=class extends ViewEngineTemplateRef{constructor(_declarationLView,_declarationTContainer,elementRef){super(),this._declarationLView=_declarationLView,this._declarationTContainer=_declarationTContainer,this.elementRef=elementRef}createEmbeddedView(context){const embeddedTView=this._declarationTContainer.tViews,embeddedLView=createLView(this._declarationLView,embeddedTView,context,16,null,embeddedTView.declTNode,null,null,null,null);embeddedLView[17]=this._declarationLView[this._declarationTContainer.index];const declarationViewLQueries=this._declarationLView[19];return null!==declarationViewLQueries&&(embeddedLView[19]=declarationViewLQueries.createEmbeddedView(embeddedTView)),renderView(embeddedTView,embeddedLView,context),new ViewRef(embeddedLView)}};function createTemplateRef(hostTNode,hostLView){return 4&hostTNode.type?new R3TemplateRef(hostLView,hostTNode,createElementRef(hostTNode,hostLView)):null}class NgModuleRef{}class NgModuleFactory{}const SWITCH_VIEW_CONTAINER_REF_FACTORY=function(){return createContainerRef(getCurrentTNode(),getLView())};let ViewContainerRef=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=SWITCH_VIEW_CONTAINER_REF_FACTORY,ViewContainerRef})();const VE_ViewContainerRef=ViewContainerRef,R3ViewContainerRef=class extends VE_ViewContainerRef{constructor(_lContainer,_hostTNode,_hostLView){super(),this._lContainer=_lContainer,this._hostTNode=_hostTNode,this._hostLView=_hostLView}get element(){return createElementRef(this._hostTNode,this._hostLView)}get injector(){return new NodeInjector(this._hostTNode,this._hostLView)}get parentInjector(){const parentLocation=getParentInjectorLocation(this._hostTNode,this._hostLView);if(hasParentInjector(parentLocation)){const parentView=getParentInjectorView(parentLocation,this._hostLView),injectorIndex=getParentInjectorIndex(parentLocation);return new NodeInjector(parentView[1].data[injectorIndex+8],parentView)}return new NodeInjector(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(index){const viewRefs=getViewRefs(this._lContainer);return null!==viewRefs&&viewRefs[index]||null}get length(){return this._lContainer.length-10}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;if(!ngModuleRef&&null==componentFactory.ngModule&&contextInjector){const result=contextInjector.get(NgModuleRef,null);result&&(ngModuleRef=result)}const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){const lView=viewRef._lView,tView=lView[1];if(isLContainer(lView[3])){const prevIdx=this.indexOf(viewRef);if(-1!==prevIdx)this.detach(prevIdx);else{const prevLContainer=lView[3],prevVCRef=new R3ViewContainerRef(prevLContainer,prevLContainer[6],prevLContainer[3]);prevVCRef.detach(prevVCRef.indexOf(viewRef))}}const adjustedIdx=this._adjustIndex(index),lContainer=this._lContainer;!function(tView,lView,lContainer,index){const indexInContainer=10+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][4]=lView),index<containerLength-10?(lView[4]=lContainer[indexInContainer],addToArray(lContainer,10+index,lView)):(lContainer.push(lView),lView[4]=null),lView[3]=lContainer;const declarationLContainer=lView[17];null!==declarationLContainer&&lContainer!==declarationLContainer&&function(declarationContainer,lView){const movedViews=declarationContainer[9];lView[16]!==lView[3][3][16]&&(declarationContainer[2]=!0),null===movedViews?declarationContainer[9]=[lView]:movedViews.push(lView)}(declarationLContainer,lView);const lQueries=lView[19];null!==lQueries&&lQueries.insertView(tView),lView[2]|=128}(tView,lView,lContainer,adjustedIdx);const beforeNode=getBeforeNodeForView(adjustedIdx,lContainer),renderer=lView[11],parentRNode=nativeParentNode(renderer,lContainer[7]);return null!==parentRNode&&function(tView,parentTNode,renderer,lView,parentNativeNode,beforeNode){lView[0]=parentNativeNode,lView[6]=parentTNode,applyView(tView,lView,renderer,1,parentNativeNode,beforeNode)}(tView,lContainer[6],renderer,lView,parentRNode,beforeNode),viewRef.attachToViewContainerRef(),addToArray(getOrCreateViewRefs(lContainer),adjustedIdx,viewRef),viewRef}move(viewRef,newIndex){return this.insert(viewRef,newIndex)}indexOf(viewRef){const viewRefsArr=getViewRefs(this._lContainer);return null!==viewRefsArr?viewRefsArr.indexOf(viewRef):-1}remove(index){const adjustedIdx=this._adjustIndex(index,-1),detachedView=detachView(this._lContainer,adjustedIdx);detachedView&&(removeFromArray(getOrCreateViewRefs(this._lContainer),adjustedIdx),destroyLView(detachedView[1],detachedView))}detach(index){const adjustedIdx=this._adjustIndex(index,-1),view=detachView(this._lContainer,adjustedIdx);return view&&null!=removeFromArray(getOrCreateViewRefs(this._lContainer),adjustedIdx)?new ViewRef(view):null}_adjustIndex(index,shift=0){return null==index?this.length+shift:index}};function getViewRefs(lContainer){return lContainer[8]}function getOrCreateViewRefs(lContainer){return lContainer[8]||(lContainer[8]=[])}function createContainerRef(hostTNode,hostLView){let lContainer;const slotValue=hostLView[hostTNode.index];if(isLContainer(slotValue))lContainer=slotValue;else{let commentNode;if(8&hostTNode.type)commentNode=unwrapRNode(slotValue);else{const renderer=hostLView[11];commentNode=renderer.createComment("");const hostNative=getNativeByTNode(hostTNode,hostLView);nativeInsertBefore(renderer,nativeParentNode(renderer,hostNative),commentNode,function(renderer,node){return isProceduralRenderer(renderer)?renderer.nextSibling(node):node.nextSibling}(renderer,hostNative),!1)}hostLView[hostTNode.index]=lContainer=createLContainer(slotValue,hostLView,commentNode,hostTNode),addToViewTree(hostLView,lContainer)}return new R3ViewContainerRef(lContainer,hostTNode,hostLView)}const NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};class ComponentFactoryResolver$1 extends ComponentFactoryResolver{constructor(ngModule){super(),this.ngModule=ngModule}resolveComponentFactory(component){const componentDef=getComponentDef(component);return new ComponentFactory$1(componentDef,this.ngModule)}}function toRefArray(map){const array=[];for(let nonMinified in map)map.hasOwnProperty(nonMinified)&&array.push({propName:map[nonMinified],templateName:nonMinified});return array}const SCHEDULER=new InjectionToken("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>defaultScheduler});class ComponentFactory$1 extends ComponentFactory{constructor(componentDef,ngModule){super(),this.componentDef=componentDef,this.ngModule=ngModule,this.componentType=componentDef.type,this.selector=componentDef.selectors.map(stringifyCSSSelector).join(","),this.ngContentSelectors=componentDef.ngContentSelectors?componentDef.ngContentSelectors:[],this.isBoundToModule=!!ngModule}get inputs(){return toRefArray(this.componentDef.inputs)}get outputs(){return toRefArray(this.componentDef.outputs)}create(injector,projectableNodes,rootSelectorOrNode,ngModule){const rootViewInjector=(ngModule=ngModule||this.ngModule)?function(rootViewInjector,moduleInjector){return{get:(token,notFoundValue,flags)=>{const value=rootViewInjector.get(token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,flags);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:moduleInjector.get(token,notFoundValue,flags)}}}(injector,ngModule.injector):injector,rendererFactory=rootViewInjector.get(RendererFactory2,domRendererFactory3),sanitizer=rootViewInjector.get(Sanitizer,null),hostRenderer=rendererFactory.createRenderer(null,this.componentDef),elementName=this.componentDef.selectors[0][0]||"div",hostRNode=rootSelectorOrNode?function(renderer,elementOrSelector,encapsulation){if(isProceduralRenderer(renderer))return renderer.selectRootElement(elementOrSelector,encapsulation===ViewEncapsulation.ShadowDom);let rElement="string"==typeof elementOrSelector?renderer.querySelector(elementOrSelector):elementOrSelector;return rElement.textContent="",rElement}(hostRenderer,rootSelectorOrNode,this.componentDef.encapsulation):createElementNode(rendererFactory.createRenderer(null,this.componentDef),elementName,function(elementName){const name=elementName.toLowerCase();return"svg"===name?"http://www.w3.org/2000/svg":"math"===name?"http://www.w3.org/1998/MathML/":null}(elementName)),rootFlags=this.componentDef.onPush?576:528,rootContext={components:[],scheduler:defaultScheduler,clean:CLEAN_PROMISE,playerHandler:null,flags:0},rootTView=createTView(0,null,null,1,0,null,null,null,null,null),rootLView=createLView(null,rootTView,rootContext,rootFlags,null,null,rendererFactory,hostRenderer,sanitizer,rootViewInjector);let component,tElementNode;enterView(rootLView);try{const componentView=function(rNode,def,rootView,rendererFactory,hostRenderer,sanitizer){const tView=rootView[1];rootView[20]=rNode;const tNode=getOrCreateTNode(tView,20,2,"#host",null),mergedAttrs=tNode.mergedAttrs=def.hostAttrs;null!==mergedAttrs&&(computeStaticStyling(tNode,mergedAttrs,!0),null!==rNode&&(setUpAttributes(hostRenderer,rNode,mergedAttrs),null!==tNode.classes&&writeDirectClass(hostRenderer,rNode,tNode.classes),null!==tNode.styles&&writeDirectStyle(hostRenderer,rNode,tNode.styles)));const viewRenderer=rendererFactory.createRenderer(rNode,def),componentView=createLView(rootView,getOrCreateTComponentView(def),null,def.onPush?64:16,rootView[20],tNode,rendererFactory,viewRenderer,null,null);return tView.firstCreatePass&&(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,rootView),tView,def.type),markAsComponentHost(tView,tNode),initTNodeFlags(tNode,rootView.length,1)),addToViewTree(rootView,componentView),rootView[20]=componentView}(hostRNode,this.componentDef,rootLView,rendererFactory,hostRenderer);if(hostRNode)if(rootSelectorOrNode)setUpAttributes(hostRenderer,hostRNode,["ng-version",VERSION.full]);else{const{attrs:attrs,classes:classes}=function(selector){const attrs=[],classes=[];let i=1,mode=2;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)2===mode?""!==valueOrMarker&&attrs.push(valueOrMarker,selector[++i]):8===mode&&classes.push(valueOrMarker);else{if(!isPositive(mode))break;mode=valueOrMarker}i++}return{attrs:attrs,classes:classes}}(this.componentDef.selectors[0]);attrs&&setUpAttributes(hostRenderer,hostRNode,attrs),classes&&classes.length>0&&writeDirectClass(hostRenderer,hostRNode,classes.join(" "))}if(tElementNode=getTNode(rootTView,20),void 0!==projectableNodes){const projection=tElementNode.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const nodesforSlot=projectableNodes[i];projection.push(null!=nodesforSlot?Array.from(nodesforSlot):null)}}component=function(componentView,componentDef,rootLView,rootContext,hostFeatures){const tView=rootLView[1],component=function(tView,lView,def){const rootTNode=getCurrentTNode();tView.firstCreatePass&&(def.providersResolver&&def.providersResolver(def),configureViewWithDirective(tView,rootTNode,lView,allocExpando(tView,lView,1,null),def));const directive=getNodeInjectable(lView,tView,rootTNode.directiveStart,rootTNode);attachPatchData(directive,lView);const native=getNativeByTNode(rootTNode,lView);return native&&attachPatchData(native,lView),directive}(tView,rootLView,componentDef);if(rootContext.components.push(component),componentView[8]=component,hostFeatures&&hostFeatures.forEach(feature=>feature(component,componentDef)),componentDef.contentQueries){const tNode=getCurrentTNode();componentDef.contentQueries(1,component,tNode.directiveStart)}const rootTNode=getCurrentTNode();return!tView.firstCreatePass||null===componentDef.hostBindings&&null===componentDef.hostAttrs||(setSelectedIndex(rootTNode.index),registerHostBindingOpCodes(rootLView[1],rootTNode,0,rootTNode.directiveStart,rootTNode.directiveEnd,componentDef),invokeHostBindingsInCreationMode(componentDef,component)),component}(componentView,this.componentDef,rootLView,rootContext,[LifecycleHooksFeature]),renderView(rootTView,rootLView,null)}finally{leaveView()}return new ComponentRef$1(this.componentType,component,createElementRef(tElementNode,rootLView),rootLView,tElementNode)}}class ComponentRef$1 extends class{}{constructor(componentType,instance,location,_rootLView,_tNode){super(),this.location=location,this._rootLView=_rootLView,this._tNode=_tNode,this.instance=instance,this.hostView=this.changeDetectorRef=new RootViewRef(_rootLView),this.componentType=componentType}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(callback){this.hostView.onDestroy(callback)}}const modules=new Map;class NgModuleRef$1 extends NgModuleRef{constructor(ngModuleType,_parent){super(),this._parent=_parent,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ComponentFactoryResolver$1(this);const ngModuleDef=getNgModuleDef(ngModuleType),ngLocaleIdDef=ngModuleType[NG_LOC_ID_DEF]||null;ngLocaleIdDef&&setLocaleId(ngLocaleIdDef),this._bootstrapComponents=maybeUnwrapFn(ngModuleDef.bootstrap),this._r3Injector=createInjectorWithoutInjectorInstances(ngModuleType,_parent,[{provide:NgModuleRef,useValue:this},{provide:ComponentFactoryResolver,useValue:this.componentFactoryResolver}],stringify(ngModuleType)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(ngModuleType)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){return token===Injector||token===NgModuleRef||token===INJECTOR$1?this:this._r3Injector.get(token,notFoundValue,injectFlags)}destroy(){const injector=this._r3Injector;!injector.destroyed&&injector.destroy(),this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null}onDestroy(callback){this.destroyCbs.push(callback)}}class NgModuleFactory$1 extends NgModuleFactory{constructor(moduleType){super(),this.moduleType=moduleType,null!==getNgModuleDef(moduleType)&&function(ngModuleType){const visited=new Set;!function recurse(ngModuleType){const def=getNgModuleDef(ngModuleType,!0),id=def.id;null!==id&&(function(id,type,incoming){if(type&&type!==incoming)throw new Error(`Duplicate module registered for ${id} - ${stringify(type)} vs ${stringify(type.name)}`)}(id,modules.get(id),ngModuleType),modules.set(id,ngModuleType));const imports=maybeUnwrapFn(def.imports);for(const i of imports)visited.has(i)||(visited.add(i),recurse(i))}(ngModuleType)}(moduleType)}create(parentInjector){return new NgModuleRef$1(this.moduleType,parentInjector)}}function pureFunction1Internal(lView,bindingRoot,slotOffset,pureFn,exp,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated(lView,bindingIndex,exp)?updateBinding(lView,bindingIndex+1,thisArg?pureFn.call(thisArg,exp):pureFn(exp)):function(lView,returnValueIndex){const lastReturnValue=lView[returnValueIndex];return lastReturnValue===NO_CHANGE?void 0:lastReturnValue}(lView,bindingIndex+1)}function pipe(index,pipeName){const tView=getTView();let pipeDef;const adjustedIndex=index+20;tView.firstCreatePass?(pipeDef=function(name,registry){if(registry)for(let i=registry.length-1;i>=0;i--){const pipeDef=registry[i];if(name===pipeDef.name)return pipeDef}throw new RuntimeError("302",`The pipe '${name}' could not be found!`)}(pipeName,tView.pipeRegistry),tView.data[adjustedIndex]=pipeDef,pipeDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(adjustedIndex,pipeDef.onDestroy)):pipeDef=tView.data[adjustedIndex];const pipeFactory=pipeDef.factory||(pipeDef.factory=getFactoryDef(pipeDef.type)),previousInjectImplementation=setInjectImplementation(directiveInject);try{const previousIncludeViewProviders=setIncludeViewProviders(!1),pipeInstance=pipeFactory();return setIncludeViewProviders(previousIncludeViewProviders),function(tView,lView,index,value){index>=tView.data.length&&(tView.data[index]=null,tView.blueprint[index]=null),lView[index]=value}(tView,getLView(),adjustedIndex,pipeInstance),pipeInstance}finally{setInjectImplementation(previousInjectImplementation)}}function pipeBind1(index,slotOffset,v1){const adjustedIndex=index+20,lView=getLView(),pipeInstance=load(lView,adjustedIndex);return function(lView,newValue){return WrappedValue.isWrapped(newValue)&&(newValue=WrappedValue.unwrap(newValue),lView[getBindingIndex()]=NO_CHANGE),newValue}(lView,function(lView,index){return lView[1].data[index].pure}(lView,adjustedIndex)?pureFunction1Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,pipeInstance):pipeInstance.transform(v1))}const EventEmitter=class extends Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(observerOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;observerOrNext&&"object"==typeof observerOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>observerOrNext.next(value))}:value=>{observerOrNext.next(value)},observerOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>observerOrNext.error(err))}:err=>{observerOrNext.error(err)}),observerOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>observerOrNext.complete())}:()=>{observerOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>observerOrNext(value))}:value=>{observerOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return observerOrNext instanceof Subscription_Subscription&&observerOrNext.add(sink),sink}};function symbolIterator(){return this._results[core_getSymbolIterator()]()}class QueryList{constructor(_emitDistinctChangesOnly=!1){this._emitDistinctChangesOnly=_emitDistinctChangesOnly,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const symbol=core_getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}get changes(){return this._changes||(this._changes=new EventEmitter)}get(index){return this._results[index]}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree,identityAccessor){this.dirty=!1;const newResultFlat=flatten(resultsTree);(this._changesDetected=!function(a,b,identityAccessor){if(a.length!==b.length)return!1;for(let i=0;i<a.length;i++){let valueA=a[i],valueB=b[i];if(identityAccessor&&(valueA=identityAccessor(valueA),valueB=identityAccessor(valueB)),valueB!==valueA)return!1}return!0}(this._results,newResultFlat,identityAccessor))&&(this._results=newResultFlat,this.length=newResultFlat.length,this.last=newResultFlat[this.length-1],this.first=newResultFlat[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class LQuery_{constructor(queryList){this.queryList=queryList,this.matches=null}clone(){return new LQuery_(this.queryList)}setDirty(){this.queryList.setDirty()}}class LQueries_{constructor(queries=[]){this.queries=queries}createEmbeddedView(tView){const tQueries=tView.queries;if(null!==tQueries){const noOfInheritedQueries=null!==tView.contentQueries?tView.contentQueries[0]:tQueries.length,viewLQueries=[];for(let i=0;i<noOfInheritedQueries;i++){const tQuery=tQueries.getByIndex(i);viewLQueries.push(this.queries[tQuery.indexInDeclarationView].clone())}return new LQueries_(viewLQueries)}return null}insertView(tView){this.dirtyQueriesWithMatches(tView)}detachView(tView){this.dirtyQueriesWithMatches(tView)}dirtyQueriesWithMatches(tView){for(let i=0;i<this.queries.length;i++)null!==getTQuery(tView,i).matches&&this.queries[i].setDirty()}}class TQueryMetadata_{constructor(predicate,flags,read=null){this.predicate=predicate,this.flags=flags,this.read=read}}class TQueries_{constructor(queries=[]){this.queries=queries}elementStart(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(tView,tNode)}elementEnd(tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(tNode)}embeddedTView(tNode){let queriesForTemplateRef=null;for(let i=0;i<this.length;i++){const childQueryIndex=null!==queriesForTemplateRef?queriesForTemplateRef.length:0,tqueryClone=this.getByIndex(i).embeddedTView(tNode,childQueryIndex);tqueryClone&&(tqueryClone.indexInDeclarationView=i,null!==queriesForTemplateRef?queriesForTemplateRef.push(tqueryClone):queriesForTemplateRef=[tqueryClone])}return null!==queriesForTemplateRef?new TQueries_(queriesForTemplateRef):null}template(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].template(tView,tNode)}getByIndex(index){return this.queries[index]}get length(){return this.queries.length}track(tquery){this.queries.push(tquery)}}class TQuery_{constructor(metadata,nodeIndex=-1){this.metadata=metadata,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=nodeIndex}elementStart(tView,tNode){this.isApplyingToNode(tNode)&&this.matchTNode(tView,tNode)}elementEnd(tNode){this._declarationNodeIndex===tNode.index&&(this._appliesToNextNode=!1)}template(tView,tNode){this.elementStart(tView,tNode)}embeddedTView(tNode,childQueryIndex){return this.isApplyingToNode(tNode)?(this.crossesNgTemplate=!0,this.addMatch(-tNode.index,childQueryIndex),new TQuery_(this.metadata)):null}isApplyingToNode(tNode){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const declarationNodeIdx=this._declarationNodeIndex;let parent=tNode.parent;for(;null!==parent&&8&parent.type&&parent.index!==declarationNodeIdx;)parent=parent.parent;return declarationNodeIdx===(null!==parent?parent.index:-1)}return this._appliesToNextNode}matchTNode(tView,tNode){const predicate=this.metadata.predicate;if(Array.isArray(predicate))for(let i=0;i<predicate.length;i++){const name=predicate[i];this.matchTNodeWithReadOption(tView,tNode,getIdxOfMatchingSelector(tNode,name)),this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,name,!1,!1))}else predicate===TemplateRef?4&tNode.type&&this.matchTNodeWithReadOption(tView,tNode,-1):this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,predicate,!1,!1))}matchTNodeWithReadOption(tView,tNode,nodeMatchIdx){if(null!==nodeMatchIdx){const read=this.metadata.read;if(null!==read)if(read===ElementRef||read===ViewContainerRef||read===TemplateRef&&4&tNode.type)this.addMatch(tNode.index,-2);else{const directiveOrProviderIdx=locateDirectiveOrProvider(tNode,tView,read,!1,!1);null!==directiveOrProviderIdx&&this.addMatch(tNode.index,directiveOrProviderIdx)}else this.addMatch(tNode.index,nodeMatchIdx)}}addMatch(tNodeIdx,matchIdx){null===this.matches?this.matches=[tNodeIdx,matchIdx]:this.matches.push(tNodeIdx,matchIdx)}}function getIdxOfMatchingSelector(tNode,selector){const localNames=tNode.localNames;if(null!==localNames)for(let i=0;i<localNames.length;i+=2)if(localNames[i]===selector)return localNames[i+1];return null}function createResultForNode(lView,tNode,matchingIdx,read){return-1===matchingIdx?function(tNode,currentView){return 11&tNode.type?createElementRef(tNode,currentView):4&tNode.type?createTemplateRef(tNode,currentView):null}(tNode,lView):-2===matchingIdx?function(lView,tNode,read){return read===ElementRef?createElementRef(tNode,lView):read===TemplateRef?createTemplateRef(tNode,lView):read===ViewContainerRef?createContainerRef(tNode,lView):void 0}(lView,tNode,read):getNodeInjectable(lView,lView[1],matchingIdx,tNode)}function materializeViewResults(tView,lView,tQuery,queryIndex){const lQuery=lView[19].queries[queryIndex];if(null===lQuery.matches){const tViewData=tView.data,tQueryMatches=tQuery.matches,result=[];for(let i=0;i<tQueryMatches.length;i+=2){const matchedNodeIdx=tQueryMatches[i];result.push(matchedNodeIdx<0?null:createResultForNode(lView,tViewData[matchedNodeIdx],tQueryMatches[i+1],tQuery.metadata.read))}lQuery.matches=result}return lQuery.matches}function collectQueryResults(tView,lView,queryIndex,result){const tQuery=tView.queries.getByIndex(queryIndex),tQueryMatches=tQuery.matches;if(null!==tQueryMatches){const lViewResults=materializeViewResults(tView,lView,tQuery,queryIndex);for(let i=0;i<tQueryMatches.length;i+=2){const tNodeIdx=tQueryMatches[i];if(tNodeIdx>0)result.push(lViewResults[i/2]);else{const childQueryIndex=tQueryMatches[i+1],declarationLContainer=lView[-tNodeIdx];for(let i=10;i<declarationLContainer.length;i++){const embeddedLView=declarationLContainer[i];embeddedLView[17]===embeddedLView[3]&&collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}if(null!==declarationLContainer[9]){const embeddedLViews=declarationLContainer[9];for(let i=0;i<embeddedLViews.length;i++){const embeddedLView=embeddedLViews[i];collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}}}}}return result}function queryRefresh(queryList){const lView=getLView(),tView=getTView(),queryIndex=getCurrentQueryIndex();setCurrentQueryIndex(queryIndex+1);const tQuery=getTQuery(tView,queryIndex);if(queryList.dirty&&isCreationMode(lView)===(2==(2&tQuery.metadata.flags))){if(null===tQuery.matches)queryList.reset([]);else{const result=tQuery.crossesNgTemplate?collectQueryResults(tView,lView,queryIndex,[]):materializeViewResults(tView,lView,tQuery,queryIndex);queryList.reset(result,unwrapElementRef),queryList.notifyOnChanges()}return!0}return!1}function viewQuery(predicate,flags,read){const tView=getTView();tView.firstCreatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,flags,read),-1),2==(2&flags)&&(tView.staticViewQueries=!0)),createLQuery(tView,getLView(),flags)}function contentQuery(directiveIndex,predicate,flags,read){const tView=getTView();if(tView.firstCreatePass){const tNode=getCurrentTNode();createTQuery(tView,new TQueryMetadata_(predicate,flags,read),tNode.index),function(tView,directiveIndex){const tViewContentQueries=tView.contentQueries||(tView.contentQueries=[]);directiveIndex!==(tViewContentQueries.length?tViewContentQueries[tViewContentQueries.length-1]:-1)&&tViewContentQueries.push(tView.queries.length-1,directiveIndex)}(tView,directiveIndex),2==(2&flags)&&(tView.staticContentQueries=!0)}createLQuery(tView,getLView(),flags)}function loadQuery(){return lView=getLView(),queryIndex=getCurrentQueryIndex(),lView[19].queries[queryIndex].queryList;var lView,queryIndex}function createLQuery(tView,lView,flags){const queryList=new QueryList(4==(4&flags));storeCleanupWithContext(tView,lView,queryList,queryList.destroy),null===lView[19]&&(lView[19]=new LQueries_),lView[19].queries.push(new LQuery_(queryList))}function createTQuery(tView,metadata,nodeIndex){null===tView.queries&&(tView.queries=new TQueries_),tView.queries.track(new TQuery_(metadata,nodeIndex))}function getTQuery(tView,index){return tView.queries.getByIndex(index)}const APP_INITIALIZER=new InjectionToken("Application Initializer");let ApplicationInitStatus=(()=>{class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.resolve=noop,this.reject=noop,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();core_isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}return ApplicationInitStatus.fac=function(t){return new(t||ApplicationInitStatus)(inject(APP_INITIALIZER,8))},ApplicationInitStatus.prov=defineInjectable({token:ApplicationInitStatus,factory:ApplicationInitStatus.fac}),ApplicationInitStatus})();const APP_ID=new InjectionToken("AppId"),APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:function(){return`${_randomChar()}${_randomChar()}${_randomChar()}`},deps:[]};function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken("Platform Initializer"),PLATFORM_ID=new InjectionToken("Platform ID"),APP_BOOTSTRAP_LISTENER=new InjectionToken("appBootstrapListener");let Console=(()=>{class Console{log(message){console.log(message)}warn(message){console.warn(message)}}return Console.fac=function(t){return new(t||Console)},Console.prov=defineInjectable({token:Console,factory:Console.fac}),Console})();const LOCALE_ID$1=new InjectionToken("LocaleId"),DEFAULT_CURRENCY_CODE=new InjectionToken("DefaultCurrencyCode");class ModuleWithComponentFactories{constructor(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}}const Compiler_compileModuleSync__POST_R3__=function(moduleType){return new NgModuleFactory$1(moduleType)},Compiler_compileModuleSync=Compiler_compileModuleSync__POST_R3__,Compiler_compileModuleAsync=function(moduleType){return Promise.resolve(Compiler_compileModuleSync__POST_R3__(moduleType))},Compiler_compileModuleAndAllComponentsSync__POST_R3__=function(moduleType){const ngModuleFactory=Compiler_compileModuleSync__POST_R3__(moduleType),componentFactories=maybeUnwrapFn(getNgModuleDef(moduleType).declarations).reduce((factories,declaration)=>{const componentDef=getComponentDef(declaration);return componentDef&&factories.push(new ComponentFactory$1(componentDef)),factories},[]);return new ModuleWithComponentFactories(ngModuleFactory,componentFactories)},Compiler_compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync__POST_R3__,Compiler_compileModuleAndAllComponentsAsync=function(moduleType){return Promise.resolve(Compiler_compileModuleAndAllComponentsSync__POST_R3__(moduleType))};let Compiler=(()=>{class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}return Compiler.fac=function(t){return new(t||Compiler)},Compiler.prov=defineInjectable({token:Compiler,factory:Compiler.fac}),Compiler})();const core_promise=(()=>Promise.resolve(0))();function scheduleMicroTask(fn){"undefined"==typeof Zone?core_promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1,shouldCoalesceEventChangeDetection:shouldCoalesceEventChangeDetection=!1,shouldCoalesceRunChangeDetection:shouldCoalesceRunChangeDetection=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new EventEmitter(!1),this.onMicrotaskEmpty=new EventEmitter(!1),this.onStable=new EventEmitter(!1),this.onError=new EventEmitter(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!shouldCoalesceRunChangeDetection&&shouldCoalesceEventChangeDetection,this.shouldCoalesceRunChangeDetection=shouldCoalesceRunChangeDetection,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let nativeRequestAnimationFrame=_global.requestAnimationFrame,nativeCancelAnimationFrame=_global.cancelAnimationFrame;if("undefined"!=typeof Zone&&nativeRequestAnimationFrame&&nativeCancelAnimationFrame){const unpatchedRequestAnimationFrame=nativeRequestAnimationFrame[Zone.__symbol__("OriginalDelegate")];unpatchedRequestAnimationFrame&&(nativeRequestAnimationFrame=unpatchedRequestAnimationFrame);const unpatchedCancelAnimationFrame=nativeCancelAnimationFrame[Zone.__symbol__("OriginalDelegate")];unpatchedCancelAnimationFrame&&(nativeCancelAnimationFrame=unpatchedCancelAnimationFrame)}return{nativeRequestAnimationFrame:nativeRequestAnimationFrame,nativeCancelAnimationFrame:nativeCancelAnimationFrame}}().nativeRequestAnimationFrame,function(zone){const delayChangeDetectionForEventsDelegate=()=>{!function(zone){-1===zone.lastRequestAnimationFrameId&&(zone.lastRequestAnimationFrameId=zone.nativeRequestAnimationFrame.call(_global,()=>{zone.fakeTopEventTask||(zone.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{zone.lastRequestAnimationFrameId=-1,updateMicroTaskStatus(zone),checkStable(zone)},void 0,()=>{},()=>{})),zone.fakeTopEventTask.invoke()}),updateMicroTaskStatus(zone))}(zone)};zone._inner=zone._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{(zone.shouldCoalesceEventChangeDetection&&"eventTask"===task.type||zone.shouldCoalesceRunChangeDetection)&&delayChangeDetectionForEventsDelegate(),onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{zone.shouldCoalesceRunChangeDetection&&delayChangeDetectionForEventsDelegate(),onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?(zone._hasPendingMicrotasks=hasTaskState.microTask,updateMicroTaskStatus(zone),checkStable(zone)):"macroTask"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask("NgZoneEvent: "+name,fn,EMPTY_PAYLOAD,noop,noop);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function updateMicroTaskStatus(zone){zone.hasPendingMicrotasks=!!(zone._hasPendingMicrotasks||(zone.shouldCoalesceEventChangeDetection||zone.shouldCoalesceRunChangeDetection)&&-1!==zone.lastRequestAnimationFrameId)}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new EventEmitter,this.onMicrotaskEmpty=new EventEmitter,this.onStable=new EventEmitter,this.onError=new EventEmitter}run(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runGuarded(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runOutsideAngular(fn){return fn()}runTask(fn,applyThis,applyArgs,name){return fn.apply(applyThis,applyArgs)}}let Testability=(()=>{class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}return Testability.fac=function(t){return new(t||Testability)(inject(NgZone))},Testability.prov=defineInjectable({token:Testability,factory:Testability.fac}),Testability})(),TestabilityRegistry=(()=>{class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}return TestabilityRegistry.fac=function(t){return new(t||TestabilityRegistry)},TestabilityRegistry.prov=defineInjectable({token:TestabilityRegistry,factory:TestabilityRegistry.fac}),TestabilityRegistry})();class _NoopGetTestability{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}}let core_platform,_testabilityGetter=new _NoopGetTestability,_devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken("AllowMultipleToken");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0},{provide:INJECTOR_SCOPE,useValue:"platform"});!function(injector){if(core_platform&&!core_platform.destroyed&&!core_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");core_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);inits&&inits.forEach(init=>init())}(Injector.create({providers:injectedProviders,name:desc}))}return function(requiredToken){const platform=getPlatform();if(!platform)throw new Error("No platform exists!");if(!platform.injector.get(requiredToken,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return platform}(marker)}}function getPlatform(){return core_platform&&!core_platform.destroyed?core_platform:null}let PlatformRef=(()=>{class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=function(ngZoneOption,extra){let ngZone;return ngZone="noop"===ngZoneOption?new NoopNgZone:("zone.js"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode(),shouldCoalesceEventChangeDetection:!!(null==extra?void 0:extra.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==extra?void 0:extra.ngZoneRunCoalescing)}),ngZone}(options?options.ngZone:void 0,{ngZoneEventCoalescing:options&&options.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:options&&options.ngZoneRunCoalescing||!1}),providers=[{provide:NgZone,useValue:ngZone}];return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ngZone.runOutsideAngular(()=>{const subscription=ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}});moduleRef.onDestroy(()=>{remove(this._modules,moduleRef),subscription.unsubscribe()})}),function(errorHandler,ngZone,callback){try{const result=callback();return core_isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>(setLocaleId(moduleRef.injector.get(LOCALE_ID$1,"en-US")||"en-US"),this._moduleDoBootstrap(moduleRef),moduleRef))})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return function(injector,options,moduleType){const moduleFactory=new NgModuleFactory$1(moduleType);return Promise.resolve(moduleFactory)}(0,0,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}return PlatformRef.fac=function(t){return new(t||PlatformRef)(inject(Injector))},PlatformRef.prov=defineInjectable({token:PlatformRef,factory:PlatformRef.fac}),PlatformRef})();function optionsReducer(dst,objs){return Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign(Object.assign({},dst),objs)}let core_ApplicationRef=(()=>{class ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable_Observable(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable_Observable(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()}});this.isStable=merge(isCurrentlyStable,isStable.pipe(share()))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=componentFactory.isBoundToModule?void 0:this._injector.get(NgModuleRef),compRef=componentFactory.create(Injector.NULL,[],rootSelectorOrNode||componentFactory.selector,ngModule),nativeElement=compRef.location.nativeElement,testability=compRef.injector.get(Testability,null),testabilityRegistry=testability&&compRef.injector.get(TestabilityRegistry);return testability&&testabilityRegistry&&testabilityRegistry.registerApplication(nativeElement,testability),compRef.onDestroy(()=>{this.detachView(compRef.hostView),remove(this.components,compRef),testabilityRegistry&&testabilityRegistry.unregisterApplication(nativeElement)}),this._loadComponent(compRef),isDevMode()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),compRef}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let view of this._views)view.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return ApplicationRef.fac=function(t){return new(t||ApplicationRef)(inject(NgZone),inject(Console),inject(Injector),inject(ErrorHandler),inject(ComponentFactoryResolver),inject(ApplicationInitStatus))},ApplicationRef.prov=defineInjectable({token:ApplicationRef,factory:ApplicationRef.fac}),ApplicationRef})();function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}class NgModuleFactoryLoader{}class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let SystemJsNgModuleLoader=(()=>{class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split("#");return void 0===exportName&&(exportName="default"),__webpack_require__("zn8P")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split("#"),factoryClassSuffix="NgFactory";return void 0===exportName&&(exportName="default",factoryClassSuffix=""),__webpack_require__("zn8P")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}return SystemJsNgModuleLoader.fac=function(t){return new(t||SystemJsNgModuleLoader)(inject(Compiler),inject(SystemJsNgModuleLoaderConfig,8))},SystemJsNgModuleLoader.prov=defineInjectable({token:SystemJsNgModuleLoader,factory:SystemJsNgModuleLoader.fac}),SystemJsNgModuleLoader})();function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}const platformCore=createPlatformFactory(null,"core",[{provide:PLATFORM_ID,useValue:"unknown"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]),APPLICATION_MODULE_PROVIDERS=[{provide:core_ApplicationRef,useClass:core_ApplicationRef,deps:[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]},{provide:SCHEDULER,deps:[NgZone],useFactory:function(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}},{provide:ApplicationInitStatus,useClass:ApplicationInitStatus,deps:[[new Optional,APP_INITIALIZER]]},{provide:Compiler,useClass:Compiler,deps:[]},APP_ID_RANDOM_PROVIDER,{provide:IterableDiffers,useFactory:function(){return defaultIterableDiffers},deps:[]},{provide:KeyValueDiffers,useFactory:function(){return defaultKeyValueDiffers},deps:[]},{provide:LOCALE_ID$1,useFactory:function(locale){return setLocaleId(locale=locale||"undefined"!=typeof $localize&&$localize.locale||"en-US"),locale},deps:[[new Inject(LOCALE_ID$1),new Optional,new SkipSelf]]},{provide:DEFAULT_CURRENCY_CODE,useValue:"USD"}];let ApplicationModule=(()=>{class ApplicationModule{constructor(appRef){}}return ApplicationModule.mod=defineNgModule({type:ApplicationModule}),ApplicationModule.inj=defineInjector({factory:function(t){return new(t||ApplicationModule)(inject(core_ApplicationRef))},providers:APPLICATION_MODULE_PROVIDERS}),ApplicationModule})(),_DOM=null;function getDOM(){return _DOM}const common_DOCUMENT=new InjectionToken("DocumentToken");let common_PlatformLocation=(()=>{class PlatformLocation{}return PlatformLocation.fac=function(t){return new(t||PlatformLocation)},PlatformLocation.prov=defineInjectable({factory:useBrowserPlatformLocation,token:PlatformLocation,providedIn:"platform"}),PlatformLocation})();function useBrowserPlatformLocation(){return inject(common_BrowserPlatformLocation)}const LOCATION_INITIALIZED=new InjectionToken("Location Initialized");let common_BrowserPlatformLocation=(()=>{class BrowserPlatformLocation extends common_PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return BrowserPlatformLocation.fac=function(t){return new(t||BrowserPlatformLocation)(inject(common_DOCUMENT))},BrowserPlatformLocation.prov=defineInjectable({factory:createBrowserPlatformLocation,token:BrowserPlatformLocation,providedIn:"platform"}),BrowserPlatformLocation})();function supportsState(){return!!window.history.pushState}function createBrowserPlatformLocation(){return new common_BrowserPlatformLocation(inject(common_DOCUMENT))}function joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end}function stripTrailingSlash(url){const match=url.match(/#|\?|$/),pathEndIdx=match&&match.index||url.length;return url.slice(0,pathEndIdx-("/"===url[pathEndIdx-1]?1:0))+url.slice(pathEndIdx)}function normalizeQueryParams(params){return params&&"?"!==params[0]?"?"+params:params}let common_LocationStrategy=(()=>{class LocationStrategy{}return LocationStrategy.fac=function(t){return new(t||LocationStrategy)},LocationStrategy.prov=defineInjectable({factory:provideLocationStrategy,token:LocationStrategy,providedIn:"root"}),LocationStrategy})();function provideLocationStrategy(platformLocation){const location=inject(common_DOCUMENT).location;return new common_PathLocationStrategy(inject(common_PlatformLocation),location&&location.origin||"")}const APP_BASE_HREF=new InjectionToken("appBaseHref");let common_PathLocationStrategy=(()=>{class PathLocationStrategy extends common_LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return PathLocationStrategy.fac=function(t){return new(t||PathLocationStrategy)(inject(common_PlatformLocation),inject(APP_BASE_HREF,8))},PathLocationStrategy.prov=defineInjectable({token:PathLocationStrategy,factory:PathLocationStrategy.fac}),PathLocationStrategy})(),common_HashLocationStrategy=(()=>{class HashLocationStrategy extends common_LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref="",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path="#"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return HashLocationStrategy.fac=function(t){return new(t||HashLocationStrategy)(inject(common_PlatformLocation),inject(APP_BASE_HREF,8))},HashLocationStrategy.prov=defineInjectable({token:HashLocationStrategy,factory:HashLocationStrategy.fac}),HashLocationStrategy})(),common_Location=(()=>{class Location{constructor(platformStrategy,platformLocation){this._subject=new EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=""){return this.path()==this.normalize(path+normalizeQueryParams(query))}normalize(url){return Location.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&"/"!==url[0]&&(url="/"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query="",state=null){this._platformStrategy.pushState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}replaceState(path,query="",state=null){this._platformStrategy.replaceState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(url="",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}}return Location.fac=function(t){return new(t||Location)(inject(common_LocationStrategy),inject(common_PlatformLocation))},Location.normalizeQueryParams=normalizeQueryParams,Location.joinWithSlash=joinWithSlash,Location.stripTrailingSlash=stripTrailingSlash,Location.prov=defineInjectable({factory:createLocation,token:Location,providedIn:"root"}),Location})();function createLocation(){return new common_Location(inject(common_LocationStrategy),inject(common_PlatformLocation))}function _stripIndexHtml(url){return url.replace(/\/index.html$/,"")}var Plural=function(Plural){return Plural[Plural.Zero=0]="Zero",Plural[Plural.One=1]="One",Plural[Plural.Two=2]="Two",Plural[Plural.Few=3]="Few",Plural[Plural.Many=4]="Many",Plural[Plural.Other=5]="Other",Plural}({});class NgLocalization{}let common_NgLocaleLocalization=(()=>{class NgLocaleLocalization extends NgLocalization{constructor(locale){super(),this.locale=locale}getPluralCategory(value,locale){switch(function(locale){return function(locale){const normalizedLocale=function(locale){return locale.toLowerCase().replace(/_/g,"-")}(locale);let match=getLocaleData(normalizedLocale);if(match)return match;const parentLocale=normalizedLocale.split("-")[0];if(match=getLocaleData(parentLocale),match)return match;if("en"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale "${locale}".`)}(locale)[LocaleDataIndex.PluralCase]}(locale||this.locale)(value)){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}}}return NgLocaleLocalization.fac=function(t){return new(t||NgLocaleLocalization)(inject(LOCALE_ID$1))},NgLocaleLocalization.prov=defineInjectable({token:NgLocaleLocalization,factory:NgLocaleLocalization.fac}),NgLocaleLocalization})();function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(";")){const eqIndex=cookie.indexOf("="),[cookieName,cookieValue]=-1==eqIndex?[cookie,""]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}let common_NgClass=(()=>{class NgClass{constructor(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(value){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof value?value.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(value){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof value?value.split(/\s+/):value,this._rawClass&&(isListLikeIterable(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const iterableChanges=this._iterableDiffer.diff(this._rawClass);iterableChanges&&this._applyIterableChanges(iterableChanges)}else if(this._keyValueDiffer){const keyValueChanges=this._keyValueDiffer.diff(this._rawClass);keyValueChanges&&this._applyKeyValueChanges(keyValueChanges)}}_applyKeyValueChanges(changes){changes.forEachAddedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachRemovedItem(record=>{record.previousValue&&this._toggleClass(record.key,!1)})}_applyIterableChanges(changes){changes.forEachAddedItem(record=>{if("string"!=typeof record.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${stringify(record.item)}`);this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(record=>this._toggleClass(record.item,!1))}_applyClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!0)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!!rawClassVal[klass])))}_removeClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!1)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!1)))}_toggleClass(klass,enabled){(klass=klass.trim())&&klass.split(/\s+/g).forEach(klass=>{enabled?this._renderer.addClass(this._ngEl.nativeElement,klass):this._renderer.removeClass(this._ngEl.nativeElement,klass)})}}return NgClass.fac=function(t){return new(t||NgClass)(directiveInject(IterableDiffers),directiveInject(KeyValueDiffers),directiveInject(ElementRef),directiveInject(Renderer2))},NgClass.dir=defineDirective({type:NgClass,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),NgClass})();class NgForOfContext{constructor($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let common_NgForOf=(()=>{class NgForOf{constructor(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0}set ngForTrackBy(fn){this._trackByFn=fn}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(value){value&&(this._template=value)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const value=this._ngForOf;if(!this._differ&&value)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch(_a){throw new Error(`Cannot find a differ supporting object '${value}' of type '${type=value,type.name||typeof type}'. NgFor only supports binding to Iterables such as Arrays.`)}}var type;if(this._differ){const changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}}_applyChanges(changes){const insertTuples=[];changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex){const view=this._viewContainer.createEmbeddedView(this._template,new NgForOfContext(null,this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex),tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}else if(null==currentIndex)this._viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){const view=this._viewContainer.get(adjustedPreviousIndex);this._viewContainer.move(view,currentIndex);const tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}});for(let i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(let i=0,ilen=this._viewContainer.length;i<ilen;i++){const viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen,viewRef.context.ngForOf=this._ngForOf}changes.forEachIdentityChange(record=>{this._viewContainer.get(record.currentIndex).context.$implicit=record.item})}_perViewChange(view,record){view.context.$implicit=record.item}static ngTemplateContextGuard(dir,ctx){return!0}}return NgForOf.fac=function(t){return new(t||NgForOf)(directiveInject(ViewContainerRef),directiveInject(TemplateRef),directiveInject(IterableDiffers))},NgForOf.dir=defineDirective({type:NgForOf,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),NgForOf})();class RecordViewTuple{constructor(record,view){this.record=record,this.view=view}}let common_NgIf=(()=>{class NgIf{constructor(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=templateRef}set ngIf(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()}set ngIfThen(templateRef){assertTemplate("ngIfThen",templateRef),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()}set ngIfElse(templateRef){assertTemplate("ngIfElse",templateRef),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(dir,ctx){return!0}}return NgIf.fac=function(t){return new(t||NgIf)(directiveInject(ViewContainerRef),directiveInject(TemplateRef))},NgIf.dir=defineDirective({type:NgIf,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),NgIf})();class NgIfContext{constructor(){this.$implicit=null,this.ngIf=null}}function assertTemplate(property,templateRef){if(templateRef&&!templateRef.createEmbeddedView)throw new Error(`${property} must be a TemplateRef, but received '${stringify(templateRef)}'.`)}class SwitchView{constructor(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()}}let common_NgSwitch=(()=>{class NgSwitch{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(view){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(view)}_matchCase(value){const matched=value==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched}_updateDefaultCases(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(useDefault)}}}return NgSwitch.fac=function(t){return new(t||NgSwitch)},NgSwitch.dir=defineDirective({type:NgSwitch,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),NgSwitch})(),common_NgSwitchCase=(()=>{class NgSwitchCase{constructor(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return NgSwitchCase.fac=function(t){return new(t||NgSwitchCase)(directiveInject(ViewContainerRef),directiveInject(TemplateRef),directiveInject(common_NgSwitch,1))},NgSwitchCase.dir=defineDirective({type:NgSwitchCase,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),NgSwitchCase})(),common_NgSwitchDefault=(()=>{class NgSwitchDefault{constructor(viewContainer,templateRef,ngSwitch){ngSwitch._addDefault(new SwitchView(viewContainer,templateRef))}}return NgSwitchDefault.fac=function(t){return new(t||NgSwitchDefault)(directiveInject(ViewContainerRef),directiveInject(TemplateRef),directiveInject(common_NgSwitch,1))},NgSwitchDefault.dir=defineDirective({type:NgSwitchDefault,selectors:[["","ngSwitchDefault",""]]}),NgSwitchDefault})(),common_NgStyle=(()=>{class NgStyle{constructor(_ngEl,_differs,_renderer){this._ngEl=_ngEl,this._differs=_differs,this._renderer=_renderer,this._ngStyle=null,this._differ=null}set ngStyle(values){this._ngStyle=values,!this._differ&&values&&(this._differ=this._differs.find(values).create())}ngDoCheck(){if(this._differ){const changes=this._differ.diff(this._ngStyle);changes&&this._applyChanges(changes)}}_setStyle(nameAndUnit,value){const[name,unit]=nameAndUnit.split(".");null!=(value=null!=value&&unit?`${value}${unit}`:value)?this._renderer.setStyle(this._ngEl.nativeElement,name,value):this._renderer.removeStyle(this._ngEl.nativeElement,name)}_applyChanges(changes){changes.forEachRemovedItem(record=>this._setStyle(record.key,null)),changes.forEachAddedItem(record=>this._setStyle(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._setStyle(record.key,record.currentValue))}}return NgStyle.fac=function(t){return new(t||NgStyle)(directiveInject(ElementRef),directiveInject(KeyValueDiffers),directiveInject(Renderer2))},NgStyle.dir=defineDirective({type:NgStyle,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),NgStyle})();function invalidPipeArgumentError(type,value){return Error(`InvalidPipeArgument: '${value}' for pipe '${stringify(type)}'`)}class SubscribableStrategy{createSubscription(async,updateLatestValue){return async.subscribe({next:updateLatestValue,error:e=>{throw e}})}dispose(subscription){subscription.unsubscribe()}onDestroy(subscription){subscription.unsubscribe()}}class PromiseStrategy{createSubscription(async,updateLatestValue){return async.then(updateLatestValue,e=>{throw e})}dispose(subscription){}onDestroy(subscription){}}const _promiseStrategy=new PromiseStrategy,_subscribableStrategy=new SubscribableStrategy;let common_AsyncPipe=(()=>{class AsyncPipe{constructor(_ref){this._ref=_ref,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(obj){return this._obj?obj!==this._obj?(this._dispose(),this.transform(obj)):this._latestValue:(obj&&this._subscribe(obj),this._latestValue)}_subscribe(obj){this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,value=>this._updateLatestValue(obj,value))}_selectStrategy(obj){if(core_isPromise(obj))return _promiseStrategy;if(isSubscribable(obj))return _subscribableStrategy;throw invalidPipeArgumentError(AsyncPipe,obj)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())}}return AsyncPipe.fac=function(t){return new(t||AsyncPipe)(function(flags=InjectFlags.Default){const value=injectChangeDetectorRef(!0);if(null!=value||flags&InjectFlags.Optional)return value;throwProviderNotFoundError("ChangeDetectorRef")}())},AsyncPipe.pipe=definePipe({name:"async",type:AsyncPipe,pure:!1}),AsyncPipe})();const unicodeWordMatch=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let common_TitleCasePipe=(()=>{class TitleCasePipe{transform(value){if(null==value)return null;if("string"!=typeof value)throw invalidPipeArgumentError(TitleCasePipe,value);return value.replace(unicodeWordMatch,txt=>txt[0].toUpperCase()+txt.substr(1).toLowerCase())}}return TitleCasePipe.fac=function(t){return new(t||TitleCasePipe)},TitleCasePipe.pipe=definePipe({name:"titlecase",type:TitleCasePipe,pure:!0}),TitleCasePipe})(),common_KeyValuePipe=(()=>{class KeyValuePipe{constructor(differs){this.differs=differs,this.keyValues=[]}transform(input,compareFn=defaultComparator){if(!input||!(input instanceof Map)&&"object"!=typeof input)return null;this.differ||(this.differ=this.differs.find(input).create());const differChanges=this.differ.diff(input);return differChanges&&(this.keyValues=[],differChanges.forEachItem(r=>{this.keyValues.push({key:r.key,value:r.currentValue})}),this.keyValues.sort(compareFn)),this.keyValues}}return KeyValuePipe.fac=function(t){return new(t||KeyValuePipe)(directiveInject(KeyValueDiffers))},KeyValuePipe.pipe=definePipe({name:"keyvalue",type:KeyValuePipe,pure:!1}),KeyValuePipe})();function defaultComparator(keyValueA,keyValueB){const a=keyValueA.key,b=keyValueB.key;if(a===b)return 0;if(void 0===a)return 1;if(void 0===b)return-1;if(null===a)return 1;if(null===b)return-1;if("string"==typeof a&&"string"==typeof b)return a<b?-1:1;if("number"==typeof a&&"number"==typeof b)return a-b;if("boolean"==typeof a&&"boolean"==typeof b)return a<b?-1:1;const aString=String(a),bString=String(b);return aString==bString?0:aString<bString?-1:1}let common_CommonModule=(()=>{class CommonModule{}return CommonModule.mod=defineNgModule({type:CommonModule}),CommonModule.inj=defineInjector({factory:function(t){return new(t||CommonModule)},providers:[{provide:NgLocalization,useClass:common_NgLocaleLocalization}]}),CommonModule})(),common_ViewportScroller=(()=>{class ViewportScroller{}return ViewportScroller.prov=defineInjectable({token:ViewportScroller,providedIn:"root",factory:()=>new BrowserViewportScroller(inject(common_DOCUMENT),window)}),ViewportScroller})();class BrowserViewportScroller{constructor(document,window){this.document=document,this.window=window,this.offset=()=>[0,0]}setOffset(offset){this.offset=Array.isArray(offset)?()=>offset:offset}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(position){this.supportsScrolling()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(target){var _a;if(!this.supportsScrolling())return;const elSelected=null!==(_a=this.document.getElementById(target))&&void 0!==_a?_a:this.document.getElementsByName(target)[0];void 0!==elSelected&&(this.scrollToElement(elSelected),this.attemptFocus(elSelected))}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}attemptFocus(focusTarget){return focusTarget.focus(),this.document.activeElement===focusTarget}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const scrollRestorationDescriptor=getScrollRestorationProperty(this.window.history)||getScrollRestorationProperty(Object.getPrototypeOf(this.window.history));return!(!scrollRestorationDescriptor||!scrollRestorationDescriptor.writable&&!scrollRestorationDescriptor.set)}catch(_a){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(_a){return!1}}}function getScrollRestorationProperty(obj){return Object.getOwnPropertyDescriptor(obj,"scrollRestoration")}class platform_browser_BrowserDomAdapter extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var adapter;adapter=new platform_browser_BrowserDomAdapter,_DOM||(_DOM=adapter)}getProperty(el,name){return el[name]}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}getValue(el){return el.value}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}isShadowRoot(node){return node instanceof DocumentFragment}getGlobalEventTarget(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=baseElement||(baseElement=document.querySelector("base"),baseElement)?baseElement.getAttribute("href"):null;return null==href?null:(url=href,urlParsingNode||(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname);var url}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return parseCookieValue(document.cookie,name)}}let urlParsingNode,baseElement=null;const TRANSITION_ID=new InjectionToken("TRANSITION_ID"),SERVER_TRANSITION_PROVIDERS=[{provide:APP_INITIALIZER,useFactory:function(transitionId,document,injector){return()=>{injector.get(ApplicationInitStatus).donePromise.then(()=>{const dom=getDOM();Array.prototype.slice.apply(document.querySelectorAll("style[ng-transition]")).filter(el=>el.getAttribute("ng-transition")===transitionId).forEach(el=>dom.remove(el))})}},deps:[TRANSITION_ID,common_DOCUMENT,Injector],multi:!0}];class platform_browser_BrowserGetTestability{static init(){var getter;getter=new platform_browser_BrowserGetTestability,_testabilityGetter=getter}addToWindow(registry){_global.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return testability},_global.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_global.getAllAngularRootElements=()=>registry.getAllRootElements(),_global.frameworkStabilizers||(_global.frameworkStabilizers=[]),_global.frameworkStabilizers.push(callback=>{const testabilities=_global.getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,elem.host,!0):this.findTestabilityInTree(registry,elem.parentElement,!0):null}}const EVENT_MANAGER_PLUGINS=new InjectionToken("EventManagerPlugins");let platform_browser_EventManager=(()=>{class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error(`No event manager plugin found for event ${eventName}`)}}return EventManager.fac=function(t){return new(t||EventManager)(inject(EVENT_MANAGER_PLUGINS),inject(NgZone))},EventManager.prov=defineInjectable({token:EventManager,factory:EventManager.fac}),EventManager})();class platform_browser_EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}let platform_browser_SharedStylesHost=(()=>{class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}return SharedStylesHost.fac=function(t){return new(t||SharedStylesHost)},SharedStylesHost.prov=defineInjectable({token:SharedStylesHost,factory:SharedStylesHost.fac}),SharedStylesHost})(),platform_browser_DomSharedStylesHost=(()=>{class DomSharedStylesHost extends platform_browser_SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement("style");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>getDOM().remove(styleNode))}}return DomSharedStylesHost.fac=function(t){return new(t||DomSharedStylesHost)(inject(common_DOCUMENT))},DomSharedStylesHost.prov=defineInjectable({token:DomSharedStylesHost,factory:DomSharedStylesHost.fac}),DomSharedStylesHost})();const NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},COMPONENT_REGEX=/%COMP%/g;function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{if("__ngUnwrap__"===event)return eventHandler;!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}let platform_browser_DomRendererFactory2=(()=>{class DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new platform_browser_DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case ViewEncapsulation.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case 1:case ViewEncapsulation.ShadowDom:return new ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return DomRendererFactory2.fac=function(t){return new(t||DomRendererFactory2)(inject(platform_browser_EventManager),inject(platform_browser_DomSharedStylesHost),inject(APP_ID))},DomRendererFactory2.prov=defineInjectable({token:DomRendererFactory2,factory:DomRendererFactory2.fac}),DomRendererFactory2})();class platform_browser_DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector "${selectorOrNode}" did not match any elements`);return preserveContent||(el.textContent=""),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+":"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&(RendererStyleFlags2.DashCase|RendererStyleFlags2.Important)?el.style.setProperty(style,value,flags&RendererStyleFlags2.Important?"important":""):el.style[style]=value}removeStyle(el,style,flags){flags&RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""}setProperty(el,name,value){el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}class EmulatedEncapsulationDomRenderer2 extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+"-"+component.id,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr="_ngcontent-%COMP%".replace(COMPONENT_REGEX,appId+"-"+component.id),this.hostAttr="_nghost-%COMP%".replace(COMPONENT_REGEX,appId+"-"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,"")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,""),el}}class ShadowDomRenderer extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.shadowRoot=hostEl.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement("style");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}let platform_browser_DomEventsPlugin=(()=>{class DomEventsPlugin extends platform_browser_EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return!0}addEventListener(element,eventName,handler){return element.addEventListener(eventName,handler,!1),()=>this.removeEventListener(element,eventName,handler)}removeEventListener(target,eventName,callback){return target.removeEventListener(eventName,callback)}}return DomEventsPlugin.fac=function(t){return new(t||DomEventsPlugin)(inject(common_DOCUMENT))},DomEventsPlugin.prov=defineInjectable({token:DomEventsPlugin,factory:DomEventsPlugin.fac}),DomEventsPlugin})();const EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},HAMMER_GESTURE_CONFIG=new InjectionToken("HammerGestureConfig"),HAMMER_LOADER=new InjectionToken("HammerLoader");let platform_browser_HammerGestureConfig=(()=>{class HammerGestureConfig{constructor(){this.events=[],this.overrides={}}buildHammer(element){const mc=new Hammer(element,this.options);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});for(const eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc}}return HammerGestureConfig.fac=function(t){return new(t||HammerGestureConfig)},HammerGestureConfig.prov=defineInjectable({token:HammerGestureConfig,factory:HammerGestureConfig.fac}),HammerGestureConfig})();const HAMMER_PROVIDERS__PRE_R3__=[{provide:EVENT_MANAGER_PLUGINS,useClass:(()=>{class HammerGesturesPlugin extends platform_browser_EventManagerPlugin{constructor(doc,_config,console,loader){super(doc),this._config=_config,this.console=console,this.loader=loader}supports(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${eventName}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(element,eventName,handler){const zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){let cancelRegistration=!1,deregister=()=>{cancelRegistration=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister=()=>{});cancelRegistration||(deregister=this.addEventListener(element,eventName,handler))}).catch(()=>{this.console.warn(`The "${eventName}" event cannot be bound because the custom Hammer.JS loader failed.`),deregister=()=>{}}),()=>{deregister()}}return zone.runOutsideAngular(()=>{const mc=this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded(function(){handler(eventObj)})};return mc.on(eventName,callback),()=>{mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}})}isCustomEvent(eventName){return this._config.events.indexOf(eventName)>-1}}return HammerGesturesPlugin.fac=function(t){return new(t||HammerGesturesPlugin)(inject(common_DOCUMENT),inject(HAMMER_GESTURE_CONFIG),inject(Console),inject(HAMMER_LOADER,8))},HammerGesturesPlugin.prov=defineInjectable({token:HammerGesturesPlugin,factory:HammerGesturesPlugin.fac}),HammerGesturesPlugin})(),multi:!0,deps:[common_DOCUMENT,HAMMER_GESTURE_CONFIG,Console,[new Optional,HAMMER_LOADER]]},{provide:HAMMER_GESTURE_CONFIG,useClass:platform_browser_HammerGestureConfig,deps:[]}];let platform_browser_HammerModule=(()=>{class HammerModule{}return HammerModule.mod=defineNgModule({type:HammerModule}),HammerModule.inj=defineInjector({factory:function(t){return new(t||HammerModule)},providers:HAMMER_PROVIDERS__PRE_R3__}),HammerModule})();const MODIFIER_KEYS=["alt","control","meta","shift"],_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};let platform_browser_KeyEventsPlugin=(()=>{class KeyEventsPlugin extends platform_browser_EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey="";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey="",key=function(event){let key=event.key;if(null==key){if(key=event.keyIdentifier,null==key)return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}(event);return key=key.toLowerCase()," "===key?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(modifierName=>{modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+".")}),fullKey+=key,fullKey}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case"esc":return"escape";default:return keyName}}}return KeyEventsPlugin.fac=function(t){return new(t||KeyEventsPlugin)(inject(common_DOCUMENT))},KeyEventsPlugin.prov=defineInjectable({token:KeyEventsPlugin,factory:KeyEventsPlugin.fac}),KeyEventsPlugin})(),platform_browser_DomSanitizer=(()=>{class DomSanitizer{}return DomSanitizer.fac=function(t){return new(t||DomSanitizer)},DomSanitizer.prov=defineInjectable({factory:function(){return inject(platform_browser_DomSanitizerImpl)},token:DomSanitizer,providedIn:"root"}),DomSanitizer})(),platform_browser_DomSanitizerImpl=(()=>{class DomSanitizerImpl extends platform_browser_DomSanitizer{constructor(_doc){super(),this._doc=_doc}sanitize(ctx,value){if(null==value)return null;switch(ctx){case SecurityContext.NONE:return value;case SecurityContext.HTML:return allowSanitizationBypassAndThrow(value,"HTML")?unwrapSafeValue(value):function(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||function(defaultDoc){const inertDocumentHelper=new InertDocumentHelper(defaultDoc);return function(){try{return!!(new window.DOMParser).parseFromString(trustedHTMLFromString(""),"text/html")}catch(_a){return!1}}()?new DOMParserHelper(inertDocumentHelper):inertDocumentHelper}(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);return trustedHTMLFromString((new SanitizingHtmlSerializer).sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement))}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.removeChild(parent.firstChild)}}}(this._doc,String(value)).toString();case SecurityContext.STYLE:return allowSanitizationBypassAndThrow(value,"Style")?unwrapSafeValue(value):value;case SecurityContext.SCRIPT:if(allowSanitizationBypassAndThrow(value,"Script"))return unwrapSafeValue(value);throw new Error("unsafe value used in a script context");case SecurityContext.URL:return getSanitizationBypassType(value),allowSanitizationBypassAndThrow(value,"URL")?unwrapSafeValue(value):_sanitizeUrl(String(value));case SecurityContext.RESOURCE_URL:if(allowSanitizationBypassAndThrow(value,"ResourceURL"))return unwrapSafeValue(value);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ctx} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(value){return new SafeHtmlImpl(value)}bypassSecurityTrustStyle(value){return new SafeStyleImpl(value)}bypassSecurityTrustScript(value){return new SafeScriptImpl(value)}bypassSecurityTrustUrl(value){return new SafeUrlImpl(value)}bypassSecurityTrustResourceUrl(value){return new SafeResourceUrlImpl(value)}}return DomSanitizerImpl.fac=function(t){return new(t||DomSanitizerImpl)(inject(common_DOCUMENT))},DomSanitizerImpl.prov=defineInjectable({factory:function(){return injector=inject(INJECTOR$1),new platform_browser_DomSanitizerImpl(injector.get(common_DOCUMENT));var injector},token:DomSanitizerImpl,providedIn:"root"}),DomSanitizerImpl})();const platformBrowser=createPlatformFactory(platformCore,"browser",[{provide:PLATFORM_ID,useValue:"browser"},{provide:PLATFORM_INITIALIZER,useValue:function(){platform_browser_BrowserDomAdapter.makeCurrent(),platform_browser_BrowserGetTestability.init()},multi:!0},{provide:common_DOCUMENT,useFactory:function(){return function(document){DOCUMENT=document}(document),document},deps:[]}]),BROWSER_MODULE_PROVIDERS=[[],{provide:INJECTOR_SCOPE,useValue:"root"},{provide:ErrorHandler,useFactory:function(){return new ErrorHandler},deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:platform_browser_DomEventsPlugin,multi:!0,deps:[common_DOCUMENT,NgZone,PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:platform_browser_KeyEventsPlugin,multi:!0,deps:[common_DOCUMENT]},[],{provide:platform_browser_DomRendererFactory2,useClass:platform_browser_DomRendererFactory2,deps:[platform_browser_EventManager,platform_browser_DomSharedStylesHost,APP_ID]},{provide:RendererFactory2,useExisting:platform_browser_DomRendererFactory2},{provide:platform_browser_SharedStylesHost,useExisting:platform_browser_DomSharedStylesHost},{provide:platform_browser_DomSharedStylesHost,useClass:platform_browser_DomSharedStylesHost,deps:[common_DOCUMENT]},{provide:Testability,useClass:Testability,deps:[NgZone]},{provide:platform_browser_EventManager,useClass:platform_browser_EventManager,deps:[EVENT_MANAGER_PLUGINS,NgZone]},[]];let platform_browser_BrowserModule=(()=>{class BrowserModule{constructor(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(params){return{ngModule:BrowserModule,providers:[{provide:APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:APP_ID},SERVER_TRANSITION_PROVIDERS]}}}return BrowserModule.mod=defineNgModule({type:BrowserModule}),BrowserModule.inj=defineInjector({factory:function(t){return new(t||BrowserModule)(inject(BrowserModule,12))},providers:BROWSER_MODULE_PROVIDERS,imports:[common_CommonModule,ApplicationModule]}),BrowserModule})();function of(...args){let scheduler=args[args.length-1];return isScheduler(scheduler)?(args.pop(),scheduleArray(args,scheduler)):fromArray(args)}"undefined"!=typeof window&&window;class BehaviorSubject_BehaviorSubject extends Subject_Subject{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value}next(value){super.next(this._value=value)}}const NONE={};function combineLatest(...observables){let resultSelector=null,scheduler=null;return isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&isArray(observables[0])&&(observables=observables[0]),fromArray(observables,scheduler).lift(new CombineLatestOperator(resultSelector))}class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,toRespond=this.toRespond?values[outerIndex]===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}const EmptyError=(()=>{function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return EmptyErrorImpl.prototype=Object.create(Error.prototype),EmptyErrorImpl})();function concat(...observables){return mergeAll(1)(of(...observables))}const empty_EMPTY=new Observable_Observable(subscriber=>subscriber.complete());function empty_empty(scheduler){return scheduler?function(scheduler){return new Observable_Observable(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):empty_EMPTY}function defer(observableFactory){return new Observable_Observable(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?from_from(input):empty_empty()).subscribe(subscriber)})}function switchMap(project,resultSelector){return"function"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>from_from(project(a,i)).pipe(map_map((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,value,index),destination=this.destination;destination.add(innerSubscriber),this.innerSubscription=subscribeToResult(this,result,void 0,void 0,innerSubscriber),this.innerSubscription!==innerSubscriber&&destination.add(this.innerSubscription)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}const ArgumentOutOfRangeError=(()=>{function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl})();function take(count){return source=>0===count?empty_empty():source.lift(new take_TakeOperator(count))}class take_TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new take_TakeSubscriber(subscriber,this.total))}}class take_TakeSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}function startWith(...array){const scheduler=array[array.length-1];return isScheduler(scheduler)?(array.pop(),source=>concat(array,source,scheduler)):source=>concat(array,source)}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber_Subscriber{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}function filter_filter(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}}class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new filter_FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class filter_FilterSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}function catchError(selector){return function(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber);const innerSubscription=subscribeToResult(this,result,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&this.add(innerSubscription)}}}function concatMap(project,resultSelector){return mergeMap(project,resultSelector,1)}function takeLast(count){return function(source){return 0===count?empty_empty():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}function throwIfEmpty(errorFactory=defaultErrorFactory){return source=>source.lift(new ThrowIfEmptyOperator(errorFactory))}class ThrowIfEmptyOperator{constructor(errorFactory){this.errorFactory=errorFactory}call(subscriber,source){return source.subscribe(new throwIfEmpty_ThrowIfEmptySubscriber(subscriber,this.errorFactory))}}class throwIfEmpty_ThrowIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,errorFactory){super(destination),this.errorFactory=errorFactory,this.hasValue=!1}_next(value){this.hasValue=!0,this.destination.next(value)}_complete(){if(this.hasValue)return this.destination.complete();{let err;try{err=this.errorFactory()}catch(e){err=e}this.destination.error(err)}}}function defaultErrorFactory(){return new EmptyError}function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class defaultIfEmpty_DefaultIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function first_first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter_filter((v,i)=>predicate(v,i,source)):identity,take(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}function noop_noop(){}function tap(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber_Subscriber{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop_noop,this._tapError=noop_noop,this._tapComplete=noop_noop,this._tapError=error||noop_noop,this._tapComplete=complete||noop_noop,isFunction(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop_noop,this._tapError=observerOrNext.error||noop_noop,this._tapComplete=observerOrNext.complete||noop_noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}function finalize(callback){return source=>source.lift(new FinallyOperator(callback))}class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber_Subscriber{constructor(destination,callback){super(destination),this.add(new Subscription_Subscription(callback))}}class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger="imperative",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return Object.prototype.hasOwnProperty.call(this.params,name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}function navigationCancelingError(message){const error=Error("NavigationCancelingError: "+message);return error.ngNavigationCancelingError=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}function shallowEqual(a,b){const k1=a?Object.keys(a):void 0,k2=b?Object.keys(b):void 0;if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(key=k1[i],!equalArraysOrString(a[key],b[key]))return!1;return!0}function equalArraysOrString(a,b){if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;const aSorted=[...a].sort(),bSorted=[...b].sort();return aSorted.every((val,index)=>bSorted[index]===val)}return a===b}function router_flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return isObservable(value)?value:core_isPromise(value)?from_from(Promise.resolve(value)):of(value)}function containsTree(container,containee,exact){return exact?function(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&equalSegmentGroups(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>equalArraysOrString(container[key],containee[key]))}(container.queryParams,containee.queryParams)&&containsSegmentGroup(container.root,containee.root)}function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}function containsSegmentGroup(container,containee){return containsSegmentGroupHelper(container,containee,containee.segments)}function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length)return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren();if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&!!container.children.primary&&containsSegmentGroupHelper(container.children.primary,containee,next)}}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){var s;return`/${serializeSegment(tree.root,!0)}${function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join("&"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?`?${strParams.join("&")}`:""}(tree.queryParams)}${"string"==typeof tree.fragment?`#${s=tree.fragment,encodeURI(s)}`:""}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join("/")}function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children.primary?serializeSegment(segment.children.primary,!1):"",children=[];return forEach(segment.children,(v,k)=>{"primary"!==k&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join("//")})`:primary}{const children=function(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{"primary"===childOutlet&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{"primary"!==childOutlet&&(res=res.concat(fn(child,childOutlet)))}),res}(segment,(v,k)=>"primary"===k?[serializeSegment(segment.children.primary,!1)]:[`${k}:${serializeSegment(v,!1)}`]);return 1===Object.keys(segment.children).length&&null!=segment.children.primary?`${serializePaths(segment)}/${children[0]}`:`${serializePaths(segment)}/(${children.join("//")})`}}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return`${encodeUriSegment(path.path)}${params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join("")}`;var params}const SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:""}const QUERY_PARAM_RE=/^[^=?&#]+/,QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional("?"))do{this.parseQueryParam(params)}while(this.consumeOptional("&"));return params}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());let children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));let res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res.primary=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(";");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=matchSegments(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:""}(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:""}(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(currentVal=[currentVal],params[decodedKey]=currentVal),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if("/"!==next&&")"!==next&&";"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName;path.indexOf(":")>-1?(outletName=path.substr(0,path.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName="primary");const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children.primary:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected "${str}".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},"",{},"primary",rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment("",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(""),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,"primary",rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map_map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map_map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy="emptyOnly"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if("always"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign(Object.assign({},res.params),curr.params),data:Object.assign(Object.assign({},res.data),curr.data),resolve:Object.assign(Object.assign({},res.resolve),curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(", ")} } `:"";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){var as,bs;return shallowEqual(a.params,b.params)&&equalPath(as=a.url,bs=b.url)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters))&&!(!a.parent!=!b.parent)&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(child.value,p.value.snapshot))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return setFutureSnapshotsOfActivatedRoutes(curr,tree),tree}{const value=new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject((c=curr.value).url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}var c}function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(curr.children.length!==result.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function isCommandWithOutlets(command){return"object"==typeof command&&null!=command&&command.outlets}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),new UrlTree(urlTree.root===oldSegmentGroup?newSegmentGroup:replaceSegment(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error("Root segment cannot have matrix parameters");const cmdWithOutlet=commands.find(isCommandWithOutlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],command=commands[currentCommandIndex];if(isCommandWithOutlets(command))break;const curr=`${command}`,next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children.primary=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return isCommandWithOutlets(commands[0])?commands[0].outlets:{primary:commands}}(commands),children={};return forEach(outlets,(commands,outlet)=>{"string"==typeof commands&&(commands=[commands]),null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){const command=commands[i];if(isCommandWithOutlets(command)){const children=createNewSegmentChildren(command.outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){paths.push(new UrlSegment(segmentGroup.segments[startIndex].path,router_stringify(commands[0]))),i++;continue}const curr=isCommandWithOutlets(command)?command.outlets.primary:`${command}`,next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,router_stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{"string"==typeof commands&&(commands=[commands]),null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function router_stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet),contexts=context&&route.value.component?context.children:parentContexts,children=nodeChildrenAsMap(route);for(const childOutlet of Object.keys(children))this.deactivateRouteAndItsChildren(children[childOutlet],contexts);context&&context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function(snapshot){for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(future.snapshot),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function router_isFunction(v){return"function"==typeof v}function isUrlTree(v){return v instanceof UrlTree}const INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return switchMap(obs=>combineLatest(obs.map(o=>o.pipe(take(1),startWith(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),filter_filter(item=>item!==INITIAL_VALUE),map_map(item=>isUrlTree(item)?item:!0===item),take(1)))}let router_EmptyOutletComponent=(()=>{class EmptyOutletComponent{}return EmptyOutletComponent.fac=function(t){return new(t||EmptyOutletComponent)},EmptyOutletComponent.cmp=defineComponent({type:EmptyOutletComponent,selectors:[["ng-component"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&element(0,"router-outlet")},directives:function(){return[router_RouterOutlet]},encapsulation:2}),EmptyOutletComponent})();function validateConfig(config,parentPath=""){for(let i=0;i<config.length;i++){const route=config[i];router_validateNode(route,getFullPath(parentPath,route))}}function router_validateNode(route,fullPath){route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:"":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign(Object.assign({},r),{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&"primary"!==c.outlet&&(c.component=router_EmptyOutletComponent),c}function getOutlet(route){return route.outlet||"primary"}function sortByMatchingOutlets(routes,outletName){const sortedConfig=routes.filter(r=>getOutlet(r)===outletName);return sortedConfig.push(...routes.filter(r=>getOutlet(r)!==outletName)),sortedConfig}const noMatch={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function match(segmentGroup,route,segments){var _a;if(""===route.path)return"full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?Object.assign({},noMatch):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)return Object.assign({},noMatch);const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign(Object.assign({},posParams),res.consumed[res.consumed.length-1].parameters):posParams;return{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters,positionalParamSegments:null!==(_a=res.posParams)&&void 0!==_a?_a:{}}}function split(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution="corrected"){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&"primary"!==getOutlet(r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res.primary=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(""===r.path&&"primary"!==getOutlet(r)){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift="legacy"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet(r)]=s}return Object.assign(Object.assign({},children),res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||"full"!==r.pathMatch)&&""===r.path}function isImmediateMatch(route,rawSegment,segments,outlet){return!!(getOutlet(route)===outlet||"primary"!==outlet&&emptyPathMatch(rawSegment,segments,route))&&("**"===route.path||match(rawSegment,route,segments).matched)}function noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch$1(segmentGroup){return new Observable_Observable(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable_Observable(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable_Observable(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(NgModuleRef)}apply(){const splitGroup=split(this.urlTree.root,[],[],this.config).segmentGroup,rootSegmentGroup=new UrlSegmentGroup(splitGroup.segments,splitGroup.children);return this.expandSegmentGroup(this.ngModule,this.config,rootSegmentGroup,"primary").pipe(map_map(rootSegmentGroup=>this.createUrlTree(squashSegmentGroup(rootSegmentGroup),this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,"primary").pipe(map_map(rootSegmentGroup=>this.createUrlTree(squashSegmentGroup(rootSegmentGroup),tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{primary:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(map_map(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){const childOutlets=[];for(const child of Object.keys(segmentGroup.children))"primary"===child?childOutlets.unshift(child):childOutlets.push(child);return from_from(childOutlets).pipe(concatMap(childOutlet=>{const child=segmentGroup.children[childOutlet],sortedRoutes=sortByMatchingOutlets(routes,childOutlet);return this.expandSegmentGroup(ngModule,sortedRoutes,child,childOutlet).pipe(map_map(s=>({segment:s,outlet:childOutlet})))}),scan((children,expandedChild)=>(children[expandedChild.outlet]=expandedChild.segment,children),{}),function(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter_filter((v,i)=>predicate(v,i,source)):identity,takeLast(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}())}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return from_from(routes).pipe(concatMap(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return of(null);throw e}))),first_first(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError||"EmptyError"===e.name){if(noLeftoversInUrl(segmentGroup,segments,outlet))return of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return isImmediateMatch(route,segmentGroup,paths,outlet)?void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths,outlet):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch$1(segmentGroup):noMatch$1(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=match(segmentGroup,route,segments);if(!matched)return noMatch$1(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments,outlet){if("**"===route.path)return route.loadChildren?(route._loadedConfig?of(route._loadedConfig):this.configLoader.load(ngModule.injector,route)).pipe(map_map(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):of(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=match(rawSegmentGroup,route,segments);if(!matched)return noMatch$1(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(mergeMap(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:splitSegmentGroup,slicedSegments:slicedSegments}=split(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig),segmentGroup=new UrlSegmentGroup(splitSegmentGroup.segments,splitSegmentGroup.children);if(0===slicedSegments.length&&segmentGroup.hasChildren())return this.expandChildren(childModule,childConfig,segmentGroup).pipe(map_map(children=>new UrlSegmentGroup(consumedSegments,children)));if(0===childConfig.length&&0===slicedSegments.length)return of(new UrlSegmentGroup(consumedSegments,{}));const matchedOnOutlet=getOutlet(route)===outlet;return this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,matchedOnOutlet?"primary":outlet,!0).pipe(map_map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?of(route._loadedConfig):this.runCanLoadGuards(ngModule.injector,route,segments).pipe(mergeMap(shouldLoadResult=>shouldLoadResult?this.configLoader.load(ngModule.injector,route).pipe(map_map(cfg=>(route._loadedConfig=cfg,cfg))):function(route){return new Observable_Observable(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route "path: '${route.path}'" returned false`)))}(route))):of(new LoadedRouterConfig([],ngModule))}runCanLoadGuards(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?of(canLoad.map(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error("Invalid CanLoad guard");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(prioritizedGuardValue(),tap(result=>{if(!isUrlTree(result))return;const error=navigationCancelingError(`Redirecting to "${this.urlSerializer.serialize(result)}"`);throw error.url=result,error}),map_map(result=>!0===result)):of(!0)}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children.primary)return namedOutletsRedirect(route.redirectTo);c=c.children.primary}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if("string"==typeof v&&v.startsWith(":")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(":")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function squashSegmentGroup(segmentGroup){const newChildren={};for(const childOutlet of Object.keys(segmentGroup.children)){const childCandidate=squashSegmentGroup(segmentGroup.children[childOutlet]);(childCandidate.segments.length>0||childCandidate.hasChildren())&&(newChildren[childOutlet]=childCandidate)}return function(s){if(1===s.numberOfChildren&&s.children.primary){const c=s.children.primary;return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}(new UrlSegmentGroup(segmentGroup.segments,newChildren))}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return getChildRouteGuards(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case"paramsChange":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),getChildRouteGuards(futureNode,currNode,future.component?context?context.children:null:parentContexts,futurePath,checks),shouldRun&&context&&context.outlet&&context.outlet.isActivated&&checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,curr))}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),getChildRouteGuards(futureNode,null,future.component?context?context.children:null:parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{deactivateRouteAndItsChildren(node,r.component?context?context.children.getContext(childName):null:context,checks)}),checks.canDeactivateChecks.push(new CanDeactivate(r.component&&context&&context.outlet&&context.outlet.isActivated?context.outlet.component:null,r))}class NoMatch$1{}function newObservableError(e){return new Observable_Observable(obs=>obs.error(e))}class Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){const rootSegmentGroup=split(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,"primary");if(null===children)return null;const root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),routeState}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=[];for(const childOutlet of Object.keys(segmentGroup.children)){const child=segmentGroup.children[childOutlet],sortedConfig=sortByMatchingOutlets(config,childOutlet),outletChildren=this.processSegmentGroup(sortedConfig,child,childOutlet);if(null===outletChildren)return null;children.push(...outletChildren)}const mergedChildren=function(nodes){const result=[];for(const node of nodes){if(!hasEmptyPathConfig(node)){result.push(node);continue}const duplicateEmptyPathNode=result.find(resultNode=>node.value.routeConfig===resultNode.value.routeConfig);void 0!==duplicateEmptyPathNode?duplicateEmptyPathNode.children.push(...node.children):result.push(node)}return result}(children);return mergedChildren.sort((a,b)=>"primary"===a.value.outlet?-1:"primary"===b.value.outlet?1:a.value.outlet.localeCompare(b.value.outlet)),mergedChildren}processSegment(config,segmentGroup,segments,outlet){for(const r of config){const children=this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet);if(null!==children)return children}return noLeftoversInUrl(segmentGroup,segments,outlet)?[]:null}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo||!isImmediateMatch(route,rawSegment,segments,outlet))return null;let snapshot,consumedSegments=[],rawSlicedSegments=[];if("**"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),getOutlet(route),route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=match(rawSegment,route,segments);if(!result.matched)return null;consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),getOutlet(route),route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function(route){return route.children?route.children:route.loadChildren?route._loadedConfig.routes:[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split(rawSegment,consumedSegments,rawSlicedSegments,childConfig.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return null===children?null:[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const matchedOnOutlet=getOutlet(route)===outlet,children=this.processSegment(childConfig,segmentGroup,slicedSegments,matchedOnOutlet?"primary":outlet);return null===children?null:[new TreeNode(snapshot,children)]}}function hasEmptyPathConfig(node){const config=node.value.routeConfig;return config&&""===config.path&&void 0===config.redirectTo}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShift?s._segmentIndexShift:0;return res-1}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function switchTap(next){return switchMap(v=>{const nextResult=next(v);return nextResult?from_from(nextResult).pipe(map_map(()=>v)):of(v)})}class DefaultRouteReuseStrategy extends class{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}{}const ROUTES=new InjectionToken("ROUTES");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){if(route._loader$)return route._loader$;this.onLoadStartListener&&this.onLoadStartListener(route);const loadRunner=this.loadModuleFactory(route.loadChildren).pipe(map_map(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(router_flatten(module.injector.get(ROUTES,void 0,InjectFlags.Self|InjectFlags.Optional)).map(standardizeConfig),module)}),catchError(err=>{throw route._loader$=void 0,err}));return route._loader$=new ConnectableObservable_ConnectableObservable(loadRunner,()=>new Subject_Subject).pipe(refCount_refCount()),route._loader$}loadModuleFactory(loadChildren){return"string"==typeof loadChildren?from_from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory?of(t):from_from(this.compiler.compileModuleAsync(t))))}}class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}function defaultRouterHook(snapshot,runExtras){return of(null)}let router_Router=(()=>{class Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject_Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=injector.get(NgModuleRef),this.console=injector.get(Console);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone&&NgZone.isInAngularZone(),this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return transitions.pipe(filter_filter(t=>0!==t.id),map_map(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return of(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty_EMPTY:Promise.resolve(t)}),(moduleInjector=this.ngModule.injector,configLoader=this.configLoader,urlSerializer=this.urlSerializer,config=this.config,switchMap(t=>function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(map_map(urlAfterRedirects=>Object.assign(Object.assign({},t),{urlAfterRedirects:urlAfterRedirects}))))),tap(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return mergeMap(t=>function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy="emptyOnly",relativeLinkResolution="legacy"){try{const result=new Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize();return null===result?newObservableError(new NoMatch$1):of(result)}catch(e){return newObservableError(e)}}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(map_map(targetSnapshot=>Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot}))))}(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));var moduleInjector,configLoader,urlSerializer,config;if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return of(Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign(Object.assign({},extras),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty_EMPTY}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map_map(t=>Object.assign(Object.assign({},t),{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(moduleInjector,forwardEvent){return mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of(Object.assign(Object.assign({},t),{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return from_from(checks).pipe(mergeMap(check=>function(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;return canDeactivate&&0!==canDeactivate.length?of(canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanDeactivate guard");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue()):of(!0)}(check.component,check.route,currRSS,futureRSS,moduleInjector)),first_first(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(mergeMap(canDeactivate=>canDeactivate&&"boolean"==typeof canDeactivate?function(futureSnapshot,checks,moduleInjector,forwardEvent){return from_from(checks).pipe(concatMap(check=>concat(function(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),of(!0)}(check.route.parent,forwardEvent),function(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),of(!0)}(check.route,forwardEvent),function(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}(p)).filter(_=>null!==_).map(d=>defer(()=>of(d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivateChild guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue())));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}(futureSnapshot,check.path,moduleInjector),function(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;return canActivate&&0!==canActivate.length?of(canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivate guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())}))).pipe(prioritizedGuardValue()):of(!0)}(futureSnapshot,check.route,moduleInjector))),first_first(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):of(canDeactivate)),map_map(guardsResult=>Object.assign(Object.assign({},t),{guardsResult:guardsResult})))})}(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw error.url=t.guardsResult,error}const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter_filter(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),"");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),switchMap(t=>{let dataResolved=!1;return of(t).pipe((paramsInheritanceStrategy=this.paramsInheritanceStrategy,moduleInjector=this.ngModule.injector,mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;if(!canActivateChecks.length)return of(t);let canActivateChecksResolved=0;return from_from(canActivateChecks).pipe(concatMap(check=>function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return of({});const data={};return from_from(keys).pipe(mergeMap(key=>function(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return wrapIntoObservable(resolver.resolve?resolver.resolve(futureARS,futureRSS):resolver(futureARS,futureRSS))}(resolve[key],futureARS,futureRSS,moduleInjector).pipe(tap(value=>{data[key]=value}))),takeLast(1),mergeMap(()=>Object.keys(data).length===keys.length?of(data):empty_EMPTY))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(map_map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign(Object.assign({},futureARS.data),inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)),tap(()=>canActivateChecksResolved++),takeLast(1),mergeMap(_=>canActivateChecksResolved===canActivateChecks.length?of(t):empty_EMPTY))})),tap({next:()=>dataResolved=!0,complete:()=>{if(!dataResolved){const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");eventsSubject.next(navCancel),t.resolve(!1)}}}));var paramsInheritanceStrategy,moduleInjector}),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}))}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),map_map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=createNode(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=this.rootContexts,routeReuseStrategy=this.routeReuseStrategy,forwardEvent=evt=>this.triggerEvent(evt),map_map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t))),tap({next(){completed=!0},complete(){completed=!0}}),finalize(()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null}),catchError(e=>{if(errored=!0,(error=e)&&error.ngNavigationCancelingError){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),redirecting?setTimeout(()=>{const mergedTree=this.urlHandlingStrategy.merge(e.url,this.rawUrlTree);this.scheduleNavigation(mergedTree,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}var error;return empty_EMPTY}));var rootContexts,routeReuseStrategy,forwardEvent}))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(event=>{const currentChange=this.extractLocationChangeInfoFromEvent(event);this.shouldScheduleNavigation(this.lastLocationChangeInfo,currentChange)&&setTimeout(()=>{const{source:source,state:state,urlTree:urlTree}=currentChange,extras={replaceUrl:!0};if(state){const stateCopy=Object.assign({},state);delete stateCopy.navigationId,0!==Object.keys(stateCopy).length&&(extras.state=stateCopy)}this.scheduleNavigation(urlTree,source,state,extras)},0),this.lastLocationChangeInfo=currentChange}))}extractLocationChangeInfoFromEvent(change){var _a;return{source:"popstate"===change.type?"popstate":"hashchange",urlTree:this.parseUrl(change.url),state:(null===(_a=change.state)||void 0===_a?void 0:_a.navigationId)?change.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(previous,current){if(!previous)return!0;const sameDestination=current.urlTree.toString()===previous.urlTree.toString();return!(current.transitionId===previous.transitionId&&sameDestination&&("hashchange"===current.source&&"popstate"===previous.source||"popstate"===current.source&&"hashchange"===previous.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras,a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;switch(queryParamsHandling){case"merge":q=Object.assign(Object.assign({},this.currentUrlTree.queryParams),queryParams);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}return null!==q&&(q=this.removeEmptyProps(q)),function(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function(commands){if("string"==typeof commands[0]&&1===commands.length&&"/"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]="string"==typeof commands?commands.split("/"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return"string"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split("/").forEach((urlPart,partIndex)=>{0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function(nav,tree,route){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===route.snapshot._lastPathIndex){const segmentGroup=route.snapshot._urlSegment;return new Position(segmentGroup,segmentGroup===tree.root,0)}const modifier=isMatrixParams(nav.commands[0])?0:1;return function(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,g=g.parent,!g)throw new Error("Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,route.snapshot._lastPathIndex+modifier,nav.numberOfDoubleDots)}(nav,urlTree,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(rawUrl,source,restoredState,extras,priorPromise){if(this.disposed)return Promise.resolve(!1);const lastNavigation=this.getTransition(),browserNavPrecededByRouterNav="imperative"!==source&&"imperative"===(null==lastNavigation?void 0:lastNavigation.source),duplicateNav=(this.lastSuccessfulId===lastNavigation.id||this.currentNavigation?lastNavigation.rawUrl:lastNavigation.urlAfterRedirects).toString()===rawUrl.toString();if(browserNavPrecededByRouterNav&&duplicateNav)return Promise.resolve(!0);let resolve,reject,promise;priorPromise?(resolve=priorPromise.resolve,reject=priorPromise.reject,promise=priorPromise.promise):promise=new Promise((res,rej)=>{resolve=res,reject=rej});const id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,"",Object.assign(Object.assign({},state),{navigationId:id})):this.location.go(path,"",Object.assign(Object.assign({},state),{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return Router.fac=function(t){return new(t||Router)(inject(Type),inject(UrlSerializer),inject(ChildrenOutletContexts),inject(common_Location),inject(Injector),inject(NgModuleFactoryLoader),inject(Compiler),inject(void 0))},Router.prov=defineInjectable({token:Router,factory:Router.fac}),Router})(),router_RouterOutlet=(()=>{class RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new EventEmitter,this.deactivateEvents=new EventEmitter,this.name=name||"primary",parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=activatedRoute;const factory=(resolver=resolver||this.resolver).resolveComponentFactory(activatedRoute._futureSnapshot.routeConfig.component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return RouterOutlet.fac=function(t){return new(t||RouterOutlet)(directiveInject(ChildrenOutletContexts),directiveInject(ViewContainerRef),directiveInject(ComponentFactoryResolver),injectAttribute("name"),directiveInject(ChangeDetectorRef))},RouterOutlet.dir=defineDirective({type:RouterOutlet,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),RouterOutlet})();class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_NoPreloading{preload(route,fn){return of(null)}}let router_RouterPreloader=(()=>{class RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy,this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(filter_filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return from_from(res).pipe(mergeAll(),map_map(_=>{}))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>(route._loadedConfig?of(route._loadedConfig):this.loader.load(ngModule.injector,route)).pipe(mergeMap(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}return RouterPreloader.fac=function(t){return new(t||RouterPreloader)(inject(router_Router),inject(NgModuleFactoryLoader),inject(Compiler),inject(Injector),inject(PreloadingStrategy))},RouterPreloader.prov=defineInjectable({token:RouterPreloader,factory:RouterPreloader.fac}),RouterPreloader})(),router_RouterScroller=(()=>{class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return RouterScroller.fac=function(t){return new(t||RouterScroller)(inject(router_Router),inject(common_ViewportScroller),inject(void 0))},RouterScroller.prov=defineInjectable({token:RouterScroller,factory:RouterScroller.fac}),RouterScroller})();const ROUTER_CONFIGURATION=new InjectionToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new InjectionToken("ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[common_Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:function(urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,router_flatten(config));if(urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),function(opts,router){opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy)}(opts,router),opts.enableTracing){const dom=getDOM();router.events.subscribe(e=>{dom.logGroup(`Router Event: ${e.constructor.name}`),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}return router},deps:[UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[class{},new Optional],[class{},new Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:function(router){return router.routerState.root},deps:[router_Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,class{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}},{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new NgProbeToken("Router",router_Router)}let router_RouterModule=(()=>{class RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:common_LocationStrategy,useFactory:router_provideLocationStrategy,deps:[common_PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:router_RouterScroller,useFactory:createRouterScroller,deps:[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[router_RouterInitializer,{provide:APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:RouterModule,providers:[provideRoutes(routes)]}}}return RouterModule.mod=defineNgModule({type:RouterModule}),RouterModule.inj=defineInjector({factory:function(t){return new(t||RouterModule)(inject(ROUTER_FORROOT_GUARD,8),inject(router_Router,8))}}),RouterModule})();function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new router_RouterScroller(router,viewportScroller,config)}function router_provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new common_HashLocationStrategy(platformLocationStrategy,baseHref):new common_PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){return"guarded"}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}let router_RouterInitializer=(()=>{class RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject_Subject}appInitializer(){return this.injector.get(LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);return"disabled"===opts.initialNavigation?(router.setUpLocationChangeListener(),resolve(!0)):"enabled"===opts.initialNavigation||"enabledBlocking"===opts.initialNavigation?(router.hooks.afterPreactivation=()=>this.initNavigation?of(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()):resolve(!0),res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(router_RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core_ApplicationRef);bootstrappedComponentRef===ref.components[0]&&("enabledNonBlocking"!==opts.initialNavigation&&void 0!==opts.initialNavigation||router.initialNavigation(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return RouterInitializer.fac=function(t){return new(t||RouterInitializer)(inject(Injector))},RouterInitializer.prov=defineInjectable({token:RouterInitializer,factory:RouterInitializer.fac}),RouterInitializer})();function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}const ROUTER_INITIALIZER=new InjectionToken("Router Initializer");var auth0_spa_js_production_esm_e=function(t,n){return(auth0_spa_js_production_esm_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function auth0_spa_js_production_esm_t(t,n){function r(){this.constructor=t}auth0_spa_js_production_esm_e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var auth0_spa_js_production_esm_n=function(){return(auth0_spa_js_production_esm_n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function auth0_spa_js_production_esm_r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function auth0_spa_js_production_esm_o(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,c)}s((r=r.apply(e,t||[])).next())})}function auth0_spa_js_production_esm_i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var auth0_spa_js_production_esm_a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function auth0_spa_js_production_esm_c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function auth0_spa_js_production_esm_s(e,t){return e(t={exports:{}},t.exports),t.exports}var auth0_spa_js_production_esm_u=function(e){return e&&e.Math==Math&&e},l=auth0_spa_js_production_esm_u("object"==typeof globalThis&&globalThis)||auth0_spa_js_production_esm_u("object"==typeof window&&window)||auth0_spa_js_production_esm_u("object"==typeof self&&self)||auth0_spa_js_production_esm_u("object"==typeof auth0_spa_js_production_esm_a&&auth0_spa_js_production_esm_a)||Function("return this")(),auth0_spa_js_production_esm_f=function(e){try{return!!e()}catch(e){return!0}},auth0_spa_js_production_esm_d=!auth0_spa_js_production_esm_f(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),auth0_spa_js_production_esm_p={}.propertyIsEnumerable,auth0_spa_js_production_esm_h=Object.getOwnPropertyDescriptor,auth0_spa_js_production_esm_y={f:auth0_spa_js_production_esm_h&&!auth0_spa_js_production_esm_p.call({1:2},1)?function(e){var t=auth0_spa_js_production_esm_h(this,e);return!!t&&t.enumerable}:auth0_spa_js_production_esm_p},auth0_spa_js_production_esm_v=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},auth0_spa_js_production_esm_m={}.toString,auth0_spa_js_production_esm_b=function(e){return auth0_spa_js_production_esm_m.call(e).slice(8,-1)},auth0_spa_js_production_esm_g="".split,auth0_spa_js_production_esm_w=auth0_spa_js_production_esm_f(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==auth0_spa_js_production_esm_b(e)?auth0_spa_js_production_esm_g.call(e,""):Object(e)}:Object,S=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},auth0_spa_js_production_esm_=function(e){return auth0_spa_js_production_esm_w(S(e))},auth0_spa_js_production_esm_k=function(e){return"object"==typeof e?null!==e:"function"==typeof e},I=function(e,t){if(!auth0_spa_js_production_esm_k(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!auth0_spa_js_production_esm_k(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!auth0_spa_js_production_esm_k(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!auth0_spa_js_production_esm_k(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},T={}.hasOwnProperty,auth0_spa_js_production_esm_x=function(e,t){return T.call(e,t)},O=l.document,L=auth0_spa_js_production_esm_k(O)&&auth0_spa_js_production_esm_k(O.createElement),auth0_spa_js_production_esm_j=function(e){return L?O.createElement(e):{}},E=!auth0_spa_js_production_esm_d&&!auth0_spa_js_production_esm_f(function(){return 7!=Object.defineProperty(auth0_spa_js_production_esm_j("div"),"a",{get:function(){return 7}}).a}),K=Object.getOwnPropertyDescriptor,R={f:auth0_spa_js_production_esm_d?K:function(e,t){if(e=auth0_spa_js_production_esm_(e),t=I(t,!0),E)try{return K(e,t)}catch(e){}if(auth0_spa_js_production_esm_x(e,t))return auth0_spa_js_production_esm_v(!auth0_spa_js_production_esm_y.f.call(e,t),e[t])}},C=function(e){if(!auth0_spa_js_production_esm_k(e))throw TypeError(String(e)+" is not an object");return e},auth0_spa_js_production_esm_A=Object.defineProperty,W={f:auth0_spa_js_production_esm_d?auth0_spa_js_production_esm_A:function(e,t,n){if(C(e),t=I(t,!0),C(n),E)try{return auth0_spa_js_production_esm_A(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},auth0_spa_js_production_esm_P=auth0_spa_js_production_esm_d?function(e,t,n){return W.f(e,t,auth0_spa_js_production_esm_v(1,n))}:function(e,t,n){return e[t]=n,e},auth0_spa_js_production_esm_Z=function(e,t){try{auth0_spa_js_production_esm_P(l,e,t)}catch(n){l[e]=t}return t},auth0_spa_js_production_esm_X=l["__core-js_shared__"]||auth0_spa_js_production_esm_Z("__core-js_shared__",{}),auth0_spa_js_production_esm_G=Function.toString;"function"!=typeof auth0_spa_js_production_esm_X.inspectSource&&(auth0_spa_js_production_esm_X.inspectSource=function(e){return auth0_spa_js_production_esm_G.call(e)});var auth0_spa_js_production_esm_V,U,auth0_spa_js_production_esm_F,auth0_spa_js_production_esm_z=auth0_spa_js_production_esm_X.inspectSource,auth0_spa_js_production_esm_Y=l.WeakMap,auth0_spa_js_production_esm_B="function"==typeof auth0_spa_js_production_esm_Y&&/native code/.test(auth0_spa_js_production_esm_z(auth0_spa_js_production_esm_Y)),N=auth0_spa_js_production_esm_s(function(e){(e.exports=function(e,t){return auth0_spa_js_production_esm_X[e]||(auth0_spa_js_production_esm_X[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),J=0,auth0_spa_js_production_esm_D=Math.random(),auth0_spa_js_production_esm_M=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++J+auth0_spa_js_production_esm_D).toString(36)},auth0_spa_js_production_esm_H=N("keys"),auth0_spa_js_production_esm_q=function(e){return auth0_spa_js_production_esm_H[e]||(auth0_spa_js_production_esm_H[e]=auth0_spa_js_production_esm_M(e))},Q={};if(auth0_spa_js_production_esm_B){var ee=new(0,l.WeakMap),te=ee.get,ne=ee.has,auth0_spa_js_production_esm_re=ee.set;auth0_spa_js_production_esm_V=function(e,t){return auth0_spa_js_production_esm_re.call(ee,e,t),t},U=function(e){return te.call(ee,e)||{}},auth0_spa_js_production_esm_F=function(e){return ne.call(ee,e)}}else{var oe=auth0_spa_js_production_esm_q("state");Q[oe]=!0,auth0_spa_js_production_esm_V=function(e,t){return auth0_spa_js_production_esm_P(e,oe,t),t},U=function(e){return auth0_spa_js_production_esm_x(e,oe)?e[oe]:{}},auth0_spa_js_production_esm_F=function(e){return auth0_spa_js_production_esm_x(e,oe)}}var ie,ae={set:auth0_spa_js_production_esm_V,get:U,has:auth0_spa_js_production_esm_F,enforce:function(e){return auth0_spa_js_production_esm_F(e)?U(e):auth0_spa_js_production_esm_V(e,{})},getterFor:function(e){return function(t){var n;if(!auth0_spa_js_production_esm_k(t)||(n=U(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},auth0_spa_js_production_esm_ce=auth0_spa_js_production_esm_s(function(e){var t=ae.get,n=ae.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var a=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||auth0_spa_js_production_esm_x(o,"name")||auth0_spa_js_production_esm_P(o,"name",t),n(o).source=r.join("string"==typeof t?t:"")),e!==l?(a?!s&&e[t]&&(c=!0):delete e[t],c?e[t]=o:auth0_spa_js_production_esm_P(e,t,o)):c?e[t]=o:auth0_spa_js_production_esm_Z(t,o)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||auth0_spa_js_production_esm_z(this)})}),se=l,ue=function(e){return"function"==typeof e?e:void 0},le=function(e,t){return arguments.length<2?ue(se[e])||ue(l[e]):se[e]&&se[e][t]||l[e]&&l[e][t]},fe=Math.ceil,de=Math.floor,pe=function(e){return isNaN(e=+e)?0:(e>0?de:fe)(e)},he=Math.min,ye=function(e){return e>0?he(pe(e),9007199254740991):0},ve=Math.max,me=Math.min,be=function(e){return function(t,n,r){var o,i=auth0_spa_js_production_esm_(t),a=ye(i.length),c=function(e,t){var n=pe(e);return n<0?ve(n+t,0):me(n,t)}(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},ge={includes:be(!0),indexOf:be(!1)},we=ge.indexOf,Se=function(e,t){var n,r=auth0_spa_js_production_esm_(e),o=0,i=[];for(n in r)!auth0_spa_js_production_esm_x(Q,n)&&auth0_spa_js_production_esm_x(r,n)&&i.push(n);for(;t.length>o;)auth0_spa_js_production_esm_x(r,n=t[o++])&&(~we(i,n)||i.push(n));return i},_e=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ke=_e.concat("length","prototype"),Ie={f:Object.getOwnPropertyNames||function(e){return Se(e,ke)}},Te={f:Object.getOwnPropertySymbols},xe=le("Reflect","ownKeys")||function(e){var t=Ie.f(C(e)),n=Te.f;return n?t.concat(n(e)):t},Oe=function(e,t){for(var n=xe(t),r=W.f,o=R.f,i=0;i<n.length;i++){var a=n[i];auth0_spa_js_production_esm_x(e,a)||r(e,a,o(t,a))}},Le=/#|\.prototype\./,je=function(e,t){var n=Ke[auth0_spa_js_production_esm_Ee(e)];return n==auth0_spa_js_production_esm_Ce||n!=Re&&("function"==typeof t?auth0_spa_js_production_esm_f(t):!!t)},auth0_spa_js_production_esm_Ee=je.normalize=function(e){return String(e).replace(Le,".").toLowerCase()},Ke=je.data={},Re=je.NATIVE="N",auth0_spa_js_production_esm_Ce=je.POLYFILL="P",Ae=je,We=R.f,Pe=function(e,t){var n,r,o,i,a,c=e.target,s=e.global,u=e.stat;if(n=s?l:u?l[c]||auth0_spa_js_production_esm_Z(c,{}):(l[c]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=We(n,r))&&a.value:n[r],!Ae(s?r:c+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Oe(i,o)}(e.sham||o&&o.sham)&&auth0_spa_js_production_esm_P(i,"sham",!0),auth0_spa_js_production_esm_ce(n,r,i,e)}},Ze=!!Object.getOwnPropertySymbols&&!auth0_spa_js_production_esm_f(function(){return!String(Symbol())}),Xe=Ze&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ge=N("wks"),Ve=l.Symbol,Ue=Xe?Ve:Ve&&Ve.withoutSetter||auth0_spa_js_production_esm_M,Fe=function(e){return auth0_spa_js_production_esm_x(Ge,e)||(Ge[e]=Ze&&auth0_spa_js_production_esm_x(Ve,e)?Ve[e]:Ue("Symbol."+e)),Ge[e]},ze=Fe("match"),Ye=function(e){if(function(e){var t;return auth0_spa_js_production_esm_k(e)&&(void 0!==(t=e[ze])?!!t:"RegExp"==auth0_spa_js_production_esm_b(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},Be=Fe("match"),Ne=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Be]=!1,"/./"[e](t)}catch(e){}}return!1},Je=R.f,De="".startsWith,Me=Math.min,He=Ne("startsWith"),qe=!(He||(ie=Je(String.prototype,"startsWith"),!ie||ie.writable));Pe({target:"String",proto:!0,forced:!qe&&!He},{startsWith:function(e){var t=String(S(this));Ye(e);var n=ye(Me(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return De?De.call(t,r,n):t.slice(n,n+r.length)===r}});var Qe,$e,et,tt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},nt=function(e,t,n){if(tt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},rt=Function.call,ot=function(e,t,n){return nt(rt,l[e].prototype[t],n)},it=(ot("String","startsWith"),function(e){return function(t,n){var r,o,i=String(S(t)),a=pe(n),c=i.length;return a<0||a>=c?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}}),at={codeAt:it(!1),charAt:it(!0)},ct=function(e){return Object(S(e))},st=!auth0_spa_js_production_esm_f(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ut=auth0_spa_js_production_esm_q("IE_PROTO"),lt=Object.prototype,auth0_spa_js_production_esm_ft=st?Object.getPrototypeOf:function(e){return e=ct(e),auth0_spa_js_production_esm_x(e,ut)?e[ut]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?lt:null},dt=Fe("iterator"),pt=!1;[].keys&&("next"in(et=[].keys())?($e=auth0_spa_js_production_esm_ft(auth0_spa_js_production_esm_ft(et)))!==Object.prototype&&(Qe=$e):pt=!0),null==Qe&&(Qe={}),auth0_spa_js_production_esm_x(Qe,dt)||auth0_spa_js_production_esm_P(Qe,dt,function(){return this});var ht,yt={IteratorPrototype:Qe,BUGGY_SAFARI_ITERATORS:pt},vt=Object.keys||function(e){return Se(e,_e)},mt=auth0_spa_js_production_esm_d?Object.defineProperties:function(e,t){C(e);for(var n,r=vt(t),o=r.length,i=0;o>i;)W.f(e,n=r[i++],t[n]);return e},bt=le("document","documentElement"),gt=auth0_spa_js_production_esm_q("IE_PROTO"),wt=function(){},St=function(e){return"<script>"+e+"<\/script>"},dist_auth0_spa_js_production_esm_t=function(){try{ht=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;dist_auth0_spa_js_production_esm_t=ht?function(e){e.write(St("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ht):((t=auth0_spa_js_production_esm_j("iframe")).style.display="none",bt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(St("document.F=Object")),e.close(),e.F);for(var n=_e.length;n--;)delete dist_auth0_spa_js_production_esm_t.prototype[_e[n]];return dist_auth0_spa_js_production_esm_t()};Q[gt]=!0;var kt=Object.create||function(e,t){var n;return null!==e?(wt.prototype=C(e),n=new wt,wt.prototype=null,n[gt]=e):n=dist_auth0_spa_js_production_esm_t(),void 0===t?n:mt(n,t)},It=W.f,Tt=Fe("toStringTag"),xt=function(e,t,n){e&&!auth0_spa_js_production_esm_x(e=n?e:e.prototype,Tt)&&It(e,Tt,{configurable:!0,value:t})},Ot={},Lt=yt.IteratorPrototype,jt=function(){return this},Et=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return C(n),function(e){if(!auth0_spa_js_production_esm_k(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Kt=yt.IteratorPrototype,Rt=yt.BUGGY_SAFARI_ITERATORS,Ct=Fe("iterator"),At=function(){return this},Wt=function(e,t,n,r,o,i,a){!function(e,t,n){var r=t+" Iterator";e.prototype=kt(Lt,{next:auth0_spa_js_production_esm_v(1,n)}),xt(e,r,!1),Ot[r]=jt}(n,t,r);var c,s,u,l=function(e){if(e===o&&y)return y;if(!Rt&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[Ct]||p["@@iterator"]||o&&p[o],y=!Rt&&h||l(o),m="Array"==t&&p.entries||h;if(m&&(c=auth0_spa_js_production_esm_ft(m.call(new e)),Kt!==Object.prototype&&c.next&&(auth0_spa_js_production_esm_ft(c)!==Kt&&(Et?Et(c,Kt):"function"!=typeof c[Ct]&&auth0_spa_js_production_esm_P(c,Ct,At)),xt(c,f,!0))),"values"==o&&h&&"values"!==h.name&&(d=!0,y=function(){return h.call(this)}),p[Ct]!==y&&auth0_spa_js_production_esm_P(p,Ct,y),Ot[t]=y,o)if(s={values:l("values"),keys:i?y:l("keys"),entries:l("entries")},a)for(u in s)(Rt||d||!(u in p))&&auth0_spa_js_production_esm_ce(p,u,s[u]);else Pe({target:t,proto:!0,forced:Rt||d},s);return s},Pt=at.charAt,Zt=ae.set,Xt=ae.getterFor("String Iterator");Wt(String,"String",function(e){Zt(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=Xt(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Pt(n,r),t.index+=e.length,{value:e,done:!1})});var Gt=function(e,t,n,r){try{return r?t(C(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&C(o.call(e)),t}},Vt=Fe("iterator"),Ut=Array.prototype,Ft=function(e){return void 0!==e&&(Ot.Array===e||Ut[Vt]===e)},zt=function(e,t,n){var r=I(t);r in e?W.f(e,r,auth0_spa_js_production_esm_v(0,n)):e[r]=n},Yt={};Yt[Fe("toStringTag")]="z";var Bt="[object z]"===String(Yt),Nt=Fe("toStringTag"),Jt="Arguments"==auth0_spa_js_production_esm_b(function(){return arguments}()),Dt=Bt?auth0_spa_js_production_esm_b:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Nt))?n:Jt?auth0_spa_js_production_esm_b(t):"Object"==(r=auth0_spa_js_production_esm_b(t))&&"function"==typeof t.callee?"Arguments":r},Mt=Fe("iterator"),Ht=function(e){if(null!=e)return e[Mt]||e["@@iterator"]||Ot[Dt(e)]},qt=Fe("iterator"),Qt=!1;try{var $t=0,auth0_spa_js_production_esm_en={next:function(){return{done:!!$t++}},return:function(){Qt=!0}};auth0_spa_js_production_esm_en[qt]=function(){return this},Array.from(auth0_spa_js_production_esm_en,function(){throw 2})}catch(e){}var tn=function(e,t){if(!t&&!Qt)return!1;var n=!1;try{var r={};r[qt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},nn=!tn(function(e){Array.from(e)});Pe({target:"Array",stat:!0,forced:nn},{from:function(e){var t,n,r,o,i,a,c=ct(e),s="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=Ht(c),p=0;if(f&&(l=nt(l,u>2?arguments[2]:void 0,2)),null==d||s==Array&&Ft(d))for(n=new s(t=ye(c.length));t>p;p++)a=f?l(c[p],p):c[p],zt(n,p,a);else for(i=(o=d.call(c)).next,n=new s;!(r=i.call(o)).done;p++)a=f?Gt(o,l,[r.value,p],!0):r.value,zt(n,p,a);return n.length=p,n}});var rn,on="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,an=W.f,cn=l.Int8Array,sn=cn&&cn.prototype,un=l.Uint8ClampedArray,ln=un&&un.prototype,auth0_spa_js_production_esm_fn=cn&&auth0_spa_js_production_esm_ft(cn),dn=sn&&auth0_spa_js_production_esm_ft(sn),pn=Object.prototype,hn=pn.isPrototypeOf,yn=Fe("toStringTag"),vn=auth0_spa_js_production_esm_M("TYPED_ARRAY_TAG"),mn=on&&!!Et&&"Opera"!==Dt(l.opera),bn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(rn in bn)l[rn]||(mn=!1);if((!mn||"function"!=typeof auth0_spa_js_production_esm_fn||auth0_spa_js_production_esm_fn===Function.prototype)&&(auth0_spa_js_production_esm_fn=function(){throw TypeError("Incorrect invocation")},mn))for(rn in bn)l[rn]&&Et(l[rn],auth0_spa_js_production_esm_fn);if((!mn||!dn||dn===pn)&&(dn=auth0_spa_js_production_esm_fn.prototype,mn))for(rn in bn)l[rn]&&Et(l[rn].prototype,dn);if(mn&&auth0_spa_js_production_esm_ft(ln)!==dn&&Et(ln,dn),auth0_spa_js_production_esm_d&&!auth0_spa_js_production_esm_x(dn,yn))for(rn in an(dn,yn,{get:function(){return auth0_spa_js_production_esm_k(this)?this[vn]:void 0}}),bn)l[rn]&&auth0_spa_js_production_esm_P(l[rn],vn,rn);var kn=Fe("species"),xn=[].slice;!function(e,t,n){if(auth0_spa_js_production_esm_d){if(n)for(var r in bn){var o=l[r];o&&auth0_spa_js_production_esm_x(o.prototype,e)&&delete o.prototype[e]}dn[e]&&!n||auth0_spa_js_production_esm_ce(dn,e,n?t:mn&&sn[e]||t)}}("slice",function(e,t){for(var n=xn.call(function(e){if(function(e){return auth0_spa_js_production_esm_k(e)&&auth0_spa_js_production_esm_x(bn,Dt(e))}(e))return e;throw TypeError("Target is not a typed array")}(this),e,t),r=function(e,t){var n,r=C(e).constructor;return void 0===r||null==(n=C(r)[kn])?t:tt(n)}(this,this.constructor),o=0,i=n.length,a=new(function(e){if(Et){if(hn.call(auth0_spa_js_production_esm_fn,e))return e}else for(var t in bn)if(auth0_spa_js_production_esm_x(bn,rn)){var n=l[t];if(n&&(e===n||hn.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")}(r))(i);i>o;)a[o]=n[o++];return a},auth0_spa_js_production_esm_f(function(){new Int8Array(1).slice()}));var On=Fe("unscopables"),Ln=Array.prototype;null==Ln[On]&&W.f(Ln,On,{configurable:!0,value:kt(null)});var jn=function(e){Ln[On][e]=!0},En=Object.defineProperty,Kn={},auth0_spa_js_production_esm_Rn=function(e){throw e},auth0_spa_js_production_esm_Cn=ge.includes,An=function(e,t){if(auth0_spa_js_production_esm_x(Kn,e))return Kn[e];t||(t={});var n=[][e],r=!!auth0_spa_js_production_esm_x(t,"ACCESSORS")&&t.ACCESSORS,o=auth0_spa_js_production_esm_x(t,0)?t[0]:auth0_spa_js_production_esm_Rn,i=auth0_spa_js_production_esm_x(t,1)?t[1]:void 0;return Kn[e]=!!n&&!auth0_spa_js_production_esm_f(function(){if(r&&!auth0_spa_js_production_esm_d)return!0;var e={length:-1};r?En(e,1,{enumerable:!0,get:auth0_spa_js_production_esm_Rn}):e[1]=1,n.call(e,o,i)})}("indexOf",{ACCESSORS:!0,1:0});Pe({target:"Array",proto:!0,forced:!An},{includes:function(e){return auth0_spa_js_production_esm_Cn(this,e,arguments.length>1?arguments[1]:void 0)}}),jn("includes"),ot("Array","includes"),Pe({target:"String",proto:!0,forced:!Ne("includes")},{includes:function(e){return!!~String(S(this)).indexOf(Ye(e),arguments.length>1?arguments[1]:void 0)}}),ot("String","includes");var Wn=!auth0_spa_js_production_esm_f(function(){return Object.isExtensible(Object.preventExtensions({}))}),Pn=auth0_spa_js_production_esm_s(function(e){var t=W.f,n=auth0_spa_js_production_esm_M("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!auth0_spa_js_production_esm_k(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!auth0_spa_js_production_esm_x(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!auth0_spa_js_production_esm_x(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return Wn&&a.REQUIRED&&o(e)&&!auth0_spa_js_production_esm_x(e,n)&&i(e),e}};Q[n]=!0}),Zn=auth0_spa_js_production_esm_s(function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,o,i){var a,c,s,u,l,f,d,p=nt(n,r,o?2:1);if(i)a=e;else{if("function"!=typeof(c=Ht(e)))throw TypeError("Target is not iterable");if(Ft(c)){for(s=0,u=ye(e.length);u>s;s++)if((l=o?p(C(d=e[s])[0],d[1]):p(e[s]))&&l instanceof t)return l;return new t(!1)}a=c.call(e)}for(f=a.next;!(d=f.call(a)).done;)if("object"==typeof(l=Gt(a,p,d.value,o))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}}),Xn=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Gn=function(e,t,n){for(var r in t)auth0_spa_js_production_esm_ce(e,r,t[r],n);return e},Vn=Fe("species"),Un=W.f,Fn=Pn.fastKey,zn=ae.set,Yn=ae.getterFor,Bn=(function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",a=l[e],c=a&&a.prototype,s=a,u={},d=function(e){var t=c[e];auth0_spa_js_production_esm_ce(c,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!auth0_spa_js_production_esm_k(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!auth0_spa_js_production_esm_k(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!auth0_spa_js_production_esm_k(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ae(e,"function"!=typeof a||!(o||c.forEach&&!auth0_spa_js_production_esm_f(function(){(new a).entries().next()}))))s=n.getConstructor(t,e,r,i),Pn.REQUIRED=!0;else if(Ae(e,!0)){var p=new s,h=p[i](o?{}:-0,1)!=p,y=auth0_spa_js_production_esm_f(function(){p.has(1)}),v=tn(function(e){new a(e)}),m=!o&&auth0_spa_js_production_esm_f(function(){for(var e=new a,t=5;t--;)e[i](t,t);return!e.has(-0)});v||((s=t(function(t,n){Xn(t,s,e);var o=function(e,t,n){var r,o;return Et&&"function"==typeof(r=t.constructor)&&r!==n&&auth0_spa_js_production_esm_k(o=r.prototype)&&o!==n.prototype&&Et(e,o),e}(new a,t,s);return null!=n&&Zn(n,o[i],o,r),o})).prototype=c,c.constructor=s),(y||m)&&(d("delete"),d("has"),r&&d("get")),(m||h)&&d(i),o&&c.clear&&delete c.clear}u[e]=s,Pe({global:!0,forced:s!=a},u),xt(s,e),o||n.setStrong(s,e,r)}("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,r){var o=e(function(e,i){Xn(e,o,t),zn(e,{type:t,index:kt(null),first:void 0,last:void 0,size:0}),auth0_spa_js_production_esm_d||(e.size=0),null!=i&&Zn(i,e[r],e,n)}),i=Yn(t),a=function(e,t,n){var r,o,a=i(e),s=c(e,t);return s?s.value=n:(a.last=s={index:o=Fn(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),auth0_spa_js_production_esm_d?a.size++:e.size++,"F"!==o&&(a.index[o]=s)),e},c=function(e,t){var n,r=i(e),o=Fn(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Gn(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,auth0_spa_js_production_esm_d?e.size=0:this.size=0},delete:function(e){var t=i(this),n=c(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),auth0_spa_js_production_esm_d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=i(this),r=nt(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),Gn(o.prototype,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),auth0_spa_js_production_esm_d&&Un(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=Yn(t),i=Yn(r);Wt(e,t,function(e,t){zn(this,{type:r,target:e,state:o(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(e){var t=le(e);auth0_spa_js_production_esm_d&&t&&!t[Vn]&&(0,W.f)(t,Vn,{configurable:!0,get:function(){return this}})}(t)}}),Bt?{}.toString:function(){return"[object "+Dt(this)+"]"});Bt||auth0_spa_js_production_esm_ce(Object.prototype,"toString",Bn,{unsafe:!0});var Nn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Jn=ae.set,Dn=ae.getterFor("Array Iterator"),Mn=Wt(Array,"Array",function(e,t){Jn(this,{type:"Array Iterator",target:auth0_spa_js_production_esm_(e),index:0,kind:t})},function(){var e=Dn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");Ot.Arguments=Ot.Array,jn("keys"),jn("values"),jn("entries");var Hn=Fe("iterator"),qn=Fe("toStringTag"),Qn=Mn.values;for(var $n in Nn){var er=l[$n],tr=er&&er.prototype;if(tr){if(tr[Hn]!==Qn)try{auth0_spa_js_production_esm_P(tr,Hn,Qn)}catch(e){tr[Hn]=Qn}if(tr[qn]||auth0_spa_js_production_esm_P(tr,qn,$n),Nn[$n])for(var nr in Mn)if(tr[nr]!==Mn[nr])try{auth0_spa_js_production_esm_P(tr,nr,Mn[nr])}catch(e){tr[nr]=Mn[nr]}}}function rr(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}var or=setTimeout;function ir(e){return Boolean(e&&void 0!==e.length)}function ar(){}function cr(e){if(!(this instanceof cr))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pr(e,this)}function sr(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,cr._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void lr(t.promise,e)}ur(t.promise,r)}else(1===e._state?ur:lr)(t.promise,e._value)})):e._deferreds.push(t)}function ur(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof cr)return e._state=3,e._value=t,void fr(e);if("function"==typeof n)return void pr((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,fr(e)}catch(t){lr(e,t)}var r,o}function lr(e,t){e._state=2,e._value=t,fr(e)}function fr(e){2===e._state&&0===e._deferreds.length&&cr._immediateFn(function(){e._handled||cr._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)sr(e,e._deferreds[t]);e._deferreds=null}function dr(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function pr(e,t){var n=!1;try{e(function(e){n||(n=!0,ur(t,e))},function(e){n||(n=!0,lr(t,e))})}catch(e){if(n)return;n=!0,lr(t,e)}}cr.prototype.catch=function(e){return this.then(null,e)},cr.prototype.then=function(e,t){var n=new this.constructor(ar);return sr(this,new dr(e,t,n)),n},cr.prototype.finally=rr,cr.all=function(e){return new cr(function(t,n){if(!ir(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},cr.resolve=function(e){return e&&"object"==typeof e&&e.constructor===cr?e:new cr(function(t){t(e)})},cr.reject=function(e){return new cr(function(t,n){n(e)})},cr.race=function(e){return new cr(function(t,n){if(!ir(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)cr.resolve(e[r]).then(t,n)})},cr._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){or(e,0)},cr._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var auth0_spa_js_production_esm_hr=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in auth0_spa_js_production_esm_hr?auth0_spa_js_production_esm_hr.Promise.prototype.finally||(auth0_spa_js_production_esm_hr.Promise.prototype.finally=rr):auth0_spa_js_production_esm_hr.Promise=cr,function(e){function t(){}function n(e,t){if(t=void 0===t?{fatal:!1}:t,-1==r.indexOf((e=void 0===e?"utf-8":e).toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(e.TextEncoder&&e.TextDecoder)return!1;var r=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,o=Math.max(32,n+(n>>1)+7),i=new Uint8Array(o>>3<<3);t<n;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<n){var c=e.charCodeAt(t);56320==(64512&c)&&(++t,a=((1023&a)<<10)+(1023&c)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>i.length&&(o+=8,o=(o*=1+t/e.length*2)>>3<<3,(c=new Uint8Array(o)).set(i),i=c),0==(4294967168&a))i[r++]=a;else{if(0==(4294965248&a))i[r++]=a>>6&31|192;else if(0==(4294901760&a))i[r++]=a>>12&15|224,i[r++]=a>>6&63|128;else{if(0!=(4292870144&a))continue;i[r++]=a>>18&7|240,i[r++]=a>>12&63|128,i[r++]=a>>6&63|128}i[r++]=63&a|128}}return i.slice?i.slice(0,r):i.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");e.buffer instanceof ArrayBuffer&&(e=e.buffer),e=new Uint8Array(e),t=0;for(var n=[],r=[];;){var o=t<e.length;if(!o||65536&t){if(r.push(String.fromCharCode.apply(null,n)),!o)return r.join("");n=[],e=e.subarray(t),t=0}if(0===(o=e[t++]))n.push(0);else if(0==(128&o))n.push(o);else if(192==(224&o)){var i=63&e[t++];n.push((31&o)<<6|i)}else if(224==(240&o)){i=63&e[t++];var a=63&e[t++];n.push((31&o)<<12|i<<6|a)}else 240==(248&o)&&(65535<(o=(7&o)<<18|(i=63&e[t++])<<12|(a=63&e[t++])<<6|63&e[t++])&&(n.push((o-=65536)>>>10&1023|55296),o=56320|1023&o),n.push(o))}},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:auth0_spa_js_production_esm_a),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var s=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout(function(){return n.call(t,e)})},r=this.listeners[e.type],o=0,i=r.length;o<i;o++)n(r[o]);return!e.defaultPrevented}}}]),t}(),u=function(t){function a(){var t;return e(this,a),(t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?i(e):t}(this,r(a).call(this))).listeners||s.call(i(t)),Object.defineProperty(i(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(a,t),n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(r(a.prototype),"dispatchEvent",this).call(this,e)}}]),a}(s),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=l,e.AbortSignal=u)}("undefined"!=typeof self?self:auth0_spa_js_production_esm_a)}();var yr=auth0_spa_js_production_esm_s(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?e.locked.set(t,void 0===n?[]:[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise(function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())})},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}});auth0_spa_js_production_esm_c(yr);var vr=auth0_spa_js_production_esm_c(auth0_spa_js_production_esm_s(function(e,t){var n=auth0_spa_js_production_esm_a&&auth0_spa_js_production_esm_a.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,c)}s((r=r.apply(e,t||[])).next())})},r=auth0_spa_js_production_esm_a&&auth0_spa_js_production_esm_a.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function o(e){return new Promise(function(t){return setTimeout(t,e)})}function i(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+i(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,function(){var n,c,s,u,l,f;return r(this,function(r){switch(r.label){case 0:n=Date.now()+i(4),c=Date.now()+a,s="browser-tabs-lock-key-"+t,u=window.localStorage,r.label=1;case 1:return Date.now()<c?[4,o(30)]:[3,8];case 2:return r.sent(),null!==u.getItem(s)?[3,5]:(l=this.id+"-"+t+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),u.setItem(s,JSON.stringify({id:this.id,iat:n,timeoutKey:l,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(f=u.getItem(s))&&(f=JSON.parse(f)).id===this.id&&f.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(s,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+i(4),[3,1];case 8:return[2,!1]}})})},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,function(){var o=this;return r(this,function(i){return setTimeout(function(){return n(o,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return[4,yr.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(o=n.getItem(e))?(yr.default().unlock(t),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(o)),yr.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(yr.default().unlock(t),[2])}})})},1e3),[2]})})},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){var r=!1,o=Date.now(),i=!1;function a(){if(i||(window.removeEventListener("storage",a),e.removeFromWaiting(a),clearTimeout(c),i=!0),!r){r=!0;var t=50-(Date.now()-o);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",a),e.addToWaiting(a);var c=setTimeout(a,Math.max(0,t-Date.now()))})];case 1:return n.sent(),[2]}})})},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter(function(e){return e!==t}))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach(function(e){return e()})},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}})})},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,function(){var n,o,i;return r(this,function(r){switch(r.label){case 0:return n=window.localStorage,null===(i=n.getItem(o="browser-tabs-lock-key-"+t))?[2]:(i=JSON.parse(i)).id!==this.id?[3,2]:[4,yr.default().lock(i.iat)];case 1:r.sent(),this.acquiredIatSet.delete(i.iat),n.removeItem(o),yr.default().unlock(i.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}})})},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,i=0;i<r.length;i++){var a=r[i];if(a.includes("browser-tabs-lock-key")){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(n.removeItem(a),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=c})),mr={timeoutInSeconds:60},br=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],gr=function(e){function n(t,r){var o=e.call(this,r)||this;return o.error=t,o.error_description=r,Object.setPrototypeOf(o,n.prototype),o}return auth0_spa_js_production_esm_t(n,e),n.fromPayload=function(e){return new n(e.error,e.error_description)},n}(Error),wr=function(e){function n(t,r,o,i){void 0===i&&(i=null);var a=e.call(this,t,r)||this;return a.state=o,a.appState=i,Object.setPrototypeOf(a,n.prototype),a}return auth0_spa_js_production_esm_t(n,e),n}(gr),Sr=function(e){function n(){var t=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(t,n.prototype),t}return auth0_spa_js_production_esm_t(n,e),n}(gr),_r=function(e){function n(t){var r=e.call(this)||this;return r.popup=t,Object.setPrototypeOf(r,n.prototype),r}return auth0_spa_js_production_esm_t(n,e),n}(Sr),kr=function(e,t,n){return void 0===n&&(n=60),new Promise(function(r,o){var i=window.document.createElement("iframe");i.setAttribute("width","0"),i.setAttribute("height","0"),i.style.display="none";var a=function(){window.document.body.contains(i)&&window.document.body.removeChild(i)},c=setTimeout(function(){o(new Sr),a()},1e3*n),s=function(e){if(e.origin==t&&e.data&&"authorization_response"===e.data.type){var n=e.source;n&&n.close(),e.data.response.error?o(gr.fromPayload(e.data.response)):r(e.data.response),clearTimeout(c),window.removeEventListener("message",s,!1),setTimeout(a,2e3)}};window.addEventListener("message",s,!1),window.document.body.appendChild(i),i.setAttribute("src",e)})},Ir=function(e,t){var r,o,i=t.popup;if(i?i.location.href=e:(r=window.screenX+(window.innerWidth-400)/2,o=window.screenY+(window.innerHeight-600)/2,i=window.open(e,"auth0:authorize:popup","left="+r+",top="+o+",width=400,height=600,resizable,scrollbars=yes,status=1")),!i)throw new Error("Could not open popup");return new Promise(function(e,n){var r=setTimeout(function(){n(new _r(i))},1e3*(t.timeoutInSeconds||60));window.addEventListener("message",function(t){if(t.data&&"authorization_response"===t.data.type){if(clearTimeout(r),i.close(),t.data.response.error)return n(gr.fromPayload(t.data.response));e(t.data.response)}})})},Tr=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Wr().getRandomValues(new Uint8Array(43))).forEach(function(n){return t+=e[n%e.length]}),t},xr=function(e){return btoa(e)},Or=function(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},Lr=function(e){return auth0_spa_js_production_esm_o(void 0,void 0,void 0,function(){var t;return auth0_spa_js_production_esm_i(this,function(n){switch(n.label){case 0:return t=Pr().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise(function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}})]:[4,t];case 1:return[2,n.sent()]}})})},jr=function(e){return function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},Er=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[\+\/=]/g,function(e){return t[e]})}(window.btoa(String.fromCharCode.apply(String,Array.from(t))))},Kr=function(e,t,r,a,c,s){return auth0_spa_js_production_esm_o(void 0,void 0,void 0,function(){var o,u;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:return s?(delete a.signal,[2,(d=auth0_spa_js_production_esm_n({url:e,audience:t,scope:r,timeout:c},a),p=s,new Promise(function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},p.postMessage(d,[n.port2])}))]):[3,1];case 1:return[4,(l=e,f=a,f=f||{},new Promise(function(e,t){var n=new XMLHttpRequest,r=[],o=[],i={},a=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:a,headers:{keys:function(){return r},entries:function(){return o},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var c in n.open(f.method||"get",l,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){r.push(t=t.toLowerCase()),o.push([t,n]),i[t]=i[t]?i[t]+","+n:n}),e(a())},n.onerror=t,n.withCredentials="include"==f.credentials,f.headers)n.setRequestHeader(c,f.headers[c]);n.send(f.body||null)}))];case 2:return o=i.sent(),u={ok:o.ok},[4,o.json()];case 3:return[2,(u.json=i.sent(),u)]}var l,f,d,p})})},Rr=function(e,t,r,o,i,a){void 0===a&&(a=1e4);var c,s=new AbortController,u=s.signal,l=auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},o),{signal:u});return Promise.race([Kr(e,t,r,l,a,i),new Promise(function(e,t){c=setTimeout(function(){s.abort(),t(new Error("Timeout when executing 'fetch'"))},a)})]).finally(function(){clearTimeout(c)})},Cr=function(e,t,n,a,c,s){return auth0_spa_js_production_esm_o(void 0,void 0,void 0,function(){var o,u,l,f,d,p,h,y,v,m;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:l=0,i.label=1;case 1:if(!(l<3))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,Rr(e,n,a,c,s,t)];case 3:return u=i.sent(),o=null,[3,6];case 4:return f=i.sent(),o=f,[3,5];case 5:return l++,[3,1];case 6:if(o)throw o.message=o.message||"Failed to fetch",o;if(p=(d=u.json).error,h=d.error_description,y=auth0_spa_js_production_esm_r(d,["error","error_description"]),!u.ok)throw v=h||"HTTP error. Unable to fetch "+e,(m=new Error(v)).error=p||"request_error",m.error_description=v,m;return[2,y]}})})},Ar=function(e,t){return auth0_spa_js_production_esm_o(void 0,void 0,void 0,function(){var o=e.baseUrl,a=e.timeout,c=e.audience,s=e.scope,u=auth0_spa_js_production_esm_r(e,["baseUrl","timeout","audience","scope"]);return auth0_spa_js_production_esm_i(this,function(e){switch(e.label){case 0:return[4,Cr(o+"/oauth/token",a,c||"default",s,{method:"POST",body:JSON.stringify(auth0_spa_js_production_esm_n({redirect_uri:window.location.origin},u)),headers:{"Content-type":"application/json"}},t)];case 1:return[2,e.sent()]}})})},Wr=function(){return window.crypto||window.msCrypto},Pr=function(){var e=Wr();return e.subtle||e.webkitSubtle},Zr=function(e){return Array.from(new Set(e))},Xr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zr(e.join(" ").trim().split(/\s+/)).join(" ")},Gr=function(e){return"@@auth0spajs@@::"+e.client_id+"::"+e.audience+"::"+e.scope},Vr=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)}},Ur=function(){function e(){}return e.prototype.save=function(e){var t=Gr(e),n=Vr(e);window.localStorage.setItem(t,JSON.stringify(n))},e.prototype.get=function(e,t){void 0===t&&(t=0);var n=Gr(e),r=this.readJson(n),o=Math.floor(Date.now()/1e3);if(r){if(!(r.expiresAt-t<o))return r.body;if(r.body.refresh_token){var i=this.stripData(r);return this.writeJson(n,i),i.body}localStorage.removeItem(n)}},e.prototype.clear=function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(e))},e.prototype.readJson=function(e){var t,n=window.localStorage.getItem(e);if(n&&(t=JSON.parse(n)))return t},e.prototype.writeJson=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.stripData=function(e){return{body:{refresh_token:e.body.refresh_token},expiresAt:e.expiresAt}},e}(),Fr=function(){var e;this.enclosedCache=(e={body:{},expiresAt:0},{save:function(t){var n=Gr(t),r=Vr(t);e[n]=r},get:function(t,n){void 0===n&&(n=0);var r=Gr(t),o=e[r],i=Math.floor(Date.now()/1e3);if(o)return o.expiresAt-n<i?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},o.body):void delete e[r]:o.body},clear:function(){e={body:{},expiresAt:0}}})},zr=auth0_spa_js_production_esm_s(function(e,t){var n=auth0_spa_js_production_esm_a&&auth0_spa_js_production_esm_a.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function o(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function i(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[i[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(e){}}return t}function c(){return i(document.cookie)}function s(e,t,r){document.cookie=o(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=o,t.parse=i,t.getAll=c,t.get=function(e){return c()[e]},t.set=s,t.remove=function(e,t){s(e,"",n(n({},t),{expires:-1}))}});auth0_spa_js_production_esm_c(zr);var ao,Yr=zr.getAll,Br=zr.get,Nr=zr.set,Jr=zr.remove,Dr=function(e){var t=Br(e);if(void 0!==t)return JSON.parse(t)},Mr=function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,Nr(e,JSON.stringify(t),r)},Hr=function(e){Jr(e)},qr=function(e){return"a0.spajs.txs."+e},Qr=function(){function e(){var e=this;this.transactions={},"undefined"!=typeof window&&Object.keys(Yr()||{}).filter(function(e){return e.startsWith("a0.spajs.txs.")}).forEach(function(t){var n=t.replace("a0.spajs.txs.","");e.transactions[n]=Dr(t)})}return e.prototype.create=function(e,t){this.transactions[e]=t,Mr(qr(e),t,{daysUntilExpire:1})},e.prototype.get=function(e){return this.transactions[e]},e.prototype.remove=function(e){delete this.transactions[e],Hr(qr(e))},e}(),$r=function(e){return"number"==typeof e},eo=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],co=function(e){return ao=ao||(i=(o=atob("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=")).indexOf("\n",10)+1,a=o.substring(i)+"",c=new Blob([a],{type:"application/javascript"}),URL.createObjectURL(c)),new Worker(ao,e);var o,i,a,c},so=new vr,uo={memory:function(){return(new Fr).enclosedCache},localstorage:function(){return new Ur}},lo=function(e){return uo[e]},fo=function(){function e(e){var t,n,o,i;if(this.options=e,"undefined"!=typeof window&&function(){if(!Wr())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Pr())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=e.cacheLocation||"memory",!lo(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=lo(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new Qr,this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.domainUrl,(o=this.options.issuer)?o.startsWith("https://")?o:"https://"+o+"/":i+"/"),this.defaultScope=Xr("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Xr(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new co),this.customOptions=function(e){return auth0_spa_js_production_esm_r(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||{name:"auth0-spa-js",version:"1.11.0"})));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,o,i,a){var s=auth0_spa_js_production_esm_r(this.options,["domain","leeway","useRefreshTokens","auth0Client","cacheLocation","advancedOptions"]);return auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},s),e),{scope:Xr(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:o,redirect_uri:a||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Or(e))},e.prototype._verifyIdToken=function(e,t){return function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=t[0],r=t[1],o=t[2];if(3!==t.length||!n||!r||!o)throw new Error("ID token could not be decoded");var i=JSON.parse(jr(r)),a={__raw:e},c={};return Object.keys(i).forEach(function(e){a[e]=i[e],eo.includes(e)||(c[e]=i[e])}),{encoded:{header:n,payload:r,signature:o},header:JSON.parse(jr(n)),claims:a,user:c}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!$r(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!$r(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!$r(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,r=new Date(Date.now()),o=new Date(0),i=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),o.setUTCSeconds(t.claims.exp+n),i.setUTCSeconds(t.claims.nbf-n),r>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+o+")");if($r(t.claims.nbf)&&r<i)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+i);if($r(t.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);return t}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t,n,o,a,c,s,u,l,f,d,p;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:return t=e.redirect_uri,n=e.appState,o=auth0_spa_js_production_esm_r(e,["redirect_uri","appState"]),a=xr(Tr()),c=xr(Tr()),s=Tr(),[4,Lr(s)];case 1:return u=i.sent(),l=Er(u),f=e.fragment?"#"+e.fragment:"",d=this._getParams(o,a,c,l,t),p=this._authorizeUrl(d),this.transactionManager.create(a,{nonce:c,code_verifier:s,appState:n,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri}),[2,p+f]}})})},e.prototype.loginWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var o,a,c,s,u,l,f,d,p,h,y,v;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:return o=auth0_spa_js_production_esm_r(e,[]),a=xr(Tr()),c=xr(Tr()),s=Tr(),[4,Lr(s)];case 1:return u=i.sent(),l=Er(u),f=this._getParams(o,a,c,l,this.options.redirect_uri||window.location.origin),d=this._authorizeUrl(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},f),{response_mode:"web_message"})),[4,Ir(d,auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(p=i.sent(),a!==p.state)throw new Error("Invalid state");return[4,Ar({audience:f.audience,scope:f.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s,code:p.code,grant_type:"authorization_code",redirect_uri:f.redirect_uri},this.worker)];case 3:return h=i.sent(),y=this._verifyIdToken(h.id_token,c),v=auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},h),{decodedToken:y,scope:f.scope,audience:f.audience||"default",client_id:this.options.client_id}),this.cache.save(v),Mr("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}})})},e.prototype.getUser=function(e){return void 0===e&&(e={audience:this.options.audience||"default",scope:this.scope||this.defaultScope}),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t;return auth0_spa_js_production_esm_i(this,function(r){return e.scope=Xr(this.defaultScope,e.scope),[2,(t=this.cache.get(auth0_spa_js_production_esm_n({client_id:this.options.client_id},e)))&&t.decodedToken&&t.decodedToken.user]})})},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={audience:this.options.audience||"default",scope:this.scope||this.defaultScope}),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t;return auth0_spa_js_production_esm_i(this,function(r){return e.scope=Xr(this.defaultScope,this.scope,e.scope),[2,(t=this.cache.get(auth0_spa_js_production_esm_n({client_id:this.options.client_id},e)))&&t.decodedToken&&t.decodedToken.claims]})})},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t;return auth0_spa_js_production_esm_i(this,function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(e)];case 1:return t=n.sent(),window.location.assign(t),[2]}})})},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t,r,o,a,c,s,u,l,f,d,p;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(r=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),r={};return t.forEach(function(e){var t=e.split("=");r[t[0]]=decodeURIComponent(t[1])}),auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},r),{expires_in:parseInt(r.expires_in)})}(t.join("")),a=r.code,c=r.error,s=r.error_description,!(u=this.transactionManager.get(o=r.state)))throw new Error("Invalid state");if(c)throw this.transactionManager.remove(o),new wr(c,s,o,u.appState);return this.transactionManager.remove(o),l={audience:u.audience,scope:u.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:u.code_verifier,grant_type:"authorization_code",code:a},void 0!==u.redirect_uri&&(l.redirect_uri=u.redirect_uri),[4,Ar(l,this.worker)];case 1:return f=i.sent(),d=this._verifyIdToken(f.id_token,u.nonce),p=auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},f),{decodedToken:d,audience:u.audience,scope:u.scope,client_id:this.options.client_id}),this.cache.save(p),Mr("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:u.appState}]}})})},e.prototype.checkSession=function(e){return auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t;return auth0_spa_js_production_esm_i(this,function(n){switch(n.label){case 0:if("memory"===this.cacheLocation&&!Dr("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!br.includes(t.error))throw t;return[3,4];case 4:return[2]}})})},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t,o,a,c,s,u;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:t=auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({audience:this.options.audience,ignoreCache:!1},e),{scope:Xr(this.defaultScope,this.scope,e.scope)}),o=t.ignoreCache,a=auth0_spa_js_production_esm_r(t,["ignoreCache"]),i.label=1;case 1:return i.trys.push([1,9,10,12]),[4,so.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return i.sent(),o?[3,4]:(c=this.cache.get({scope:a.scope,audience:a.audience||"default",client_id:this.options.client_id},60))&&c.access_token?[4,so.releaseLock("auth0.lock.getTokenSilently")]:[3,4];case 3:return i.sent(),[2,c.access_token];case 4:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(a)]:[3,6];case 5:return u=i.sent(),[3,8];case 6:return[4,this._getTokenFromIFrame(a)];case 7:u=i.sent(),i.label=8;case 8:return this.cache.save(auth0_spa_js_production_esm_n({client_id:this.options.client_id},s=u)),Mr("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,s.access_token];case 9:throw i.sent();case 10:return[4,so.releaseLock("auth0.lock.getTokenSilently")];case 11:return i.sent(),[7];case 12:return[2]}})})},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={audience:this.options.audience,scope:this.scope||this.defaultScope}),void 0===t&&(t=mr),auth0_spa_js_production_esm_o(this,void 0,void 0,function(){return auth0_spa_js_production_esm_i(this,function(n){switch(n.label){case 0:return e.scope=Xr(this.defaultScope,this.scope,e.scope),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[2,this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}).access_token]}})})},e.prototype.isAuthenticated=function(){return auth0_spa_js_production_esm_o(this,void 0,void 0,function(){return auth0_spa_js_production_esm_i(this,function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}})})},e.prototype.logout=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=e.localOnly,o=auth0_spa_js_production_esm_r(e,["federated","localOnly"]);if(n&&t)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),Hr("auth0.is.authenticated"),!n){var i=t?"&federated":"",a=this._url("/v2/logout?"+Or(o));window.location.assign(""+a+i)}},e.prototype._getTokenFromIFrame=function(e){return auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t,o,a,c,s,u,l,d,p,h,y,v,m;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:return t=xr(Tr()),o=xr(Tr()),a=Tr(),[4,Lr(a)];case 1:return c=i.sent(),s=Er(c),u=this._getParams(e,t,o,s,e.redirect_uri||this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},u),{prompt:"none",response_mode:"web_message"})),[4,kr(l,this.domainUrl,e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds)];case 2:if(d=i.sent(),t!==d.state)throw new Error("Invalid state");return p=e.scope,h=e.audience,y=auth0_spa_js_production_esm_r(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Ar(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},this.customOptions),y),{scope:p,audience:h,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a,code:d.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri}),this.worker)];case 3:return v=i.sent(),m=this._verifyIdToken(v.id_token,o),[2,auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},v),{decodedToken:m,scope:u.scope,audience:u.audience||"default"})]}})})},e.prototype._getTokenUsingRefreshToken=function(e){return auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t,o,a,c,s,u,l,f;return auth0_spa_js_production_esm_i(this,function(i){switch(i.label){case 0:return e.scope=Xr(this.defaultScope,this.options.scope,e.scope),(t=this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))&&t.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(e)];case 1:return[2,i.sent()];case 2:o=e.redirect_uri||this.options.redirect_uri||window.location.origin,c=e.scope,s=e.audience,u=auth0_spa_js_production_esm_r(e,["scope","audience","ignoreCache","timeoutInSeconds"]),i.label=3;case 3:return i.trys.push([3,5,,8]),[4,Ar(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},this.customOptions),u),{audience:s,scope:c,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:o}),this.worker)];case 4:return a=i.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(l=i.sent()).message?[3,7]:[4,this._getTokenFromIFrame(e)];case 6:return[2,i.sent()];case 7:throw l;case 8:return f=this._verifyIdToken(a.id_token),[2,auth0_spa_js_production_esm_n(auth0_spa_js_production_esm_n({},a),{decodedToken:f,scope:e.scope,audience:e.audience||"default"})]}})})},e}();function throwError_throwError(error,scheduler){return new Observable_Observable(scheduler?subscriber=>scheduler.schedule(dispatch,0,{error:error,subscriber:subscriber}):subscriber=>subscriber.error(error))}function dispatch({error:error,subscriber:subscriber}){subscriber.error(error)}class Action_Action extends Subscription_Subscription{constructor(scheduler,work){super()}schedule(state,delay=0){return this}}class AsyncAction_AsyncAction extends Action_Action{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work,this.pending=!1}schedule(state,delay=0){if(this.closed)return this;this.state=state;const id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.pending=!0,this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this}requestAsyncId(scheduler,id,delay=0){return setInterval(scheduler.flush.bind(scheduler,this),delay)}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&this.delay===delay&&!1===this.pending)return id;clearInterval(id)}execute(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(state,delay){let errorValue,errored=!1;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue}_unsubscribe(){const id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==index&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null}}class QueueAction_QueueAction extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}schedule(state,delay=0){return delay>0?super.schedule(state,delay):(this.delay=delay,this.state=state,this.scheduler.flush(this),this)}execute(state,delay){return delay>0||this.closed?super.execute(state,delay):this._execute(state,delay)}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0||null===delay&&this.delay>0?super.requestAsyncId(scheduler,id,delay):scheduler.flush(this)}}let Scheduler=(()=>{class Scheduler{constructor(SchedulerAction,now=Scheduler.now){this.SchedulerAction=SchedulerAction,this.now=now}schedule(work,delay=0,state){return new this.SchedulerAction(this,work).schedule(state,delay)}}return Scheduler.now=()=>Date.now(),Scheduler})();class AsyncScheduler_AsyncScheduler extends Scheduler{constructor(SchedulerAction,now=Scheduler.now){super(SchedulerAction,()=>AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.now():now()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(work,delay=0,state){return AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.schedule(work,delay,state):super.schedule(work,delay,state)}flush(action){const{actions:actions}=this;if(this.active)return void actions.push(action);let error;this.active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}}class QueueScheduler_QueueScheduler extends AsyncScheduler_AsyncScheduler{}const queue=new QueueScheduler_QueueScheduler(QueueAction_QueueAction);let Notification_Notification=(()=>{class Notification{constructor(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue="N"===kind}observe(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.error);case"C":return observer.complete&&observer.complete()}}do(next,error,complete){switch(this.kind){case"N":return next&&next(this.value);case"E":return error&&error(this.error);case"C":return complete&&complete()}}accept(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this.do(nextOrObserver,error,complete)}toObservable(){switch(this.kind){case"N":return of(this.value);case"E":return throwError_throwError(this.error);case"C":return empty_empty()}throw new Error("unexpected notification kind value")}static createNext(value){return void 0!==value?new Notification("N",value):Notification.undefinedValueNotification}static createError(err){return new Notification("E",void 0,err)}static createComplete(){return Notification.completeNotification}}return Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification})();class observeOn_ObserveOnSubscriber extends Subscriber_Subscriber{constructor(destination,scheduler,delay=0){super(destination),this.scheduler=scheduler,this.delay=delay}static dispatch(arg){const{notification:notification,destination:destination}=arg;notification.observe(destination),this.unsubscribe()}scheduleMessage(notification){this.destination.add(this.scheduler.schedule(observeOn_ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))}_next(value){this.scheduleMessage(Notification_Notification.createNext(value))}_error(err){this.scheduleMessage(Notification_Notification.createError(err)),this.unsubscribe()}_complete(){this.scheduleMessage(Notification_Notification.createComplete()),this.unsubscribe()}}class ObserveOnMessage{constructor(notification,destination){this.notification=notification,this.destination=destination}}class ReplaySubject_ReplaySubject extends Subject_Subject{constructor(bufferSize=Number.POSITIVE_INFINITY,windowTime=Number.POSITIVE_INFINITY,scheduler){super(),this.scheduler=scheduler,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=bufferSize<1?1:bufferSize,this._windowTime=windowTime<1?1:windowTime,windowTime===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(value){const _events=this._events;_events.push(value),_events.length>this._bufferSize&&_events.shift(),super.next(value)}nextTimeWindow(value){this._events.push(new ReplayEvent(this._getNow(),value)),this._trimBufferThenGetEvents(),super.next(value)}_subscribe(subscriber){const _infiniteTimeWindow=this._infiniteTimeWindow,_events=_infiniteTimeWindow?this._events:this._trimBufferThenGetEvents(),scheduler=this.scheduler,len=_events.length;let subscription;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?subscription=Subscription_Subscription.EMPTY:(this.observers.push(subscriber),subscription=new SubjectSubscription_SubjectSubscription(this,subscriber)),scheduler&&subscriber.add(subscriber=new observeOn_ObserveOnSubscriber(subscriber,scheduler)),_infiniteTimeWindow)for(let i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i]);else for(let i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i].value);return this.hasError?subscriber.error(this.thrownError):this.isStopped&&subscriber.complete(),subscription}_getNow(){return(this.scheduler||queue).now()}_trimBufferThenGetEvents(){const now=this._getNow(),_bufferSize=this._bufferSize,_windowTime=this._windowTime,_events=this._events,eventsCount=_events.length;let spliceCount=0;for(;spliceCount<eventsCount&&!(now-_events[spliceCount].time<_windowTime);)spliceCount++;return eventsCount>_bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-_bufferSize)),spliceCount>0&&_events.splice(0,spliceCount),_events}}class ReplayEvent{constructor(time,value){this.time=time,this.value=value}}let hasV8BreakIterator,auth_service_AuthService=(()=>{class AuthService{constructor(router){this.router=router,this.auth0Client$=from_from(function(e){return auth0_spa_js_production_esm_o(this,void 0,void 0,function(){var t;return auth0_spa_js_production_esm_i(this,function(n){switch(n.label){case 0:return[4,(t=new fo(e)).checkSession()];case 1:return n.sent(),[2,t]}})})}({domain:"dev-m7rqsnxu.eu.auth0.com",client_id:"pabA2bqVw5O2OdrkLLO2C5h91E7HplMU",redirect_uri:`${window.location.origin}`})).pipe(function(configOrBufferSize,windowTime,scheduler){let config;return config={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},source=>source.lift(function({bufferSize:bufferSize=Number.POSITIVE_INFINITY,windowTime:windowTime=Number.POSITIVE_INFINITY,refCount:useRefCount,scheduler:scheduler}){let subject,subscription,refCount=0,hasError=!1,isComplete=!1;return function(source){refCount++,subject&&!hasError||(hasError=!1,subject=new ReplaySubject_ReplaySubject(bufferSize,windowTime,scheduler),subscription=source.subscribe({next(value){subject.next(value)},error(err){hasError=!0,subject.error(err)},complete(){isComplete=!0,subscription=void 0,subject.complete()}}));const innerSub=subject.subscribe(this);this.add(()=>{refCount--,innerSub.unsubscribe(),subscription&&!isComplete&&useRefCount&&0===refCount&&(subscription.unsubscribe(),subscription=void 0,subject=void 0)})}}(config))}(),catchError(err=>throwError_throwError(err))),this.isAuthenticated$=this.auth0Client$.pipe(concatMap(client=>from_from(client.isAuthenticated())),tap(res=>this.loggedIn=res)),this.handleRedirectCallback$=this.auth0Client$.pipe(concatMap(client=>from_from(client.handleRedirectCallback()))),this.userProfileSubject$=new BehaviorSubject_BehaviorSubject(null),this.userProfile$=this.userProfileSubject$.asObservable(),this.loggedIn=null,this.localAuthSetup(),this.handleAuthCallback()}getUser$(options){return this.auth0Client$.pipe(concatMap(client=>from_from(client.getUser(options))),tap(user=>this.userProfileSubject$.next(user)))}localAuthSetup(){this.isAuthenticated$.pipe(concatMap(loggedIn=>loggedIn?this.getUser$():of(loggedIn))).subscribe()}login(redirectPath="/"){this.auth0Client$.subscribe(client=>{client.loginWithRedirect({redirect_uri:`${window.location.origin}`,appState:{target:redirectPath}})})}handleAuthCallback(){const params=window.location.search;if(params.includes("code=")&&params.includes("state=")){let targetRoute;this.handleRedirectCallback$.pipe(tap(cbRes=>{targetRoute=cbRes.appState&&cbRes.appState.target?cbRes.appState.target:"/"}),concatMap(()=>combineLatest([this.getUser$(),this.isAuthenticated$]))).subscribe(([user,loggedIn])=>{this.router.navigate([targetRoute])})}}logout(){this.auth0Client$.subscribe(client=>{client.logout({client_id:"pabA2bqVw5O2OdrkLLO2C5h91E7HplMU",returnTo:`${window.location.origin}`})})}}return AuthService.fac=function(t){return new(t||AuthService)(inject(router_Router))},AuthService.prov=defineInjectable({token:AuthService,factory:AuthService.fac,providedIn:"root"}),AuthService})();try{hasV8BreakIterator="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_a){hasV8BreakIterator=!1}let supportedInputTypes,platform_Platform=(()=>{class Platform{constructor(_platformId){this._platformId=_platformId,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hasV8BreakIterator)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Platform.fac=function(t){return new(t||Platform)(inject(PLATFORM_ID))},Platform.prov=defineInjectable({factory:function(){return new Platform(inject(PLATFORM_ID))},token:Platform,providedIn:"root"}),Platform})(),platform_PlatformModule=(()=>{class PlatformModule{}return PlatformModule.mod=defineNgModule({type:PlatformModule}),PlatformModule.inj=defineInjector({factory:function(t){return new(t||PlatformModule)}}),PlatformModule})();const candidateInputTypes=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function getSupportedInputTypes(){if(supportedInputTypes)return supportedInputTypes;if("object"!=typeof document||!document)return supportedInputTypes=new Set(candidateInputTypes),supportedInputTypes;let featureTestInput=document.createElement("input");return supportedInputTypes=new Set(candidateInputTypes.filter(value=>(featureTestInput.setAttribute("type",value),featureTestInput.type===value))),supportedInputTypes}let supportsPassiveEvents,shadowDomIsSupported;function normalizePassiveListenerOptions(options){return function(){if(null==supportsPassiveEvents&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>supportsPassiveEvents=!0}))}finally{supportsPassiveEvents=supportsPassiveEvents||!1}return supportsPassiveEvents}()?options:!!options.capture}function _getShadowRoot(element){if(function(){if(null==shadowDomIsSupported){const head="undefined"!=typeof document?document.head:null;shadowDomIsSupported=!(!head||!head.createShadowRoot&&!head.attachShadow)}return shadowDomIsSupported}()){const rootNode=element.getRootNode?element.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&rootNode instanceof ShadowRoot)return rootNode}return null}function hasModifierKey(event,...modifiers){return modifiers.length?modifiers.some(modifier=>event[modifier]):event.altKey||event.shiftKey||event.ctrlKey||event.metaKey}const async_async=new AsyncScheduler_AsyncScheduler(AsyncAction_AsyncAction);function debounceTime(dueTime,scheduler=async_async){return source=>source.lift(new DebounceTimeOperator(dueTime,scheduler))}class DebounceTimeOperator{constructor(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new debounceTime_DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))}}class debounceTime_DebounceTimeSubscriber extends Subscriber_Subscriber{constructor(destination,dueTime,scheduler){super(destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:lastValue}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(lastValue)}}clearDebounce(){const debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)}}function dispatchNext(subscriber){subscriber.debouncedNext()}function coerceBooleanProperty(value){return null!=value&&"false"!=`${value}`}function coerceNumberProperty(value,fallbackValue=0){return function(value){return!isNaN(parseFloat(value))&&!isNaN(Number(value))}(value)?Number(value):fallbackValue}function coerceArray(value){return Array.isArray(value)?value:[value]}function coerceCssPixelValue(value){return null==value?"":"string"==typeof value?value:`${value}px`}function coerceElement(elementOrRef){return elementOrRef instanceof ElementRef?elementOrRef.nativeElement:elementOrRef}let observers_MutationObserverFactory=(()=>{class MutationObserverFactory{create(callback){return"undefined"==typeof MutationObserver?null:new MutationObserver(callback)}}return MutationObserverFactory.fac=function(t){return new(t||MutationObserverFactory)},MutationObserverFactory.prov=defineInjectable({factory:function(){return new MutationObserverFactory},token:MutationObserverFactory,providedIn:"root"}),MutationObserverFactory})(),observers_ContentObserver=(()=>{class ContentObserver{constructor(_mutationObserverFactory){this._mutationObserverFactory=_mutationObserverFactory,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((_,element)=>this._cleanupObserver(element))}observe(elementOrRef){const element=coerceElement(elementOrRef);return new Observable_Observable(observer=>{const subscription=this._observeElement(element).subscribe(observer);return()=>{subscription.unsubscribe(),this._unobserveElement(element)}})}_observeElement(element){if(this._observedElements.has(element))this._observedElements.get(element).count++;else{const stream=new Subject_Subject,observer=this._mutationObserverFactory.create(mutations=>stream.next(mutations));observer&&observer.observe(element,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(element,{observer:observer,stream:stream,count:1})}return this._observedElements.get(element).stream}_unobserveElement(element){this._observedElements.has(element)&&(this._observedElements.get(element).count--,this._observedElements.get(element).count||this._cleanupObserver(element))}_cleanupObserver(element){if(this._observedElements.has(element)){const{observer:observer,stream:stream}=this._observedElements.get(element);observer&&observer.disconnect(),stream.complete(),this._observedElements.delete(element)}}}return ContentObserver.fac=function(t){return new(t||ContentObserver)(inject(observers_MutationObserverFactory))},ContentObserver.prov=defineInjectable({factory:function(){return new ContentObserver(inject(observers_MutationObserverFactory))},token:ContentObserver,providedIn:"root"}),ContentObserver})(),observers_CdkObserveContent=(()=>{class CdkObserveContent{constructor(_contentObserver,_elementRef,_ngZone){this._contentObserver=_contentObserver,this._elementRef=_elementRef,this._ngZone=_ngZone,this.event=new EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(value){this._debounce=coerceNumberProperty(value),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const stream=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?stream.pipe(debounceTime(this.debounce)):stream).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return CdkObserveContent.fac=function(t){return new(t||CdkObserveContent)(directiveInject(observers_ContentObserver),directiveInject(ElementRef),directiveInject(NgZone))},CdkObserveContent.dir=defineDirective({type:CdkObserveContent,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),CdkObserveContent})(),observers_ObserversModule=(()=>{class ObserversModule{}return ObserversModule.mod=defineNgModule({type:ObserversModule}),ObserversModule.inj=defineInjector({factory:function(t){return new(t||ObserversModule)},providers:[observers_MutationObserverFactory]}),ObserversModule})();function getAriaReferenceIds(el,attr){return(el.getAttribute(attr)||"").match(/\S+/g)||[]}let nextId=0;const messageRegistry=new Map;let messagesContainer=null,a11y_AriaDescriber=(()=>{class AriaDescriber{constructor(_document,_platform){this._platform=_platform,this._document=_document}describe(hostElement,message){this._canBeDescribed(hostElement,message)&&("string"!=typeof message?(this._setMessageId(message),messageRegistry.set(message,{messageElement:message,referenceCount:0})):messageRegistry.has(message)||this._createMessageElement(message),this._isElementDescribedByMessage(hostElement,message)||this._addMessageReference(hostElement,message))}removeDescription(hostElement,message){if(message&&this._isElementNode(hostElement)){if(this._isElementDescribedByMessage(hostElement,message)&&this._removeMessageReference(hostElement,message),"string"==typeof message){const registeredMessage=messageRegistry.get(message);registeredMessage&&0===registeredMessage.referenceCount&&this._deleteMessageElement(message)}messagesContainer&&0===messagesContainer.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const describedElements=this._document.querySelectorAll("[cdk-describedby-host]");for(let i=0;i<describedElements.length;i++)this._removeCdkDescribedByReferenceIds(describedElements[i]),describedElements[i].removeAttribute("cdk-describedby-host");messagesContainer&&this._deleteMessagesContainer(),messageRegistry.clear()}_createMessageElement(message){const messageElement=this._document.createElement("div");this._setMessageId(messageElement),messageElement.textContent=message,this._createMessagesContainer(),messagesContainer.appendChild(messageElement),messageRegistry.set(message,{messageElement:messageElement,referenceCount:0})}_setMessageId(element){element.id||(element.id="cdk-describedby-message-"+nextId++)}_deleteMessageElement(message){const registeredMessage=messageRegistry.get(message),messageElement=registeredMessage&&registeredMessage.messageElement;messagesContainer&&messageElement&&messagesContainer.removeChild(messageElement),messageRegistry.delete(message)}_createMessagesContainer(){if(!messagesContainer){const canBeAriaHidden=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,preExistingContainer=this._document.getElementById("cdk-describedby-message-container");preExistingContainer&&preExistingContainer.parentNode&&preExistingContainer.parentNode.removeChild(preExistingContainer),messagesContainer=this._document.createElement("div"),messagesContainer.id="cdk-describedby-message-container",messagesContainer.classList.add("cdk-visually-hidden"),messagesContainer.setAttribute("aria-hidden",canBeAriaHidden+""),this._document.body.appendChild(messagesContainer)}}_deleteMessagesContainer(){messagesContainer&&messagesContainer.parentNode&&(messagesContainer.parentNode.removeChild(messagesContainer),messagesContainer=null)}_removeCdkDescribedByReferenceIds(element){const originalReferenceIds=getAriaReferenceIds(element,"aria-describedby").filter(id=>0!=id.indexOf("cdk-describedby-message"));element.setAttribute("aria-describedby",originalReferenceIds.join(" "))}_addMessageReference(element,message){const registeredMessage=messageRegistry.get(message);!function(el,attr,id){const ids=getAriaReferenceIds(el,attr);ids.some(existingId=>existingId.trim()==id.trim())||(ids.push(id.trim()),el.setAttribute(attr,ids.join(" ")))}(element,"aria-describedby",registeredMessage.messageElement.id),element.setAttribute("cdk-describedby-host",""),registeredMessage.referenceCount++}_removeMessageReference(element,message){const registeredMessage=messageRegistry.get(message);registeredMessage.referenceCount--,function(el,attr,id){const filteredIds=getAriaReferenceIds(el,attr).filter(val=>val!=id.trim());filteredIds.length?el.setAttribute(attr,filteredIds.join(" ")):el.removeAttribute(attr)}(element,"aria-describedby",registeredMessage.messageElement.id),element.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(element,message){const referenceIds=getAriaReferenceIds(element,"aria-describedby"),registeredMessage=messageRegistry.get(message),messageId=registeredMessage&&registeredMessage.messageElement.id;return!!messageId&&-1!=referenceIds.indexOf(messageId)}_canBeDescribed(element,message){if(!this._isElementNode(element))return!1;if(message&&"object"==typeof message)return!0;const trimmedMessage=null==message?"":`${message}`.trim(),ariaLabel=element.getAttribute("aria-label");return!(!trimmedMessage||ariaLabel&&ariaLabel.trim()===trimmedMessage)}_isElementNode(element){return element.nodeType===this._document.ELEMENT_NODE}}return AriaDescriber.fac=function(t){return new(t||AriaDescriber)(inject(common_DOCUMENT),inject(platform_Platform))},AriaDescriber.prov=defineInjectable({factory:function(){return new AriaDescriber(inject(common_DOCUMENT),inject(platform_Platform))},token:AriaDescriber,providedIn:"root"}),AriaDescriber})();class a11y_ListKeyManager{constructor(_items){this._items=_items,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Subject_Subject,this._typeaheadSubscription=Subscription_Subscription.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=item=>item.disabled,this._pressedLetters=[],this.tabOut=new Subject_Subject,this.change=new Subject_Subject,_items instanceof QueryList&&_items.changes.subscribe(newItems=>{if(this._activeItem){const newIndex=newItems.toArray().indexOf(this._activeItem);newIndex>-1&&newIndex!==this._activeItemIndex&&(this._activeItemIndex=newIndex)}})}skipPredicate(predicate){return this._skipPredicateFn=predicate,this}withWrap(shouldWrap=!0){return this._wrap=shouldWrap,this}withVerticalOrientation(enabled=!0){return this._vertical=enabled,this}withHorizontalOrientation(direction){return this._horizontal=direction,this}withAllowedModifierKeys(keys){return this._allowedModifierKeys=keys,this}withTypeAhead(debounceInterval=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(tap(letter=>this._pressedLetters.push(letter)),debounceTime(debounceInterval),filter_filter(()=>this._pressedLetters.length>0),map_map(()=>this._pressedLetters.join(""))).subscribe(inputString=>{const items=this._getItemsArray();for(let i=1;i<items.length+1;i++){const index=(this._activeItemIndex+i)%items.length,item=items[index];if(!this._skipPredicateFn(item)&&0===item.getLabel().toUpperCase().trim().indexOf(inputString)){this.setActiveItem(index);break}}this._pressedLetters=[]}),this}withHomeAndEnd(enabled=!0){return this._homeAndEnd=enabled,this}setActiveItem(item){const previousActiveItem=this._activeItem;this.updateActiveItem(item),this._activeItem!==previousActiveItem&&this.change.next(this._activeItemIndex)}onKeydown(event){const keyCode=event.keyCode,isModifierAllowed=["altKey","ctrlKey","metaKey","shiftKey"].every(modifier=>!event[modifier]||this._allowedModifierKeys.indexOf(modifier)>-1);switch(keyCode){case 9:return void this.tabOut.next();case 40:if(this._vertical&&isModifierAllowed){this.setNextItemActive();break}return;case 38:if(this._vertical&&isModifierAllowed){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&isModifierAllowed){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&isModifierAllowed){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&isModifierAllowed){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&isModifierAllowed){this.setLastItemActive();break}return;default:return void((isModifierAllowed||hasModifierKey(event,"shiftKey"))&&(event.key&&1===event.key.length?this._letterKeyStream.next(event.key.toLocaleUpperCase()):(keyCode>=65&&keyCode<=90||keyCode>=48&&keyCode<=57)&&this._letterKeyStream.next(String.fromCharCode(keyCode))))}this._pressedLetters=[],event.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(item){const itemArray=this._getItemsArray(),index="number"==typeof item?item:itemArray.indexOf(item),activeItem=itemArray[index];this._activeItem=null==activeItem?null:activeItem,this._activeItemIndex=index}_setActiveItemByDelta(delta){this._wrap?this._setActiveInWrapMode(delta):this._setActiveInDefaultMode(delta)}_setActiveInWrapMode(delta){const items=this._getItemsArray();for(let i=1;i<=items.length;i++){const index=(this._activeItemIndex+delta*i+items.length)%items.length;if(!this._skipPredicateFn(items[index]))return void this.setActiveItem(index)}}_setActiveInDefaultMode(delta){this._setActiveItemByIndex(this._activeItemIndex+delta,delta)}_setActiveItemByIndex(index,fallbackDelta){const items=this._getItemsArray();if(items[index]){for(;this._skipPredicateFn(items[index]);)if(!items[index+=fallbackDelta])return;this.setActiveItem(index)}}_getItemsArray(){return this._items instanceof QueryList?this._items.toArray():this._items}}class ActiveDescendantKeyManager extends a11y_ListKeyManager{setActiveItem(index){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(index),this.activeItem&&this.activeItem.setActiveStyles()}}class FocusKeyManager extends a11y_ListKeyManager{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(origin){return this._origin=origin,this}setActiveItem(item){super.setActiveItem(item),this.activeItem&&this.activeItem.focus(this._origin)}}let a11y_InteractivityChecker=(()=>{class InteractivityChecker{constructor(_platform){this._platform=_platform}isDisabled(element){return element.hasAttribute("disabled")}isVisible(element){return function(element){return!!(element.offsetWidth||element.offsetHeight||"function"==typeof element.getClientRects&&element.getClientRects().length)}(element)&&"visible"===getComputedStyle(element).visibility}isTabbable(element){if(!this._platform.isBrowser)return!1;const frameElement=function(window){try{return window.frameElement}catch(_a){return null}}((node=element).ownerDocument&&node.ownerDocument.defaultView||window);var node;if(frameElement){if(-1===getTabIndexValue(frameElement))return!1;if(!this.isVisible(frameElement))return!1}let nodeName=element.nodeName.toLowerCase(),tabIndexValue=getTabIndexValue(element);return element.hasAttribute("contenteditable")?-1!==tabIndexValue:"iframe"!==nodeName&&"object"!==nodeName&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(element){let nodeName=element.nodeName.toLowerCase(),inputType="input"===nodeName&&element.type;return"text"===inputType||"password"===inputType||"select"===nodeName||"textarea"===nodeName}(element))&&("audio"===nodeName?!!element.hasAttribute("controls")&&-1!==tabIndexValue:"video"===nodeName?-1!==tabIndexValue&&(null!==tabIndexValue||this._platform.FIREFOX||element.hasAttribute("controls")):element.tabIndex>=0)}isFocusable(element,config){return function(element){return!function(element){return function(element){return"input"==element.nodeName.toLowerCase()}(element)&&"hidden"==element.type}(element)&&(function(element){let nodeName=element.nodeName.toLowerCase();return"input"===nodeName||"select"===nodeName||"button"===nodeName||"textarea"===nodeName}(element)||function(element){return function(element){return"a"==element.nodeName.toLowerCase()}(element)&&element.hasAttribute("href")}(element)||element.hasAttribute("contenteditable")||hasValidTabIndex(element))}(element)&&!this.isDisabled(element)&&((null==config?void 0:config.ignoreVisibility)||this.isVisible(element))}}return InteractivityChecker.fac=function(t){return new(t||InteractivityChecker)(inject(platform_Platform))},InteractivityChecker.prov=defineInjectable({factory:function(){return new InteractivityChecker(inject(platform_Platform))},token:InteractivityChecker,providedIn:"root"}),InteractivityChecker})();function hasValidTabIndex(element){if(!element.hasAttribute("tabindex")||void 0===element.tabIndex)return!1;let tabIndex=element.getAttribute("tabindex");return"-32768"!=tabIndex&&!(!tabIndex||isNaN(parseInt(tabIndex,10)))}function getTabIndexValue(element){if(!hasValidTabIndex(element))return null;const tabIndex=parseInt(element.getAttribute("tabindex")||"",10);return isNaN(tabIndex)?-1:tabIndex}class a11y_FocusTrap{constructor(_element,_checker,_ngZone,_document,deferAnchors=!1){this._element=_element,this._checker=_checker,this._ngZone=_ngZone,this._document=_document,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,deferAnchors||this.attachAnchors()}get enabled(){return this._enabled}set enabled(value){this._enabled=value,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(value,this._startAnchor),this._toggleAnchorTabIndex(value,this._endAnchor))}destroy(){const startAnchor=this._startAnchor,endAnchor=this._endAnchor;startAnchor&&(startAnchor.removeEventListener("focus",this.startAnchorListener),startAnchor.parentNode&&startAnchor.parentNode.removeChild(startAnchor)),endAnchor&&(endAnchor.removeEventListener("focus",this.endAnchorListener),endAnchor.parentNode&&endAnchor.parentNode.removeChild(endAnchor)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(resolve=>{this._executeOnStable(()=>resolve(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(resolve=>{this._executeOnStable(()=>resolve(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(resolve=>{this._executeOnStable(()=>resolve(this.focusLastTabbableElement()))})}_getRegionBoundary(bound){let markers=this._element.querySelectorAll(`[cdk-focus-region-${bound}], [cdkFocusRegion${bound}], [cdk-focus-${bound}]`);for(let i=0;i<markers.length;i++)markers[i].hasAttribute(`cdk-focus-${bound}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${bound}', use 'cdkFocusRegion${bound}' instead. The deprecated attribute will be removed in 8.0.0.`,markers[i]):markers[i].hasAttribute(`cdk-focus-region-${bound}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${bound}', use 'cdkFocusRegion${bound}' instead. The deprecated attribute will be removed in 8.0.0.`,markers[i]);return"start"==bound?markers.length?markers[0]:this._getFirstTabbableElement(this._element):markers.length?markers[markers.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const redirectToElement=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return redirectToElement?(redirectToElement.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",redirectToElement),redirectToElement.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const redirectToElement=this._getRegionBoundary("start");return redirectToElement&&redirectToElement.focus(),!!redirectToElement}focusLastTabbableElement(){const redirectToElement=this._getRegionBoundary("end");return redirectToElement&&redirectToElement.focus(),!!redirectToElement}hasAttached(){return this._hasAttached}_getFirstTabbableElement(root){if(this._checker.isFocusable(root)&&this._checker.isTabbable(root))return root;let children=root.children||root.childNodes;for(let i=0;i<children.length;i++){let tabbableChild=children[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(children[i]):null;if(tabbableChild)return tabbableChild}return null}_getLastTabbableElement(root){if(this._checker.isFocusable(root)&&this._checker.isTabbable(root))return root;let children=root.children||root.childNodes;for(let i=children.length-1;i>=0;i--){let tabbableChild=children[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(children[i]):null;if(tabbableChild)return tabbableChild}return null}_createAnchor(){const anchor=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,anchor),anchor.classList.add("cdk-visually-hidden"),anchor.classList.add("cdk-focus-trap-anchor"),anchor.setAttribute("aria-hidden","true"),anchor}_toggleAnchorTabIndex(isEnabled,anchor){isEnabled?anchor.setAttribute("tabindex","0"):anchor.removeAttribute("tabindex")}toggleAnchors(enabled){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(enabled,this._startAnchor),this._toggleAnchorTabIndex(enabled,this._endAnchor))}_executeOnStable(fn){this._ngZone.isStable?fn():this._ngZone.onStable.pipe(take(1)).subscribe(fn)}}let a11y_FocusTrapFactory=(()=>{class FocusTrapFactory{constructor(_checker,_ngZone,_document){this._checker=_checker,this._ngZone=_ngZone,this._document=_document}create(element,deferCaptureElements=!1){return new a11y_FocusTrap(element,this._checker,this._ngZone,this._document,deferCaptureElements)}}return FocusTrapFactory.fac=function(t){return new(t||FocusTrapFactory)(inject(a11y_InteractivityChecker),inject(NgZone),inject(common_DOCUMENT))},FocusTrapFactory.prov=defineInjectable({factory:function(){return new FocusTrapFactory(inject(a11y_InteractivityChecker),inject(NgZone),inject(common_DOCUMENT))},token:FocusTrapFactory,providedIn:"root"}),FocusTrapFactory})();"undefined"!=typeof Element&&Element;const LIVE_ANNOUNCER_ELEMENT_TOKEN=new InjectionToken("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),LIVE_ANNOUNCER_DEFAULT_OPTIONS=new InjectionToken("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let a11y_LiveAnnouncer=(()=>{class LiveAnnouncer{constructor(elementToken,_ngZone,_document,_defaultOptions){this._ngZone=_ngZone,this._defaultOptions=_defaultOptions,this._document=_document,this._liveElement=elementToken||this._createLiveElement()}announce(message,...args){const defaultOptions=this._defaultOptions;let politeness,duration;return 1===args.length&&"number"==typeof args[0]?duration=args[0]:[politeness,duration]=args,this.clear(),clearTimeout(this._previousTimeout),politeness||(politeness=defaultOptions&&defaultOptions.politeness?defaultOptions.politeness:"polite"),null==duration&&defaultOptions&&(duration=defaultOptions.duration),this._liveElement.setAttribute("aria-live",politeness),this._ngZone.runOutsideAngular(()=>new Promise(resolve=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=message,resolve(),"number"==typeof duration&&(this._previousTimeout=setTimeout(()=>this.clear(),duration))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const previousElements=this._document.getElementsByClassName("cdk-live-announcer-element"),liveEl=this._document.createElement("div");for(let i=0;i<previousElements.length;i++)previousElements[i].parentNode.removeChild(previousElements[i]);return liveEl.classList.add("cdk-live-announcer-element"),liveEl.classList.add("cdk-visually-hidden"),liveEl.setAttribute("aria-atomic","true"),liveEl.setAttribute("aria-live","polite"),this._document.body.appendChild(liveEl),liveEl}}return LiveAnnouncer.fac=function(t){return new(t||LiveAnnouncer)(inject(LIVE_ANNOUNCER_ELEMENT_TOKEN,8),inject(NgZone),inject(common_DOCUMENT),inject(LIVE_ANNOUNCER_DEFAULT_OPTIONS,8))},LiveAnnouncer.prov=defineInjectable({factory:function(){return new LiveAnnouncer(inject(LIVE_ANNOUNCER_ELEMENT_TOKEN,8),inject(NgZone),inject(common_DOCUMENT),inject(LIVE_ANNOUNCER_DEFAULT_OPTIONS,8))},token:LiveAnnouncer,providedIn:"root"}),LiveAnnouncer})();function isFakeMousedownFromScreenReader(event){return 0===event.buttons}const FOCUS_MONITOR_DEFAULT_OPTIONS=new InjectionToken("cdk-focus-monitor-default-options"),captureEventListenerOptions=normalizePassiveListenerOptions({passive:!0,capture:!0});let a11y_FocusMonitor=(()=>{class FocusMonitor{constructor(_ngZone,_platform,document,options){this._ngZone=_ngZone,this._platform=_platform,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=event=>{if(!this._lastTouchTarget){const source=isFakeMousedownFromScreenReader(event)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(source)}},this._documentTouchstartListener=event=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=getTarget(event),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=event=>{const target=getTarget(event),handler="focus"===event.type?this._onFocus:this._onBlur;for(let element=target;element;element=element.parentElement)handler.call(this,event,element)},this._document=document,this._detectionMode=(null==options?void 0:options.detectionMode)||0}monitor(element,checkChildren=!1){const nativeElement=coerceElement(element);if(!this._platform.isBrowser||1!==nativeElement.nodeType)return of(null);const rootNode=_getShadowRoot(nativeElement)||this._getDocument(),cachedInfo=this._elementInfo.get(nativeElement);if(cachedInfo)return checkChildren&&(cachedInfo.checkChildren=!0),cachedInfo.subject;const info={checkChildren:checkChildren,subject:new Subject_Subject,rootNode:rootNode};return this._elementInfo.set(nativeElement,info),this._registerGlobalListeners(info),info.subject}stopMonitoring(element){const nativeElement=coerceElement(element),elementInfo=this._elementInfo.get(nativeElement);elementInfo&&(elementInfo.subject.complete(),this._setClasses(nativeElement),this._elementInfo.delete(nativeElement),this._removeGlobalListeners(elementInfo))}focusVia(element,origin,options){const nativeElement=coerceElement(element);this._setOriginForCurrentEventQueue(origin),"function"==typeof nativeElement.focus&&nativeElement.focus(options)}ngOnDestroy(){this._elementInfo.forEach((_info,element)=>this.stopMonitoring(element))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(element,className,shouldSet){shouldSet?element.classList.add(className):element.classList.remove(className)}_getFocusOrigin(event){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(event)?"touch":"program"}_setClasses(element,origin){this._toggleClass(element,"cdk-focused",!!origin),this._toggleClass(element,"cdk-touch-focused","touch"===origin),this._toggleClass(element,"cdk-keyboard-focused","keyboard"===origin),this._toggleClass(element,"cdk-mouse-focused","mouse"===origin),this._toggleClass(element,"cdk-program-focused","program"===origin)}_setOriginForCurrentEventQueue(origin){this._ngZone.runOutsideAngular(()=>{this._origin=origin,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(event){const focusTarget=getTarget(event);return this._lastTouchTarget instanceof Node&&focusTarget instanceof Node&&(focusTarget===this._lastTouchTarget||focusTarget.contains(this._lastTouchTarget))}_onFocus(event,element){const elementInfo=this._elementInfo.get(element);if(!elementInfo||!elementInfo.checkChildren&&element!==getTarget(event))return;const origin=this._getFocusOrigin(event);this._setClasses(element,origin),this._emitOrigin(elementInfo.subject,origin),this._lastFocusOrigin=origin}_onBlur(event,element){const elementInfo=this._elementInfo.get(element);!elementInfo||elementInfo.checkChildren&&event.relatedTarget instanceof Node&&element.contains(event.relatedTarget)||(this._setClasses(element),this._emitOrigin(elementInfo.subject,null))}_emitOrigin(subject,origin){this._ngZone.run(()=>subject.next(origin))}_registerGlobalListeners(elementInfo){if(!this._platform.isBrowser)return;const rootNode=elementInfo.rootNode,rootNodeFocusListeners=this._rootNodeFocusListenerCount.get(rootNode)||0;rootNodeFocusListeners||this._ngZone.runOutsideAngular(()=>{rootNode.addEventListener("focus",this._rootNodeFocusAndBlurListener,captureEventListenerOptions),rootNode.addEventListener("blur",this._rootNodeFocusAndBlurListener,captureEventListenerOptions)}),this._rootNodeFocusListenerCount.set(rootNode,rootNodeFocusListeners+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const document=this._getDocument(),window=this._getWindow();document.addEventListener("keydown",this._documentKeydownListener,captureEventListenerOptions),document.addEventListener("mousedown",this._documentMousedownListener,captureEventListenerOptions),document.addEventListener("touchstart",this._documentTouchstartListener,captureEventListenerOptions),window.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(elementInfo){const rootNode=elementInfo.rootNode;if(this._rootNodeFocusListenerCount.has(rootNode)){const rootNodeFocusListeners=this._rootNodeFocusListenerCount.get(rootNode);rootNodeFocusListeners>1?this._rootNodeFocusListenerCount.set(rootNode,rootNodeFocusListeners-1):(rootNode.removeEventListener("focus",this._rootNodeFocusAndBlurListener,captureEventListenerOptions),rootNode.removeEventListener("blur",this._rootNodeFocusAndBlurListener,captureEventListenerOptions),this._rootNodeFocusListenerCount.delete(rootNode))}if(!--this._monitoredElementCount){const document=this._getDocument(),window=this._getWindow();document.removeEventListener("keydown",this._documentKeydownListener,captureEventListenerOptions),document.removeEventListener("mousedown",this._documentMousedownListener,captureEventListenerOptions),document.removeEventListener("touchstart",this._documentTouchstartListener,captureEventListenerOptions),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return FocusMonitor.fac=function(t){return new(t||FocusMonitor)(inject(NgZone),inject(platform_Platform),inject(common_DOCUMENT,8),inject(FOCUS_MONITOR_DEFAULT_OPTIONS,8))},FocusMonitor.prov=defineInjectable({factory:function(){return new FocusMonitor(inject(NgZone),inject(platform_Platform),inject(common_DOCUMENT,8),inject(FOCUS_MONITOR_DEFAULT_OPTIONS,8))},token:FocusMonitor,providedIn:"root"}),FocusMonitor})();function getTarget(event){return event.composedPath?event.composedPath()[0]:event.target}let a11y_HighContrastModeDetector=(()=>{class HighContrastModeDetector{constructor(_platform,document){this._platform=_platform,this._document=document}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const testElement=this._document.createElement("div");testElement.style.backgroundColor="rgb(1,2,3)",testElement.style.position="absolute",this._document.body.appendChild(testElement);const documentWindow=this._document.defaultView||window,computedStyle=documentWindow&&documentWindow.getComputedStyle?documentWindow.getComputedStyle(testElement):null,computedColor=(computedStyle&&computedStyle.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(testElement),computedColor){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const bodyClasses=this._document.body.classList;bodyClasses.remove("cdk-high-contrast-active"),bodyClasses.remove("cdk-high-contrast-black-on-white"),bodyClasses.remove("cdk-high-contrast-white-on-black");const mode=this.getHighContrastMode();1===mode?(bodyClasses.add("cdk-high-contrast-active"),bodyClasses.add("cdk-high-contrast-black-on-white")):2===mode&&(bodyClasses.add("cdk-high-contrast-active"),bodyClasses.add("cdk-high-contrast-white-on-black"))}}}return HighContrastModeDetector.fac=function(t){return new(t||HighContrastModeDetector)(inject(platform_Platform),inject(common_DOCUMENT))},HighContrastModeDetector.prov=defineInjectable({factory:function(){return new HighContrastModeDetector(inject(platform_Platform),inject(common_DOCUMENT))},token:HighContrastModeDetector,providedIn:"root"}),HighContrastModeDetector})(),a11y_A11yModule=(()=>{class A11yModule{constructor(highContrastModeDetector){highContrastModeDetector._applyBodyHighContrastModeCssClasses()}}return A11yModule.mod=defineNgModule({type:A11yModule}),A11yModule.inj=defineInjector({factory:function(t){return new(t||A11yModule)(inject(a11y_HighContrastModeDetector))},imports:[[platform_PlatformModule,observers_ObserversModule]]}),A11yModule})();const DIR_DOCUMENT=new InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return inject(common_DOCUMENT)}});let bidi_Directionality=(()=>{class Directionality{constructor(_document){if(this.value="ltr",this.change=new EventEmitter,_document){const htmlDir=_document.documentElement?_document.documentElement.dir:null,value=(_document.body?_document.body.dir:null)||htmlDir;this.value="ltr"===value||"rtl"===value?value:"ltr"}}ngOnDestroy(){this.change.complete()}}return Directionality.fac=function(t){return new(t||Directionality)(inject(DIR_DOCUMENT,8))},Directionality.prov=defineInjectable({factory:function(){return new Directionality(inject(DIR_DOCUMENT,8))},token:Directionality,providedIn:"root"}),Directionality})(),bidi_BidiModule=(()=>{class BidiModule{}return BidiModule.mod=defineNgModule({type:BidiModule}),BidiModule.inj=defineInjector({factory:function(t){return new(t||BidiModule)}}),BidiModule})();const cdk_VERSION=new Version("10.2.7");class AnimationBuilder{}function trigger(name,definitions){return{type:7,name:name,definitions:definitions,options:{}}}function animate(timings,styles=null){return{type:4,styles:styles,timings:timings}}function animations_group(steps,options=null){return{type:3,steps:steps,options:options}}function animations_sequence(steps,options=null){return{type:2,steps:steps,options:options}}function animations_style(tokens){return{type:6,styles:tokens,offset:null}}function animations_state(name,styles,options){return{type:0,name:name,styles:styles,options:options}}function animations_keyframes(steps){return{type:5,steps:steps}}function animations_transition(stateChangeExpr,steps,options=null){return{type:1,expr:stateChangeExpr,animation:steps,options:options}}function animateChild(options=null){return{type:9,options:options}}function animations_query(selector,animation,options=null){return{type:11,selector:selector,animation:animation,options:options}}function animations_scheduleMicroTask(cb){Promise.resolve(null).then(cb)}class NoopAnimationPlayer{constructor(duration=0,delay=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=duration+delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){animations_scheduleMicroTask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){}setPosition(position){this._position=this.totalTime?position*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class AnimationGroupPlayer{constructor(_players){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_players;let doneCount=0,destroyCount=0,startCount=0;const total=this.players.length;0==total?animations_scheduleMicroTask(()=>this._onFinish()):this.players.forEach(player=>{player.onDone(()=>{++doneCount==total&&this._onFinish()}),player.onDestroy(()=>{++destroyCount==total&&this._onDestroy()}),player.onStart(()=>{++startCount==total&&this._onStart()})}),this.totalTime=this.players.reduce((time,player)=>Math.max(time,player.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this.players.forEach(player=>player.init())}onStart(fn){this._onStartFns.push(fn)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fn=>fn()),this._onStartFns=[])}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(player=>player.play())}pause(){this.players.forEach(player=>player.pause())}restart(){this.players.forEach(player=>player.restart())}finish(){this._onFinish(),this.players.forEach(player=>player.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(player=>player.destroy()),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){this.players.forEach(player=>player.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(p){const timeAtPosition=p*this.totalTime;this.players.forEach(player=>{const position=player.totalTime?Math.min(1,timeAtPosition/player.totalTime):1;player.setPosition(position)})}getPosition(){const longestPlayer=this.players.reduce((longestSoFar,player)=>null===longestSoFar||player.totalTime>longestSoFar.totalTime?player:longestSoFar,null);return null!=longestPlayer?longestPlayer.getPosition():0}beforeDestroy(){this.players.forEach(player=>{player.beforeDestroy&&player.beforeDestroy()})}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}function isNode(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function optimizeGroupPlayer(players){switch(players.length){case 0:return new NoopAnimationPlayer;case 1:return players[0];default:return new AnimationGroupPlayer(players)}}function normalizeKeyframes(driver,normalizer,element,keyframes,preStyles={},postStyles={}){const errors=[],normalizedKeyframes=[];let previousOffset=-1,previousKeyframe=null;if(keyframes.forEach(kf=>{const offset=kf.offset,isSameOffset=offset==previousOffset,normalizedKeyframe=isSameOffset&&previousKeyframe||{};Object.keys(kf).forEach(prop=>{let normalizedProp=prop,normalizedValue=kf[prop];if("offset"!==prop)switch(normalizedProp=normalizer.normalizePropertyName(normalizedProp,errors),normalizedValue){case"!":normalizedValue=preStyles[prop];break;case"*":normalizedValue=postStyles[prop];break;default:normalizedValue=normalizer.normalizeStyleValue(prop,normalizedProp,normalizedValue,errors)}normalizedKeyframe[normalizedProp]=normalizedValue}),isSameOffset||normalizedKeyframes.push(normalizedKeyframe),previousKeyframe=normalizedKeyframe,previousOffset=offset}),errors.length){const LINE_START="\n - ";throw new Error(`Unable to animate due to the following errors:${LINE_START}${errors.join(LINE_START)}`)}return normalizedKeyframes}function listenOnPlayer(player,eventName,event,callback){switch(eventName){case"start":player.onStart(()=>callback(event&&copyAnimationEvent(event,"start",player)));break;case"done":player.onDone(()=>callback(event&&copyAnimationEvent(event,"done",player)));break;case"destroy":player.onDestroy(()=>callback(event&&copyAnimationEvent(event,"destroy",player)))}}function copyAnimationEvent(e,phaseName,player){const totalTime=player.totalTime,event=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,phaseName||e.phaseName,null==totalTime?e.totalTime:totalTime,!!player.disabled),data=e._data;return null!=data&&(event._data=data),event}function makeAnimationEvent(element,triggerName,fromState,toState,phaseName="",totalTime=0,disabled){return{element:element,triggerName:triggerName,fromState:fromState,toState:toState,phaseName:phaseName,totalTime:totalTime,disabled:!!disabled}}function getOrSetAsInMap(map,key,defaultValue){let value;return map instanceof Map?(value=map.get(key),value||map.set(key,value=defaultValue)):(value=map[key],value||(value=map[key]=defaultValue)),value}function parseTimelineCommand(command){const separatorPos=command.indexOf(":");return[command.substring(1,separatorPos),command.substr(separatorPos+1)]}let _contains=(elm1,elm2)=>!1,_matches=(element,selector)=>!1,_query=(element,selector,multi)=>[];const _isNode=isNode();(_isNode||"undefined"!=typeof Element)&&(_contains=(elm1,elm2)=>elm1.contains(elm2),_matches=(()=>{if(_isNode||Element.prototype.matches)return(element,selector)=>element.matches(selector);{const proto=Element.prototype,fn=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector;return fn?(element,selector)=>fn.apply(element,[selector]):_matches}})(),_query=(element,selector,multi)=>{let results=[];if(multi){const elems=element.querySelectorAll(selector);for(let i=0;i<elems.length;i++)results.push(elems[i])}else{const elm=element.querySelector(selector);elm&&results.push(elm)}return results});let _CACHED_BODY=null,_IS_WEBKIT=!1;function validateStyleProperty(prop){_CACHED_BODY||(_CACHED_BODY=("undefined"!=typeof document?document.body:null)||{},_IS_WEBKIT=!!_CACHED_BODY.style&&"WebkitAppearance"in _CACHED_BODY.style);let result=!0;return _CACHED_BODY.style&&!function(prop){return"ebkit"==prop.substring(1,6)}(prop)&&(result=prop in _CACHED_BODY.style,!result&&_IS_WEBKIT)&&(result="Webkit"+prop.charAt(0).toUpperCase()+prop.substr(1)in _CACHED_BODY.style),result}const matchesElement=_matches,containsElement=_contains,invokeQuery=_query;function hypenatePropsObject(object){const newObj={};return Object.keys(object).forEach(prop=>{const newProp=prop.replace(/([a-z])([A-Z])/g,"$1-$2");newObj[newProp]=object[prop]}),newObj}let browser_NoopAnimationDriver=(()=>{class NoopAnimationDriver{validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return defaultValue||""}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){return new NoopAnimationPlayer(duration,delay)}}return NoopAnimationDriver.fac=function(t){return new(t||NoopAnimationDriver)},NoopAnimationDriver.prov=defineInjectable({token:NoopAnimationDriver,factory:NoopAnimationDriver.fac}),NoopAnimationDriver})(),AnimationDriver=(()=>{class AnimationDriver{}return AnimationDriver.NOOP=new browser_NoopAnimationDriver,AnimationDriver})();function resolveTimingValue(value){if("number"==typeof value)return value;const matches=value.match(/^(-?[\.\d]+)(m?s)/);return!matches||matches.length<2?0:_convertTimeValueToMS(parseFloat(matches[1]),matches[2])}function _convertTimeValueToMS(value,unit){switch(unit){case"s":return 1e3*value;default:return value}}function resolveTiming(timings,errors,allowNegativeValues){return timings.hasOwnProperty("duration")?timings:function(exp,errors,allowNegativeValues){let duration,delay=0,easing="";if("string"==typeof exp){const matches=exp.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===matches)return errors.push(`The provided timing value "${exp}" is invalid.`),{duration:0,delay:0,easing:""};duration=_convertTimeValueToMS(parseFloat(matches[1]),matches[2]);const delayMatch=matches[3];null!=delayMatch&&(delay=_convertTimeValueToMS(parseFloat(delayMatch),matches[4]));const easingVal=matches[5];easingVal&&(easing=easingVal)}else duration=exp;if(!allowNegativeValues){let containsErrors=!1,startIndex=errors.length;duration<0&&(errors.push("Duration values below 0 are not allowed for this animation step."),containsErrors=!0),delay<0&&(errors.push("Delay values below 0 are not allowed for this animation step."),containsErrors=!0),containsErrors&&errors.splice(startIndex,0,`The provided timing value "${exp}" is invalid.`)}return{duration:duration,delay:delay,easing:easing}}(timings,errors,allowNegativeValues)}function copyObj(obj,destination={}){return Object.keys(obj).forEach(prop=>{destination[prop]=obj[prop]}),destination}function copyStyles(styles,readPrototype,destination={}){if(readPrototype)for(let prop in styles)destination[prop]=styles[prop];else copyObj(styles,destination);return destination}function getStyleAttributeString(element,key,value){return value?key+":"+value+";":""}function writeStyleAttribute(element){let styleAttrValue="";for(let i=0;i<element.style.length;i++){const key=element.style.item(i);styleAttrValue+=getStyleAttributeString(0,key,element.style.getPropertyValue(key))}for(const key in element.style)element.style.hasOwnProperty(key)&&!key.startsWith("_")&&(styleAttrValue+=getStyleAttributeString(0,key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),element.style[key]));element.setAttribute("style",styleAttrValue)}function setStyles(element,styles,formerStyles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=browser_dashCaseToCamelCase(prop);formerStyles&&!formerStyles.hasOwnProperty(prop)&&(formerStyles[prop]=element.style[camelProp]),element.style[camelProp]=styles[prop]}),isNode()&&writeStyleAttribute(element))}function eraseStyles(element,styles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=browser_dashCaseToCamelCase(prop);element.style[camelProp]=""}),isNode()&&writeStyleAttribute(element))}function normalizeAnimationEntry(steps){return Array.isArray(steps)?1==steps.length?steps[0]:animations_sequence(steps):steps}const PARAM_REGEX=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(value){let params=[];if("string"==typeof value){let match;for(;match=PARAM_REGEX.exec(value);)params.push(match[1]);PARAM_REGEX.lastIndex=0}return params}function interpolateParams(value,params,errors){const original=value.toString(),str=original.replace(PARAM_REGEX,(_,varName)=>{let localVal=params[varName];return params.hasOwnProperty(varName)||(errors.push(`Please provide a value for the animation param ${varName}`),localVal=""),localVal.toString()});return str==original?value:str}function iteratorToArray(iterator){const arr=[];let item=iterator.next();for(;!item.done;)arr.push(item.value),item=iterator.next();return arr}const browser_DASH_CASE_REGEXP=/-+([a-z0-9])/g;function browser_dashCaseToCamelCase(input){return input.replace(browser_DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}function allowPreviousPlayerStylesMerge(duration,delay){return 0===duration||0===delay}function balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles){const previousStyleProps=Object.keys(previousStyles);if(previousStyleProps.length&&keyframes.length){let startingKeyframe=keyframes[0],missingStyleProps=[];if(previousStyleProps.forEach(prop=>{startingKeyframe.hasOwnProperty(prop)||missingStyleProps.push(prop),startingKeyframe[prop]=previousStyles[prop]}),missingStyleProps.length)for(var i=1;i<keyframes.length;i++){let kf=keyframes[i];missingStyleProps.forEach(function(prop){kf[prop]=computeStyle(element,prop)})}}return keyframes}function visitDslNode(visitor,node,context){switch(node.type){case 7:return visitor.visitTrigger(node,context);case 0:return visitor.visitState(node,context);case 1:return visitor.visitTransition(node,context);case 2:return visitor.visitSequence(node,context);case 3:return visitor.visitGroup(node,context);case 4:return visitor.visitAnimate(node,context);case 5:return visitor.visitKeyframes(node,context);case 6:return visitor.visitStyle(node,context);case 8:return visitor.visitReference(node,context);case 9:return visitor.visitAnimateChild(node,context);case 10:return visitor.visitAnimateRef(node,context);case 11:return visitor.visitQuery(node,context);case 12:return visitor.visitStagger(node,context);default:throw new Error(`Unable to resolve animation metadata node #${node.type}`)}}function computeStyle(element,prop){return window.getComputedStyle(element)[prop]}function parseTransitionExpr(transitionValue,errors){const expressions=[];return"string"==typeof transitionValue?transitionValue.split(/\s*,\s*/).forEach(str=>function(eventStr,expressions,errors){if(":"==eventStr[0]){const result=function(alias,errors){switch(alias){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(fromState,toState)=>parseFloat(toState)>parseFloat(fromState);case":decrement":return(fromState,toState)=>parseFloat(toState)<parseFloat(fromState);default:return errors.push(`The transition alias value "${alias}" is not supported`),"* => *"}}(eventStr,errors);if("function"==typeof result)return void expressions.push(result);eventStr=result}const match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==match||match.length<4)return errors.push(`The provided transition expression "${eventStr}" is not supported`),expressions;const fromState=match[1],separator=match[2],toState=match[3];expressions.push(makeLambdaFromStates(fromState,toState)),"<"!=separator[0]||"*"==fromState&&"*"==toState||expressions.push(makeLambdaFromStates(toState,fromState))}(str,expressions,errors)):expressions.push(transitionValue),expressions}const TRUE_BOOLEAN_VALUES=new Set(["true","1"]),FALSE_BOOLEAN_VALUES=new Set(["false","0"]);function makeLambdaFromStates(lhs,rhs){const LHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(lhs)||FALSE_BOOLEAN_VALUES.has(lhs),RHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(rhs)||FALSE_BOOLEAN_VALUES.has(rhs);return(fromState,toState)=>{let lhsMatch="*"==lhs||lhs==fromState,rhsMatch="*"==rhs||rhs==toState;return!lhsMatch&&LHS_MATCH_BOOLEAN&&"boolean"==typeof fromState&&(lhsMatch=fromState?TRUE_BOOLEAN_VALUES.has(lhs):FALSE_BOOLEAN_VALUES.has(lhs)),!rhsMatch&&RHS_MATCH_BOOLEAN&&"boolean"==typeof toState&&(rhsMatch=toState?TRUE_BOOLEAN_VALUES.has(rhs):FALSE_BOOLEAN_VALUES.has(rhs)),lhsMatch&&rhsMatch}}const SELF_TOKEN_REGEX=new RegExp("s*:selfs*,?","g");function buildAnimationAst(driver,metadata,errors){return new browser_AnimationAstBuilderVisitor(driver).build(metadata,errors)}class browser_AnimationAstBuilderVisitor{constructor(_driver){this._driver=_driver}build(metadata,errors){const context=new AnimationAstBuilderContext(errors);return this._resetContextStyleTimingState(context),visitDslNode(this,normalizeAnimationEntry(metadata),context)}_resetContextStyleTimingState(context){context.currentQuerySelector="",context.collectedStyles={},context.collectedStyles[""]={},context.currentTime=0}visitTrigger(metadata,context){let queryCount=context.queryCount=0,depCount=context.depCount=0;const states=[],transitions=[];return"@"==metadata.name.charAt(0)&&context.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),metadata.definitions.forEach(def=>{if(this._resetContextStyleTimingState(context),0==def.type){const stateDef=def,name=stateDef.name;name.toString().split(/\s*,\s*/).forEach(n=>{stateDef.name=n,states.push(this.visitState(stateDef,context))}),stateDef.name=name}else if(1==def.type){const transition=this.visitTransition(def,context);queryCount+=transition.queryCount,depCount+=transition.depCount,transitions.push(transition)}else context.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:metadata.name,states:states,transitions:transitions,queryCount:queryCount,depCount:depCount,options:null}}visitState(metadata,context){const styleAst=this.visitStyle(metadata.styles,context),astParams=metadata.options&&metadata.options.params||null;if(styleAst.containsDynamicStyles){const missingSubs=new Set,params=astParams||{};if(styleAst.styles.forEach(value=>{if(browser_isObject(value)){const stylesObj=value;Object.keys(stylesObj).forEach(prop=>{extractStyleParams(stylesObj[prop]).forEach(sub=>{params.hasOwnProperty(sub)||missingSubs.add(sub)})})}}),missingSubs.size){const missingSubsArr=iteratorToArray(missingSubs.values());context.errors.push(`state("${metadata.name}", ...) must define default values for all the following style substitutions: ${missingSubsArr.join(", ")}`)}}return{type:0,name:metadata.name,style:styleAst,options:astParams?{params:astParams}:null}}visitTransition(metadata,context){context.queryCount=0,context.depCount=0;const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return{type:1,matchers:parseTransitionExpr(metadata.expr,context.errors),animation:animation,queryCount:context.queryCount,depCount:context.depCount,options:normalizeAnimationOptions(metadata.options)}}visitSequence(metadata,context){return{type:2,steps:metadata.steps.map(s=>visitDslNode(this,s,context)),options:normalizeAnimationOptions(metadata.options)}}visitGroup(metadata,context){const currentTime=context.currentTime;let furthestTime=0;const steps=metadata.steps.map(step=>{context.currentTime=currentTime;const innerAst=visitDslNode(this,step,context);return furthestTime=Math.max(furthestTime,context.currentTime),innerAst});return context.currentTime=furthestTime,{type:3,steps:steps,options:normalizeAnimationOptions(metadata.options)}}visitAnimate(metadata,context){const timingAst=function(value,errors){let timings=null;if(value.hasOwnProperty("duration"))timings=value;else if("number"==typeof value)return makeTimingAst(resolveTiming(value,errors).duration,0,"");const strValue=value;if(strValue.split(/\s+/).some(v=>"{"==v.charAt(0)&&"{"==v.charAt(1))){const ast=makeTimingAst(0,0,"");return ast.dynamic=!0,ast.strValue=strValue,ast}return timings=timings||resolveTiming(strValue,errors),makeTimingAst(timings.duration,timings.delay,timings.easing)}(metadata.timings,context.errors);let styleAst;context.currentAnimateTimings=timingAst;let styleMetadata=metadata.styles?metadata.styles:animations_style({});if(5==styleMetadata.type)styleAst=this.visitKeyframes(styleMetadata,context);else{let styleMetadata=metadata.styles,isEmpty=!1;if(!styleMetadata){isEmpty=!0;const newStyleData={};timingAst.easing&&(newStyleData.easing=timingAst.easing),styleMetadata=animations_style(newStyleData)}context.currentTime+=timingAst.duration+timingAst.delay;const _styleAst=this.visitStyle(styleMetadata,context);_styleAst.isEmptyStep=isEmpty,styleAst=_styleAst}return context.currentAnimateTimings=null,{type:4,timings:timingAst,style:styleAst,options:null}}visitStyle(metadata,context){const ast=this._makeStyleAst(metadata,context);return this._validateStyleAst(ast,context),ast}_makeStyleAst(metadata,context){const styles=[];Array.isArray(metadata.styles)?metadata.styles.forEach(styleTuple=>{"string"==typeof styleTuple?"*"==styleTuple?styles.push(styleTuple):context.errors.push(`The provided style string value ${styleTuple} is not allowed.`):styles.push(styleTuple)}):styles.push(metadata.styles);let containsDynamicStyles=!1,collectedEasing=null;return styles.forEach(styleData=>{if(browser_isObject(styleData)){const styleMap=styleData,easing=styleMap.easing;if(easing&&(collectedEasing=easing,delete styleMap.easing),!containsDynamicStyles)for(let prop in styleMap)if(styleMap[prop].toString().indexOf("{{")>=0){containsDynamicStyles=!0;break}}}),{type:6,styles:styles,easing:collectedEasing,offset:metadata.offset,containsDynamicStyles:containsDynamicStyles,options:null}}_validateStyleAst(ast,context){const timings=context.currentAnimateTimings;let endTime=context.currentTime,startTime=context.currentTime;timings&&startTime>0&&(startTime-=timings.duration+timings.delay),ast.styles.forEach(tuple=>{"string"!=typeof tuple&&Object.keys(tuple).forEach(prop=>{if(!this._driver.validateStyleProperty(prop))return void context.errors.push(`The provided animation property "${prop}" is not a supported CSS property for animations`);const collectedStyles=context.collectedStyles[context.currentQuerySelector],collectedEntry=collectedStyles[prop];let updateCollectedStyle=!0;collectedEntry&&(startTime!=endTime&&startTime>=collectedEntry.startTime&&endTime<=collectedEntry.endTime&&(context.errors.push(`The CSS property "${prop}" that exists between the times of "${collectedEntry.startTime}ms" and "${collectedEntry.endTime}ms" is also being animated in a parallel animation between the times of "${startTime}ms" and "${endTime}ms"`),updateCollectedStyle=!1),startTime=collectedEntry.startTime),updateCollectedStyle&&(collectedStyles[prop]={startTime:startTime,endTime:endTime}),context.options&&function(value,options,errors){const params=options.params||{},matches=extractStyleParams(value);matches.length&&matches.forEach(varName=>{params.hasOwnProperty(varName)||errors.push(`Unable to resolve the local animation param ${varName} in the given list of values`)})}(tuple[prop],context.options,context.errors)})})}visitKeyframes(metadata,context){const ast={type:5,styles:[],options:null};if(!context.currentAnimateTimings)return context.errors.push("keyframes() must be placed inside of a call to animate()"),ast;let totalKeyframesWithOffsets=0;const offsets=[];let offsetsOutOfOrder=!1,keyframesOutOfRange=!1,previousOffset=0;const keyframes=metadata.steps.map(styles=>{const style=this._makeStyleAst(styles,context);let offsetVal=null!=style.offset?style.offset:function(styles){if("string"==typeof styles)return null;let offset=null;if(Array.isArray(styles))styles.forEach(styleTuple=>{if(browser_isObject(styleTuple)&&styleTuple.hasOwnProperty("offset")){const obj=styleTuple;offset=parseFloat(obj.offset),delete obj.offset}});else if(browser_isObject(styles)&&styles.hasOwnProperty("offset")){const obj=styles;offset=parseFloat(obj.offset),delete obj.offset}return offset}(style.styles),offset=0;return null!=offsetVal&&(totalKeyframesWithOffsets++,offset=style.offset=offsetVal),keyframesOutOfRange=keyframesOutOfRange||offset<0||offset>1,offsetsOutOfOrder=offsetsOutOfOrder||offset<previousOffset,previousOffset=offset,offsets.push(offset),style});keyframesOutOfRange&&context.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),offsetsOutOfOrder&&context.errors.push("Please ensure that all keyframe offsets are in order");const length=metadata.steps.length;let generatedOffset=0;totalKeyframesWithOffsets>0&&totalKeyframesWithOffsets<length?context.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==totalKeyframesWithOffsets&&(generatedOffset=1/(length-1));const limit=length-1,currentTime=context.currentTime,currentAnimateTimings=context.currentAnimateTimings,animateDuration=currentAnimateTimings.duration;return keyframes.forEach((kf,i)=>{const offset=generatedOffset>0?i==limit?1:generatedOffset*i:offsets[i],durationUpToThisFrame=offset*animateDuration;context.currentTime=currentTime+currentAnimateTimings.delay+durationUpToThisFrame,currentAnimateTimings.duration=durationUpToThisFrame,this._validateStyleAst(kf,context),kf.offset=offset,ast.styles.push(kf)}),ast}visitReference(metadata,context){return{type:8,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),options:normalizeAnimationOptions(metadata.options)}}visitAnimateChild(metadata,context){return context.depCount++,{type:9,options:normalizeAnimationOptions(metadata.options)}}visitAnimateRef(metadata,context){return{type:10,animation:this.visitReference(metadata.animation,context),options:normalizeAnimationOptions(metadata.options)}}visitQuery(metadata,context){const parentSelector=context.currentQuerySelector,options=metadata.options||{};context.queryCount++,context.currentQuery=metadata;const[selector,includeSelf]=function(selector){const hasAmpersand=!!selector.split(/\s*,\s*/).find(token=>":self"==token);return hasAmpersand&&(selector=selector.replace(SELF_TOKEN_REGEX,"")),[selector=selector.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,match=>".ng-trigger-"+match.substr(1)).replace(/:animating/g,".ng-animating"),hasAmpersand]}(metadata.selector);context.currentQuerySelector=parentSelector.length?parentSelector+" "+selector:selector,getOrSetAsInMap(context.collectedStyles,context.currentQuerySelector,{});const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return context.currentQuery=null,context.currentQuerySelector=parentSelector,{type:11,selector:selector,limit:options.limit||0,optional:!!options.optional,includeSelf:includeSelf,animation:animation,originalSelector:metadata.selector,options:normalizeAnimationOptions(metadata.options)}}visitStagger(metadata,context){context.currentQuery||context.errors.push("stagger() can only be used inside of query()");const timings="full"===metadata.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(metadata.timings,context.errors,!0);return{type:12,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),timings:timings,options:null}}}class AnimationAstBuilderContext{constructor(errors){this.errors=errors,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function browser_isObject(value){return!Array.isArray(value)&&"object"==typeof value}function normalizeAnimationOptions(options){var obj;return options?(options=copyObj(options)).params&&(options.params=(obj=options.params)?copyObj(obj):null):options={},options}function makeTimingAst(duration,delay,easing){return{duration:duration,delay:delay,easing:easing}}function createTimelineInstruction(element,keyframes,preStyleProps,postStyleProps,duration,delay,easing=null,subTimeline=!1){return{type:1,element:element,keyframes:keyframes,preStyleProps:preStyleProps,postStyleProps:postStyleProps,duration:duration,delay:delay,totalTime:duration+delay,easing:easing,subTimeline:subTimeline}}class ElementInstructionMap{constructor(){this._map=new Map}consume(element){let instructions=this._map.get(element);return instructions?this._map.delete(element):instructions=[],instructions}append(element,instructions){let existingInstructions=this._map.get(element);existingInstructions||this._map.set(element,existingInstructions=[]),existingInstructions.push(...instructions)}has(element){return this._map.has(element)}clear(){this._map.clear()}}const ENTER_TOKEN_REGEX=new RegExp(":enter","g"),LEAVE_TOKEN_REGEX=new RegExp(":leave","g");function buildAnimationTimelines(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles={},finalStyles={},options,subInstructions,errors=[]){return(new AnimationTimelineBuilderVisitor).buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors)}class AnimationTimelineBuilderVisitor{buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors=[]){subInstructions=subInstructions||new ElementInstructionMap;const context=new AnimationTimelineContext(driver,rootElement,subInstructions,enterClassName,leaveClassName,errors,[]);context.options=options,context.currentTimeline.setStyles([startingStyles],null,context.errors,options),visitDslNode(this,ast,context);const timelines=context.timelines.filter(timeline=>timeline.containsAnimation());if(timelines.length&&Object.keys(finalStyles).length){const tl=timelines[timelines.length-1];tl.allowOnlyTimelineStyles()||tl.setStyles([finalStyles],null,context.errors,options)}return timelines.length?timelines.map(timeline=>timeline.buildKeyframes()):[createTimelineInstruction(rootElement,[],[],[],0,0,"",!1)]}visitTrigger(ast,context){}visitState(ast,context){}visitTransition(ast,context){}visitAnimateChild(ast,context){const elementInstructions=context.subInstructions.consume(context.element);if(elementInstructions){const innerContext=context.createSubContext(ast.options),startTime=context.currentTimeline.currentTime,endTime=this._visitSubInstructions(elementInstructions,innerContext,innerContext.options);startTime!=endTime&&context.transformIntoNewTimeline(endTime)}context.previousNode=ast}visitAnimateRef(ast,context){const innerContext=context.createSubContext(ast.options);innerContext.transformIntoNewTimeline(),this.visitReference(ast.animation,innerContext),context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime),context.previousNode=ast}_visitSubInstructions(instructions,context,options){let furthestTime=context.currentTimeline.currentTime;const duration=null!=options.duration?resolveTimingValue(options.duration):null,delay=null!=options.delay?resolveTimingValue(options.delay):null;return 0!==duration&&instructions.forEach(instruction=>{const instructionTimings=context.appendInstructionToTimeline(instruction,duration,delay);furthestTime=Math.max(furthestTime,instructionTimings.duration+instructionTimings.delay)}),furthestTime}visitReference(ast,context){context.updateOptions(ast.options,!0),visitDslNode(this,ast.animation,context),context.previousNode=ast}visitSequence(ast,context){const subContextCount=context.subContextCount;let ctx=context;const options=ast.options;if(options&&(options.params||options.delay)&&(ctx=context.createSubContext(options),ctx.transformIntoNewTimeline(),null!=options.delay)){6==ctx.previousNode.type&&(ctx.currentTimeline.snapshotCurrentStyles(),ctx.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);const delay=resolveTimingValue(options.delay);ctx.delayNextStep(delay)}ast.steps.length&&(ast.steps.forEach(s=>visitDslNode(this,s,ctx)),ctx.currentTimeline.applyStylesToKeyframe(),ctx.subContextCount>subContextCount&&ctx.transformIntoNewTimeline()),context.previousNode=ast}visitGroup(ast,context){const innerTimelines=[];let furthestTime=context.currentTimeline.currentTime;const delay=ast.options&&ast.options.delay?resolveTimingValue(ast.options.delay):0;ast.steps.forEach(s=>{const innerContext=context.createSubContext(ast.options);delay&&innerContext.delayNextStep(delay),visitDslNode(this,s,innerContext),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime),innerTimelines.push(innerContext.currentTimeline)}),innerTimelines.forEach(timeline=>context.currentTimeline.mergeTimelineCollectedStyles(timeline)),context.transformIntoNewTimeline(furthestTime),context.previousNode=ast}_visitTiming(ast,context){if(ast.dynamic){const strValue=ast.strValue;return resolveTiming(context.params?interpolateParams(strValue,context.params,context.errors):strValue,context.errors)}return{duration:ast.duration,delay:ast.delay,easing:ast.easing}}visitAnimate(ast,context){const timings=context.currentAnimateTimings=this._visitTiming(ast.timings,context),timeline=context.currentTimeline;timings.delay&&(context.incrementTime(timings.delay),timeline.snapshotCurrentStyles());const style=ast.style;5==style.type?this.visitKeyframes(style,context):(context.incrementTime(timings.duration),this.visitStyle(style,context),timeline.applyStylesToKeyframe()),context.currentAnimateTimings=null,context.previousNode=ast}visitStyle(ast,context){const timeline=context.currentTimeline,timings=context.currentAnimateTimings;!timings&&timeline.getCurrentStyleProperties().length&&timeline.forwardFrame();const easing=timings&&timings.easing||ast.easing;ast.isEmptyStep?timeline.applyEmptyStep(easing):timeline.setStyles(ast.styles,easing,context.errors,context.options),context.previousNode=ast}visitKeyframes(ast,context){const currentAnimateTimings=context.currentAnimateTimings,startTime=context.currentTimeline.duration,duration=currentAnimateTimings.duration,innerTimeline=context.createSubContext().currentTimeline;innerTimeline.easing=currentAnimateTimings.easing,ast.styles.forEach(step=>{innerTimeline.forwardTime((step.offset||0)*duration),innerTimeline.setStyles(step.styles,step.easing,context.errors,context.options),innerTimeline.applyStylesToKeyframe()}),context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline),context.transformIntoNewTimeline(startTime+duration),context.previousNode=ast}visitQuery(ast,context){const startTime=context.currentTimeline.currentTime,options=ast.options||{},delay=options.delay?resolveTimingValue(options.delay):0;delay&&(6===context.previousNode.type||0==startTime&&context.currentTimeline.getCurrentStyleProperties().length)&&(context.currentTimeline.snapshotCurrentStyles(),context.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);let furthestTime=startTime;const elms=context.invokeQuery(ast.selector,ast.originalSelector,ast.limit,ast.includeSelf,!!options.optional,context.errors);context.currentQueryTotal=elms.length;let sameElementTimeline=null;elms.forEach((element,i)=>{context.currentQueryIndex=i;const innerContext=context.createSubContext(ast.options,element);delay&&innerContext.delayNextStep(delay),element===context.element&&(sameElementTimeline=innerContext.currentTimeline),visitDslNode(this,ast.animation,innerContext),innerContext.currentTimeline.applyStylesToKeyframe(),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime)}),context.currentQueryIndex=0,context.currentQueryTotal=0,context.transformIntoNewTimeline(furthestTime),sameElementTimeline&&(context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline),context.currentTimeline.snapshotCurrentStyles()),context.previousNode=ast}visitStagger(ast,context){const parentContext=context.parentContext,tl=context.currentTimeline,timings=ast.timings,duration=Math.abs(timings.duration),maxTime=duration*(context.currentQueryTotal-1);let delay=duration*context.currentQueryIndex;switch(timings.duration<0?"reverse":timings.easing){case"reverse":delay=maxTime-delay;break;case"full":delay=parentContext.currentStaggerTime}const timeline=context.currentTimeline;delay&&timeline.delayNextStep(delay);const startingTime=timeline.currentTime;visitDslNode(this,ast.animation,context),context.previousNode=ast,parentContext.currentStaggerTime=tl.currentTime-startingTime+(tl.startTime-parentContext.currentTimeline.startTime)}}const DEFAULT_NOOP_PREVIOUS_NODE={};class AnimationTimelineContext{constructor(_driver,element,subInstructions,_enterClassName,_leaveClassName,errors,timelines,initialTimeline){this._driver=_driver,this.element=element,this.subInstructions=subInstructions,this._enterClassName=_enterClassName,this._leaveClassName=_leaveClassName,this.errors=errors,this.timelines=timelines,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=initialTimeline||new browser_TimelineBuilder(this._driver,element,0),timelines.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(options,skipIfExists){if(!options)return;const newOptions=options;let optionsToUpdate=this.options;null!=newOptions.duration&&(optionsToUpdate.duration=resolveTimingValue(newOptions.duration)),null!=newOptions.delay&&(optionsToUpdate.delay=resolveTimingValue(newOptions.delay));const newParams=newOptions.params;if(newParams){let paramsToUpdate=optionsToUpdate.params;paramsToUpdate||(paramsToUpdate=this.options.params={}),Object.keys(newParams).forEach(name=>{skipIfExists&&paramsToUpdate.hasOwnProperty(name)||(paramsToUpdate[name]=interpolateParams(newParams[name],paramsToUpdate,this.errors))})}}_copyOptions(){const options={};if(this.options){const oldParams=this.options.params;if(oldParams){const params=options.params={};Object.keys(oldParams).forEach(name=>{params[name]=oldParams[name]})}}return options}createSubContext(options=null,element,newTime){const target=element||this.element,context=new AnimationTimelineContext(this._driver,target,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(target,newTime||0));return context.previousNode=this.previousNode,context.currentAnimateTimings=this.currentAnimateTimings,context.options=this._copyOptions(),context.updateOptions(options),context.currentQueryIndex=this.currentQueryIndex,context.currentQueryTotal=this.currentQueryTotal,context.parentContext=this,this.subContextCount++,context}transformIntoNewTimeline(newTime){return this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.currentTimeline=this.currentTimeline.fork(this.element,newTime),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(instruction,duration,delay){const updatedTimings={duration:null!=duration?duration:instruction.duration,delay:this.currentTimeline.currentTime+(null!=delay?delay:0)+instruction.delay,easing:""},builder=new SubTimelineBuilder(this._driver,instruction.element,instruction.keyframes,instruction.preStyleProps,instruction.postStyleProps,updatedTimings,instruction.stretchStartingKeyframe);return this.timelines.push(builder),updatedTimings}incrementTime(time){this.currentTimeline.forwardTime(this.currentTimeline.duration+time)}delayNextStep(delay){delay>0&&this.currentTimeline.delayNextStep(delay)}invokeQuery(selector,originalSelector,limit,includeSelf,optional,errors){let results=[];if(includeSelf&&results.push(this.element),selector.length>0){selector=(selector=selector.replace(ENTER_TOKEN_REGEX,"."+this._enterClassName)).replace(LEAVE_TOKEN_REGEX,"."+this._leaveClassName);let elements=this._driver.query(this.element,selector,1!=limit);0!==limit&&(elements=limit<0?elements.slice(elements.length+limit,elements.length):elements.slice(0,limit)),results.push(...elements)}return optional||0!=results.length||errors.push(`\`query("${originalSelector}")\` returned zero elements. (Use \`query("${originalSelector}", { optional: true })\` if you wish to allow this.)`),results}}class browser_TimelineBuilder{constructor(_driver,element,startTime,_elementTimelineStylesLookup){this._driver=_driver,this.element=element,this.startTime=startTime,this._elementTimelineStylesLookup=_elementTimelineStylesLookup,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(element),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(element,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(delay){const hasPreStyleStep=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||hasPreStyleStep?(this.forwardTime(this.currentTime+delay),hasPreStyleStep&&this.snapshotCurrentStyles()):this.startTime+=delay}fork(element,currentTime){return this.applyStylesToKeyframe(),new browser_TimelineBuilder(this._driver,element,currentTime||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(time){this.applyStylesToKeyframe(),this.duration=time,this._loadKeyframe()}_updateStyle(prop,value){this._localTimelineStyles[prop]=value,this._globalTimelineStyles[prop]=value,this._styleSummary[prop]={time:this.currentTime,value:value}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(easing){easing&&(this._previousKeyframe.easing=easing),Object.keys(this._globalTimelineStyles).forEach(prop=>{this._backFill[prop]=this._globalTimelineStyles[prop]||"*",this._currentKeyframe[prop]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(input,easing,errors,options){easing&&(this._previousKeyframe.easing=easing);const params=options&&options.params||{},styles=function(input,allStyles){const styles={};let allProperties;return input.forEach(token=>{"*"===token?(allProperties=allProperties||Object.keys(allStyles),allProperties.forEach(prop=>{styles[prop]="*"})):copyStyles(token,!1,styles)}),styles}(input,this._globalTimelineStyles);Object.keys(styles).forEach(prop=>{const val=interpolateParams(styles[prop],params,errors);this._pendingStyles[prop]=val,this._localTimelineStyles.hasOwnProperty(prop)||(this._backFill[prop]=this._globalTimelineStyles.hasOwnProperty(prop)?this._globalTimelineStyles[prop]:"*"),this._updateStyle(prop,val)})}applyStylesToKeyframe(){const styles=this._pendingStyles,props=Object.keys(styles);0!=props.length&&(this._pendingStyles={},props.forEach(prop=>{this._currentKeyframe[prop]=styles[prop]}),Object.keys(this._localTimelineStyles).forEach(prop=>{this._currentKeyframe.hasOwnProperty(prop)||(this._currentKeyframe[prop]=this._localTimelineStyles[prop])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(prop=>{const val=this._localTimelineStyles[prop];this._pendingStyles[prop]=val,this._updateStyle(prop,val)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const properties=[];for(let prop in this._currentKeyframe)properties.push(prop);return properties}mergeTimelineCollectedStyles(timeline){Object.keys(timeline._styleSummary).forEach(prop=>{const details0=this._styleSummary[prop],details1=timeline._styleSummary[prop];(!details0||details1.time>details0.time)&&this._updateStyle(prop,details1.value)})}buildKeyframes(){this.applyStylesToKeyframe();const preStyleProps=new Set,postStyleProps=new Set,isEmpty=1===this._keyframes.size&&0===this.duration;let finalKeyframes=[];this._keyframes.forEach((keyframe,time)=>{const finalKeyframe=copyStyles(keyframe,!0);Object.keys(finalKeyframe).forEach(prop=>{const value=finalKeyframe[prop];"!"==value?preStyleProps.add(prop):"*"==value&&postStyleProps.add(prop)}),isEmpty||(finalKeyframe.offset=time/this.duration),finalKeyframes.push(finalKeyframe)});const preProps=preStyleProps.size?iteratorToArray(preStyleProps.values()):[],postProps=postStyleProps.size?iteratorToArray(postStyleProps.values()):[];if(isEmpty){const kf0=finalKeyframes[0],kf1=copyObj(kf0);kf0.offset=0,kf1.offset=1,finalKeyframes=[kf0,kf1]}return createTimelineInstruction(this.element,finalKeyframes,preProps,postProps,this.duration,this.startTime,this.easing,!1)}}class SubTimelineBuilder extends browser_TimelineBuilder{constructor(driver,element,keyframes,preStyleProps,postStyleProps,timings,_stretchStartingKeyframe=!1){super(driver,element,timings.delay),this.element=element,this.keyframes=keyframes,this.preStyleProps=preStyleProps,this.postStyleProps=postStyleProps,this._stretchStartingKeyframe=_stretchStartingKeyframe,this.timings={duration:timings.duration,delay:timings.delay,easing:timings.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let keyframes=this.keyframes,{delay:delay,duration:duration,easing:easing}=this.timings;if(this._stretchStartingKeyframe&&delay){const newKeyframes=[],totalTime=duration+delay,startingGap=delay/totalTime,newFirstKeyframe=copyStyles(keyframes[0],!1);newFirstKeyframe.offset=0,newKeyframes.push(newFirstKeyframe);const oldFirstKeyframe=copyStyles(keyframes[0],!1);oldFirstKeyframe.offset=roundOffset(startingGap),newKeyframes.push(oldFirstKeyframe);const limit=keyframes.length-1;for(let i=1;i<=limit;i++){let kf=copyStyles(keyframes[i],!1);kf.offset=roundOffset((delay+kf.offset*duration)/totalTime),newKeyframes.push(kf)}duration=totalTime,delay=0,easing="",keyframes=newKeyframes}return createTimelineInstruction(this.element,keyframes,this.preStyleProps,this.postStyleProps,duration,delay,easing,!0)}}function roundOffset(offset,decimalPoints=3){const mult=Math.pow(10,decimalPoints-1);return Math.round(offset*mult)/mult}class AnimationStyleNormalizer{}class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer{normalizePropertyName(propertyName,errors){return browser_dashCaseToCamelCase(propertyName)}normalizeStyleValue(userProvidedProperty,normalizedProperty,value,errors){let unit="";const strVal=value.toString().trim();if(DIMENSIONAL_PROP_MAP[normalizedProperty]&&0!==value&&"0"!==value)if("number"==typeof value)unit="px";else{const valAndSuffixMatch=value.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&errors.push(`Please provide a CSS unit value for ${userProvidedProperty}:${value}`)}return strVal+unit}}const DIMENSIONAL_PROP_MAP=(()=>function(keys){const map={};return keys.forEach(key=>map[key]=!0),map}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function createTransitionInstruction(element,triggerName,fromState,toState,isRemovalTransition,fromStyles,toStyles,timelines,queriedElements,preStyleProps,postStyleProps,totalTime,errors){return{type:0,element:element,triggerName:triggerName,isRemovalTransition:isRemovalTransition,fromState:fromState,fromStyles:fromStyles,toState:toState,toStyles:toStyles,timelines:timelines,queriedElements:queriedElements,preStyleProps:preStyleProps,postStyleProps:postStyleProps,totalTime:totalTime,errors:errors}}const EMPTY_OBJECT={};class AnimationTransitionFactory{constructor(_triggerName,ast,_stateStyles){this._triggerName=_triggerName,this.ast=ast,this._stateStyles=_stateStyles}match(currentState,nextState,element,params){return function(matchFns,currentState,nextState,element,params){return matchFns.some(fn=>fn(currentState,nextState,element,params))}(this.ast.matchers,currentState,nextState,element,params)}buildStyles(stateName,params,errors){const backupStateStyler=this._stateStyles["*"],stateStyler=this._stateStyles[stateName],backupStyles=backupStateStyler?backupStateStyler.buildStyles(params,errors):{};return stateStyler?stateStyler.buildStyles(params,errors):backupStyles}build(driver,element,currentState,nextState,enterClassName,leaveClassName,currentOptions,nextOptions,subInstructions,skipAstBuild){const errors=[],transitionAnimationParams=this.ast.options&&this.ast.options.params||EMPTY_OBJECT,currentStateStyles=this.buildStyles(currentState,currentOptions&&currentOptions.params||EMPTY_OBJECT,errors),nextAnimationParams=nextOptions&&nextOptions.params||EMPTY_OBJECT,nextStateStyles=this.buildStyles(nextState,nextAnimationParams,errors),queriedElements=new Set,preStyleMap=new Map,postStyleMap=new Map,isRemoval="void"===nextState,animationOptions={params:Object.assign(Object.assign({},transitionAnimationParams),nextAnimationParams)},timelines=skipAstBuild?[]:buildAnimationTimelines(driver,element,this.ast.animation,enterClassName,leaveClassName,currentStateStyles,nextStateStyles,animationOptions,subInstructions,errors);let totalTime=0;if(timelines.forEach(tl=>{totalTime=Math.max(tl.duration+tl.delay,totalTime)}),errors.length)return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,[],[],preStyleMap,postStyleMap,totalTime,errors);timelines.forEach(tl=>{const elm=tl.element,preProps=getOrSetAsInMap(preStyleMap,elm,{});tl.preStyleProps.forEach(prop=>preProps[prop]=!0);const postProps=getOrSetAsInMap(postStyleMap,elm,{});tl.postStyleProps.forEach(prop=>postProps[prop]=!0),elm!==element&&queriedElements.add(elm)});const queriedElementsList=iteratorToArray(queriedElements.values());return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,timelines,queriedElementsList,preStyleMap,postStyleMap,totalTime)}}class AnimationStateStyles{constructor(styles,defaultParams){this.styles=styles,this.defaultParams=defaultParams}buildStyles(params,errors){const finalStyles={},combinedParams=copyObj(this.defaultParams);return Object.keys(params).forEach(key=>{const value=params[key];null!=value&&(combinedParams[key]=value)}),this.styles.styles.forEach(value=>{if("string"!=typeof value){const styleObj=value;Object.keys(styleObj).forEach(prop=>{let val=styleObj[prop];val.length>1&&(val=interpolateParams(val,combinedParams,errors)),finalStyles[prop]=val})}}),finalStyles}}class AnimationTrigger{constructor(name,ast){this.name=name,this.ast=ast,this.transitionFactories=[],this.states={},ast.states.forEach(ast=>{this.states[ast.name]=new AnimationStateStyles(ast.style,ast.options&&ast.options.params||{})}),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),ast.transitions.forEach(ast=>{this.transitionFactories.push(new AnimationTransitionFactory(name,ast,this.states))}),this.fallbackTransition=new AnimationTransitionFactory(name,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fromState,toState)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(currentState,nextState,element,params){return this.transitionFactories.find(f=>f.match(currentState,nextState,element,params))||null}matchStyles(currentState,params,errors){return this.fallbackTransition.buildStyles(currentState,params,errors)}}function balanceProperties(obj,key1,key2){obj.hasOwnProperty(key1)?obj.hasOwnProperty(key2)||(obj[key2]=obj[key1]):obj.hasOwnProperty(key2)&&(obj[key1]=obj[key2])}const EMPTY_INSTRUCTION_MAP=new ElementInstructionMap;class browser_TimelineAnimationEngine{constructor(bodyNode,_driver,_normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._normalizer=_normalizer,this._animations={},this._playersById={},this.players=[]}register(id,metadata){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`Unable to build the animation due to the following errors: ${errors.join("\n")}`);this._animations[id]=ast}_buildPlayer(i,preStyles,postStyles){const element=i.element,keyframes=normalizeKeyframes(0,this._normalizer,0,i.keyframes,preStyles,postStyles);return this._driver.animate(element,keyframes,i.duration,i.delay,i.easing,[],!0)}create(id,element,options={}){const errors=[],ast=this._animations[id];let instructions;const autoStylesMap=new Map;if(ast?(instructions=buildAnimationTimelines(this._driver,element,ast,"ng-enter","ng-leave",{},{},options,EMPTY_INSTRUCTION_MAP,errors),instructions.forEach(inst=>{const styles=getOrSetAsInMap(autoStylesMap,inst.element,{});inst.postStyleProps.forEach(prop=>styles[prop]=null)})):(errors.push("The requested animation doesn't exist or has already been destroyed"),instructions=[]),errors.length)throw new Error(`Unable to create the animation due to the following errors: ${errors.join("\n")}`);autoStylesMap.forEach((styles,element)=>{Object.keys(styles).forEach(prop=>{styles[prop]=this._driver.computeStyle(element,prop,"*")})});const player=optimizeGroupPlayer(instructions.map(i=>{const styles=autoStylesMap.get(i.element);return this._buildPlayer(i,{},styles)}));return this._playersById[id]=player,player.onDestroy(()=>this.destroy(id)),this.players.push(player),player}destroy(id){const player=this._getPlayer(id);player.destroy(),delete this._playersById[id];const index=this.players.indexOf(player);index>=0&&this.players.splice(index,1)}_getPlayer(id){const player=this._playersById[id];if(!player)throw new Error(`Unable to find the timeline player referenced by ${id}`);return player}listen(id,element,eventName,callback){const baseEvent=makeAnimationEvent(element,"","","");return listenOnPlayer(this._getPlayer(id),eventName,baseEvent,callback),()=>{}}command(id,element,command,args){if("register"==command)return void this.register(id,args[0]);if("create"==command)return void this.create(id,element,args[0]||{});const player=this._getPlayer(id);switch(command){case"play":player.play();break;case"pause":player.pause();break;case"reset":player.reset();break;case"restart":player.restart();break;case"finish":player.finish();break;case"init":player.init();break;case"setPosition":player.setPosition(parseFloat(args[0]));break;case"destroy":this.destroy(id)}}}const EMPTY_PLAYER_ARRAY=[],NULL_REMOVAL_STATE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NULL_REMOVED_QUERIED_STATE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class StateValue{constructor(input,namespaceId=""){this.namespaceId=namespaceId;const isObj=input&&input.hasOwnProperty("value");if(this.value=null!=(value=isObj?input.value:input)?value:null,isObj){const options=copyObj(input);delete options.value,this.options=options}else this.options={};var value;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(options){const newParams=options.params;if(newParams){const oldParams=this.options.params;Object.keys(newParams).forEach(prop=>{null==oldParams[prop]&&(oldParams[prop]=newParams[prop])})}}}const DEFAULT_STATE_VALUE=new StateValue("void");class AnimationTransitionNamespace{constructor(id,hostElement,_engine){this.id=id,this.hostElement=hostElement,this._engine=_engine,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+id,addClass(hostElement,this._hostClassName)}listen(element,name,phase,callback){if(!this._triggers.hasOwnProperty(name))throw new Error(`Unable to listen on the animation trigger event "${phase}" because the animation trigger "${name}" doesn't exist!`);if(null==phase||0==phase.length)throw new Error(`Unable to listen on the animation trigger "${name}" because the provided event is undefined!`);if("start"!=(eventName=phase)&&"done"!=eventName)throw new Error(`The provided animation trigger event "${phase}" for the animation trigger "${name}" is not supported!`);var eventName;const listeners=getOrSetAsInMap(this._elementListeners,element,[]),data={name:name,phase:phase,callback:callback};listeners.push(data);const triggersWithStates=getOrSetAsInMap(this._engine.statesByElement,element,{});return triggersWithStates.hasOwnProperty(name)||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+name),triggersWithStates[name]=DEFAULT_STATE_VALUE),()=>{this._engine.afterFlush(()=>{const index=listeners.indexOf(data);index>=0&&listeners.splice(index,1),this._triggers[name]||delete triggersWithStates[name]})}}register(name,ast){return!this._triggers[name]&&(this._triggers[name]=ast,!0)}_getTrigger(name){const trigger=this._triggers[name];if(!trigger)throw new Error(`The provided animation trigger "${name}" has not been registered!`);return trigger}trigger(element,triggerName,value,defaultToFallback=!0){const trigger=this._getTrigger(triggerName),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);let triggersWithStates=this._engine.statesByElement.get(element);triggersWithStates||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+triggerName),this._engine.statesByElement.set(element,triggersWithStates={}));let fromState=triggersWithStates[triggerName];const toState=new StateValue(value,this.id);if(!(value&&value.hasOwnProperty("value"))&&fromState&&toState.absorbOptions(fromState.options),triggersWithStates[triggerName]=toState,fromState||(fromState=DEFAULT_STATE_VALUE),"void"!==toState.value&&fromState.value===toState.value){if(!function(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(let i=0;i<k1.length;i++){const prop=k1[i];if(!b.hasOwnProperty(prop)||a[prop]!==b[prop])return!1}return!0}(fromState.params,toState.params)){const errors=[],fromStyles=trigger.matchStyles(fromState.value,fromState.params,errors),toStyles=trigger.matchStyles(toState.value,toState.params,errors);errors.length?this._engine.reportError(errors):this._engine.afterFlush(()=>{eraseStyles(element,fromStyles),setStyles(element,toStyles)})}return}const playersOnElement=getOrSetAsInMap(this._engine.playersByElement,element,[]);playersOnElement.forEach(player=>{player.namespaceId==this.id&&player.triggerName==triggerName&&player.queued&&player.destroy()});let transition=trigger.matchTransition(fromState.value,toState.value,element,toState.params),isFallbackTransition=!1;if(!transition){if(!defaultToFallback)return;transition=trigger.fallbackTransition,isFallbackTransition=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:isFallbackTransition}),isFallbackTransition||(addClass(element,"ng-animate-queued"),player.onStart(()=>{removeClass(element,"ng-animate-queued")})),player.onDone(()=>{let index=this.players.indexOf(player);index>=0&&this.players.splice(index,1);const players=this._engine.playersByElement.get(element);if(players){let index=players.indexOf(player);index>=0&&players.splice(index,1)}}),this.players.push(player),playersOnElement.push(player),player}deregister(name){delete this._triggers[name],this._engine.statesByElement.forEach((stateMap,element)=>{delete stateMap[name]}),this._elementListeners.forEach((listeners,element)=>{this._elementListeners.set(element,listeners.filter(entry=>entry.name!=name))})}clearElementCache(element){this._engine.statesByElement.delete(element),this._elementListeners.delete(element);const elementPlayers=this._engine.playersByElement.get(element);elementPlayers&&(elementPlayers.forEach(player=>player.destroy()),this._engine.playersByElement.delete(element))}_signalRemovalForInnerTriggers(rootElement,context){const elements=this._engine.driver.query(rootElement,".ng-trigger",!0);elements.forEach(elm=>{if(elm.__ng_removed)return;const namespaces=this._engine.fetchNamespacesByElement(elm);namespaces.size?namespaces.forEach(ns=>ns.triggerLeaveAnimation(elm,context,!1,!0)):this.clearElementCache(elm)}),this._engine.afterFlushAnimationsDone(()=>elements.forEach(elm=>this.clearElementCache(elm)))}triggerLeaveAnimation(element,context,destroyAfterComplete,defaultToFallback){const triggerStates=this._engine.statesByElement.get(element);if(triggerStates){const players=[];if(Object.keys(triggerStates).forEach(triggerName=>{if(this._triggers[triggerName]){const player=this.trigger(element,triggerName,"void",defaultToFallback);player&&players.push(player)}}),players.length)return this._engine.markElementAsRemoved(this.id,element,!0,context),destroyAfterComplete&&optimizeGroupPlayer(players).onDone(()=>this._engine.processLeaveNode(element)),!0}return!1}prepareLeaveAnimationListeners(element){const listeners=this._elementListeners.get(element),elementStates=this._engine.statesByElement.get(element);if(listeners&&elementStates){const visitedTriggers=new Set;listeners.forEach(listener=>{const triggerName=listener.name;if(visitedTriggers.has(triggerName))return;visitedTriggers.add(triggerName);const transition=this._triggers[triggerName].fallbackTransition,fromState=elementStates[triggerName]||DEFAULT_STATE_VALUE,toState=new StateValue("void"),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:!0})})}}removeNode(element,context){const engine=this._engine;if(element.childElementCount&&this._signalRemovalForInnerTriggers(element,context),this.triggerLeaveAnimation(element,context,!0))return;let containsPotentialParentTransition=!1;if(engine.totalAnimations){const currentPlayers=engine.players.length?engine.playersByQueriedElement.get(element):[];if(currentPlayers&&currentPlayers.length)containsPotentialParentTransition=!0;else{let parent=element;for(;parent=parent.parentNode;)if(engine.statesByElement.get(parent)){containsPotentialParentTransition=!0;break}}}if(this.prepareLeaveAnimationListeners(element),containsPotentialParentTransition)engine.markElementAsRemoved(this.id,element,!1,context);else{const removalFlag=element.__ng_removed;removalFlag&&removalFlag!==NULL_REMOVAL_STATE||(engine.afterFlush(()=>this.clearElementCache(element)),engine.destroyInnerAnimations(element),engine._onRemovalComplete(element,context))}}insertNode(element,parent){addClass(element,this._hostClassName)}drainQueuedTransitions(microtaskId){const instructions=[];return this._queue.forEach(entry=>{const player=entry.player;if(player.destroyed)return;const element=entry.element,listeners=this._elementListeners.get(element);listeners&&listeners.forEach(listener=>{if(listener.name==entry.triggerName){const baseEvent=makeAnimationEvent(element,entry.triggerName,entry.fromState.value,entry.toState.value);baseEvent._data=microtaskId,listenOnPlayer(entry.player,listener.phase,baseEvent,listener.callback)}}),player.markedForDestroy?this._engine.afterFlush(()=>{player.destroy()}):instructions.push(entry)}),this._queue=[],instructions.sort((a,b)=>{const d0=a.transition.ast.depCount,d1=b.transition.ast.depCount;return 0==d0||0==d1?d0-d1:this._engine.driver.containsElement(a.element,b.element)?1:-1})}destroy(context){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,context)}elementContainsData(element){let containsData=!1;return this._elementListeners.has(element)&&(containsData=!0),containsData=!!this._queue.find(entry=>entry.element===element)||containsData,containsData}}class browser_TransitionAnimationEngine{constructor(bodyNode,driver,_normalizer){this.bodyNode=bodyNode,this.driver=driver,this._normalizer=_normalizer,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(element,context)=>{}}_onRemovalComplete(element,context){this.onRemovalComplete(element,context)}get queuedPlayers(){const players=[];return this._namespaceList.forEach(ns=>{ns.players.forEach(player=>{player.queued&&players.push(player)})}),players}createNamespace(namespaceId,hostElement){const ns=new AnimationTransitionNamespace(namespaceId,hostElement,this);return hostElement.parentNode?this._balanceNamespaceList(ns,hostElement):(this.newHostElements.set(hostElement,ns),this.collectEnterElement(hostElement)),this._namespaceLookup[namespaceId]=ns}_balanceNamespaceList(ns,hostElement){const limit=this._namespaceList.length-1;if(limit>=0){let found=!1;for(let i=limit;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,hostElement)){this._namespaceList.splice(i+1,0,ns),found=!0;break}found||this._namespaceList.splice(0,0,ns)}else this._namespaceList.push(ns);return this.namespacesByHostElement.set(hostElement,ns),ns}register(namespaceId,hostElement){let ns=this._namespaceLookup[namespaceId];return ns||(ns=this.createNamespace(namespaceId,hostElement)),ns}registerTrigger(namespaceId,name,trigger){let ns=this._namespaceLookup[namespaceId];ns&&ns.register(name,trigger)&&this.totalAnimations++}destroy(namespaceId,context){if(!namespaceId)return;const ns=this._fetchNamespace(namespaceId);this.afterFlush(()=>{this.namespacesByHostElement.delete(ns.hostElement),delete this._namespaceLookup[namespaceId];const index=this._namespaceList.indexOf(ns);index>=0&&this._namespaceList.splice(index,1)}),this.afterFlushAnimationsDone(()=>ns.destroy(context))}_fetchNamespace(id){return this._namespaceLookup[id]}fetchNamespacesByElement(element){const namespaces=new Set,elementStates=this.statesByElement.get(element);if(elementStates){const keys=Object.keys(elementStates);for(let i=0;i<keys.length;i++){const nsId=elementStates[keys[i]].namespaceId;if(nsId){const ns=this._fetchNamespace(nsId);ns&&namespaces.add(ns)}}}return namespaces}trigger(namespaceId,element,name,value){if(isElementNode(element)){const ns=this._fetchNamespace(namespaceId);if(ns)return ns.trigger(element,name,value),!0}return!1}insertNode(namespaceId,element,parent,insertBefore){if(!isElementNode(element))return;const details=element.__ng_removed;if(details&&details.setForRemoval){details.setForRemoval=!1,details.setForMove=!0;const index=this.collectedLeaveElements.indexOf(element);index>=0&&this.collectedLeaveElements.splice(index,1)}if(namespaceId){const ns=this._fetchNamespace(namespaceId);ns&&ns.insertNode(element,parent)}insertBefore&&this.collectEnterElement(element)}collectEnterElement(element){this.collectedEnterElements.push(element)}markElementAsDisabled(element,value){value?this.disabledNodes.has(element)||(this.disabledNodes.add(element),addClass(element,"ng-animate-disabled")):this.disabledNodes.has(element)&&(this.disabledNodes.delete(element),removeClass(element,"ng-animate-disabled"))}removeNode(namespaceId,element,isHostElement,context){if(isElementNode(element)){const ns=namespaceId?this._fetchNamespace(namespaceId):null;if(ns?ns.removeNode(element,context):this.markElementAsRemoved(namespaceId,element,!1,context),isHostElement){const hostNS=this.namespacesByHostElement.get(element);hostNS&&hostNS.id!==namespaceId&&hostNS.removeNode(element,context)}}else this._onRemovalComplete(element,context)}markElementAsRemoved(namespaceId,element,hasAnimation,context){this.collectedLeaveElements.push(element),element.__ng_removed={namespaceId:namespaceId,setForRemoval:context,hasAnimation:hasAnimation,removedBeforeQueried:!1}}listen(namespaceId,element,name,phase,callback){return isElementNode(element)?this._fetchNamespace(namespaceId).listen(element,name,phase,callback):()=>{}}_buildInstruction(entry,subTimelines,enterClassName,leaveClassName,skipBuildAst){return entry.transition.build(this.driver,entry.element,entry.fromState.value,entry.toState.value,enterClassName,leaveClassName,entry.fromState.options,entry.toState.options,subTimelines,skipBuildAst)}destroyInnerAnimations(containerElement){let elements=this.driver.query(containerElement,".ng-trigger",!0);elements.forEach(element=>this.destroyActiveAnimationsForElement(element)),0!=this.playersByQueriedElement.size&&(elements=this.driver.query(containerElement,".ng-animating",!0),elements.forEach(element=>this.finishActiveQueriedAnimationOnElement(element)))}destroyActiveAnimationsForElement(element){const players=this.playersByElement.get(element);players&&players.forEach(player=>{player.queued?player.markedForDestroy=!0:player.destroy()})}finishActiveQueriedAnimationOnElement(element){const players=this.playersByQueriedElement.get(element);players&&players.forEach(player=>player.finish())}whenRenderingDone(){return new Promise(resolve=>{if(this.players.length)return optimizeGroupPlayer(this.players).onDone(()=>resolve());resolve()})}processLeaveNode(element){const details=element.__ng_removed;if(details&&details.setForRemoval){if(element.__ng_removed=NULL_REMOVAL_STATE,details.namespaceId){this.destroyInnerAnimations(element);const ns=this._fetchNamespace(details.namespaceId);ns&&ns.clearElementCache(element)}this._onRemovalComplete(element,details.setForRemoval)}this.driver.matchesElement(element,".ng-animate-disabled")&&this.markElementAsDisabled(element,!1),this.driver.query(element,".ng-animate-disabled",!0).forEach(node=>{this.markElementAsDisabled(node,!1)})}flush(microtaskId=-1){let players=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ns,element)=>this._balanceNamespaceList(ns,element)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)addClass(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const cleanupFns=[];try{players=this._flushAnimations(cleanupFns,microtaskId)}finally{for(let i=0;i<cleanupFns.length;i++)cleanupFns[i]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(fn=>fn()),this._flushFns=[],this._whenQuietFns.length){const quietFns=this._whenQuietFns;this._whenQuietFns=[],players.length?optimizeGroupPlayer(players).onDone(()=>{quietFns.forEach(fn=>fn())}):quietFns.forEach(fn=>fn())}}reportError(errors){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${errors.join("\n")}`)}_flushAnimations(cleanupFns,microtaskId){const subTimelines=new ElementInstructionMap,skippedPlayers=[],skippedPlayersMap=new Map,queuedInstructions=[],queriedElements=new Map,allPreStyleElements=new Map,allPostStyleElements=new Map,disabledElementsSet=new Set;this.disabledNodes.forEach(node=>{disabledElementsSet.add(node);const nodesThatAreDisabled=this.driver.query(node,".ng-animate-queued",!0);for(let i=0;i<nodesThatAreDisabled.length;i++)disabledElementsSet.add(nodesThatAreDisabled[i])});const bodyNode=this.bodyNode,allTriggerElements=Array.from(this.statesByElement.keys()),enterNodeMap=buildRootMap(allTriggerElements,this.collectedEnterElements),enterNodeMapIds=new Map;let i=0;enterNodeMap.forEach((nodes,root)=>{const className="ng-enter"+i++;enterNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))});const allLeaveNodes=[],mergedLeaveNodes=new Set,leaveNodesWithoutAnimations=new Set;for(let i=0;i<this.collectedLeaveElements.length;i++){const element=this.collectedLeaveElements[i],details=element.__ng_removed;details&&details.setForRemoval&&(allLeaveNodes.push(element),mergedLeaveNodes.add(element),details.hasAnimation?this.driver.query(element,".ng-star-inserted",!0).forEach(elm=>mergedLeaveNodes.add(elm)):leaveNodesWithoutAnimations.add(element))}const leaveNodeMapIds=new Map,leaveNodeMap=buildRootMap(allTriggerElements,Array.from(mergedLeaveNodes));leaveNodeMap.forEach((nodes,root)=>{const className="ng-leave"+i++;leaveNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))}),cleanupFns.push(()=>{enterNodeMap.forEach((nodes,root)=>{const className=enterNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),leaveNodeMap.forEach((nodes,root)=>{const className=leaveNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),allLeaveNodes.forEach(element=>{this.processLeaveNode(element)})});const allPlayers=[],erroneousTransitions=[];for(let i=this._namespaceList.length-1;i>=0;i--)this._namespaceList[i].drainQueuedTransitions(microtaskId).forEach(entry=>{const player=entry.player,element=entry.element;if(allPlayers.push(player),this.collectedEnterElements.length){const details=element.__ng_removed;if(details&&details.setForMove)return void player.destroy()}const nodeIsOrphaned=!bodyNode||!this.driver.containsElement(bodyNode,element),leaveClassName=leaveNodeMapIds.get(element),enterClassName=enterNodeMapIds.get(element),instruction=this._buildInstruction(entry,subTimelines,enterClassName,leaveClassName,nodeIsOrphaned);if(instruction.errors&&instruction.errors.length)erroneousTransitions.push(instruction);else{if(nodeIsOrphaned)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);if(entry.isFallbackTransition)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);instruction.timelines.forEach(tl=>tl.stretchStartingKeyframe=!0),subTimelines.append(element,instruction.timelines),queuedInstructions.push({instruction:instruction,player:player,element:element}),instruction.queriedElements.forEach(element=>getOrSetAsInMap(queriedElements,element,[]).push(player)),instruction.preStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);if(props.length){let setVal=allPreStyleElements.get(element);setVal||allPreStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))}}),instruction.postStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);let setVal=allPostStyleElements.get(element);setVal||allPostStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))})}});if(erroneousTransitions.length){const errors=[];erroneousTransitions.forEach(instruction=>{errors.push(`@${instruction.triggerName} has failed due to:\n`),instruction.errors.forEach(error=>errors.push(`- ${error}\n`))}),allPlayers.forEach(player=>player.destroy()),this.reportError(errors)}const allPreviousPlayersMap=new Map,animationElementMap=new Map;queuedInstructions.forEach(entry=>{const element=entry.element;subTimelines.has(element)&&(animationElementMap.set(element,element),this._beforeAnimationBuild(entry.player.namespaceId,entry.instruction,allPreviousPlayersMap))}),skippedPlayers.forEach(player=>{const element=player.element;this._getPreviousPlayers(element,!1,player.namespaceId,player.triggerName,null).forEach(prevPlayer=>{getOrSetAsInMap(allPreviousPlayersMap,element,[]).push(prevPlayer),prevPlayer.destroy()})});const replaceNodes=allLeaveNodes.filter(node=>replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)),postStylesMap=new Map;cloakAndComputeStyles(postStylesMap,this.driver,leaveNodesWithoutAnimations,allPostStyleElements,"*").forEach(node=>{replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)&&replaceNodes.push(node)});const preStylesMap=new Map;enterNodeMap.forEach((nodes,root)=>{cloakAndComputeStyles(preStylesMap,this.driver,new Set(nodes),allPreStyleElements,"!")}),replaceNodes.forEach(node=>{const post=postStylesMap.get(node),pre=preStylesMap.get(node);postStylesMap.set(node,Object.assign(Object.assign({},post),pre))});const rootPlayers=[],subPlayers=[],NO_PARENT_ANIMATION_ELEMENT_DETECTED={};queuedInstructions.forEach(entry=>{const{element:element,player:player,instruction:instruction}=entry;if(subTimelines.has(element)){if(disabledElementsSet.has(element))return player.onDestroy(()=>setStyles(element,instruction.toStyles)),player.disabled=!0,player.overrideTotalTime(instruction.totalTime),void skippedPlayers.push(player);let parentWithAnimation=NO_PARENT_ANIMATION_ELEMENT_DETECTED;if(animationElementMap.size>1){let elm=element;const parentsToAdd=[];for(;elm=elm.parentNode;){const detectedParent=animationElementMap.get(elm);if(detectedParent){parentWithAnimation=detectedParent;break}parentsToAdd.push(elm)}parentsToAdd.forEach(parent=>animationElementMap.set(parent,parentWithAnimation))}const innerPlayer=this._buildAnimation(player.namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap);if(player.setRealPlayer(innerPlayer),parentWithAnimation===NO_PARENT_ANIMATION_ELEMENT_DETECTED)rootPlayers.push(player);else{const parentPlayers=this.playersByElement.get(parentWithAnimation);parentPlayers&&parentPlayers.length&&(player.parentPlayer=optimizeGroupPlayer(parentPlayers)),skippedPlayers.push(player)}}else eraseStyles(element,instruction.fromStyles),player.onDestroy(()=>setStyles(element,instruction.toStyles)),subPlayers.push(player),disabledElementsSet.has(element)&&skippedPlayers.push(player)}),subPlayers.forEach(player=>{const playersForElement=skippedPlayersMap.get(player.element);if(playersForElement&&playersForElement.length){const innerPlayer=optimizeGroupPlayer(playersForElement);player.setRealPlayer(innerPlayer)}}),skippedPlayers.forEach(player=>{player.parentPlayer?player.syncPlayerEvents(player.parentPlayer):player.destroy()});for(let i=0;i<allLeaveNodes.length;i++){const element=allLeaveNodes[i],details=element.__ng_removed;if(removeClass(element,"ng-leave"),details&&details.hasAnimation)continue;let players=[];if(queriedElements.size){let queriedPlayerResults=queriedElements.get(element);queriedPlayerResults&&queriedPlayerResults.length&&players.push(...queriedPlayerResults);let queriedInnerElements=this.driver.query(element,".ng-animating",!0);for(let j=0;j<queriedInnerElements.length;j++){let queriedPlayers=queriedElements.get(queriedInnerElements[j]);queriedPlayers&&queriedPlayers.length&&players.push(...queriedPlayers)}}const activePlayers=players.filter(p=>!p.destroyed);activePlayers.length?removeNodesAfterAnimationDone(this,element,activePlayers):this.processLeaveNode(element)}return allLeaveNodes.length=0,rootPlayers.forEach(player=>{this.players.push(player),player.onDone(()=>{player.destroy();const index=this.players.indexOf(player);this.players.splice(index,1)}),player.play()}),rootPlayers}elementContainsData(namespaceId,element){let containsData=!1;const details=element.__ng_removed;return details&&details.setForRemoval&&(containsData=!0),this.playersByElement.has(element)&&(containsData=!0),this.playersByQueriedElement.has(element)&&(containsData=!0),this.statesByElement.has(element)&&(containsData=!0),this._fetchNamespace(namespaceId).elementContainsData(element)||containsData}afterFlush(callback){this._flushFns.push(callback)}afterFlushAnimationsDone(callback){this._whenQuietFns.push(callback)}_getPreviousPlayers(element,isQueriedElement,namespaceId,triggerName,toStateValue){let players=[];if(isQueriedElement){const queriedElementPlayers=this.playersByQueriedElement.get(element);queriedElementPlayers&&(players=queriedElementPlayers)}else{const elementPlayers=this.playersByElement.get(element);if(elementPlayers){const isRemovalAnimation=!toStateValue||"void"==toStateValue;elementPlayers.forEach(player=>{player.queued||(isRemovalAnimation||player.triggerName==triggerName)&&players.push(player)})}}return(namespaceId||triggerName)&&(players=players.filter(player=>!(namespaceId&&namespaceId!=player.namespaceId||triggerName&&triggerName!=player.triggerName))),players}_beforeAnimationBuild(namespaceId,instruction,allPreviousPlayersMap){const rootElement=instruction.element,targetNameSpaceId=instruction.isRemovalTransition?void 0:namespaceId,targetTriggerName=instruction.isRemovalTransition?void 0:instruction.triggerName;for(const timelineInstruction of instruction.timelines){const element=timelineInstruction.element,isQueriedElement=element!==rootElement,players=getOrSetAsInMap(allPreviousPlayersMap,element,[]);this._getPreviousPlayers(element,isQueriedElement,targetNameSpaceId,targetTriggerName,instruction.toState).forEach(player=>{const realPlayer=player.getRealPlayer();realPlayer.beforeDestroy&&realPlayer.beforeDestroy(),player.destroy(),players.push(player)})}eraseStyles(rootElement,instruction.fromStyles)}_buildAnimation(namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap){const triggerName=instruction.triggerName,rootElement=instruction.element,allQueriedPlayers=[],allConsumedElements=new Set,allSubElements=new Set,allNewPlayers=instruction.timelines.map(timelineInstruction=>{const element=timelineInstruction.element;allConsumedElements.add(element);const details=element.__ng_removed;if(details&&details.removedBeforeQueried)return new NoopAnimationPlayer(timelineInstruction.duration,timelineInstruction.delay);const isQueriedElement=element!==rootElement,previousPlayers=function(players){const finalPlayers=[];return _flattenGroupPlayersRecur(players,finalPlayers),finalPlayers}((allPreviousPlayersMap.get(element)||EMPTY_PLAYER_ARRAY).map(p=>p.getRealPlayer())).filter(p=>!!p.element&&p.element===element),preStyles=preStylesMap.get(element),postStyles=postStylesMap.get(element),keyframes=normalizeKeyframes(0,this._normalizer,0,timelineInstruction.keyframes,preStyles,postStyles),player=this._buildPlayer(timelineInstruction,keyframes,previousPlayers);if(timelineInstruction.subTimeline&&skippedPlayersMap&&allSubElements.add(element),isQueriedElement){const wrappedPlayer=new browser_TransitionAnimationPlayer(namespaceId,triggerName,element);wrappedPlayer.setRealPlayer(player),allQueriedPlayers.push(wrappedPlayer)}return player});allQueriedPlayers.forEach(player=>{getOrSetAsInMap(this.playersByQueriedElement,player.element,[]).push(player),player.onDone(()=>function(map,key,value){let currentValues;if(map instanceof Map){if(currentValues=map.get(key),currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&map.delete(key)}}else if(currentValues=map[key],currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&delete map[key]}return currentValues}(this.playersByQueriedElement,player.element,player))}),allConsumedElements.forEach(element=>addClass(element,"ng-animating"));const player=optimizeGroupPlayer(allNewPlayers);return player.onDestroy(()=>{allConsumedElements.forEach(element=>removeClass(element,"ng-animating")),setStyles(rootElement,instruction.toStyles)}),allSubElements.forEach(element=>{getOrSetAsInMap(skippedPlayersMap,element,[]).push(player)}),player}_buildPlayer(instruction,keyframes,previousPlayers){return keyframes.length>0?this.driver.animate(instruction.element,keyframes,instruction.duration,instruction.delay,instruction.easing,previousPlayers):new NoopAnimationPlayer(instruction.duration,instruction.delay)}}class browser_TransitionAnimationPlayer{constructor(namespaceId,triggerName,element){this.namespaceId=namespaceId,this.triggerName=triggerName,this.element=element,this._player=new NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(player){this._containsRealPlayer||(this._player=player,Object.keys(this._queuedCallbacks).forEach(phase=>{this._queuedCallbacks[phase].forEach(callback=>listenOnPlayer(player,phase,void 0,callback))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(player.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(totalTime){this.totalTime=totalTime}syncPlayerEvents(player){const p=this._player;p.triggerCallback&&player.onStart(()=>p.triggerCallback("start")),player.onDone(()=>this.finish()),player.onDestroy(()=>this.destroy())}_queueEvent(name,callback){getOrSetAsInMap(this._queuedCallbacks,name,[]).push(callback)}onDone(fn){this.queued&&this._queueEvent("done",fn),this._player.onDone(fn)}onStart(fn){this.queued&&this._queueEvent("start",fn),this._player.onStart(fn)}onDestroy(fn){this.queued&&this._queueEvent("destroy",fn),this._player.onDestroy(fn)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(phaseName){const p=this._player;p.triggerCallback&&p.triggerCallback(phaseName)}}function isElementNode(node){return node&&1===node.nodeType}function cloakElement(element,value){const oldValue=element.style.display;return element.style.display=null!=value?value:"none",oldValue}function cloakAndComputeStyles(valuesMap,driver,elements,elementPropsMap,defaultStyle){const cloakVals=[];elements.forEach(element=>cloakVals.push(cloakElement(element)));const failedElements=[];elementPropsMap.forEach((props,element)=>{const styles={};props.forEach(prop=>{const value=styles[prop]=driver.computeStyle(element,prop,defaultStyle);value&&0!=value.length||(element.__ng_removed=NULL_REMOVED_QUERIED_STATE,failedElements.push(element))}),valuesMap.set(element,styles)});let i=0;return elements.forEach(element=>cloakElement(element,cloakVals[i++])),failedElements}function buildRootMap(roots,nodes){const rootMap=new Map;if(roots.forEach(root=>rootMap.set(root,[])),0==nodes.length)return rootMap;const nodeSet=new Set(nodes),localRootMap=new Map;function getRoot(node){if(!node)return 1;let root=localRootMap.get(node);if(root)return root;const parent=node.parentNode;return root=rootMap.has(parent)?parent:nodeSet.has(parent)?1:getRoot(parent),localRootMap.set(node,root),root}return nodes.forEach(node=>{const root=getRoot(node);1!==root&&rootMap.get(root).push(node)}),rootMap}function addClass(element,className){if(element.classList)element.classList.add(className);else{let classes=element.$$classes;classes||(classes=element.$$classes={}),classes[className]=!0}}function removeClass(element,className){if(element.classList)element.classList.remove(className);else{let classes=element.$$classes;classes&&delete classes[className]}}function removeNodesAfterAnimationDone(engine,element,players){optimizeGroupPlayer(players).onDone(()=>engine.processLeaveNode(element))}function _flattenGroupPlayersRecur(players,finalPlayers){for(let i=0;i<players.length;i++){const player=players[i];player instanceof AnimationGroupPlayer?_flattenGroupPlayersRecur(player.players,finalPlayers):finalPlayers.push(player)}}function replacePostStylesAsPre(element,allPreStyleElements,allPostStyleElements){const postEntry=allPostStyleElements.get(element);if(!postEntry)return!1;let preEntry=allPreStyleElements.get(element);return preEntry?postEntry.forEach(data=>preEntry.add(data)):allPreStyleElements.set(element,postEntry),allPostStyleElements.delete(element),!0}class AnimationEngine{constructor(bodyNode,_driver,normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._triggerCache={},this.onRemovalComplete=(element,context)=>{},this._transitionEngine=new browser_TransitionAnimationEngine(bodyNode,_driver,normalizer),this._timelineEngine=new browser_TimelineAnimationEngine(bodyNode,_driver,normalizer),this._transitionEngine.onRemovalComplete=(element,context)=>this.onRemovalComplete(element,context)}registerTrigger(componentId,namespaceId,hostElement,name,metadata){const cacheKey=componentId+"-"+name;let trigger=this._triggerCache[cacheKey];if(!trigger){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`The animation trigger "${name}" has failed to build due to the following errors:\n - ${errors.join("\n - ")}`);trigger=function(name,ast){return new AnimationTrigger(name,ast)}(name,ast),this._triggerCache[cacheKey]=trigger}this._transitionEngine.registerTrigger(namespaceId,name,trigger)}register(namespaceId,hostElement){this._transitionEngine.register(namespaceId,hostElement)}destroy(namespaceId,context){this._transitionEngine.destroy(namespaceId,context)}onInsert(namespaceId,element,parent,insertBefore){this._transitionEngine.insertNode(namespaceId,element,parent,insertBefore)}onRemove(namespaceId,element,context,isHostElement){this._transitionEngine.removeNode(namespaceId,element,isHostElement||!1,context)}disableAnimations(element,disable){this._transitionEngine.markElementAsDisabled(element,disable)}process(namespaceId,element,property,value){if("@"==property.charAt(0)){const[id,action]=parseTimelineCommand(property);this._timelineEngine.command(id,element,action,value)}else this._transitionEngine.trigger(namespaceId,element,property,value)}listen(namespaceId,element,eventName,eventPhase,callback){if("@"==eventName.charAt(0)){const[id,action]=parseTimelineCommand(eventName);return this._timelineEngine.listen(id,element,action,callback)}return this._transitionEngine.listen(namespaceId,element,eventName,eventPhase,callback)}flush(microtaskId=-1){this._transitionEngine.flush(microtaskId)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function packageNonAnimatableStyles(element,styles){let startStyles=null,endStyles=null;return Array.isArray(styles)&&styles.length?(startStyles=filterNonAnimatableStyles(styles[0]),styles.length>1&&(endStyles=filterNonAnimatableStyles(styles[styles.length-1]))):styles&&(startStyles=filterNonAnimatableStyles(styles)),startStyles||endStyles?new SpecialCasedStyles(element,startStyles,endStyles):null}let SpecialCasedStyles=(()=>{class SpecialCasedStyles{constructor(_element,_startStyles,_endStyles){this._element=_element,this._startStyles=_startStyles,this._endStyles=_endStyles,this._state=0;let initialStyles=SpecialCasedStyles.initialStylesByElement.get(_element);initialStyles||SpecialCasedStyles.initialStylesByElement.set(_element,initialStyles={}),this._initialStyles=initialStyles}start(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)}}return SpecialCasedStyles.initialStylesByElement=new WeakMap,SpecialCasedStyles})();function filterNonAnimatableStyles(styles){let result=null;const props=Object.keys(styles);for(let i=0;i<props.length;i++){const prop=props[i];isNonAnimatableStyle(prop)&&(result=result||{},result[prop]=styles[prop])}return result}function isNonAnimatableStyle(prop){return"display"===prop||"position"===prop}class ElementAnimationStyleHandler{constructor(_element,_name,_duration,_delay,_easing,_fillMode,_onDoneFn){this._element=_element,this._name=_name,this._duration=_duration,this._delay=_delay,this._easing=_easing,this._fillMode=_fillMode,this._onDoneFn=_onDoneFn,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(element,value){const anim=getAnimationStyle(element,"").trim();anim.length&&(function(value,char){let count=0;for(let i=0;i<value.length;i++)","===value.charAt(i)&&count++}(anim),value=`${anim}, ${value}`),setAnimationStyle(element,"",value)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),addRemoveAnimationEvent(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){playPauseAnimation(this._element,this._name,"paused")}resume(){playPauseAnimation(this._element,this._name,"running")}setPosition(position){const index=findIndexForAnimation(this._element,this._name);this._position=position*this._duration,setAnimationStyle(this._element,"Delay",`-${this._position}ms`,index)}getPosition(){return this._position}_handleCallback(event){const timestamp=event._ngTestManualTimestamp||Date.now(),elapsedTime=1e3*parseFloat(event.elapsedTime.toFixed(3));event.animationName==this._name&&Math.max(timestamp-this._startTime,0)>=this._delay&&elapsedTime>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),addRemoveAnimationEvent(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(element,name){const tokens=getAnimationStyle(element,"").split(","),index=findMatchingTokenIndex(tokens,name);index>=0&&(tokens.splice(index,1),setAnimationStyle(element,"",tokens.join(",")))}(this._element,this._name))}}function playPauseAnimation(element,name,status){setAnimationStyle(element,"PlayState",status,findIndexForAnimation(element,name))}function findIndexForAnimation(element,value){const anim=getAnimationStyle(element,"");return anim.indexOf(",")>0?findMatchingTokenIndex(anim.split(","),value):findMatchingTokenIndex([anim],value)}function findMatchingTokenIndex(tokens,searchToken){for(let i=0;i<tokens.length;i++)if(tokens[i].indexOf(searchToken)>=0)return i;return-1}function addRemoveAnimationEvent(element,fn,doRemove){doRemove?element.removeEventListener("animationend",fn):element.addEventListener("animationend",fn)}function setAnimationStyle(element,name,value,index){const prop="animation"+name;if(null!=index){const oldValue=element.style[prop];if(oldValue.length){const tokens=oldValue.split(",");tokens[index]=value,value=tokens.join(",")}}element.style[prop]=value}function getAnimationStyle(element,name){return element.style["animation"+name]||""}class CssKeyframesPlayer{constructor(element,keyframes,animationName,_duration,_delay,easing,_finalStyles,_specialStyles){this.element=element,this.keyframes=keyframes,this.animationName=animationName,this._duration=_duration,this._delay=_delay,this._finalStyles=_finalStyles,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=easing||"linear",this.totalTime=_duration+_delay,this._buildStyler()}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(value){this._styler.setPosition(value)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ElementAnimationStyleHandler(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}beforeDestroy(){this.init();const styles={};if(this.hasStarted()){const finished=this._state>=3;Object.keys(this._finalStyles).forEach(prop=>{"offset"!=prop&&(styles[prop]=finished?this._finalStyles[prop]:computeStyle(this.element,prop))})}this.currentSnapshot=styles}}class browser_DirectStylePlayer extends NoopAnimationPlayer{constructor(element,styles){super(),this.element=element,this._startingStyles={},this.__initialized=!1,this._styles=hypenatePropsObject(styles)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(prop=>{this._startingStyles[prop]=this.element.style[prop]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(prop=>this.element.style.setProperty(prop,this._styles[prop])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(prop=>{const value=this._startingStyles[prop];value?this.element.style.setProperty(prop,value):this.element.style.removeProperty(prop)}),this._startingStyles=null,super.destroy())}}class CssKeyframesDriver{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}buildKeyframeElement(element,name,keyframes){keyframes=keyframes.map(kf=>hypenatePropsObject(kf));let keyframeStr=`@keyframes ${name} {\n`,tab="";keyframes.forEach(kf=>{tab=" ";const offset=parseFloat(kf.offset);keyframeStr+=`${tab}${100*offset}% {\n`,tab+=" ",Object.keys(kf).forEach(prop=>{const value=kf[prop];switch(prop){case"offset":return;case"easing":return void(value&&(keyframeStr+=`${tab}animation-timing-function: ${value};\n`));default:return void(keyframeStr+=`${tab}${prop}: ${value};\n`)}}),keyframeStr+=`${tab}}\n`}),keyframeStr+="}\n";const kfElm=document.createElement("style");return kfElm.textContent=keyframeStr,kfElm}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){const previousCssKeyframePlayers=previousPlayers.filter(player=>player instanceof CssKeyframesPlayer),previousStyles={};allowPreviousPlayerStylesMerge(duration,delay)&&previousCssKeyframePlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const finalStyles=function(keyframes){let flatKeyframes={};return keyframes&&(Array.isArray(keyframes)?keyframes:[keyframes]).forEach(kf=>{Object.keys(kf).forEach(prop=>{"offset"!=prop&&"easing"!=prop&&(flatKeyframes[prop]=kf[prop])})}),flatKeyframes}(keyframes=balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles));if(0==duration)return new browser_DirectStylePlayer(element,finalStyles);const animationName="gen_css_kf_"+this._count++,kfElm=this.buildKeyframeElement(element,animationName,keyframes);document.querySelector("head").appendChild(kfElm);const specialStyles=packageNonAnimatableStyles(element,keyframes),player=new CssKeyframesPlayer(element,keyframes,animationName,duration,delay,easing,finalStyles,specialStyles);return player.onDestroy(()=>{var node;(node=kfElm).parentNode.removeChild(node)}),player}}class WebAnimationsPlayer{constructor(element,keyframes,options,_specialStyles){this.element=element,this.keyframes=keyframes,this.options=options,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=options.duration,this._delay=options.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const keyframes=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,keyframes,this.options),this._finalKeyframe=keyframes.length?keyframes[keyframes.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(element,keyframes,options){return element.animate(keyframes,options)}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(fn=>fn()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}setPosition(p){this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const styles={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(prop=>{"offset"!=prop&&(styles[prop]=this._finished?this._finalKeyframe[prop]:computeStyle(this.element,prop))}),this.currentSnapshot=styles}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class WebAnimationsDriver{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(getElementAnimateFn().toString()),this._cssKeyframesDriver=new CssKeyframesDriver}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}overrideWebAnimationsSupport(supported){this._isNativeImpl=supported}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){if(!scrubberAccessRequested&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(element,keyframes,duration,delay,easing,previousPlayers);const playerOptions={duration:duration,delay:delay,fill:0==delay?"both":"forwards"};easing&&(playerOptions.easing=easing);const previousStyles={},previousWebAnimationPlayers=previousPlayers.filter(player=>player instanceof WebAnimationsPlayer);allowPreviousPlayerStylesMerge(duration,delay)&&previousWebAnimationPlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const specialStyles=packageNonAnimatableStyles(element,keyframes=balancePreviousStylesIntoKeyframes(element,keyframes=keyframes.map(styles=>copyStyles(styles,!1)),previousStyles));return new WebAnimationsPlayer(element,keyframes,playerOptions,specialStyles)}}function getElementAnimateFn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let animations_BrowserAnimationBuilder=(()=>{class BrowserAnimationBuilder extends AnimationBuilder{constructor(rootRenderer,doc){super(),this._nextAnimationId=0,this._renderer=rootRenderer.createRenderer(doc.body,{id:"0",encapsulation:ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(animation){const id=this._nextAnimationId.toString();this._nextAnimationId++;const entry=Array.isArray(animation)?animations_sequence(animation):animation;return issueAnimationCommand(this._renderer,null,id,"register",[entry]),new animations_BrowserAnimationFactory(id,this._renderer)}}return BrowserAnimationBuilder.fac=function(t){return new(t||BrowserAnimationBuilder)(inject(RendererFactory2),inject(common_DOCUMENT))},BrowserAnimationBuilder.prov=defineInjectable({token:BrowserAnimationBuilder,factory:BrowserAnimationBuilder.fac}),BrowserAnimationBuilder})();class animations_BrowserAnimationFactory extends class{}{constructor(_id,_renderer){super(),this._id=_id,this._renderer=_renderer}create(element,options){return new RendererAnimationPlayer(this._id,element,options||{},this._renderer)}}class RendererAnimationPlayer{constructor(id,element,options,_renderer){this.id=id,this.element=element,this._renderer=_renderer,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",options)}_listen(eventName,callback){return this._renderer.listen(this.element,`@@${this.id}:${eventName}`,callback)}_command(command,...args){return issueAnimationCommand(this._renderer,this.element,this.id,command,args)}onDone(fn){this._listen("done",fn)}onStart(fn){this._listen("start",fn)}onDestroy(fn){this._listen("destroy",fn)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(p){this._command("setPosition",p)}getPosition(){var _a,_b;return null!==(_b=null===(_a=this._renderer.engine.players[+this.id])||void 0===_a?void 0:_a.getPosition())&&void 0!==_b?_b:0}}function issueAnimationCommand(renderer,element,id,command,args){return renderer.setProperty(element,`@@${id}:${command}`,args)}let animations_AnimationRendererFactory=(()=>{class AnimationRendererFactory{constructor(delegate,engine,_zone){this.delegate=delegate,this.engine=engine,this._zone=_zone,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),engine.onRemovalComplete=(element,delegate)=>{delegate&&delegate.parentNode(element)&&delegate.removeChild(element.parentNode,element)}}createRenderer(hostElement,type){const delegate=this.delegate.createRenderer(hostElement,type);if(!(hostElement&&type&&type.data&&type.data.animation)){let renderer=this._rendererCache.get(delegate);return renderer||(renderer=new BaseAnimationRenderer("",delegate,this.engine),this._rendererCache.set(delegate,renderer)),renderer}const componentId=type.id,namespaceId=type.id+"-"+this._currentId;this._currentId++,this.engine.register(namespaceId,hostElement);const registerTrigger=trigger=>{Array.isArray(trigger)?trigger.forEach(registerTrigger):this.engine.registerTrigger(componentId,namespaceId,hostElement,trigger.name,trigger)};return type.data.animation.forEach(registerTrigger),new AnimationRenderer(this,namespaceId,delegate,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(count,fn,data){count>=0&&count<this._microtaskId?this._zone.run(()=>fn(data)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(tuple=>{const[fn,data]=tuple;fn(data)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([fn,data]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return AnimationRendererFactory.fac=function(t){return new(t||AnimationRendererFactory)(inject(RendererFactory2),inject(AnimationEngine),inject(NgZone))},AnimationRendererFactory.prov=defineInjectable({token:AnimationRendererFactory,factory:AnimationRendererFactory.fac}),AnimationRendererFactory})();class BaseAnimationRenderer{constructor(namespaceId,delegate,engine){this.namespaceId=namespaceId,this.delegate=delegate,this.engine=engine,this.destroyNode=this.delegate.destroyNode?n=>delegate.destroyNode(n):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(name,namespace){return this.delegate.createElement(name,namespace)}createComment(value){return this.delegate.createComment(value)}createText(value){return this.delegate.createText(value)}appendChild(parent,newChild){this.delegate.appendChild(parent,newChild),this.engine.onInsert(this.namespaceId,newChild,parent,!1)}insertBefore(parent,newChild,refChild,isMove=!0){this.delegate.insertBefore(parent,newChild,refChild),this.engine.onInsert(this.namespaceId,newChild,parent,isMove)}removeChild(parent,oldChild,isHostElement){this.engine.onRemove(this.namespaceId,oldChild,this.delegate,isHostElement)}selectRootElement(selectorOrNode,preserveContent){return this.delegate.selectRootElement(selectorOrNode,preserveContent)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setAttribute(el,name,value,namespace){this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){this.delegate.addClass(el,name)}removeClass(el,name){this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){"@"==name.charAt(0)&&"@.disabled"==name?this.disableAnimations(el,!!value):this.delegate.setProperty(el,name,value)}setValue(node,value){this.delegate.setValue(node,value)}listen(target,eventName,callback){return this.delegate.listen(target,eventName,callback)}disableAnimations(element,value){this.engine.disableAnimations(element,value)}}class AnimationRenderer extends BaseAnimationRenderer{constructor(factory,namespaceId,delegate,engine){super(namespaceId,delegate,engine),this.factory=factory,this.namespaceId=namespaceId}setProperty(el,name,value){"@"==name.charAt(0)?"."==name.charAt(1)&&"@.disabled"==name?this.disableAnimations(el,value=void 0===value||!!value):this.engine.process(this.namespaceId,el,name.substr(1),value):this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("@"==eventName.charAt(0)){const element=function(target){switch(target){case"body":return document.body;case"document":return document;case"window":return window;default:return target}}(target);let name=eventName.substr(1),phase="";return"@"!=name.charAt(0)&&([name,phase]=function(triggerName){const dotIndex=triggerName.indexOf(".");return[triggerName.substring(0,dotIndex),triggerName.substr(dotIndex+1)]}(name)),this.engine.listen(this.namespaceId,element,name,phase,event=>{this.factory.scheduleListenerCallback(event._data||-1,callback,event)})}return this.delegate.listen(target,eventName,callback)}}let animations_InjectableAnimationEngine=(()=>{class InjectableAnimationEngine extends AnimationEngine{constructor(doc,driver,normalizer){super(doc.body,driver,normalizer)}}return InjectableAnimationEngine.fac=function(t){return new(t||InjectableAnimationEngine)(inject(common_DOCUMENT),inject(AnimationDriver),inject(AnimationStyleNormalizer))},InjectableAnimationEngine.prov=defineInjectable({token:InjectableAnimationEngine,factory:InjectableAnimationEngine.fac}),InjectableAnimationEngine})();const ANIMATION_MODULE_TYPE=new InjectionToken("AnimationModuleType"),BROWSER_ANIMATIONS_PROVIDERS=[{provide:AnimationDriver,useFactory:function(){return"function"==typeof getElementAnimateFn()?new WebAnimationsDriver:new CssKeyframesDriver}},{provide:ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},{provide:AnimationBuilder,useClass:animations_BrowserAnimationBuilder},{provide:AnimationStyleNormalizer,useFactory:function(){return new WebAnimationsStyleNormalizer}},{provide:AnimationEngine,useClass:animations_InjectableAnimationEngine},{provide:RendererFactory2,useFactory:function(renderer,engine,zone){return new animations_AnimationRendererFactory(renderer,engine,zone)},deps:[platform_browser_DomRendererFactory2,AnimationEngine,NgZone]}];let animations_BrowserAnimationsModule=(()=>{class BrowserAnimationsModule{}return BrowserAnimationsModule.mod=defineNgModule({type:BrowserAnimationsModule}),BrowserAnimationsModule.inj=defineInjector({factory:function(t){return new(t||BrowserAnimationsModule)},providers:BROWSER_ANIMATIONS_PROVIDERS,imports:[platform_browser_BrowserModule]}),BrowserAnimationsModule})();function MatOption_mat_pseudo_checkbox_0_Template(rf,ctx){if(1&rf&&element(0,"mat-pseudo-checkbox",3),2&rf){const ctx_r0=nextContext();property("state",ctx_r0.selected?"checked":"unchecked")("disabled",ctx_r0.disabled)}}const _c2=["*"],VERSION$1=new Version("10.2.7"),MATERIAL_SANITY_CHECKS=new InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let core_MatCommonModule=(()=>{class MatCommonModule{constructor(highContrastModeDetector,sanityChecks,document){this._hasDoneGlobalChecks=!1,this._document=document,highContrastModeDetector._applyBodyHighContrastModeCssClasses(),this._sanityChecks=sanityChecks,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const doc=this._document||document;return"object"==typeof doc&&doc?doc:null}_getWindow(){const doc=this._getDocument(),win=(null==doc?void 0:doc.defaultView)||window;return"object"==typeof win&&win?win:null}_checksAreEnabled(){return isDevMode()&&!this._isTestEnv()}_isTestEnv(){const window=this._getWindow();return window&&(window.__karma__||window.jasmine)}_checkDoctypeIsDefined(){const isEnabled=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),document=this._getDocument();isEnabled&&document&&!document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const isDisabled=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,document=this._getDocument();if(isDisabled||!document||!document.body||"function"!=typeof getComputedStyle)return;const testElement=document.createElement("div");testElement.classList.add("mat-theme-loaded-marker"),document.body.appendChild(testElement);const computedStyle=getComputedStyle(testElement);computedStyle&&"none"!==computedStyle.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),document.body.removeChild(testElement)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&VERSION$1.full!==cdk_VERSION.full&&console.warn("The Angular Material version ("+VERSION$1.full+") does not match the Angular CDK version ("+cdk_VERSION.full+").\nPlease ensure the versions of these two packages exactly match.")}}return MatCommonModule.mod=defineNgModule({type:MatCommonModule}),MatCommonModule.inj=defineInjector({factory:function(t){return new(t||MatCommonModule)(inject(a11y_HighContrastModeDetector),inject(MATERIAL_SANITY_CHECKS,8),inject(common_DOCUMENT,8))},imports:[[bidi_BidiModule],bidi_BidiModule]}),MatCommonModule})();function mixinDisabled(base){return class extends base{constructor(...args){super(...args),this._disabled=!1}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value)}}}function mixinColor(base,defaultColor){return class extends base{constructor(...args){super(...args),this.defaultColor=defaultColor,this.color=defaultColor}get color(){return this._color}set color(value){const colorPalette=value||this.defaultColor;colorPalette!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),colorPalette&&this._elementRef.nativeElement.classList.add(`mat-${colorPalette}`),this._color=colorPalette)}}}function mixinDisableRipple(base){return class extends base{constructor(...args){super(...args),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(value){this._disableRipple=coerceBooleanProperty(value)}}}function mixinTabIndex(base,defaultTabIndex=0){return class extends base{constructor(...args){super(...args),this._tabIndex=defaultTabIndex,this.defaultTabIndex=defaultTabIndex}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(value){this._tabIndex=null!=value?coerceNumberProperty(value):this.defaultTabIndex}}}function mixinErrorState(base){return class extends base{constructor(...args){super(...args),this.errorState=!1,this.stateChanges=new Subject_Subject}updateErrorState(){const oldState=this.errorState,newState=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);newState!==oldState&&(this.errorState=newState,this.stateChanges.next())}}}const MAT_DATE_LOCALE=new InjectionToken("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return inject(LOCALE_ID$1)}});class core_DateAdapter{constructor(){this._localeChanges=new Subject_Subject,this.localeChanges=this._localeChanges}getValidDateOrNull(obj){return this.isDateInstance(obj)&&this.isValid(obj)?obj:null}deserialize(value){return null==value||this.isDateInstance(value)&&this.isValid(value)?value:this.invalid()}setLocale(locale){this.locale=locale,this._localeChanges.next()}compareDate(first,second){return this.getYear(first)-this.getYear(second)||this.getMonth(first)-this.getMonth(second)||this.getDate(first)-this.getDate(second)}sameDate(first,second){if(first&&second){let firstValid=this.isValid(first),secondValid=this.isValid(second);return firstValid&&secondValid?!this.compareDate(first,second):firstValid==secondValid}return first==second}clampDate(date,min,max){return min&&this.compareDate(date,min)<0?min:max&&this.compareDate(date,max)>0?max:date}}const MAT_DATE_FORMATS=new InjectionToken("mat-date-formats");let SUPPORTS_INTL_API;try{SUPPORTS_INTL_API="undefined"!=typeof Intl}catch(_a){SUPPORTS_INTL_API=!1}const DEFAULT_MONTH_NAMES={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},DEFAULT_DATE_NAMES=range(31,i=>String(i+1)),DEFAULT_DAY_OF_WEEK_NAMES={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},ISO_8601_REGEX=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function range(length,valueFunction){const valuesArray=Array(length);for(let i=0;i<length;i++)valuesArray[i]=valueFunction(i);return valuesArray}let core_NativeDateAdapter=(()=>{class NativeDateAdapter extends core_DateAdapter{constructor(matDateLocale,platform){super(),this.useUtcForDisplay=!0,super.setLocale(matDateLocale),this.useUtcForDisplay=!platform.TRIDENT,this._clampDate=platform.TRIDENT||platform.EDGE}getYear(date){return date.getFullYear()}getMonth(date){return date.getMonth()}getDate(date){return date.getDate()}getDayOfWeek(date){return date.getDay()}getMonthNames(style){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{month:style,timeZone:"utc"});return range(12,i=>this._stripDirectionalityCharacters(this._format(dtf,new Date(2017,i,1))))}return DEFAULT_MONTH_NAMES[style]}getDateNames(){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return range(31,i=>this._stripDirectionalityCharacters(this._format(dtf,new Date(2017,0,i+1))))}return DEFAULT_DATE_NAMES}getDayOfWeekNames(style){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{weekday:style,timeZone:"utc"});return range(7,i=>this._stripDirectionalityCharacters(this._format(dtf,new Date(2017,0,i+1))))}return DEFAULT_DAY_OF_WEEK_NAMES[style]}getYearName(date){if(SUPPORTS_INTL_API){const dtf=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(dtf,date))}return String(this.getYear(date))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(date){return this.getDate(this._createDateWithOverflow(this.getYear(date),this.getMonth(date)+1,0))}clone(date){return new Date(date.getTime())}createDate(year,month,date){let result=this._createDateWithOverflow(year,month,date);return result.getMonth(),result}today(){return new Date}parse(value){return"number"==typeof value?new Date(value):value?new Date(Date.parse(value)):null}format(date,displayFormat){if(!this.isValid(date))throw Error("NativeDateAdapter: Cannot format invalid date.");if(SUPPORTS_INTL_API){this._clampDate&&(date.getFullYear()<1||date.getFullYear()>9999)&&(date=this.clone(date)).setFullYear(Math.max(1,Math.min(9999,date.getFullYear()))),displayFormat=Object.assign(Object.assign({},displayFormat),{timeZone:"utc"});const dtf=new Intl.DateTimeFormat(this.locale,displayFormat);return this._stripDirectionalityCharacters(this._format(dtf,date))}return this._stripDirectionalityCharacters(date.toDateString())}addCalendarYears(date,years){return this.addCalendarMonths(date,12*years)}addCalendarMonths(date,months){let newDate=this._createDateWithOverflow(this.getYear(date),this.getMonth(date)+months,this.getDate(date));return this.getMonth(newDate)!=((this.getMonth(date)+months)%12+12)%12&&(newDate=this._createDateWithOverflow(this.getYear(newDate),this.getMonth(newDate),0)),newDate}addCalendarDays(date,days){return this._createDateWithOverflow(this.getYear(date),this.getMonth(date),this.getDate(date)+days)}toIso8601(date){return[date.getUTCFullYear(),this._2digit(date.getUTCMonth()+1),this._2digit(date.getUTCDate())].join("-")}deserialize(value){if("string"==typeof value){if(!value)return null;if(ISO_8601_REGEX.test(value)){let date=new Date(value);if(this.isValid(date))return date}}return super.deserialize(value)}isDateInstance(obj){return obj instanceof Date}isValid(date){return!isNaN(date.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(year,month,date){const d=new Date;return d.setFullYear(year,month,date),d.setHours(0,0,0,0),d}_2digit(n){return("00"+n).slice(-2)}_stripDirectionalityCharacters(str){return str.replace(/[\u200e\u200f]/g,"")}_format(dtf,date){const d=new Date;return d.setUTCFullYear(date.getFullYear(),date.getMonth(),date.getDate()),d.setUTCHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()),dtf.format(d)}}return NativeDateAdapter.fac=function(t){return new(t||NativeDateAdapter)(inject(MAT_DATE_LOCALE,8),inject(platform_Platform))},NativeDateAdapter.prov=defineInjectable({token:NativeDateAdapter,factory:NativeDateAdapter.fac}),NativeDateAdapter})(),core_NativeDateModule=(()=>{class NativeDateModule{}return NativeDateModule.mod=defineNgModule({type:NativeDateModule}),NativeDateModule.inj=defineInjector({factory:function(t){return new(t||NativeDateModule)},providers:[{provide:core_DateAdapter,useClass:core_NativeDateAdapter}],imports:[[platform_PlatformModule]]}),NativeDateModule})();const core_0$1={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let core_MatNativeDateModule=(()=>{class MatNativeDateModule{}return MatNativeDateModule.mod=defineNgModule({type:MatNativeDateModule}),MatNativeDateModule.inj=defineInjector({factory:function(t){return new(t||MatNativeDateModule)},providers:[{provide:MAT_DATE_FORMATS,useValue:core_0$1}],imports:[[core_NativeDateModule]]}),MatNativeDateModule})(),core_ErrorStateMatcher=(()=>{class ErrorStateMatcher{isErrorState(control,form){return!!(control&&control.invalid&&(control.touched||form&&form.submitted))}}return ErrorStateMatcher.fac=function(t){return new(t||ErrorStateMatcher)},ErrorStateMatcher.prov=defineInjectable({factory:function(){return new ErrorStateMatcher},token:ErrorStateMatcher,providedIn:"root"}),ErrorStateMatcher})(),core_MatLine=(()=>{class MatLine{}return MatLine.fac=function(t){return new(t||MatLine)},MatLine.dir=defineDirective({type:MatLine,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),MatLine})();function setLines(lines,element,prefix="mat"){lines.changes.pipe(startWith(lines)).subscribe(({length:length})=>{setClass(element,`${prefix}-2-line`,!1),setClass(element,`${prefix}-3-line`,!1),setClass(element,`${prefix}-multi-line`,!1),2===length||3===length?setClass(element,`${prefix}-${length}-line`,!0):length>3&&setClass(element,`${prefix}-multi-line`,!0)})}function setClass(element,className,isAdd){const classList=element.nativeElement.classList;isAdd?classList.add(className):classList.remove(className)}let core_MatLineModule=(()=>{class MatLineModule{}return MatLineModule.mod=defineNgModule({type:MatLineModule}),MatLineModule.inj=defineInjector({factory:function(t){return new(t||MatLineModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),MatLineModule})();class RippleRef{constructor(_renderer,element,config){this._renderer=_renderer,this.element=element,this.config=config,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const defaultRippleAnimationConfig={enterDuration:450,exitDuration:400},passiveEventOptions=normalizePassiveListenerOptions({passive:!0}),pointerDownEvents=["mousedown","touchstart"],pointerUpEvents=["mouseup","mouseleave","touchend","touchcancel"];class core_RippleRenderer{constructor(_target,_ngZone,elementOrElementRef,platform){this._target=_target,this._ngZone=_ngZone,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,platform.isBrowser&&(this._containerElement=coerceElement(elementOrElementRef))}fadeInRipple(x,y,config={}){const containerRect=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),animationConfig=Object.assign(Object.assign({},defaultRippleAnimationConfig),config.animation);config.centered&&(x=containerRect.left+containerRect.width/2,y=containerRect.top+containerRect.height/2);const radius=config.radius||function(x,y,rect){const distX=Math.max(Math.abs(x-rect.left),Math.abs(x-rect.right)),distY=Math.max(Math.abs(y-rect.top),Math.abs(y-rect.bottom));return Math.sqrt(distX*distX+distY*distY)}(x,y,containerRect),offsetX=x-containerRect.left,offsetY=y-containerRect.top,duration=animationConfig.enterDuration,ripple=document.createElement("div");ripple.classList.add("mat-ripple-element"),ripple.style.left=offsetX-radius+"px",ripple.style.top=offsetY-radius+"px",ripple.style.height=2*radius+"px",ripple.style.width=2*radius+"px",null!=config.color&&(ripple.style.backgroundColor=config.color),ripple.style.transitionDuration=`${duration}ms`,this._containerElement.appendChild(ripple),window.getComputedStyle(ripple).getPropertyValue("opacity"),ripple.style.transform="scale(1)";const rippleRef=new RippleRef(this,ripple,config);return rippleRef.state=0,this._activeRipples.add(rippleRef),config.persistent||(this._mostRecentTransientRipple=rippleRef),this._runTimeoutOutsideZone(()=>{const isMostRecentTransientRipple=rippleRef===this._mostRecentTransientRipple;rippleRef.state=1,config.persistent||isMostRecentTransientRipple&&this._isPointerDown||rippleRef.fadeOut()},duration),rippleRef}fadeOutRipple(rippleRef){const wasActive=this._activeRipples.delete(rippleRef);if(rippleRef===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!wasActive)return;const rippleEl=rippleRef.element,animationConfig=Object.assign(Object.assign({},defaultRippleAnimationConfig),rippleRef.config.animation);rippleEl.style.transitionDuration=`${animationConfig.exitDuration}ms`,rippleEl.style.opacity="0",rippleRef.state=2,this._runTimeoutOutsideZone(()=>{rippleRef.state=3,rippleEl.parentNode.removeChild(rippleEl)},animationConfig.exitDuration)}fadeOutAll(){this._activeRipples.forEach(ripple=>ripple.fadeOut())}setupTriggerEvents(elementOrElementRef){const element=coerceElement(elementOrElementRef);element&&element!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=element,this._registerEvents(pointerDownEvents))}handleEvent(event){"mousedown"===event.type?this._onMousedown(event):"touchstart"===event.type?this._onTouchStart(event):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pointerUpEvents),this._pointerUpEventsRegistered=!0)}_onMousedown(event){const isFakeMousedown=isFakeMousedownFromScreenReader(event),isSyntheticEvent=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||isFakeMousedown||isSyntheticEvent||(this._isPointerDown=!0,this.fadeInRipple(event.clientX,event.clientY,this._target.rippleConfig))}_onTouchStart(event){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const touches=event.changedTouches;for(let i=0;i<touches.length;i++)this.fadeInRipple(touches[i].clientX,touches[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(ripple=>{!ripple.config.persistent&&(1===ripple.state||ripple.config.terminateOnPointerUp&&0===ripple.state)&&ripple.fadeOut()}))}_runTimeoutOutsideZone(fn,delay=0){this._ngZone.runOutsideAngular(()=>setTimeout(fn,delay))}_registerEvents(eventTypes){this._ngZone.runOutsideAngular(()=>{eventTypes.forEach(type=>{this._triggerElement.addEventListener(type,this,passiveEventOptions)})})}_removeTriggerEvents(){this._triggerElement&&(pointerDownEvents.forEach(type=>{this._triggerElement.removeEventListener(type,this,passiveEventOptions)}),this._pointerUpEventsRegistered&&pointerUpEvents.forEach(type=>{this._triggerElement.removeEventListener(type,this,passiveEventOptions)}))}}const MAT_RIPPLE_GLOBAL_OPTIONS=new InjectionToken("mat-ripple-global-options");let core_MatRipple=(()=>{class MatRipple{constructor(_elementRef,ngZone,platform,globalOptions,_animationMode){this._elementRef=_elementRef,this._animationMode=_animationMode,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=globalOptions||{},this._rippleRenderer=new core_RippleRenderer(this,ngZone,_elementRef,platform)}get disabled(){return this._disabled}set disabled(value){this._disabled=value,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(trigger){this._trigger=trigger,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(configOrX,y=0,config){return"number"==typeof configOrX?this._rippleRenderer.fadeInRipple(configOrX,y,Object.assign(Object.assign({},this.rippleConfig),config)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),configOrX))}}return MatRipple.fac=function(t){return new(t||MatRipple)(directiveInject(ElementRef),directiveInject(NgZone),directiveInject(platform_Platform),directiveInject(MAT_RIPPLE_GLOBAL_OPTIONS,8),directiveInject(ANIMATION_MODULE_TYPE,8))},MatRipple.dir=defineDirective({type:MatRipple,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(rf,ctx){2&rf&&classProp("mat-ripple-unbounded",ctx.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),MatRipple})(),core_MatRippleModule=(()=>{class MatRippleModule{}return MatRippleModule.mod=defineNgModule({type:MatRippleModule}),MatRippleModule.inj=defineInjector({factory:function(t){return new(t||MatRippleModule)},imports:[[core_MatCommonModule,platform_PlatformModule],core_MatCommonModule]}),MatRippleModule})(),core_MatPseudoCheckbox=(()=>{class MatPseudoCheckbox{constructor(_animationMode){this._animationMode=_animationMode,this.state="unchecked",this.disabled=!1}}return MatPseudoCheckbox.fac=function(t){return new(t||MatPseudoCheckbox)(directiveInject(ANIMATION_MODULE_TYPE,8))},MatPseudoCheckbox.cmp=defineComponent({type:MatPseudoCheckbox,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(rf,ctx){2&rf&&classProp("mat-pseudo-checkbox-indeterminate","indeterminate"===ctx.state)("mat-pseudo-checkbox-checked","checked"===ctx.state)("mat-pseudo-checkbox-disabled",ctx.disabled)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(rf,ctx){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),MatPseudoCheckbox})(),core_MatPseudoCheckboxModule=(()=>{class MatPseudoCheckboxModule{}return MatPseudoCheckboxModule.mod=defineNgModule({type:MatPseudoCheckboxModule}),MatPseudoCheckboxModule.inj=defineInjector({factory:function(t){return new(t||MatPseudoCheckboxModule)}}),MatPseudoCheckboxModule})();class MatOptgroupBase{}const _MatOptgroupMixinBase=mixinDisabled(MatOptgroupBase);let _uniqueOptgroupIdCounter=0,core_MatOptgroupBase=(()=>{class _MatOptgroupBase extends _MatOptgroupMixinBase{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+_uniqueOptgroupIdCounter++}}return _MatOptgroupBase.fac=function(t){return _MatOptgroupBase_BaseFactory(t||_MatOptgroupBase)},_MatOptgroupBase.dir=defineDirective({type:_MatOptgroupBase,inputs:{label:"label"},features:[InheritDefinitionFeature]}),_MatOptgroupBase})();const _MatOptgroupBase_BaseFactory=getInheritedFactory(core_MatOptgroupBase),MAT_OPTGROUP=new InjectionToken("MatOptgroup");let _uniqueIdCounter=0;class MatOptionSelectionChange{constructor(source,isUserInput=!1){this.source=source,this.isUserInput=isUserInput}}const MAT_OPTION_PARENT_COMPONENT=new InjectionToken("MAT_OPTION_PARENT_COMPONENT");let core_MatOptionBase=(()=>{class _MatOptionBase{constructor(_element,_changeDetectorRef,_parent,group){this._element=_element,this._changeDetectorRef=_changeDetectorRef,this._parent=_parent,this.group=group,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+_uniqueIdCounter++,this.onSelectionChange=new EventEmitter,this._stateChanges=new Subject_Subject}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(_origin,options){const element=this._getHostElement();"function"==typeof element.focus&&element.focus(options)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(event){13!==event.keyCode&&32!==event.keyCode||hasModifierKey(event)||(this._selectViaInteraction(),event.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const viewValue=this.viewValue;viewValue!==this._mostRecentViewValue&&(this._mostRecentViewValue=viewValue,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(isUserInput=!1){this.onSelectionChange.emit(new MatOptionSelectionChange(this,isUserInput))}}return _MatOptionBase.fac=function(t){return new(t||_MatOptionBase)(directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(void 0),directiveInject(core_MatOptgroupBase))},_MatOptionBase.dir=defineDirective({type:_MatOptionBase,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),_MatOptionBase})(),core_MatOption=(()=>{class MatOption extends core_MatOptionBase{constructor(element,changeDetectorRef,parent,group){super(element,changeDetectorRef,parent,group)}}return MatOption.fac=function(t){return new(t||MatOption)(directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(MAT_OPTION_PARENT_COMPONENT,8),directiveInject(MAT_OPTGROUP,8))},MatOption.cmp=defineComponent({type:MatOption,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(rf,ctx){1&rf&&listener("click",function(){return ctx._selectViaInteraction()})("keydown",function($event){return ctx._handleKeydown($event)}),2&rf&&(hostProperty("id",ctx.id),attribute("tabindex",ctx._getTabIndex())("aria-selected",ctx._getAriaSelected())("aria-disabled",ctx.disabled.toString()),classProp("mat-selected",ctx.selected)("mat-option-multiple",ctx.multiple)("mat-active",ctx.active)("mat-option-disabled",ctx.disabled))},exportAs:["matOption"],features:[InheritDefinitionFeature],ngContentSelectors:_c2,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(rf,ctx){1&rf&&(projectionDef(),template(0,MatOption_mat_pseudo_checkbox_0_Template,1,2,"mat-pseudo-checkbox",0),elementStart(1,"span",1),projection(2),elementEnd(),element(3,"div",2)),2&rf&&(property("ngIf",ctx.multiple),advance(3),property("matRippleTrigger",ctx._getHostElement())("matRippleDisabled",ctx.disabled||ctx.disableRipple))},directives:[common_NgIf,core_MatRipple,core_MatPseudoCheckbox],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),MatOption})();function _countGroupLabelsBeforeOption(optionIndex,options,optionGroups){if(optionGroups.length){let optionsArray=options.toArray(),groups=optionGroups.toArray(),groupCounter=0;for(let i=0;i<optionIndex+1;i++)optionsArray[i].group&&optionsArray[i].group===groups[groupCounter]&&groupCounter++;return groupCounter}return 0}let core_MatOptionModule=(()=>{class MatOptionModule{}return MatOptionModule.mod=defineNgModule({type:MatOptionModule}),MatOptionModule.inj=defineInjector({factory:function(t){return new(t||MatOptionModule)},imports:[[core_MatRippleModule,common_CommonModule,core_MatPseudoCheckboxModule]]}),MatOptionModule})();const MAT_LABEL_GLOBAL_OPTIONS=new InjectionToken("mat-label-global-options"),toolbar_c0=["*",[["mat-toolbar-row"]]],toolbar_c1=["*","mat-toolbar-row"];class MatToolbarBase{constructor(_elementRef){this._elementRef=_elementRef}}const _MatToolbarMixinBase=mixinColor(MatToolbarBase);let toolbar_MatToolbarRow=(()=>{class MatToolbarRow{}return MatToolbarRow.fac=function(t){return new(t||MatToolbarRow)},MatToolbarRow.dir=defineDirective({type:MatToolbarRow,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),MatToolbarRow})(),toolbar_MatToolbar=(()=>{class MatToolbar extends _MatToolbarMixinBase{constructor(elementRef,_platform,document){super(elementRef),this._platform=_platform,this._document=document}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return MatToolbar.fac=function(t){return new(t||MatToolbar)(directiveInject(ElementRef),directiveInject(platform_Platform),directiveInject(common_DOCUMENT))},MatToolbar.cmp=defineComponent({type:MatToolbar,selectors:[["mat-toolbar"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&contentQuery(dirIndex,toolbar_MatToolbarRow,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._toolbarRows=_t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&classProp("mat-toolbar-multiple-rows",ctx._toolbarRows.length>0)("mat-toolbar-single-row",0===ctx._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[InheritDefinitionFeature],ngContentSelectors:toolbar_c1,decls:2,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(toolbar_c0),projection(0),projection(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),MatToolbar})(),toolbar_MatToolbarModule=(()=>{class MatToolbarModule{}return MatToolbarModule.mod=defineNgModule({type:MatToolbarModule}),MatToolbarModule.inj=defineInjector({factory:function(t){return new(t||MatToolbarModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),MatToolbarModule})();const button_c0=["mat-button",""],button_c1=["*"],BUTTON_HOST_ATTRIBUTES=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class MatButtonBase{constructor(_elementRef){this._elementRef=_elementRef}}const _MatButtonMixinBase=mixinColor(mixinDisabled(mixinDisableRipple(MatButtonBase)));let button_MatButton=(()=>{class MatButton extends _MatButtonMixinBase{constructor(elementRef,_focusMonitor,_animationMode){super(elementRef),this._focusMonitor=_focusMonitor,this._animationMode=_animationMode,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const attr of BUTTON_HOST_ATTRIBUTES)this._hasHostAttributes(attr)&&this._getHostElement().classList.add(attr);elementRef.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(origin="program",options){this._focusMonitor.focusVia(this._getHostElement(),origin,options)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...attributes){return attributes.some(attribute=>this._getHostElement().hasAttribute(attribute))}}return MatButton.fac=function(t){return new(t||MatButton)(directiveInject(ElementRef),directiveInject(a11y_FocusMonitor),directiveInject(ANIMATION_MODULE_TYPE,8))},MatButton.cmp=defineComponent({type:MatButton,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(rf,ctx){if(1&rf&&viewQuery(core_MatRipple,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.ripple=_t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(rf,ctx){2&rf&&(attribute("disabled",ctx.disabled||null),classProp("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)("mat-button-disabled",ctx.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[InheritDefinitionFeature],attrs:button_c0,ngContentSelectors:button_c1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(rf,ctx){1&rf&&(projectionDef(),elementStart(0,"span",0),projection(1),elementEnd(),element(2,"span",1),element(3,"span",2)),2&rf&&(advance(2),classProp("mat-button-ripple-round",ctx.isRoundButton||ctx.isIconButton),property("matRippleDisabled",ctx._isRippleDisabled())("matRippleCentered",ctx.isIconButton)("matRippleTrigger",ctx._getHostElement()))},directives:[core_MatRipple],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),MatButton})(),button_MatButtonModule=(()=>{class MatButtonModule{}return MatButtonModule.mod=defineNgModule({type:MatButtonModule}),MatButtonModule.inj=defineInjector({factory:function(t){return new(t||MatButtonModule)},imports:[[core_MatRippleModule,core_MatCommonModule],core_MatCommonModule]}),MatButtonModule})(),nextHandle=1;const RESOLVED=(()=>Promise.resolve())(),activeHandles={};function findAndClearHandle(handle){return handle in activeHandles&&(delete activeHandles[handle],!0)}const Immediate={setImmediate(cb){const handle=nextHandle++;return activeHandles[handle]=!0,RESOLVED.then(()=>findAndClearHandle(handle)&&cb()),handle},clearImmediate(handle){findAndClearHandle(handle)}};class AsapAction_AsapAction extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0?super.requestAsyncId(scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=Immediate.setImmediate(scheduler.flush.bind(scheduler,null))))}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&delay>0||null===delay&&this.delay>0)return super.recycleAsyncId(scheduler,id,delay);0===scheduler.actions.length&&(Immediate.clearImmediate(id),scheduler.scheduled=void 0)}}class AsapScheduler_AsapScheduler extends AsyncScheduler_AsyncScheduler{flush(action){this.active=!0,this.scheduled=void 0;const{actions:actions}=this;let error,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}}}const asap=new AsapScheduler_AsapScheduler(AsapAction_AsapAction);function takeUntil(notifier){return source=>source.lift(new takeUntil_TakeUntilOperator(notifier))}class takeUntil_TakeUntilOperator{constructor(notifier){this.notifier=notifier}call(subscriber,source){const takeUntilSubscriber=new takeUntil_TakeUntilSubscriber(subscriber),notifierSubscription=subscribeToResult(takeUntilSubscriber,this.notifier);return notifierSubscription&&!takeUntilSubscriber.seenValue?(takeUntilSubscriber.add(notifierSubscription),source.subscribe(takeUntilSubscriber)):takeUntilSubscriber}}class takeUntil_TakeUntilSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination){super(destination),this.seenValue=!1}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.seenValue=!0,this.complete()}notifyComplete(){}}function delay_delay(delay,scheduler=async_async){var value;const delayFor=(value=delay)instanceof Date&&!isNaN(+value)?+delay-scheduler.now():Math.abs(delay);return source=>source.lift(new DelayOperator(delayFor,scheduler))}class DelayOperator{constructor(delay,scheduler){this.delay=delay,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new delay_DelaySubscriber(subscriber,this.delay,this.scheduler))}}class delay_DelaySubscriber extends Subscriber_Subscriber{constructor(destination,delay,scheduler){super(destination),this.delay=delay,this.scheduler=scheduler,this.queue=[],this.active=!1,this.errored=!1}static dispatch(state){const source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;for(;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){const delay=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay)}else this.unsubscribe(),source.active=!1}_schedule(scheduler){this.active=!0,this.destination.add(scheduler.schedule(delay_DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))}scheduleNotification(notification){if(!0===this.errored)return;const scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),!1===this.active&&this._schedule(scheduler)}_next(value){this.scheduleNotification(Notification_Notification.createNext(value))}_error(err){this.errored=!0,this.queue=[],this.destination.error(err),this.unsubscribe()}_complete(){this.scheduleNotification(Notification_Notification.createComplete()),this.unsubscribe()}}class DelayMessage{constructor(time,notification){this.time=time,this.notification=notification}}class Portal{attach(host){return this._attachedHost=host,host.attach(this)}detach(){let host=this._attachedHost;null!=host&&(this._attachedHost=null,host.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(host){this._attachedHost=host}}class ComponentPortal extends Portal{constructor(component,viewContainerRef,injector,componentFactoryResolver){super(),this.component=component,this.viewContainerRef=viewContainerRef,this.injector=injector,this.componentFactoryResolver=componentFactoryResolver}}class TemplatePortal extends Portal{constructor(template,viewContainerRef,context){super(),this.templateRef=template,this.viewContainerRef=viewContainerRef,this.context=context}get origin(){return this.templateRef.elementRef}attach(host,context=this.context){return this.context=context,super.attach(host)}detach(){return this.context=void 0,super.detach()}}class portal_DomPortal extends Portal{constructor(element){super(),this.element=element instanceof ElementRef?element.nativeElement:element}}class BasePortalOutlet{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(portal){return portal instanceof ComponentPortal?(this._attachedPortal=portal,this.attachComponentPortal(portal)):portal instanceof TemplatePortal?(this._attachedPortal=portal,this.attachTemplatePortal(portal)):this.attachDomPortal&&portal instanceof portal_DomPortal?(this._attachedPortal=portal,this.attachDomPortal(portal)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(fn){this._disposeFn=fn}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class DomPortalOutlet extends BasePortalOutlet{constructor(outletElement,_componentFactoryResolver,_appRef,_defaultInjector,_document){super(),this.outletElement=outletElement,this._componentFactoryResolver=_componentFactoryResolver,this._appRef=_appRef,this._defaultInjector=_defaultInjector,this.attachDomPortal=portal=>{const element=portal.element,anchorNode=this._document.createComment("dom-portal");element.parentNode.insertBefore(anchorNode,element),this.outletElement.appendChild(element),super.setDisposeFn(()=>{anchorNode.parentNode&&anchorNode.parentNode.replaceChild(element,anchorNode)})},this._document=_document}attachComponentPortal(portal){const componentFactory=(portal.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(portal.component);let componentRef;return portal.viewContainerRef?(componentRef=portal.viewContainerRef.createComponent(componentFactory,portal.viewContainerRef.length,portal.injector||portal.viewContainerRef.injector),this.setDisposeFn(()=>componentRef.destroy())):(componentRef=componentFactory.create(portal.injector||this._defaultInjector),this._appRef.attachView(componentRef.hostView),this.setDisposeFn(()=>{this._appRef.detachView(componentRef.hostView),componentRef.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(componentRef)),componentRef}attachTemplatePortal(portal){let viewContainer=portal.viewContainerRef,viewRef=viewContainer.createEmbeddedView(portal.templateRef,portal.context);return viewRef.rootNodes.forEach(rootNode=>this.outletElement.appendChild(rootNode)),viewRef.detectChanges(),this.setDisposeFn(()=>{let index=viewContainer.indexOf(viewRef);-1!==index&&viewContainer.remove(index)}),viewRef}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(componentRef){return componentRef.hostView.rootNodes[0]}}let portal_CdkPortalOutlet=(()=>{class CdkPortalOutlet extends BasePortalOutlet{constructor(_componentFactoryResolver,_viewContainerRef,_document){super(),this._componentFactoryResolver=_componentFactoryResolver,this._viewContainerRef=_viewContainerRef,this._isInitialized=!1,this.attached=new EventEmitter,this.attachDomPortal=portal=>{const element=portal.element,anchorNode=this._document.createComment("dom-portal");portal.setAttachedHost(this),element.parentNode.insertBefore(anchorNode,element),this._getRootNode().appendChild(element),super.setDisposeFn(()=>{anchorNode.parentNode&&anchorNode.parentNode.replaceChild(element,anchorNode)})},this._document=_document}get portal(){return this._attachedPortal}set portal(portal){(!this.hasAttached()||portal||this._isInitialized)&&(this.hasAttached()&&super.detach(),portal&&super.attach(portal),this._attachedPortal=portal)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(portal){portal.setAttachedHost(this);const viewContainerRef=null!=portal.viewContainerRef?portal.viewContainerRef:this._viewContainerRef,componentFactory=(portal.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(portal.component),ref=viewContainerRef.createComponent(componentFactory,viewContainerRef.length,portal.injector||viewContainerRef.injector);return viewContainerRef!==this._viewContainerRef&&this._getRootNode().appendChild(ref.hostView.rootNodes[0]),super.setDisposeFn(()=>ref.destroy()),this._attachedPortal=portal,this._attachedRef=ref,this.attached.emit(ref),ref}attachTemplatePortal(portal){portal.setAttachedHost(this);const viewRef=this._viewContainerRef.createEmbeddedView(portal.templateRef,portal.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=portal,this._attachedRef=viewRef,this.attached.emit(viewRef),viewRef}_getRootNode(){const nativeElement=this._viewContainerRef.element.nativeElement;return nativeElement.nodeType===nativeElement.ELEMENT_NODE?nativeElement:nativeElement.parentNode}}return CdkPortalOutlet.fac=function(t){return new(t||CdkPortalOutlet)(directiveInject(ComponentFactoryResolver),directiveInject(ViewContainerRef),directiveInject(common_DOCUMENT))},CdkPortalOutlet.dir=defineDirective({type:CdkPortalOutlet,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[InheritDefinitionFeature]}),CdkPortalOutlet})(),portal_PortalModule=(()=>{class PortalModule{}return PortalModule.mod=defineNgModule({type:PortalModule}),PortalModule.inj=defineInjector({factory:function(t){return new(t||PortalModule)}}),PortalModule})();function fromEvent(target,eventName,options,resultSelector){return isFunction(options)&&(resultSelector=options,options=void 0),resultSelector?fromEvent(target,eventName,options).pipe(map_map(args=>isArray(args)?resultSelector(...args):resultSelector(args))):new Observable_Observable(subscriber=>{setupSubscription(target,eventName,function(e){subscriber.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},subscriber,options)})}function setupSubscription(sourceObj,eventName,handler,subscriber,options){let unsubscribe;if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}(sourceObj)){const source=sourceObj;sourceObj.addEventListener(eventName,handler,options),unsubscribe=()=>source.removeEventListener(eventName,handler,options)}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}(sourceObj)){const source=sourceObj;sourceObj.on(eventName,handler),unsubscribe=()=>source.off(eventName,handler)}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}(sourceObj)){const source=sourceObj;sourceObj.addListener(eventName,handler),unsubscribe=()=>source.removeListener(eventName,handler)}else{if(!sourceObj||!sourceObj.length)throw new TypeError("Invalid event target");for(let i=0,len=sourceObj.length;i<len;i++)setupSubscription(sourceObj[i],eventName,handler,subscriber,options)}subscriber.add(unsubscribe)}class AnimationFrameAction_AnimationFrameAction extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0?super.requestAsyncId(scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=requestAnimationFrame(()=>scheduler.flush(null))))}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&delay>0||null===delay&&this.delay>0)return super.recycleAsyncId(scheduler,id,delay);0===scheduler.actions.length&&(cancelAnimationFrame(id),scheduler.scheduled=void 0)}}class AnimationFrameScheduler_AnimationFrameScheduler extends AsyncScheduler_AsyncScheduler{flush(action){this.active=!0,this.scheduled=void 0;const{actions:actions}=this;let error,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}}}const animationFrame=new AnimationFrameScheduler_AnimationFrameScheduler(AnimationFrameAction_AnimationFrameAction);function distinctUntilChanged(compare,keySelector){return source=>source.lift(new DistinctUntilChangedOperator(compare,keySelector))}class DistinctUntilChangedOperator{constructor(compare,keySelector){this.compare=compare,this.keySelector=keySelector}call(subscriber,source){return source.subscribe(new distinctUntilChanged_DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))}}class distinctUntilChanged_DistinctUntilChangedSubscriber extends Subscriber_Subscriber{constructor(destination,compare,keySelector){super(destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}compare(x,y){return x===y}_next(value){let key;try{const{keySelector:keySelector}=this;key=keySelector?keySelector(value):value}catch(err){return this.destination.error(err)}let result=!1;if(this.hasKey)try{const{compare:compare}=this;result=compare(this.key,key)}catch(err){return this.destination.error(err)}else this.hasKey=!0;result||(this.key=key,this.destination.next(value))}}class AuditOperator{constructor(durationSelector){this.durationSelector=durationSelector}call(subscriber,source){return source.subscribe(new audit_AuditSubscriber(subscriber,this.durationSelector))}}class audit_AuditSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,durationSelector){super(destination),this.durationSelector=durationSelector,this.hasValue=!1}_next(value){if(this.value=value,this.hasValue=!0,!this.throttled){let duration;try{const{durationSelector:durationSelector}=this;duration=durationSelector(value)}catch(err){return this.destination.error(err)}const innerSubscription=subscribeToResult(this,duration);!innerSubscription||innerSubscription.closed?this.clearThrottle():this.add(this.throttled=innerSubscription)}}clearThrottle(){const{value:value,hasValue:hasValue,throttled:throttled}=this;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))}notifyNext(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function isNumeric(val){return!isArray(val)&&val-parseFloat(val)+1>=0}function timer_dispatch(state){const{index:index,period:period,subscriber:subscriber}=state;if(subscriber.next(index),!subscriber.closed){if(-1===period)return subscriber.complete();state.index=index+1,this.schedule(state,period)}}function auditTime(duration,scheduler=async_async){return durationSelector=()=>function(dueTime=0,periodOrScheduler,scheduler){let period=-1;return isNumeric(periodOrScheduler)?period=Number(periodOrScheduler)<1?1:Number(periodOrScheduler):isScheduler(periodOrScheduler)&&(scheduler=periodOrScheduler),isScheduler(scheduler)||(scheduler=async_async),new Observable_Observable(subscriber=>{const due=isNumeric(dueTime)?dueTime:+dueTime-scheduler.now();return scheduler.schedule(timer_dispatch,due,{index:0,period:period,subscriber:subscriber})})}(duration,scheduler),function(source){return source.lift(new AuditOperator(durationSelector))};var durationSelector}class collections_SelectionModel{constructor(_multiple=!1,initiallySelectedValues,_emitChanges=!0){this._multiple=_multiple,this._emitChanges=_emitChanges,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Subject_Subject,initiallySelectedValues&&initiallySelectedValues.length&&(_multiple?initiallySelectedValues.forEach(value=>this._markSelected(value)):this._markSelected(initiallySelectedValues[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...values){this._verifyValueAssignment(values),values.forEach(value=>this._markSelected(value)),this._emitChangeEvent()}deselect(...values){this._verifyValueAssignment(values),values.forEach(value=>this._unmarkSelected(value)),this._emitChangeEvent()}toggle(value){this.isSelected(value)?this.deselect(value):this.select(value)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(value){return this._selection.has(value)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(predicate){this._multiple&&this.selected&&this._selected.sort(predicate)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(value){this.isSelected(value)||(this._multiple||this._unmarkAll(),this._selection.add(value),this._emitChanges&&this._selectedToEmit.push(value))}_unmarkSelected(value){this.isSelected(value)&&(this._selection.delete(value),this._emitChanges&&this._deselectedToEmit.push(value))}_unmarkAll(){this.isEmpty()||this._selection.forEach(value=>this._unmarkSelected(value))}_verifyValueAssignment(values){}}let collections_UniqueSelectionDispatcher=(()=>{class UniqueSelectionDispatcher{constructor(){this._listeners=[]}notify(id,name){for(let listener of this._listeners)listener(id,name)}listen(listener){return this._listeners.push(listener),()=>{this._listeners=this._listeners.filter(registered=>listener!==registered)}}ngOnDestroy(){this._listeners=[]}}return UniqueSelectionDispatcher.fac=function(t){return new(t||UniqueSelectionDispatcher)},UniqueSelectionDispatcher.prov=defineInjectable({factory:function(){return new UniqueSelectionDispatcher},token:UniqueSelectionDispatcher,providedIn:"root"}),UniqueSelectionDispatcher})(),scrolling_ScrollDispatcher=(()=>{class ScrollDispatcher{constructor(_ngZone,_platform,document){this._ngZone=_ngZone,this._platform=_platform,this._scrolled=new Subject_Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=document}register(scrollable){this.scrollContainers.has(scrollable)||this.scrollContainers.set(scrollable,scrollable.elementScrolled().subscribe(()=>this._scrolled.next(scrollable)))}deregister(scrollable){const scrollableReference=this.scrollContainers.get(scrollable);scrollableReference&&(scrollableReference.unsubscribe(),this.scrollContainers.delete(scrollable))}scrolled(auditTimeInMs=20){return this._platform.isBrowser?new Observable_Observable(observer=>{this._globalSubscription||this._addGlobalListener();const subscription=auditTimeInMs>0?this._scrolled.pipe(auditTime(auditTimeInMs)).subscribe(observer):this._scrolled.subscribe(observer);return this._scrolledCount++,()=>{subscription.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):of()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((_,container)=>this.deregister(container)),this._scrolled.complete()}ancestorScrolled(elementRef,auditTimeInMs){const ancestors=this.getAncestorScrollContainers(elementRef);return this.scrolled(auditTimeInMs).pipe(filter_filter(target=>!target||ancestors.indexOf(target)>-1))}getAncestorScrollContainers(elementRef){const scrollingContainers=[];return this.scrollContainers.forEach((_subscription,scrollable)=>{this._scrollableContainsElement(scrollable,elementRef)&&scrollingContainers.push(scrollable)}),scrollingContainers}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(scrollable,elementRef){let element=elementRef.nativeElement,scrollableElement=scrollable.getElementRef().nativeElement;do{if(element==scrollableElement)return!0}while(element=element.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fromEvent(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ScrollDispatcher.fac=function(t){return new(t||ScrollDispatcher)(inject(NgZone),inject(platform_Platform),inject(common_DOCUMENT,8))},ScrollDispatcher.prov=defineInjectable({factory:function(){return new ScrollDispatcher(inject(NgZone),inject(platform_Platform),inject(common_DOCUMENT,8))},token:ScrollDispatcher,providedIn:"root"}),ScrollDispatcher})(),scrolling_ViewportRuler=(()=>{class ViewportRuler{constructor(_platform,ngZone,document){this._platform=_platform,this._change=new Subject_Subject,this._changeListener=event=>{this._change.next(event)},this._document=document,ngZone.runOutsideAngular(()=>{if(_platform.isBrowser){const window=this._getWindow();window.addEventListener("resize",this._changeListener),window.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const window=this._getWindow();window.removeEventListener("resize",this._changeListener),window.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const output={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),output}getViewportRect(){const scrollPosition=this.getViewportScrollPosition(),{width:width,height:height}=this.getViewportSize();return{top:scrollPosition.top,left:scrollPosition.left,bottom:scrollPosition.top+height,right:scrollPosition.left+width,height:height,width:width}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const document=this._getDocument(),window=this._getWindow(),documentElement=document.documentElement,documentRect=documentElement.getBoundingClientRect();return{top:-documentRect.top||document.body.scrollTop||window.scrollY||documentElement.scrollTop||0,left:-documentRect.left||document.body.scrollLeft||window.scrollX||documentElement.scrollLeft||0}}change(throttleTime=20){return throttleTime>0?this._change.pipe(auditTime(throttleTime)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const window=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return ViewportRuler.fac=function(t){return new(t||ViewportRuler)(inject(platform_Platform),inject(NgZone),inject(common_DOCUMENT,8))},ViewportRuler.prov=defineInjectable({factory:function(){return new ViewportRuler(inject(platform_Platform),inject(NgZone),inject(common_DOCUMENT,8))},token:ViewportRuler,providedIn:"root"}),ViewportRuler})(),scrolling_CdkScrollableModule=(()=>{class CdkScrollableModule{}return CdkScrollableModule.mod=defineNgModule({type:CdkScrollableModule}),CdkScrollableModule.inj=defineInjector({factory:function(t){return new(t||CdkScrollableModule)}}),CdkScrollableModule})(),scrolling_ScrollingModule=(()=>{class ScrollingModule{}return ScrollingModule.mod=defineNgModule({type:ScrollingModule}),ScrollingModule.inj=defineInjector({factory:function(t){return new(t||ScrollingModule)},imports:[[bidi_BidiModule,platform_PlatformModule,scrolling_CdkScrollableModule],bidi_BidiModule,scrolling_CdkScrollableModule]}),ScrollingModule})();class TakeWhileOperator{constructor(predicate,inclusive){this.predicate=predicate,this.inclusive=inclusive}call(subscriber,source){return source.subscribe(new takeWhile_TakeWhileSubscriber(subscriber,this.predicate,this.inclusive))}}class takeWhile_TakeWhileSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,inclusive){super(destination),this.predicate=predicate,this.inclusive=inclusive,this.index=0}_next(value){const destination=this.destination;let result;try{result=this.predicate(value,this.index++)}catch(err){return void destination.error(err)}this.nextOrComplete(value,result)}nextOrComplete(value,predicateResult){const destination=this.destination;Boolean(predicateResult)?destination.next(value):(this.inclusive&&destination.next(value),destination.complete())}}class overlay_BlockScrollStrategy{constructor(_viewportRuler,document){this._viewportRuler=_viewportRuler,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=document}attach(){}enable(){if(this._canBeEnabled()){const root=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=root.style.left||"",this._previousHTMLStyles.top=root.style.top||"",root.style.left=coerceCssPixelValue(-this._previousScrollPosition.left),root.style.top=coerceCssPixelValue(-this._previousScrollPosition.top),root.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const html=this._document.documentElement,htmlStyle=html.style,bodyStyle=this._document.body.style,previousHtmlScrollBehavior=htmlStyle.scrollBehavior||"",previousBodyScrollBehavior=bodyStyle.scrollBehavior||"";this._isEnabled=!1,htmlStyle.left=this._previousHTMLStyles.left,htmlStyle.top=this._previousHTMLStyles.top,html.classList.remove("cdk-global-scrollblock"),htmlStyle.scrollBehavior=bodyStyle.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),htmlStyle.scrollBehavior=previousHtmlScrollBehavior,bodyStyle.scrollBehavior=previousBodyScrollBehavior}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const body=this._document.body,viewport=this._viewportRuler.getViewportSize();return body.scrollHeight>viewport.height||body.scrollWidth>viewport.width}}class CloseScrollStrategy{constructor(_scrollDispatcher,_ngZone,_viewportRuler,_config){this._scrollDispatcher=_scrollDispatcher,this._ngZone=_ngZone,this._viewportRuler=_viewportRuler,this._config=_config,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(overlayRef){this._overlayRef=overlayRef}enable(){if(this._scrollSubscription)return;const stream=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=stream.subscribe(()=>{const scrollPosition=this._viewportRuler.getViewportScrollPosition().top;Math.abs(scrollPosition-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=stream.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NoopScrollStrategy{enable(){}disable(){}attach(){}}function isElementScrolledOutsideView(element,scrollContainers){return scrollContainers.some(containerBounds=>element.bottom<containerBounds.top||element.top>containerBounds.bottom||element.right<containerBounds.left||element.left>containerBounds.right)}function isElementClippedByScrolling(element,scrollContainers){return scrollContainers.some(scrollContainerRect=>element.top<scrollContainerRect.top||element.bottom>scrollContainerRect.bottom||element.left<scrollContainerRect.left||element.right>scrollContainerRect.right)}class RepositionScrollStrategy{constructor(_scrollDispatcher,_viewportRuler,_ngZone,_config){this._scrollDispatcher=_scrollDispatcher,this._viewportRuler=_viewportRuler,this._ngZone=_ngZone,this._config=_config,this._scrollSubscription=null}attach(overlayRef){this._overlayRef=overlayRef}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const overlayRect=this._overlayRef.overlayElement.getBoundingClientRect(),{width:width,height:height}=this._viewportRuler.getViewportSize();isElementScrolledOutsideView(overlayRect,[{width:width,height:height,bottom:height,right:width,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let overlay_ScrollStrategyOptions=(()=>{class ScrollStrategyOptions{constructor(_scrollDispatcher,_viewportRuler,_ngZone,document){this._scrollDispatcher=_scrollDispatcher,this._viewportRuler=_viewportRuler,this._ngZone=_ngZone,this.noop=()=>new NoopScrollStrategy,this.close=config=>new CloseScrollStrategy(this._scrollDispatcher,this._ngZone,this._viewportRuler,config),this.block=()=>new overlay_BlockScrollStrategy(this._viewportRuler,this._document),this.reposition=config=>new RepositionScrollStrategy(this._scrollDispatcher,this._viewportRuler,this._ngZone,config),this._document=document}}return ScrollStrategyOptions.fac=function(t){return new(t||ScrollStrategyOptions)(inject(scrolling_ScrollDispatcher),inject(scrolling_ViewportRuler),inject(NgZone),inject(common_DOCUMENT))},ScrollStrategyOptions.prov=defineInjectable({factory:function(){return new ScrollStrategyOptions(inject(scrolling_ScrollDispatcher),inject(scrolling_ViewportRuler),inject(NgZone),inject(common_DOCUMENT))},token:ScrollStrategyOptions,providedIn:"root"}),ScrollStrategyOptions})();class OverlayConfig{constructor(config){if(this.scrollStrategy=new NoopScrollStrategy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,config){const configKeys=Object.keys(config);for(const key of configKeys)void 0!==config[key]&&(this[key]=config[key])}}}class ConnectionPositionPair{constructor(origin,overlay,offsetX,offsetY,panelClass){this.offsetX=offsetX,this.offsetY=offsetY,this.panelClass=panelClass,this.originX=origin.originX,this.originY=origin.originY,this.overlayX=overlay.overlayX,this.overlayY=overlay.overlayY}}class ConnectedOverlayPositionChange{constructor(connectionPair,scrollableViewProperties){this.connectionPair=connectionPair,this.scrollableViewProperties=scrollableViewProperties}}let overlay_BaseOverlayDispatcher=(()=>{class BaseOverlayDispatcher{constructor(document){this._attachedOverlays=[],this._document=document}ngOnDestroy(){this.detach()}add(overlayRef){this.remove(overlayRef),this._attachedOverlays.push(overlayRef)}remove(overlayRef){const index=this._attachedOverlays.indexOf(overlayRef);index>-1&&this._attachedOverlays.splice(index,1),0===this._attachedOverlays.length&&this.detach()}}return BaseOverlayDispatcher.fac=function(t){return new(t||BaseOverlayDispatcher)(inject(common_DOCUMENT))},BaseOverlayDispatcher.prov=defineInjectable({factory:function(){return new BaseOverlayDispatcher(inject(common_DOCUMENT))},token:BaseOverlayDispatcher,providedIn:"root"}),BaseOverlayDispatcher})(),overlay_OverlayKeyboardDispatcher=(()=>{class OverlayKeyboardDispatcher extends overlay_BaseOverlayDispatcher{constructor(document){super(document),this._keydownListener=event=>{const overlays=this._attachedOverlays;for(let i=overlays.length-1;i>-1;i--)if(overlays[i]._keydownEvents.observers.length>0){overlays[i]._keydownEvents.next(event);break}}}add(overlayRef){super.add(overlayRef),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return OverlayKeyboardDispatcher.fac=function(t){return new(t||OverlayKeyboardDispatcher)(inject(common_DOCUMENT))},OverlayKeyboardDispatcher.prov=defineInjectable({factory:function(){return new OverlayKeyboardDispatcher(inject(common_DOCUMENT))},token:OverlayKeyboardDispatcher,providedIn:"root"}),OverlayKeyboardDispatcher})(),overlay_OverlayOutsideClickDispatcher=(()=>{class OverlayOutsideClickDispatcher extends overlay_BaseOverlayDispatcher{constructor(document,_platform){super(document),this._platform=_platform,this._cursorStyleIsSet=!1,this._clickListener=event=>{const target=event.composedPath?event.composedPath()[0]:event.target,overlays=this._attachedOverlays.slice();for(let i=overlays.length-1;i>-1;i--){const overlayRef=overlays[i];if(!(overlayRef._outsidePointerEvents.observers.length<1)&&overlayRef.hasAttached()){if(overlayRef.overlayElement.contains(target))break;overlayRef._outsidePointerEvents.next(event)}}}}add(overlayRef){super.add(overlayRef),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return OverlayOutsideClickDispatcher.fac=function(t){return new(t||OverlayOutsideClickDispatcher)(inject(common_DOCUMENT),inject(platform_Platform))},OverlayOutsideClickDispatcher.prov=defineInjectable({factory:function(){return new OverlayOutsideClickDispatcher(inject(common_DOCUMENT),inject(platform_Platform))},token:OverlayOutsideClickDispatcher,providedIn:"root"}),OverlayOutsideClickDispatcher})();const isTestEnvironment=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let overlay_OverlayContainer=(()=>{class OverlayContainer{constructor(document,_platform){this._platform=_platform,this._document=document}ngOnDestroy(){const container=this._containerElement;container&&container.parentNode&&container.parentNode.removeChild(container)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const isBrowser=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(isBrowser||isTestEnvironment){const oppositePlatformContainers=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let i=0;i<oppositePlatformContainers.length;i++)oppositePlatformContainers[i].parentNode.removeChild(oppositePlatformContainers[i])}const container=this._document.createElement("div");container.classList.add("cdk-overlay-container"),isTestEnvironment?container.setAttribute("platform","test"):isBrowser||container.setAttribute("platform","server"),this._document.body.appendChild(container),this._containerElement=container}}return OverlayContainer.fac=function(t){return new(t||OverlayContainer)(inject(common_DOCUMENT),inject(platform_Platform))},OverlayContainer.prov=defineInjectable({factory:function(){return new OverlayContainer(inject(common_DOCUMENT),inject(platform_Platform))},token:OverlayContainer,providedIn:"root"}),OverlayContainer})();class overlay_OverlayRef{constructor(_portalOutlet,_host,_pane,_config,_ngZone,_keyboardDispatcher,_document,_location,_outsideClickDispatcher){this._portalOutlet=_portalOutlet,this._host=_host,this._pane=_pane,this._config=_config,this._ngZone=_ngZone,this._keyboardDispatcher=_keyboardDispatcher,this._document=_document,this._location=_location,this._outsideClickDispatcher=_outsideClickDispatcher,this._backdropElement=null,this._backdropClick=new Subject_Subject,this._attachments=new Subject_Subject,this._detachments=new Subject_Subject,this._locationChanges=Subscription_Subscription.EMPTY,this._backdropClickHandler=event=>this._backdropClick.next(event),this._keydownEvents=new Subject_Subject,this._outsidePointerEvents=new Subject_Subject,_config.scrollStrategy&&(this._scrollStrategy=_config.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=_config.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(portal){let attachResult=this._portalOutlet.attach(portal);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(take(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),attachResult}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const detachmentResult=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),detachmentResult}dispose(){const isAttached=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,isAttached&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(strategy){strategy!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=strategy,this.hasAttached()&&(strategy.attach(this),this.updatePosition()))}updateSize(sizeConfig){this._config=Object.assign(Object.assign({},this._config),sizeConfig),this._updateElementSize()}setDirection(dir){this._config=Object.assign(Object.assign({},this._config),{direction:dir}),this._updateElementDirection()}addPanelClass(classes){this._pane&&this._toggleClasses(this._pane,classes,!0)}removePanelClass(classes){this._pane&&this._toggleClasses(this._pane,classes,!1)}getDirection(){const direction=this._config.direction;return direction?"string"==typeof direction?direction:direction.value:"ltr"}updateScrollStrategy(strategy){strategy!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=strategy,this.hasAttached()&&(strategy.attach(this),strategy.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const style=this._pane.style;style.width=coerceCssPixelValue(this._config.width),style.height=coerceCssPixelValue(this._config.height),style.minWidth=coerceCssPixelValue(this._config.minWidth),style.minHeight=coerceCssPixelValue(this._config.minHeight),style.maxWidth=coerceCssPixelValue(this._config.maxWidth),style.maxHeight=coerceCssPixelValue(this._config.maxHeight)}_togglePointerEvents(enablePointer){this._pane.style.pointerEvents=enablePointer?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let timeoutId,backdropToDetach=this._backdropElement;if(!backdropToDetach)return;let finishDetach=()=>{backdropToDetach&&(backdropToDetach.removeEventListener("click",this._backdropClickHandler),backdropToDetach.removeEventListener("transitionend",finishDetach),backdropToDetach.parentNode&&backdropToDetach.parentNode.removeChild(backdropToDetach)),this._backdropElement==backdropToDetach&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(backdropToDetach,this._config.backdropClass,!1),clearTimeout(timeoutId)};backdropToDetach.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{backdropToDetach.addEventListener("transitionend",finishDetach)}),backdropToDetach.style.pointerEvents="none",timeoutId=this._ngZone.runOutsideAngular(()=>setTimeout(finishDetach,500))}_toggleClasses(element,cssClasses,isAdd){const classList=element.classList;coerceArray(cssClasses).forEach(cssClass=>{cssClass&&(isAdd?classList.add(cssClass):classList.remove(cssClass))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const subscription=this._ngZone.onStable.pipe(takeUntil(merge(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),subscription.unsubscribe())})})}_disposeScrollStrategy(){const scrollStrategy=this._scrollStrategy;scrollStrategy&&(scrollStrategy.disable(),scrollStrategy.detach&&scrollStrategy.detach())}}const cssUnitPattern=/([A-Za-z%]+)$/;class overlay_FlexibleConnectedPositionStrategy{constructor(connectedTo,_viewportRuler,_document,_platform,_overlayContainer){this._viewportRuler=_viewportRuler,this._document=_document,this._platform=_platform,this._overlayContainer=_overlayContainer,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Subject_Subject,this._resizeSubscription=Subscription_Subscription.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(connectedTo)}get positions(){return this._preferredPositions}attach(overlayRef){this._validatePositions(),overlayRef.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=overlayRef,this._boundingBox=overlayRef.hostElement,this._pane=overlayRef.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const originRect=this._originRect,overlayRect=this._overlayRect,viewportRect=this._viewportRect,flexibleFits=[];let fallback;for(let pos of this._preferredPositions){let originPoint=this._getOriginPoint(originRect,pos),overlayPoint=this._getOverlayPoint(originPoint,overlayRect,pos),overlayFit=this._getOverlayFit(overlayPoint,overlayRect,viewportRect,pos);if(overlayFit.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(pos,originPoint);this._canFitWithFlexibleDimensions(overlayFit,overlayPoint,viewportRect)?flexibleFits.push({position:pos,origin:originPoint,overlayRect:overlayRect,boundingBoxRect:this._calculateBoundingBoxRect(originPoint,pos)}):(!fallback||fallback.overlayFit.visibleArea<overlayFit.visibleArea)&&(fallback={overlayFit:overlayFit,overlayPoint:overlayPoint,originPoint:originPoint,position:pos,overlayRect:overlayRect})}if(flexibleFits.length){let bestFit=null,bestScore=-1;for(const fit of flexibleFits){const score=fit.boundingBoxRect.width*fit.boundingBoxRect.height*(fit.position.weight||1);score>bestScore&&(bestScore=score,bestFit=fit)}return this._isPushed=!1,void this._applyPosition(bestFit.position,bestFit.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(fallback.position,fallback.originPoint);this._applyPosition(fallback.position,fallback.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&extendStyles(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const lastPosition=this._lastPosition||this._preferredPositions[0],originPoint=this._getOriginPoint(this._originRect,lastPosition);this._applyPosition(lastPosition,originPoint)}}withScrollableContainers(scrollables){return this._scrollables=scrollables,this}withPositions(positions){return this._preferredPositions=positions,-1===positions.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(margin){return this._viewportMargin=margin,this}withFlexibleDimensions(flexibleDimensions=!0){return this._hasFlexibleDimensions=flexibleDimensions,this}withGrowAfterOpen(growAfterOpen=!0){return this._growAfterOpen=growAfterOpen,this}withPush(canPush=!0){return this._canPush=canPush,this}withLockedPosition(isLocked=!0){return this._positionLocked=isLocked,this}setOrigin(origin){return this._origin=origin,this}withDefaultOffsetX(offset){return this._offsetX=offset,this}withDefaultOffsetY(offset){return this._offsetY=offset,this}withTransformOriginOn(selector){return this._transformOriginSelector=selector,this}_getOriginPoint(originRect,pos){let x,y;if("center"==pos.originX)x=originRect.left+originRect.width/2;else{const startX=this._isRtl()?originRect.right:originRect.left,endX=this._isRtl()?originRect.left:originRect.right;x="start"==pos.originX?startX:endX}return y="center"==pos.originY?originRect.top+originRect.height/2:"top"==pos.originY?originRect.top:originRect.bottom,{x:x,y:y}}_getOverlayPoint(originPoint,overlayRect,pos){let overlayStartX,overlayStartY;return overlayStartX="center"==pos.overlayX?-overlayRect.width/2:"start"===pos.overlayX?this._isRtl()?-overlayRect.width:0:this._isRtl()?0:-overlayRect.width,overlayStartY="center"==pos.overlayY?-overlayRect.height/2:"top"==pos.overlayY?0:-overlayRect.height,{x:originPoint.x+overlayStartX,y:originPoint.y+overlayStartY}}_getOverlayFit(point,overlay,viewport,position){let{x:x,y:y}=point,offsetX=this._getOffset(position,"x"),offsetY=this._getOffset(position,"y");offsetX&&(x+=offsetX),offsetY&&(y+=offsetY);let topOverflow=0-y,bottomOverflow=y+overlay.height-viewport.height,visibleWidth=this._subtractOverflows(overlay.width,0-x,x+overlay.width-viewport.width),visibleHeight=this._subtractOverflows(overlay.height,topOverflow,bottomOverflow),visibleArea=visibleWidth*visibleHeight;return{visibleArea:visibleArea,isCompletelyWithinViewport:overlay.width*overlay.height===visibleArea,fitsInViewportVertically:visibleHeight===overlay.height,fitsInViewportHorizontally:visibleWidth==overlay.width}}_canFitWithFlexibleDimensions(fit,point,viewport){if(this._hasFlexibleDimensions){const availableHeight=viewport.bottom-point.y,availableWidth=viewport.right-point.x,minHeight=getPixelValue(this._overlayRef.getConfig().minHeight),minWidth=getPixelValue(this._overlayRef.getConfig().minWidth),horizontalFit=fit.fitsInViewportHorizontally||null!=minWidth&&minWidth<=availableWidth;return(fit.fitsInViewportVertically||null!=minHeight&&minHeight<=availableHeight)&&horizontalFit}return!1}_pushOverlayOnScreen(start,overlay,scrollPosition){if(this._previousPushAmount&&this._positionLocked)return{x:start.x+this._previousPushAmount.x,y:start.y+this._previousPushAmount.y};const viewport=this._viewportRect,overflowRight=Math.max(start.x+overlay.width-viewport.width,0),overflowBottom=Math.max(start.y+overlay.height-viewport.height,0),overflowTop=Math.max(viewport.top-scrollPosition.top-start.y,0),overflowLeft=Math.max(viewport.left-scrollPosition.left-start.x,0);let pushX=0,pushY=0;return pushX=overlay.width<=viewport.width?overflowLeft||-overflowRight:start.x<this._viewportMargin?viewport.left-scrollPosition.left-start.x:0,pushY=overlay.height<=viewport.height?overflowTop||-overflowBottom:start.y<this._viewportMargin?viewport.top-scrollPosition.top-start.y:0,this._previousPushAmount={x:pushX,y:pushY},{x:start.x+pushX,y:start.y+pushY}}_applyPosition(position,originPoint){if(this._setTransformOrigin(position),this._setOverlayElementStyles(originPoint,position),this._setBoundingBoxStyles(originPoint,position),position.panelClass&&this._addPanelClasses(position.panelClass),this._lastPosition=position,this._positionChanges.observers.length){const scrollableViewProperties=this._getScrollVisibility(),changeEvent=new ConnectedOverlayPositionChange(position,scrollableViewProperties);this._positionChanges.next(changeEvent)}this._isInitialRender=!1}_setTransformOrigin(position){if(!this._transformOriginSelector)return;const elements=this._boundingBox.querySelectorAll(this._transformOriginSelector);let xOrigin,yOrigin=position.overlayY;xOrigin="center"===position.overlayX?"center":this._isRtl()?"start"===position.overlayX?"right":"left":"start"===position.overlayX?"left":"right";for(let i=0;i<elements.length;i++)elements[i].style.transformOrigin=`${xOrigin} ${yOrigin}`}_calculateBoundingBoxRect(origin,position){const viewport=this._viewportRect,isRtl=this._isRtl();let height,top,bottom,width,left,right;if("top"===position.overlayY)top=origin.y,height=viewport.height-top+this._viewportMargin;else if("bottom"===position.overlayY)bottom=viewport.height-origin.y+2*this._viewportMargin,height=viewport.height-bottom+this._viewportMargin;else{const smallestDistanceToViewportEdge=Math.min(viewport.bottom-origin.y+viewport.top,origin.y),previousHeight=this._lastBoundingBoxSize.height;height=2*smallestDistanceToViewportEdge,top=origin.y-smallestDistanceToViewportEdge,height>previousHeight&&!this._isInitialRender&&!this._growAfterOpen&&(top=origin.y-previousHeight/2)}if("end"===position.overlayX&&!isRtl||"start"===position.overlayX&&isRtl)right=viewport.width-origin.x+this._viewportMargin,width=origin.x-this._viewportMargin;else if("start"===position.overlayX&&!isRtl||"end"===position.overlayX&&isRtl)left=origin.x,width=viewport.right-origin.x;else{const smallestDistanceToViewportEdge=Math.min(viewport.right-origin.x+viewport.left,origin.x),previousWidth=this._lastBoundingBoxSize.width;width=2*smallestDistanceToViewportEdge,left=origin.x-smallestDistanceToViewportEdge,width>previousWidth&&!this._isInitialRender&&!this._growAfterOpen&&(left=origin.x-previousWidth/2)}return{top:top,left:left,bottom:bottom,right:right,width:width,height:height}}_setBoundingBoxStyles(origin,position){const boundingBoxRect=this._calculateBoundingBoxRect(origin,position);this._isInitialRender||this._growAfterOpen||(boundingBoxRect.height=Math.min(boundingBoxRect.height,this._lastBoundingBoxSize.height),boundingBoxRect.width=Math.min(boundingBoxRect.width,this._lastBoundingBoxSize.width));const styles={};if(this._hasExactPosition())styles.top=styles.left="0",styles.bottom=styles.right=styles.maxHeight=styles.maxWidth="",styles.width=styles.height="100%";else{const maxHeight=this._overlayRef.getConfig().maxHeight,maxWidth=this._overlayRef.getConfig().maxWidth;styles.height=coerceCssPixelValue(boundingBoxRect.height),styles.top=coerceCssPixelValue(boundingBoxRect.top),styles.bottom=coerceCssPixelValue(boundingBoxRect.bottom),styles.width=coerceCssPixelValue(boundingBoxRect.width),styles.left=coerceCssPixelValue(boundingBoxRect.left),styles.right=coerceCssPixelValue(boundingBoxRect.right),styles.alignItems="center"===position.overlayX?"center":"end"===position.overlayX?"flex-end":"flex-start",styles.justifyContent="center"===position.overlayY?"center":"bottom"===position.overlayY?"flex-end":"flex-start",maxHeight&&(styles.maxHeight=coerceCssPixelValue(maxHeight)),maxWidth&&(styles.maxWidth=coerceCssPixelValue(maxWidth))}this._lastBoundingBoxSize=boundingBoxRect,extendStyles(this._boundingBox.style,styles)}_resetBoundingBoxStyles(){extendStyles(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){extendStyles(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(originPoint,position){const styles={},hasExactPosition=this._hasExactPosition(),hasFlexibleDimensions=this._hasFlexibleDimensions,config=this._overlayRef.getConfig();if(hasExactPosition){const scrollPosition=this._viewportRuler.getViewportScrollPosition();extendStyles(styles,this._getExactOverlayY(position,originPoint,scrollPosition)),extendStyles(styles,this._getExactOverlayX(position,originPoint,scrollPosition))}else styles.position="static";let transformString="",offsetX=this._getOffset(position,"x"),offsetY=this._getOffset(position,"y");offsetX&&(transformString+=`translateX(${offsetX}px) `),offsetY&&(transformString+=`translateY(${offsetY}px)`),styles.transform=transformString.trim(),config.maxHeight&&(hasExactPosition?styles.maxHeight=coerceCssPixelValue(config.maxHeight):hasFlexibleDimensions&&(styles.maxHeight="")),config.maxWidth&&(hasExactPosition?styles.maxWidth=coerceCssPixelValue(config.maxWidth):hasFlexibleDimensions&&(styles.maxWidth="")),extendStyles(this._pane.style,styles)}_getExactOverlayY(position,originPoint,scrollPosition){let styles={top:"",bottom:""},overlayPoint=this._getOverlayPoint(originPoint,this._overlayRect,position);this._isPushed&&(overlayPoint=this._pushOverlayOnScreen(overlayPoint,this._overlayRect,scrollPosition));let virtualKeyboardOffset=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return overlayPoint.y-=virtualKeyboardOffset,"bottom"===position.overlayY?styles.bottom=this._document.documentElement.clientHeight-(overlayPoint.y+this._overlayRect.height)+"px":styles.top=coerceCssPixelValue(overlayPoint.y),styles}_getExactOverlayX(position,originPoint,scrollPosition){let horizontalStyleProperty,styles={left:"",right:""},overlayPoint=this._getOverlayPoint(originPoint,this._overlayRect,position);return this._isPushed&&(overlayPoint=this._pushOverlayOnScreen(overlayPoint,this._overlayRect,scrollPosition)),horizontalStyleProperty=this._isRtl()?"end"===position.overlayX?"left":"right":"end"===position.overlayX?"right":"left","right"===horizontalStyleProperty?styles.right=this._document.documentElement.clientWidth-(overlayPoint.x+this._overlayRect.width)+"px":styles.left=coerceCssPixelValue(overlayPoint.x),styles}_getScrollVisibility(){const originBounds=this._getOriginRect(),overlayBounds=this._pane.getBoundingClientRect(),scrollContainerBounds=this._scrollables.map(scrollable=>scrollable.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:isElementClippedByScrolling(originBounds,scrollContainerBounds),isOriginOutsideView:isElementScrolledOutsideView(originBounds,scrollContainerBounds),isOverlayClipped:isElementClippedByScrolling(overlayBounds,scrollContainerBounds),isOverlayOutsideView:isElementScrolledOutsideView(overlayBounds,scrollContainerBounds)}}_subtractOverflows(length,...overflows){return overflows.reduce((currentValue,currentOverflow)=>currentValue-Math.max(currentOverflow,0),length)}_getNarrowedViewportRect(){const width=this._document.documentElement.clientWidth,height=this._document.documentElement.clientHeight,scrollPosition=this._viewportRuler.getViewportScrollPosition();return{top:scrollPosition.top+this._viewportMargin,left:scrollPosition.left+this._viewportMargin,right:scrollPosition.left+width-this._viewportMargin,bottom:scrollPosition.top+height-this._viewportMargin,width:width-2*this._viewportMargin,height:height-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(position,axis){return"x"===axis?null==position.offsetX?this._offsetX:position.offsetX:null==position.offsetY?this._offsetY:position.offsetY}_validatePositions(){}_addPanelClasses(cssClasses){this._pane&&coerceArray(cssClasses).forEach(cssClass=>{""!==cssClass&&-1===this._appliedPanelClasses.indexOf(cssClass)&&(this._appliedPanelClasses.push(cssClass),this._pane.classList.add(cssClass))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(cssClass=>{this._pane.classList.remove(cssClass)}),this._appliedPanelClasses=[])}_getOriginRect(){const origin=this._origin;if(origin instanceof ElementRef)return origin.nativeElement.getBoundingClientRect();if(origin instanceof Element)return origin.getBoundingClientRect();const width=origin.width||0,height=origin.height||0;return{top:origin.y,bottom:origin.y+height,left:origin.x,right:origin.x+width,height:height,width:width}}}function extendStyles(destination,source){for(let key in source)source.hasOwnProperty(key)&&(destination[key]=source[key]);return destination}function getPixelValue(input){if("number"!=typeof input&&null!=input){const[value,units]=input.split(cssUnitPattern);return units&&"px"!==units?null:parseFloat(value)}return input||null}class ConnectedPositionStrategy{constructor(originPos,overlayPos,connectedTo,viewportRuler,document,platform,overlayContainer){this._preferredPositions=[],this._positionStrategy=new overlay_FlexibleConnectedPositionStrategy(connectedTo,viewportRuler,document,platform,overlayContainer).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(originPos,overlayPos),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(overlayRef){this._overlayRef=overlayRef,this._positionStrategy.attach(overlayRef),this._direction&&(overlayRef.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(scrollables){this._positionStrategy.withScrollableContainers(scrollables)}withFallbackPosition(originPos,overlayPos,offsetX,offsetY){const position=new ConnectionPositionPair(originPos,overlayPos,offsetX,offsetY);return this._preferredPositions.push(position),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(dir){return this._overlayRef?this._overlayRef.setDirection(dir):this._direction=dir,this}withOffsetX(offset){return this._positionStrategy.withDefaultOffsetX(offset),this}withOffsetY(offset){return this._positionStrategy.withDefaultOffsetY(offset),this}withLockedPosition(isLocked){return this._positionStrategy.withLockedPosition(isLocked),this}withPositions(positions){return this._preferredPositions=positions.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(origin){return this._positionStrategy.setOrigin(origin),this}}class GlobalPositionStrategy{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(overlayRef){const config=overlayRef.getConfig();this._overlayRef=overlayRef,this._width&&!config.width&&overlayRef.updateSize({width:this._width}),this._height&&!config.height&&overlayRef.updateSize({height:this._height}),overlayRef.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(value=""){return this._bottomOffset="",this._topOffset=value,this._alignItems="flex-start",this}left(value=""){return this._rightOffset="",this._leftOffset=value,this._justifyContent="flex-start",this}bottom(value=""){return this._topOffset="",this._bottomOffset=value,this._alignItems="flex-end",this}right(value=""){return this._leftOffset="",this._rightOffset=value,this._justifyContent="flex-end",this}width(value=""){return this._overlayRef?this._overlayRef.updateSize({width:value}):this._width=value,this}height(value=""){return this._overlayRef?this._overlayRef.updateSize({height:value}):this._height=value,this}centerHorizontally(offset=""){return this.left(offset),this._justifyContent="center",this}centerVertically(offset=""){return this.top(offset),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const styles=this._overlayRef.overlayElement.style,parentStyles=this._overlayRef.hostElement.style,config=this._overlayRef.getConfig(),{width:width,height:height,maxWidth:maxWidth,maxHeight:maxHeight}=config,shouldBeFlushHorizontally=!("100%"!==width&&"100vw"!==width||maxWidth&&"100%"!==maxWidth&&"100vw"!==maxWidth),shouldBeFlushVertically=!("100%"!==height&&"100vh"!==height||maxHeight&&"100%"!==maxHeight&&"100vh"!==maxHeight);styles.position=this._cssPosition,styles.marginLeft=shouldBeFlushHorizontally?"0":this._leftOffset,styles.marginTop=shouldBeFlushVertically?"0":this._topOffset,styles.marginBottom=this._bottomOffset,styles.marginRight=this._rightOffset,shouldBeFlushHorizontally?parentStyles.justifyContent="flex-start":"center"===this._justifyContent?parentStyles.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?parentStyles.justifyContent="flex-end":"flex-end"===this._justifyContent&&(parentStyles.justifyContent="flex-start"):parentStyles.justifyContent=this._justifyContent,parentStyles.alignItems=shouldBeFlushVertically?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const styles=this._overlayRef.overlayElement.style,parent=this._overlayRef.hostElement,parentStyles=parent.style;parent.classList.remove("cdk-global-overlay-wrapper"),parentStyles.justifyContent=parentStyles.alignItems=styles.marginTop=styles.marginBottom=styles.marginLeft=styles.marginRight=styles.position="",this._overlayRef=null,this._isDisposed=!0}}let overlay_OverlayPositionBuilder=(()=>{class OverlayPositionBuilder{constructor(_viewportRuler,_document,_platform,_overlayContainer){this._viewportRuler=_viewportRuler,this._document=_document,this._platform=_platform,this._overlayContainer=_overlayContainer}global(){return new GlobalPositionStrategy}connectedTo(elementRef,originPos,overlayPos){return new ConnectedPositionStrategy(originPos,overlayPos,elementRef,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(origin){return new overlay_FlexibleConnectedPositionStrategy(origin,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return OverlayPositionBuilder.fac=function(t){return new(t||OverlayPositionBuilder)(inject(scrolling_ViewportRuler),inject(common_DOCUMENT),inject(platform_Platform),inject(overlay_OverlayContainer))},OverlayPositionBuilder.prov=defineInjectable({factory:function(){return new OverlayPositionBuilder(inject(scrolling_ViewportRuler),inject(common_DOCUMENT),inject(platform_Platform),inject(overlay_OverlayContainer))},token:OverlayPositionBuilder,providedIn:"root"}),OverlayPositionBuilder})(),nextUniqueId=0,overlay_Overlay=(()=>{class Overlay{constructor(scrollStrategies,_overlayContainer,_componentFactoryResolver,_positionBuilder,_keyboardDispatcher,_injector,_ngZone,_document,_directionality,_location,_outsideClickDispatcher){this.scrollStrategies=scrollStrategies,this._overlayContainer=_overlayContainer,this._componentFactoryResolver=_componentFactoryResolver,this._positionBuilder=_positionBuilder,this._keyboardDispatcher=_keyboardDispatcher,this._injector=_injector,this._ngZone=_ngZone,this._document=_document,this._directionality=_directionality,this._location=_location,this._outsideClickDispatcher=_outsideClickDispatcher}create(config){const host=this._createHostElement(),pane=this._createPaneElement(host),portalOutlet=this._createPortalOutlet(pane),overlayConfig=new OverlayConfig(config);return overlayConfig.direction=overlayConfig.direction||this._directionality.value,new overlay_OverlayRef(portalOutlet,host,pane,overlayConfig,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(host){const pane=this._document.createElement("div");return pane.id="cdk-overlay-"+nextUniqueId++,pane.classList.add("cdk-overlay-pane"),host.appendChild(pane),pane}_createHostElement(){const host=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(host),host}_createPortalOutlet(pane){return this._appRef||(this._appRef=this._injector.get(core_ApplicationRef)),new DomPortalOutlet(pane,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Overlay.fac=function(t){return new(t||Overlay)(inject(overlay_ScrollStrategyOptions),inject(overlay_OverlayContainer),inject(ComponentFactoryResolver),inject(overlay_OverlayPositionBuilder),inject(overlay_OverlayKeyboardDispatcher),inject(Injector),inject(NgZone),inject(common_DOCUMENT),inject(bidi_Directionality),inject(common_Location),inject(overlay_OverlayOutsideClickDispatcher))},Overlay.prov=defineInjectable({token:Overlay,factory:Overlay.fac}),Overlay})();const defaultPositionList=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY=new InjectionToken("cdk-connected-overlay-scroll-strategy");let overlay_CdkOverlayOrigin=(()=>{class CdkOverlayOrigin{constructor(elementRef){this.elementRef=elementRef}}return CdkOverlayOrigin.fac=function(t){return new(t||CdkOverlayOrigin)(directiveInject(ElementRef))},CdkOverlayOrigin.dir=defineDirective({type:CdkOverlayOrigin,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),CdkOverlayOrigin})(),overlay_CdkConnectedOverlay=(()=>{class CdkConnectedOverlay{constructor(_overlay,templateRef,viewContainerRef,scrollStrategyFactory,_dir){this._overlay=_overlay,this._dir=_dir,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Subscription_Subscription.EMPTY,this._attachSubscription=Subscription_Subscription.EMPTY,this._detachSubscription=Subscription_Subscription.EMPTY,this._positionSubscription=Subscription_Subscription.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new EventEmitter,this.positionChange=new EventEmitter,this.attach=new EventEmitter,this.detach=new EventEmitter,this.overlayKeydown=new EventEmitter,this.overlayOutsideClick=new EventEmitter,this._templatePortal=new TemplatePortal(templateRef,viewContainerRef),this._scrollStrategyFactory=scrollStrategyFactory,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(offsetX){this._offsetX=offsetX,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(offsetY){this._offsetY=offsetY,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(value){this._hasBackdrop=coerceBooleanProperty(value)}get lockPosition(){return this._lockPosition}set lockPosition(value){this._lockPosition=coerceBooleanProperty(value)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(value){this._flexibleDimensions=coerceBooleanProperty(value)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(value){this._growAfterOpen=coerceBooleanProperty(value)}get push(){return this._push}set push(value){this._push=coerceBooleanProperty(value)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(changes){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),changes.origin&&this.open&&this._position.apply()),changes.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=defaultPositionList);const overlayRef=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=overlayRef.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=overlayRef.detachments().subscribe(()=>this.detach.emit()),overlayRef.keydownEvents().subscribe(event=>{this.overlayKeydown.next(event),27!==event.keyCode||hasModifierKey(event)||(event.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(event=>{this.overlayOutsideClick.next(event)})}_buildConfig(){const positionStrategy=this._position=this.positionStrategy||this._createPositionStrategy(),overlayConfig=new OverlayConfig({direction:this._dir,positionStrategy:positionStrategy,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(overlayConfig.width=this.width),(this.height||0===this.height)&&(overlayConfig.height=this.height),(this.minWidth||0===this.minWidth)&&(overlayConfig.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(overlayConfig.minHeight=this.minHeight),this.backdropClass&&(overlayConfig.backdropClass=this.backdropClass),this.panelClass&&(overlayConfig.panelClass=this.panelClass),overlayConfig}_updatePositionStrategy(positionStrategy){const positions=this.positions.map(currentPosition=>({originX:currentPosition.originX,originY:currentPosition.originY,overlayX:currentPosition.overlayX,overlayY:currentPosition.overlayY,offsetX:currentPosition.offsetX||this.offsetX,offsetY:currentPosition.offsetY||this.offsetY,panelClass:currentPosition.panelClass||void 0}));return positionStrategy.setOrigin(this.origin.elementRef).withPositions(positions).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const strategy=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(strategy),strategy}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(event=>{this.backdropClick.emit(event)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(predicate,inclusive=!1){return source=>source.lift(new TakeWhileOperator(predicate,inclusive))}(()=>this.positionChange.observers.length>0)).subscribe(position=>{this.positionChange.emit(position),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return CdkConnectedOverlay.fac=function(t){return new(t||CdkConnectedOverlay)(directiveInject(overlay_Overlay),directiveInject(TemplateRef),directiveInject(ViewContainerRef),directiveInject(CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY),directiveInject(bidi_Directionality,8))},CdkConnectedOverlay.dir=defineDirective({type:CdkConnectedOverlay,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[NgOnChangesFeature]}),CdkConnectedOverlay})();const CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER={provide:CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition()}};let overlay_OverlayModule=(()=>{class OverlayModule{}return OverlayModule.mod=defineNgModule({type:OverlayModule}),OverlayModule.inj=defineInjector({factory:function(t){return new(t||OverlayModule)},providers:[overlay_Overlay,CDK_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER],imports:[[bidi_BidiModule,portal_PortalModule,scrolling_ScrollingModule],scrolling_ScrollingModule]}),OverlayModule})();const menu_c0=["mat-menu-item",""],menu_c1=["*"];function _MatMenu_ng_template_0_Template(rf,ctx){if(1&rf){const _r2=getCurrentView();elementStart(0,"div",0),listener("keydown",function($event){return restoreView(_r2),nextContext()._handleKeydown($event)})("click",function(){return restoreView(_r2),nextContext().closed.emit("click")})("@transformMenu.start",function($event){return restoreView(_r2),nextContext()._onAnimationStart($event)})("@transformMenu.done",function($event){return restoreView(_r2),nextContext()._onAnimationDone($event)}),elementStart(1,"div",1),projection(2),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();property("id",ctx_r0.panelId)("ngClass",ctx_r0._classList)("@transformMenu",ctx_r0._panelAnimationState),attribute("aria-label",ctx_r0.ariaLabel||null)("aria-labelledby",ctx_r0.ariaLabelledby||null)("aria-describedby",ctx_r0.ariaDescribedby||null)}}const matMenuAnimations={transformMenu:trigger("transformMenu",[animations_state("void",animations_style({opacity:0,transform:"scale(0.8)"})),animations_transition("void => enter",animations_group([animations_query(".mat-menu-content, .mat-mdc-menu-content",animate("100ms linear",animations_style({opacity:1}))),animate("120ms cubic-bezier(0, 0, 0.2, 1)",animations_style({transform:"scale(1)"}))])),animations_transition("* => void",animate("100ms 25ms linear",animations_style({opacity:0})))]),fadeInItems:trigger("fadeInItems",[animations_state("showing",animations_style({opacity:1})),animations_transition("void => *",[animations_style({opacity:0}),animate("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},MAT_MENU_CONTENT=new InjectionToken("MatMenuContent"),MAT_MENU_PANEL=new InjectionToken("MAT_MENU_PANEL");class MatMenuItemBase{}const _MatMenuItemMixinBase=mixinDisableRipple(mixinDisabled(MatMenuItemBase));let menu_MatMenuItem=(()=>{class MatMenuItem extends _MatMenuItemMixinBase{constructor(_elementRef,_document,_focusMonitor,_parentMenu){super(),this._elementRef=_elementRef,this._focusMonitor=_focusMonitor,this._parentMenu=_parentMenu,this.role="menuitem",this._hovered=new Subject_Subject,this._focused=new Subject_Subject,this._highlighted=!1,this._triggersSubmenu=!1,_parentMenu&&_parentMenu.addItem&&_parentMenu.addItem(this)}focus(origin="program",options){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),origin,options):this._getHostElement().focus(options),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(event){this.disabled&&(event.preventDefault(),event.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var _a,_b;const clone=this._elementRef.nativeElement.cloneNode(!0),icons=clone.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<icons.length;i++){const icon=icons[i];null===(_a=icon.parentNode)||void 0===_a||_a.removeChild(icon)}return(null===(_b=clone.textContent)||void 0===_b?void 0:_b.trim())||""}}return MatMenuItem.fac=function(t){return new(t||MatMenuItem)(directiveInject(ElementRef),directiveInject(common_DOCUMENT),directiveInject(a11y_FocusMonitor),directiveInject(MAT_MENU_PANEL,8))},MatMenuItem.cmp=defineComponent({type:MatMenuItem,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(rf,ctx){1&rf&&listener("click",function($event){return ctx._checkDisabled($event)})("mouseenter",function(){return ctx._handleMouseEnter()}),2&rf&&(attribute("role",ctx.role)("tabindex",ctx._getTabIndex())("aria-disabled",ctx.disabled.toString())("disabled",ctx.disabled||null),classProp("mat-menu-item",!0)("mat-menu-item-highlighted",ctx._highlighted)("mat-menu-item-submenu-trigger",ctx._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[InheritDefinitionFeature],attrs:menu_c0,ngContentSelectors:menu_c1,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(rf,ctx){1&rf&&(projectionDef(),projection(0),element(1,"div",0)),2&rf&&(advance(1),property("matRippleDisabled",ctx.disableRipple||ctx.disabled)("matRippleTrigger",ctx._getHostElement()))},directives:[core_MatRipple],encapsulation:2,changeDetection:0}),MatMenuItem})();const MAT_MENU_DEFAULT_OPTIONS=new InjectionToken("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let menuPanelUid=0,menu_MatMenuBase=(()=>{class _MatMenuBase{constructor(_elementRef,_ngZone,_defaultOptions){this._elementRef=_elementRef,this._ngZone=_ngZone,this._defaultOptions=_defaultOptions,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new QueryList,this._tabSubscription=Subscription_Subscription.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Subject_Subject,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new EventEmitter,this.close=this.closed,this.panelId="mat-menu-panel-"+menuPanelUid++}get xPosition(){return this._xPosition}set xPosition(value){this._xPosition=value,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(value){this._yPosition=value,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(value){this._overlapTrigger=coerceBooleanProperty(value)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(value){this._hasBackdrop=coerceBooleanProperty(value)}set panelClass(classes){const previousPanelClass=this._previousPanelClass;previousPanelClass&&previousPanelClass.length&&previousPanelClass.split(" ").forEach(className=>{this._classList[className]=!1}),this._previousPanelClass=classes,classes&&classes.length&&(classes.split(" ").forEach(className=>{this._classList[className]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(classes){this.panelClass=classes}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new FocusKeyManager(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(startWith(this._directDescendantItems),switchMap(items=>merge(...items.map(item=>item._focused)))).subscribe(focusedItem=>this._keyManager.updateActiveItem(focusedItem))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(startWith(this._directDescendantItems),switchMap(items=>merge(...items.map(item=>item._hovered))))}addItem(_item){}removeItem(_item){}_handleKeydown(event){const keyCode=event.keyCode,manager=this._keyManager;switch(keyCode){case 27:hasModifierKey(event)||(event.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==keyCode&&40!==keyCode||manager.setFocusOrigin("keyboard"),manager.onKeydown(event)}}focusFirstItem(origin="program"){this.lazyContent?this._ngZone.onStable.pipe(take(1)).subscribe(()=>this._focusFirstItem(origin)):this._focusFirstItem(origin)}_focusFirstItem(origin){const manager=this._keyManager;if(manager.setFocusOrigin(origin).setFirstItemActive(),!manager.activeItem&&this._directDescendantItems.length){let element=this._directDescendantItems.first._getHostElement().parentElement;for(;element;){if("menu"===element.getAttribute("role")){element.focus();break}element=element.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(depth){const newElevation=`mat-elevation-z${Math.min(4+depth,24)}`,customElevation=Object.keys(this._classList).find(c=>c.startsWith("mat-elevation-z"));customElevation&&customElevation!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[newElevation]=!0,this._previousElevation=newElevation)}setPositionClasses(posX=this.xPosition,posY=this.yPosition){const classes=this._classList;classes["mat-menu-before"]="before"===posX,classes["mat-menu-after"]="after"===posX,classes["mat-menu-above"]="above"===posY,classes["mat-menu-below"]="below"===posY}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(event){this._animationDone.next(event),this._isAnimating=!1}_onAnimationStart(event){this._isAnimating=!0,"enter"===event.toState&&0===this._keyManager.activeItemIndex&&(event.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(startWith(this._allItems)).subscribe(items=>{this._directDescendantItems.reset(items.filter(item=>item._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return _MatMenuBase.fac=function(t){return new(t||_MatMenuBase)(directiveInject(ElementRef),directiveInject(NgZone),directiveInject(MAT_MENU_DEFAULT_OPTIONS))},_MatMenuBase.dir=defineDirective({type:_MatMenuBase,contentQueries:function(rf,ctx,dirIndex){if(1&rf&&(contentQuery(dirIndex,MAT_MENU_CONTENT,1),contentQuery(dirIndex,menu_MatMenuItem,1),contentQuery(dirIndex,menu_MatMenuItem,0)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.lazyContent=_t.first),queryRefresh(_t=loadQuery())&&(ctx._allItems=_t),queryRefresh(_t=loadQuery())&&(ctx.items=_t)}},viewQuery:function(rf,ctx){if(1&rf&&viewQuery(TemplateRef,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.templateRef=_t.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),_MatMenuBase})(),menu_MatMenu=(()=>{class MatMenu extends menu_MatMenuBase{}return MatMenu.fac=function(t){return MatMenu_BaseFactory(t||MatMenu)},MatMenu.dir=defineDirective({type:MatMenu,features:[InheritDefinitionFeature]}),MatMenu})();const MatMenu_BaseFactory=getInheritedFactory(menu_MatMenu);let fesm2015_menu_MatMenu=(()=>{class _MatMenu extends menu_MatMenu{constructor(elementRef,ngZone,defaultOptions){super(elementRef,ngZone,defaultOptions)}}return _MatMenu.fac=function(t){return new(t||_MatMenu)(directiveInject(ElementRef),directiveInject(NgZone),directiveInject(MAT_MENU_DEFAULT_OPTIONS))},_MatMenu.cmp=defineComponent({type:_MatMenu,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[ProvidersFeature([{provide:MAT_MENU_PANEL,useExisting:menu_MatMenu},{provide:menu_MatMenu,useExisting:_MatMenu}]),InheritDefinitionFeature],ngContentSelectors:menu_c1,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(rf,ctx){1&rf&&(projectionDef(),template(0,_MatMenu_ng_template_0_Template,3,6,"ng-template"))},directives:[common_NgClass],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[matMenuAnimations.transformMenu,matMenuAnimations.fadeInItems]},changeDetection:0}),_MatMenu})();const MAT_MENU_SCROLL_STRATEGY=new InjectionToken("mat-menu-scroll-strategy"),MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER={provide:MAT_MENU_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition()}},passiveEventListenerOptions=normalizePassiveListenerOptions({passive:!0});let menu_MatMenuTrigger=(()=>{class MatMenuTrigger{constructor(_overlay,_element,_viewContainerRef,scrollStrategy,_parentMenu,_menuItemInstance,_dir,_focusMonitor){this._overlay=_overlay,this._element=_element,this._viewContainerRef=_viewContainerRef,this._parentMenu=_parentMenu,this._menuItemInstance=_menuItemInstance,this._dir=_dir,this._focusMonitor=_focusMonitor,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Subscription_Subscription.EMPTY,this._hoverSubscription=Subscription_Subscription.EMPTY,this._menuCloseSubscription=Subscription_Subscription.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new EventEmitter,this.onMenuOpen=this.menuOpened,this.menuClosed=new EventEmitter,this.onMenuClose=this.menuClosed,_element.nativeElement.addEventListener("touchstart",this._handleTouchStart,passiveEventListenerOptions),_menuItemInstance&&(_menuItemInstance._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=scrollStrategy}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(v){this.menu=v}get menu(){return this._menu}set menu(menu){menu!==this._menu&&(this._menu=menu,this._menuCloseSubscription.unsubscribe(),menu&&(this._menuCloseSubscription=menu.close.subscribe(reason=>{this._destroyMenu(),"click"!==reason&&"tab"!==reason||!this._parentMenu||this._parentMenu.closed.emit(reason)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,passiveEventListenerOptions),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const overlayRef=this._createOverlay(),overlayConfig=overlayRef.getConfig();this._setPosition(overlayConfig.positionStrategy),overlayConfig.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,overlayRef.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof menu_MatMenu&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(origin="program",options){this._focusMonitor?this._focusMonitor.focusVia(this._element,origin,options):this._element.nativeElement.focus(options)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const menu=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),menu instanceof menu_MatMenu?(menu._resetAnimation(),menu.lazyContent?menu._animationDone.pipe(filter_filter(event=>"void"===event.toState),take(1),takeUntil(menu.lazyContent._attached)).subscribe({next:()=>menu.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),menu.lazyContent&&menu.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let depth=0,parentMenu=this.menu.parentMenu;for(;parentMenu;)depth++,parentMenu=parentMenu.parentMenu;this.menu.setElevation(depth)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(isOpen){this._menuOpen=isOpen,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=isOpen)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const config=this._getOverlayConfig();this._subscribeToPositions(config.positionStrategy),this._overlayRef=this._overlay.create(config),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new OverlayConfig({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(position){this.menu.setPositionClasses&&position.positionChanges.subscribe(change=>{this.menu.setPositionClasses("start"===change.connectionPair.overlayX?"after":"before","top"===change.connectionPair.overlayY?"below":"above")})}_setPosition(positionStrategy){let[originX,originFallbackX]="before"===this.menu.xPosition?["end","start"]:["start","end"],[overlayY,overlayFallbackY]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[originY,originFallbackY]=[overlayY,overlayFallbackY],[overlayX,overlayFallbackX]=[originX,originFallbackX],offsetY=0;this.triggersSubmenu()?(overlayFallbackX=originX="before"===this.menu.xPosition?"start":"end",originFallbackX=overlayX="end"===originX?"start":"end",offsetY="bottom"===overlayY?8:-8):this.menu.overlapTrigger||(originY="top"===overlayY?"bottom":"top",originFallbackY="top"===overlayFallbackY?"bottom":"top"),positionStrategy.withPositions([{originX:originX,originY:originY,overlayX:overlayX,overlayY:overlayY,offsetY:offsetY},{originX:originFallbackX,originY:originY,overlayX:overlayFallbackX,overlayY:overlayY,offsetY:offsetY},{originX:originX,originY:originFallbackY,overlayX:overlayX,overlayY:overlayFallbackY,offsetY:-offsetY},{originX:originFallbackX,originY:originFallbackY,overlayX:overlayFallbackX,overlayY:overlayFallbackY,offsetY:-offsetY}])}_menuClosingActions(){const backdrop=this._overlayRef.backdropClick(),detachments=this._overlayRef.detachments();return merge(backdrop,this._parentMenu?this._parentMenu.closed:of(),this._parentMenu?this._parentMenu._hovered().pipe(filter_filter(active=>active!==this._menuItemInstance),filter_filter(()=>this._menuOpen)):of(),detachments)}_handleMousedown(event){isFakeMousedownFromScreenReader(event)||(this._openedBy=0===event.button?"mouse":null,this.triggersSubmenu()&&event.preventDefault())}_handleKeydown(event){const keyCode=event.keyCode;this.triggersSubmenu()&&(39===keyCode&&"ltr"===this.dir||37===keyCode&&"rtl"===this.dir)&&this.openMenu()}_handleClick(event){this.triggersSubmenu()?(event.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(filter_filter(active=>active===this._menuItemInstance&&!active.disabled),delay_delay(0,asap)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof menu_MatMenu&&this.menu._isAnimating?this.menu._animationDone.pipe(take(1),delay_delay(0,asap),takeUntil(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new TemplatePortal(this.menu.templateRef,this._viewContainerRef)),this._portal}}return MatMenuTrigger.fac=function(t){return new(t||MatMenuTrigger)(directiveInject(overlay_Overlay),directiveInject(ElementRef),directiveInject(ViewContainerRef),directiveInject(MAT_MENU_SCROLL_STRATEGY),directiveInject(menu_MatMenu,8),directiveInject(menu_MatMenuItem,10),directiveInject(bidi_Directionality,8),directiveInject(a11y_FocusMonitor))},MatMenuTrigger.dir=defineDirective({type:MatMenuTrigger,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(rf,ctx){1&rf&&listener("mousedown",function($event){return ctx._handleMousedown($event)})("keydown",function($event){return ctx._handleKeydown($event)})("click",function($event){return ctx._handleClick($event)}),2&rf&&attribute("aria-expanded",ctx.menuOpen||null)("aria-controls",ctx.menuOpen?ctx.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),MatMenuTrigger})(),menu_MatMenuDirectivesModule=(()=>{class _MatMenuDirectivesModule{}return _MatMenuDirectivesModule.mod=defineNgModule({type:_MatMenuDirectivesModule}),_MatMenuDirectivesModule.inj=defineInjector({factory:function(t){return new(t||_MatMenuDirectivesModule)},providers:[MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER],imports:[core_MatCommonModule]}),_MatMenuDirectivesModule})(),menu_MatMenuModule=(()=>{class MatMenuModule{}return MatMenuModule.mod=defineNgModule({type:MatMenuModule}),MatMenuModule.inj=defineInjector({factory:function(t){return new(t||MatMenuModule)},providers:[MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER],imports:[[common_CommonModule,core_MatCommonModule,core_MatRippleModule,overlay_OverlayModule,menu_MatMenuDirectivesModule],scrolling_CdkScrollableModule,core_MatCommonModule,menu_MatMenuDirectivesModule]}),MatMenuModule})();function forkJoin(...sources){if(1===sources.length){const first=sources[0];if(isArray(first))return forkJoinInternal(first,null);if(isObject(first)&&Object.getPrototypeOf(first)===Object.prototype){const keys=Object.keys(first);return forkJoinInternal(keys.map(key=>first[key]),keys)}}if("function"==typeof sources[sources.length-1]){const resultSelector=sources.pop();return forkJoinInternal(sources=1===sources.length&&isArray(sources[0])?sources[0]:sources,null).pipe(map_map(args=>resultSelector(...args)))}return forkJoinInternal(sources,null)}function forkJoinInternal(sources,keys){return new Observable_Observable(subscriber=>{const len=sources.length;if(0===len)return void subscriber.complete();const values=new Array(len);let completed=0,emitted=0;for(let i=0;i<len;i++){const source=from_from(sources[i]);let hasValue=!1;subscriber.add(source.subscribe({next:value=>{hasValue||(hasValue=!0,emitted++),values[i]=value},error:err=>subscriber.error(err),complete:()=>{completed++,completed!==len&&hasValue||(emitted===len&&subscriber.next(keys?keys.reduce((result,key,i)=>(result[key]=values[i],result),{}):values),subscriber.complete())}}))}})}class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(headers){this.normalizedNames=new Map,this.lazyUpdate=null,headers?this.lazyInit="string"==typeof headers?()=>{this.headers=new Map,headers.split("\n").forEach(line=>{const index=line.indexOf(":");if(index>0){const name=line.slice(0,index),key=name.toLowerCase(),value=line.slice(index+1).trim();this.maybeSetNormalizedName(name,key),this.headers.has(key)?this.headers.get(key).push(value):this.headers.set(key,[value])}})}:()=>{this.headers=new Map,Object.keys(headers).forEach(name=>{let values=headers[name];const key=name.toLowerCase();"string"==typeof values&&(values=[values]),values.length>0&&(this.headers.set(key,values),this.maybeSetNormalizedName(name,key))})}:this.headers=new Map}has(name){return this.init(),this.headers.has(name.toLowerCase())}get(name){this.init();const values=this.headers.get(name.toLowerCase());return values&&values.length>0?values[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(name){return this.init(),this.headers.get(name.toLowerCase())||null}append(name,value){return this.clone({name:name,value:value,op:"a"})}set(name,value){return this.clone({name:name,value:value,op:"s"})}delete(name,value){return this.clone({name:name,value:value,op:"d"})}maybeSetNormalizedName(name,lcName){this.normalizedNames.has(lcName)||this.normalizedNames.set(lcName,name)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(update=>this.applyUpdate(update)),this.lazyUpdate=null))}copyFrom(other){other.init(),Array.from(other.headers.keys()).forEach(key=>{this.headers.set(key,other.headers.get(key)),this.normalizedNames.set(key,other.normalizedNames.get(key))})}clone(update){const clone=new HttpHeaders;return clone.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,clone.lazyUpdate=(this.lazyUpdate||[]).concat([update]),clone}applyUpdate(update){const key=update.name.toLowerCase();switch(update.op){case"a":case"s":let value=update.value;if("string"==typeof value&&(value=[value]),0===value.length)return;this.maybeSetNormalizedName(update.name,key);const base=("a"===update.op?this.headers.get(key):void 0)||[];base.push(...value),this.headers.set(key,base);break;case"d":const toDelete=update.value;if(toDelete){let existing=this.headers.get(key);if(!existing)return;existing=existing.filter(value=>-1===toDelete.indexOf(value)),0===existing.length?(this.headers.delete(key),this.normalizedNames.delete(key)):this.headers.set(key,existing)}else this.headers.delete(key),this.normalizedNames.delete(key)}}forEach(fn){this.init(),Array.from(this.normalizedNames.keys()).forEach(key=>fn(this.normalizedNames.get(key),this.headers.get(key)))}}class HttpUrlEncodingCodec{encodeKey(key){return standardEncoding(key)}encodeValue(value){return standardEncoding(value)}decodeKey(key){return decodeURIComponent(key)}decodeValue(value){return decodeURIComponent(value)}}function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class HttpParams{constructor(options={}){if(this.updates=null,this.cloneFrom=null,this.encoder=options.encoder||new HttpUrlEncodingCodec,options.fromString){if(options.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(rawParams,codec){const map=new Map;return rawParams.length>0&&rawParams.split("&").forEach(param=>{const eqIdx=param.indexOf("="),[key,val]=-1==eqIdx?[codec.decodeKey(param),""]:[codec.decodeKey(param.slice(0,eqIdx)),codec.decodeValue(param.slice(eqIdx+1))],list=map.get(key)||[];list.push(val),map.set(key,list)}),map}(options.fromString,this.encoder)}else options.fromObject?(this.map=new Map,Object.keys(options.fromObject).forEach(key=>{const value=options.fromObject[key];this.map.set(key,Array.isArray(value)?value:[value])})):this.map=null}has(param){return this.init(),this.map.has(param)}get(param){this.init();const res=this.map.get(param);return res?res[0]:null}getAll(param){return this.init(),this.map.get(param)||null}keys(){return this.init(),Array.from(this.map.keys())}append(param,value){return this.clone({param:param,value:value,op:"a"})}appendAll(params){const updates=[];return Object.keys(params).forEach(param=>{const value=params[param];Array.isArray(value)?value.forEach(_value=>{updates.push({param:param,value:_value,op:"a"})}):updates.push({param:param,value:value,op:"a"})}),this.clone(updates)}set(param,value){return this.clone({param:param,value:value,op:"s"})}delete(param,value){return this.clone({param:param,value:value,op:"d"})}toString(){return this.init(),this.keys().map(key=>{const eKey=this.encoder.encodeKey(key);return this.map.get(key).map(value=>eKey+"="+this.encoder.encodeValue(value)).join("&")}).filter(param=>""!==param).join("&")}clone(update){const clone=new HttpParams({encoder:this.encoder});return clone.cloneFrom=this.cloneFrom||this,clone.updates=(this.updates||[]).concat(update),clone}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(key=>this.map.set(key,this.cloneFrom.map.get(key))),this.updates.forEach(update=>{switch(update.op){case"a":case"s":const base=("a"===update.op?this.map.get(update.param):void 0)||[];base.push(update.value),this.map.set(update.param,base);break;case"d":if(void 0===update.value){this.map.delete(update.param);break}{let base=this.map.get(update.param)||[];const idx=base.indexOf(update.value);-1!==idx&&base.splice(idx,1),base.length>0?this.map.set(update.param,base):this.map.delete(update.param)}}}),this.cloneFrom=this.updates=null)}}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer}function isBlob(value){return"undefined"!=typeof Blob&&value instanceof Blob}function isFormData(value){return"undefined"!=typeof FormData&&value instanceof FormData}class HttpRequest{constructor(method,url,third,fourth){let options;if(this.url=url,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=method.toUpperCase(),function(method){switch(method){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fourth?(this.body=void 0!==third?third:null,options=fourth):options=third,options&&(this.reportProgress=!!options.reportProgress,this.withCredentials=!!options.withCredentials,options.responseType&&(this.responseType=options.responseType),options.headers&&(this.headers=options.headers),options.params&&(this.params=options.params)),this.headers||(this.headers=new HttpHeaders),this.params){const params=this.params.toString();if(0===params.length)this.urlWithParams=url;else{const qIdx=url.indexOf("?");this.urlWithParams=url+(-1===qIdx?"?":qIdx<url.length-1?"&":"")+params}}else this.params=new HttpParams,this.urlWithParams=url}serializeBody(){return null===this.body?null:isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||"string"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(update={}){const method=update.method||this.method,url=update.url||this.url,responseType=update.responseType||this.responseType,body=void 0!==update.body?update.body:this.body,withCredentials=void 0!==update.withCredentials?update.withCredentials:this.withCredentials,reportProgress=void 0!==update.reportProgress?update.reportProgress:this.reportProgress;let headers=update.headers||this.headers,params=update.params||this.params;return void 0!==update.setHeaders&&(headers=Object.keys(update.setHeaders).reduce((headers,name)=>headers.set(name,update.setHeaders[name]),headers)),update.setParams&&(params=Object.keys(update.setParams).reduce((params,param)=>params.set(param,update.setParams[param]),params)),new HttpRequest(method,url,body,{params:params,headers:headers,reportProgress:reportProgress,responseType:responseType,withCredentials:withCredentials})}}var HttpEventType=function(HttpEventType){return HttpEventType[HttpEventType.Sent=0]="Sent",HttpEventType[HttpEventType.UploadProgress=1]="UploadProgress",HttpEventType[HttpEventType.ResponseHeader=2]="ResponseHeader",HttpEventType[HttpEventType.DownloadProgress=3]="DownloadProgress",HttpEventType[HttpEventType.Response=4]="Response",HttpEventType[HttpEventType.User=5]="User",HttpEventType}({});class HttpResponseBase{constructor(init,defaultStatus=200,defaultStatusText="OK"){this.headers=init.headers||new HttpHeaders,this.status=void 0!==init.status?init.status:defaultStatus,this.statusText=init.statusText||defaultStatusText,this.url=init.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.ResponseHeader}clone(update={}){return new HttpHeaderResponse({headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.Response,this.body=void 0!==init.body?init.body:null}clone(update={}){return new HttpResponse({body:void 0!==update.body?update.body:this.body,headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(init){super(init,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${init.url||"(unknown url)"}`:`Http failure response for ${init.url||"(unknown url)"}: ${init.status} ${init.statusText}`,this.error=init.error||null}}function addBody(options,body){return{body:body,headers:options.headers,observe:options.observe,params:options.params,reportProgress:options.reportProgress,responseType:options.responseType,withCredentials:options.withCredentials}}let http_HttpClient=(()=>{class HttpClient{constructor(handler){this.handler=handler}request(first,url,options={}){let req;if(first instanceof HttpRequest)req=first;else{let headers,params;headers=options.headers instanceof HttpHeaders?options.headers:new HttpHeaders(options.headers),options.params&&(params=options.params instanceof HttpParams?options.params:new HttpParams({fromObject:options.params})),req=new HttpRequest(first,url,void 0!==options.body?options.body:null,{headers:headers,params:params,reportProgress:options.reportProgress,responseType:options.responseType||"json",withCredentials:options.withCredentials})}const events$=of(req).pipe(concatMap(req=>this.handler.handle(req)));if(first instanceof HttpRequest||"events"===options.observe)return events$;const res$=events$.pipe(filter_filter(event=>event instanceof HttpResponse));switch(options.observe||"body"){case"body":switch(req.responseType){case"arraybuffer":return res$.pipe(map_map(res=>{if(null!==res.body&&!(res.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return res.body}));case"blob":return res$.pipe(map_map(res=>{if(null!==res.body&&!(res.body instanceof Blob))throw new Error("Response is not a Blob.");return res.body}));case"text":return res$.pipe(map_map(res=>{if(null!==res.body&&"string"!=typeof res.body)throw new Error("Response is not a string.");return res.body}));case"json":default:return res$.pipe(map_map(res=>res.body))}case"response":return res$;default:throw new Error(`Unreachable: unhandled observe type ${options.observe}}`)}}delete(url,options={}){return this.request("DELETE",url,options)}get(url,options={}){return this.request("GET",url,options)}head(url,options={}){return this.request("HEAD",url,options)}jsonp(url,callbackParam){return this.request("JSONP",url,{params:(new HttpParams).append(callbackParam,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(url,options={}){return this.request("OPTIONS",url,options)}patch(url,body,options={}){return this.request("PATCH",url,addBody(options,body))}post(url,body,options={}){return this.request("POST",url,addBody(options,body))}put(url,body,options={}){return this.request("PUT",url,addBody(options,body))}}return HttpClient.fac=function(t){return new(t||HttpClient)(inject(HttpHandler))},HttpClient.prov=defineInjectable({token:HttpClient,factory:HttpClient.fac}),HttpClient})();class HttpInterceptorHandler{constructor(next,interceptor){this.next=next,this.interceptor=interceptor}handle(req){return this.interceptor.intercept(req,this.next)}}const HTTP_INTERCEPTORS=new InjectionToken("HTTP_INTERCEPTORS");let http_NoopInterceptor=(()=>{class NoopInterceptor{intercept(req,next){return next.handle(req)}}return NoopInterceptor.fac=function(t){return new(t||NoopInterceptor)},NoopInterceptor.prov=defineInjectable({token:NoopInterceptor,factory:NoopInterceptor.fac}),NoopInterceptor})();const XSSI_PREFIX=/^\)\]\}',?\n/;class XhrFactory{}let http_BrowserXhr=(()=>{class BrowserXhr{constructor(){}build(){return new XMLHttpRequest}}return BrowserXhr.fac=function(t){return new(t||BrowserXhr)},BrowserXhr.prov=defineInjectable({token:BrowserXhr,factory:BrowserXhr.fac}),BrowserXhr})(),http_HttpXhrBackend=(()=>{class HttpXhrBackend{constructor(xhrFactory){this.xhrFactory=xhrFactory}handle(req){if("JSONP"===req.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Observable_Observable(observer=>{const xhr=this.xhrFactory.build();if(xhr.open(req.method,req.urlWithParams),req.withCredentials&&(xhr.withCredentials=!0),req.headers.forEach((name,values)=>xhr.setRequestHeader(name,values.join(","))),req.headers.has("Accept")||xhr.setRequestHeader("Accept","application/json, text/plain, */*"),!req.headers.has("Content-Type")){const detectedType=req.detectContentTypeHeader();null!==detectedType&&xhr.setRequestHeader("Content-Type",detectedType)}if(req.responseType){const responseType=req.responseType.toLowerCase();xhr.responseType="json"!==responseType?responseType:"text"}const reqBody=req.serializeBody();let headerResponse=null;const partialFromXhr=()=>{if(null!==headerResponse)return headerResponse;const status=1223===xhr.status?204:xhr.status,statusText=xhr.statusText||"OK",headers=new HttpHeaders(xhr.getAllResponseHeaders()),url=function(xhr){return"responseURL"in xhr&&xhr.responseURL?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):null}(xhr)||req.url;return headerResponse=new HttpHeaderResponse({headers:headers,status:status,statusText:statusText,url:url}),headerResponse},onLoad=()=>{let{headers:headers,status:status,statusText:statusText,url:url}=partialFromXhr(),body=null;204!==status&&(body=void 0===xhr.response?xhr.responseText:xhr.response),0===status&&(status=body?200:0);let ok=status>=200&&status<300;if("json"===req.responseType&&"string"==typeof body){const originalBody=body;body=body.replace(XSSI_PREFIX,"");try{body=""!==body?JSON.parse(body):null}catch(error){body=originalBody,ok&&(ok=!1,body={error:error,text:body})}}ok?(observer.next(new HttpResponse({body:body,headers:headers,status:status,statusText:statusText,url:url||void 0})),observer.complete()):observer.error(new HttpErrorResponse({error:body,headers:headers,status:status,statusText:statusText,url:url||void 0}))},onError=error=>{const{url:url}=partialFromXhr(),res=new HttpErrorResponse({error:error,status:xhr.status||0,statusText:xhr.statusText||"Unknown Error",url:url||void 0});observer.error(res)};let sentHeaders=!1;const onDownProgress=event=>{sentHeaders||(observer.next(partialFromXhr()),sentHeaders=!0);let progressEvent={type:HttpEventType.DownloadProgress,loaded:event.loaded};event.lengthComputable&&(progressEvent.total=event.total),"text"===req.responseType&&xhr.responseText&&(progressEvent.partialText=xhr.responseText),observer.next(progressEvent)},onUpProgress=event=>{let progress={type:HttpEventType.UploadProgress,loaded:event.loaded};event.lengthComputable&&(progress.total=event.total),observer.next(progress)};return xhr.addEventListener("load",onLoad),xhr.addEventListener("error",onError),xhr.addEventListener("timeout",onError),req.reportProgress&&(xhr.addEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.addEventListener("progress",onUpProgress)),xhr.send(reqBody),observer.next({type:HttpEventType.Sent}),()=>{xhr.removeEventListener("error",onError),xhr.removeEventListener("load",onLoad),xhr.removeEventListener("timeout",onError),req.reportProgress&&(xhr.removeEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.removeEventListener("progress",onUpProgress)),xhr.readyState!==xhr.DONE&&xhr.abort()}})}}return HttpXhrBackend.fac=function(t){return new(t||HttpXhrBackend)(inject(XhrFactory))},HttpXhrBackend.prov=defineInjectable({token:HttpXhrBackend,factory:HttpXhrBackend.fac}),HttpXhrBackend})();const XSRF_COOKIE_NAME=new InjectionToken("XSRF_COOKIE_NAME"),XSRF_HEADER_NAME=new InjectionToken("XSRF_HEADER_NAME");class HttpXsrfTokenExtractor{}let http_HttpXsrfCookieExtractor=(()=>{class HttpXsrfCookieExtractor{constructor(doc,platform,cookieName){this.doc=doc,this.platform=platform,this.cookieName=cookieName,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const cookieString=this.doc.cookie||"";return cookieString!==this.lastCookieString&&(this.parseCount++,this.lastToken=parseCookieValue(cookieString,this.cookieName),this.lastCookieString=cookieString),this.lastToken}}return HttpXsrfCookieExtractor.fac=function(t){return new(t||HttpXsrfCookieExtractor)(inject(common_DOCUMENT),inject(PLATFORM_ID),inject(XSRF_COOKIE_NAME))},HttpXsrfCookieExtractor.prov=defineInjectable({token:HttpXsrfCookieExtractor,factory:HttpXsrfCookieExtractor.fac}),HttpXsrfCookieExtractor})(),http_HttpXsrfInterceptor=(()=>{class HttpXsrfInterceptor{constructor(tokenService,headerName){this.tokenService=tokenService,this.headerName=headerName}intercept(req,next){const lcUrl=req.url.toLowerCase();if("GET"===req.method||"HEAD"===req.method||lcUrl.startsWith("http://")||lcUrl.startsWith("https://"))return next.handle(req);const token=this.tokenService.getToken();return null===token||req.headers.has(this.headerName)||(req=req.clone({headers:req.headers.set(this.headerName,token)})),next.handle(req)}}return HttpXsrfInterceptor.fac=function(t){return new(t||HttpXsrfInterceptor)(inject(HttpXsrfTokenExtractor),inject(XSRF_HEADER_NAME))},HttpXsrfInterceptor.prov=defineInjectable({token:HttpXsrfInterceptor,factory:HttpXsrfInterceptor.fac}),HttpXsrfInterceptor})(),http_HttpInterceptingHandler=(()=>{class HttpInterceptingHandler{constructor(backend,injector){this.backend=backend,this.injector=injector,this.chain=null}handle(req){if(null===this.chain){const interceptors=this.injector.get(HTTP_INTERCEPTORS,[]);this.chain=interceptors.reduceRight((next,interceptor)=>new HttpInterceptorHandler(next,interceptor),this.backend)}return this.chain.handle(req)}}return HttpInterceptingHandler.fac=function(t){return new(t||HttpInterceptingHandler)(inject(HttpBackend),inject(Injector))},HttpInterceptingHandler.prov=defineInjectable({token:HttpInterceptingHandler,factory:HttpInterceptingHandler.fac}),HttpInterceptingHandler})(),http_HttpClientXsrfModule=(()=>{class HttpClientXsrfModule{static disable(){return{ngModule:HttpClientXsrfModule,providers:[{provide:http_HttpXsrfInterceptor,useClass:http_NoopInterceptor}]}}static withOptions(options={}){return{ngModule:HttpClientXsrfModule,providers:[options.cookieName?{provide:XSRF_COOKIE_NAME,useValue:options.cookieName}:[],options.headerName?{provide:XSRF_HEADER_NAME,useValue:options.headerName}:[]]}}}return HttpClientXsrfModule.mod=defineNgModule({type:HttpClientXsrfModule}),HttpClientXsrfModule.inj=defineInjector({factory:function(t){return new(t||HttpClientXsrfModule)},providers:[http_HttpXsrfInterceptor,{provide:HTTP_INTERCEPTORS,useExisting:http_HttpXsrfInterceptor,multi:!0},{provide:HttpXsrfTokenExtractor,useClass:http_HttpXsrfCookieExtractor},{provide:XSRF_COOKIE_NAME,useValue:"XSRF-TOKEN"},{provide:XSRF_HEADER_NAME,useValue:"X-XSRF-TOKEN"}]}),HttpClientXsrfModule})(),http_HttpClientModule=(()=>{class HttpClientModule{}return HttpClientModule.mod=defineNgModule({type:HttpClientModule}),HttpClientModule.inj=defineInjector({factory:function(t){return new(t||HttpClientModule)},providers:[http_HttpClient,{provide:HttpHandler,useClass:http_HttpInterceptingHandler},http_HttpXhrBackend,{provide:HttpBackend,useExisting:http_HttpXhrBackend},http_BrowserXhr,{provide:XhrFactory,useExisting:http_BrowserXhr}],imports:[[http_HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),HttpClientModule})();const icon_c0=["*"];function getMatIconNameNotFoundError(iconName){return Error(`Unable to find icon with the name "${iconName}"`)}function getMatIconFailedToSanitizeUrlError(url){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${url}".`)}function getMatIconFailedToSanitizeLiteralError(literal){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${literal}".`)}class SvgIconConfig{constructor(url,svgText,options){this.url=url,this.svgText=svgText,this.options=options}}let icon_MatIconRegistry=(()=>{class MatIconRegistry{constructor(_httpClient,_sanitizer,document,_errorHandler){this._httpClient=_httpClient,this._sanitizer=_sanitizer,this._errorHandler=_errorHandler,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=document}addSvgIcon(iconName,url,options){return this.addSvgIconInNamespace("",iconName,url,options)}addSvgIconLiteral(iconName,literal,options){return this.addSvgIconLiteralInNamespace("",iconName,literal,options)}addSvgIconInNamespace(namespace,iconName,url,options){return this._addSvgIconConfig(namespace,iconName,new SvgIconConfig(url,null,options))}addSvgIconLiteralInNamespace(namespace,iconName,literal,options){const cleanLiteral=this._sanitizer.sanitize(SecurityContext.HTML,literal);if(!cleanLiteral)throw getMatIconFailedToSanitizeLiteralError(literal);return this._addSvgIconConfig(namespace,iconName,new SvgIconConfig("",cleanLiteral,options))}addSvgIconSet(url,options){return this.addSvgIconSetInNamespace("",url,options)}addSvgIconSetLiteral(literal,options){return this.addSvgIconSetLiteralInNamespace("",literal,options)}addSvgIconSetInNamespace(namespace,url,options){return this._addSvgIconSetConfig(namespace,new SvgIconConfig(url,null,options))}addSvgIconSetLiteralInNamespace(namespace,literal,options){const cleanLiteral=this._sanitizer.sanitize(SecurityContext.HTML,literal);if(!cleanLiteral)throw getMatIconFailedToSanitizeLiteralError(literal);return this._addSvgIconSetConfig(namespace,new SvgIconConfig("",cleanLiteral,options))}registerFontClassAlias(alias,className=alias){return this._fontCssClassesByAlias.set(alias,className),this}classNameForFontAlias(alias){return this._fontCssClassesByAlias.get(alias)||alias}setDefaultFontSetClass(className){return this._defaultFontSetClass=className,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(safeUrl){const url=this._sanitizer.sanitize(SecurityContext.RESOURCE_URL,safeUrl);if(!url)throw getMatIconFailedToSanitizeUrlError(safeUrl);const cachedIcon=this._cachedIconsByUrl.get(url);return cachedIcon?of(cloneSvg(cachedIcon)):this._loadSvgIconFromConfig(new SvgIconConfig(safeUrl,null)).pipe(tap(svg=>this._cachedIconsByUrl.set(url,svg)),map_map(svg=>cloneSvg(svg)))}getNamedSvgIcon(name,namespace=""){const key=iconKey(namespace,name),config=this._svgIconConfigs.get(key);if(config)return this._getSvgFromConfig(config);const iconSetConfigs=this._iconSetConfigs.get(namespace);return iconSetConfigs?this._getSvgFromIconSetConfigs(name,iconSetConfigs):throwError_throwError(getMatIconNameNotFoundError(key))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(config){return config.svgText?of(cloneSvg(this._svgElementFromConfig(config))):this._loadSvgIconFromConfig(config).pipe(map_map(svg=>cloneSvg(svg)))}_getSvgFromIconSetConfigs(name,iconSetConfigs){const namedIcon=this._extractIconWithNameFromAnySet(name,iconSetConfigs);return namedIcon?of(namedIcon):forkJoin(iconSetConfigs.filter(iconSetConfig=>!iconSetConfig.svgText).map(iconSetConfig=>this._loadSvgIconSetFromConfig(iconSetConfig).pipe(catchError(err=>{const url=this._sanitizer.sanitize(SecurityContext.RESOURCE_URL,iconSetConfig.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${url} failed: ${err.message}`)),of(null)})))).pipe(map_map(()=>{const foundIcon=this._extractIconWithNameFromAnySet(name,iconSetConfigs);if(!foundIcon)throw getMatIconNameNotFoundError(name);return foundIcon}))}_extractIconWithNameFromAnySet(iconName,iconSetConfigs){for(let i=iconSetConfigs.length-1;i>=0;i--){const config=iconSetConfigs[i];if(config.svgText&&config.svgText.indexOf(iconName)>-1){const svg=this._svgElementFromConfig(config),foundIcon=this._extractSvgIconFromSet(svg,iconName,config.options);if(foundIcon)return foundIcon}}return null}_loadSvgIconFromConfig(config){return this._fetchIcon(config).pipe(tap(svgText=>config.svgText=svgText),map_map(()=>this._svgElementFromConfig(config)))}_loadSvgIconSetFromConfig(config){return config.svgText?of(null):this._fetchIcon(config).pipe(tap(svgText=>config.svgText=svgText))}_extractSvgIconFromSet(iconSet,iconName,options){const iconSource=iconSet.querySelector(`[id="${iconName}"]`);if(!iconSource)return null;const iconElement=iconSource.cloneNode(!0);if(iconElement.removeAttribute("id"),"svg"===iconElement.nodeName.toLowerCase())return this._setSvgAttributes(iconElement,options);if("symbol"===iconElement.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(iconElement),options);const svg=this._svgElementFromString("<svg></svg>");return svg.appendChild(iconElement),this._setSvgAttributes(svg,options)}_svgElementFromString(str){const div=this._document.createElement("DIV");div.innerHTML=str;const svg=div.querySelector("svg");if(!svg)throw Error("<svg> tag not found");return svg}_toSvgElement(element){const svg=this._svgElementFromString("<svg></svg>"),attributes=element.attributes;for(let i=0;i<attributes.length;i++){const{name:name,value:value}=attributes[i];"id"!==name&&svg.setAttribute(name,value)}for(let i=0;i<element.childNodes.length;i++)element.childNodes[i].nodeType===this._document.ELEMENT_NODE&&svg.appendChild(element.childNodes[i].cloneNode(!0));return svg}_setSvgAttributes(svg,options){return svg.setAttribute("fit",""),svg.setAttribute("height","100%"),svg.setAttribute("width","100%"),svg.setAttribute("preserveAspectRatio","xMidYMid meet"),svg.setAttribute("focusable","false"),options&&options.viewBox&&svg.setAttribute("viewBox",options.viewBox),svg}_fetchIcon(iconConfig){var _a;const{url:safeUrl,options:options}=iconConfig,withCredentials=null!==(_a=null==options?void 0:options.withCredentials)&&void 0!==_a&&_a;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==safeUrl)throw Error(`Cannot fetch icon from URL "${safeUrl}".`);const url=this._sanitizer.sanitize(SecurityContext.RESOURCE_URL,safeUrl);if(!url)throw getMatIconFailedToSanitizeUrlError(safeUrl);const inProgressFetch=this._inProgressUrlFetches.get(url);if(inProgressFetch)return inProgressFetch;const req=this._httpClient.get(url,{responseType:"text",withCredentials:withCredentials}).pipe(finalize(()=>this._inProgressUrlFetches.delete(url)),share());return this._inProgressUrlFetches.set(url,req),req}_addSvgIconConfig(namespace,iconName,config){return this._svgIconConfigs.set(iconKey(namespace,iconName),config),this}_addSvgIconSetConfig(namespace,config){const configNamespace=this._iconSetConfigs.get(namespace);return configNamespace?configNamespace.push(config):this._iconSetConfigs.set(namespace,[config]),this}_svgElementFromConfig(config){if(!config.svgElement){const svg=this._svgElementFromString(config.svgText);this._setSvgAttributes(svg,config.options),config.svgElement=svg}return config.svgElement}}return MatIconRegistry.fac=function(t){return new(t||MatIconRegistry)(inject(http_HttpClient,8),inject(platform_browser_DomSanitizer),inject(common_DOCUMENT,8),inject(ErrorHandler))},MatIconRegistry.prov=defineInjectable({factory:function(){return new MatIconRegistry(inject(http_HttpClient,8),inject(platform_browser_DomSanitizer),inject(common_DOCUMENT,8),inject(ErrorHandler))},token:MatIconRegistry,providedIn:"root"}),MatIconRegistry})();function cloneSvg(svg){return svg.cloneNode(!0)}function iconKey(namespace,name){return namespace+":"+name}class MatIconBase{constructor(_elementRef){this._elementRef=_elementRef}}const _MatIconMixinBase=mixinColor(MatIconBase),MAT_ICON_LOCATION=new InjectionToken("mat-icon-location",{providedIn:"root",factory:function(){const _document=inject(common_DOCUMENT),_location=_document?_document.location:null;return{getPathname:()=>_location?_location.pathname+_location.search:""}}}),funcIriAttributes=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],funcIriAttributeSelector=funcIriAttributes.map(attr=>`[${attr}]`).join(", "),funcIriPattern=/^url\(['"]?#(.*?)['"]?\)$/;let icon_MatIcon=(()=>{class MatIcon extends _MatIconMixinBase{constructor(elementRef,_iconRegistry,ariaHidden,_location,_errorHandler){super(elementRef),this._iconRegistry=_iconRegistry,this._location=_location,this._errorHandler=_errorHandler,this._inline=!1,this._currentIconFetch=Subscription_Subscription.EMPTY,ariaHidden||elementRef.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(inline){this._inline=coerceBooleanProperty(inline)}get svgIcon(){return this._svgIcon}set svgIcon(value){value!==this._svgIcon&&(value?this._updateSvgIcon(value):this._svgIcon&&this._clearSvgElement(),this._svgIcon=value)}get fontSet(){return this._fontSet}set fontSet(value){const newValue=this._cleanupFontValue(value);newValue!==this._fontSet&&(this._fontSet=newValue,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(value){const newValue=this._cleanupFontValue(value);newValue!==this._fontIcon&&(this._fontIcon=newValue,this._updateFontIconClasses())}_splitIconName(iconName){if(!iconName)return["",""];const parts=iconName.split(":");switch(parts.length){case 1:return["",parts[0]];case 2:return parts;default:throw Error(`Invalid icon name: "${iconName}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const cachedElements=this._elementsWithExternalReferences;if(cachedElements&&cachedElements.size){const newPath=this._location.getPathname();newPath!==this._previousPath&&(this._previousPath=newPath,this._prependPathToReferences(newPath))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(svg){this._clearSvgElement();const styleTags=svg.querySelectorAll("style");for(let i=0;i<styleTags.length;i++)styleTags[i].textContent+=" ";const path=this._location.getPathname();this._previousPath=path,this._cacheChildrenWithExternalReferences(svg),this._prependPathToReferences(path),this._elementRef.nativeElement.appendChild(svg)}_clearSvgElement(){const layoutElement=this._elementRef.nativeElement;let childCount=layoutElement.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();childCount--;){const child=layoutElement.childNodes[childCount];1===child.nodeType&&"svg"!==child.nodeName.toLowerCase()||layoutElement.removeChild(child)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const elem=this._elementRef.nativeElement,fontSetClass=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();fontSetClass!=this._previousFontSetClass&&(this._previousFontSetClass&&elem.classList.remove(this._previousFontSetClass),fontSetClass&&elem.classList.add(fontSetClass),this._previousFontSetClass=fontSetClass),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&elem.classList.remove(this._previousFontIconClass),this.fontIcon&&elem.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(value){return"string"==typeof value?value.trim().split(" ")[0]:value}_prependPathToReferences(path){const elements=this._elementsWithExternalReferences;elements&&elements.forEach((attrs,element)=>{attrs.forEach(attr=>{element.setAttribute(attr.name,`url('${path}#${attr.value}')`)})})}_cacheChildrenWithExternalReferences(element){const elementsWithFuncIri=element.querySelectorAll(funcIriAttributeSelector),elements=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<elementsWithFuncIri.length;i++)funcIriAttributes.forEach(attr=>{const elementWithReference=elementsWithFuncIri[i],value=elementWithReference.getAttribute(attr),match=value?value.match(funcIriPattern):null;if(match){let attributes=elements.get(elementWithReference);attributes||(attributes=[],elements.set(elementWithReference,attributes)),attributes.push({name:attr,value:match[1]})}})}_updateSvgIcon(rawName){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),rawName){const[namespace,iconName]=this._splitIconName(rawName);namespace&&(this._svgNamespace=namespace),iconName&&(this._svgName=iconName),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(iconName,namespace).pipe(take(1)).subscribe(svg=>this._setSvgElement(svg),err=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${namespace}:${iconName}! ${err.message}`))})}}}return MatIcon.fac=function(t){return new(t||MatIcon)(directiveInject(ElementRef),directiveInject(icon_MatIconRegistry),injectAttribute("aria-hidden"),directiveInject(MAT_ICON_LOCATION),directiveInject(ErrorHandler))},MatIcon.cmp=defineComponent({type:MatIcon,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(rf,ctx){2&rf&&(attribute("data-mat-icon-type",ctx._usingFontIcon()?"font":"svg")("data-mat-icon-name",ctx._svgName||ctx.fontIcon)("data-mat-icon-namespace",ctx._svgNamespace||ctx.fontSet),classProp("mat-icon-inline",ctx.inline)("mat-icon-no-color","primary"!==ctx.color&&"accent"!==ctx.color&&"warn"!==ctx.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[InheritDefinitionFeature],ngContentSelectors:icon_c0,decls:1,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(),projection(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),MatIcon})(),icon_MatIconModule=(()=>{class MatIconModule{}return MatIconModule.mod=defineNgModule({type:MatIconModule}),MatIconModule.inj=defineInjector({factory:function(t){return new(t||MatIconModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),MatIconModule})();function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function MatDialogContainer_ng_template_0_Template(rf,ctx){}class MatDialogConfig{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const matDialogAnimations={dialogContainer:trigger("dialogContainer",[animations_state("void, exit",animations_style({opacity:0,transform:"scale(0.7)"})),animations_state("enter",animations_style({transform:"none"})),animations_transition("* => enter",animate("150ms cubic-bezier(0, 0, 0.2, 1)",animations_style({transform:"none",opacity:1}))),animations_transition("* => void, * => exit",animate("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",animations_style({opacity:0})))])};let dialog_MatDialogContainerBase=(()=>{class _MatDialogContainerBase extends BasePortalOutlet{constructor(_elementRef,_focusTrapFactory,_changeDetectorRef,_document,_config,_focusMonitor){super(),this._elementRef=_elementRef,this._focusTrapFactory=_focusTrapFactory,this._changeDetectorRef=_changeDetectorRef,this._config=_config,this._focusMonitor=_focusMonitor,this._animationStateChanged=new EventEmitter,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=portal=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(portal)),this._ariaLabelledBy=_config.ariaLabelledBy||null,this._document=_document}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(portal){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(portal)}attachTemplatePortal(portal){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(portal)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const previousElement=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&previousElement&&"function"==typeof previousElement.focus){const activeElement=this._document.activeElement,element=this._elementRef.nativeElement;activeElement&&activeElement!==this._document.body&&activeElement!==element&&!element.contains(activeElement)||(this._focusMonitor?(this._focusMonitor.focusVia(previousElement,this._closeInteractionType),this._closeInteractionType=null):previousElement.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const element=this._elementRef.nativeElement,activeElement=this._document.activeElement;return element===activeElement||element.contains(activeElement)}}return _MatDialogContainerBase.fac=function(t){return new(t||_MatDialogContainerBase)(directiveInject(ElementRef),directiveInject(a11y_FocusTrapFactory),directiveInject(ChangeDetectorRef),directiveInject(common_DOCUMENT,8),directiveInject(MatDialogConfig),directiveInject(a11y_FocusMonitor))},_MatDialogContainerBase.dir=defineDirective({type:_MatDialogContainerBase,viewQuery:function(rf,ctx){if(1&rf&&viewQuery(portal_CdkPortalOutlet,3),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._portalOutlet=_t.first)}},features:[InheritDefinitionFeature]}),_MatDialogContainerBase})(),dialog_MatDialogContainer=(()=>{class MatDialogContainer extends dialog_MatDialogContainerBase{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:toState,totalTime:totalTime}){"enter"===toState?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:totalTime})):"exit"===toState&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:totalTime}))}_onAnimationStart({toState:toState,totalTime:totalTime}){"enter"===toState?this._animationStateChanged.next({state:"opening",totalTime:totalTime}):"exit"!==toState&&"void"!==toState||this._animationStateChanged.next({state:"closing",totalTime:totalTime})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return MatDialogContainer.fac=function(t){return MatDialogContainer_BaseFactory(t||MatDialogContainer)},MatDialogContainer.cmp=defineComponent({type:MatDialogContainer,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(rf,ctx){1&rf&&syntheticHostListener("@dialogContainer.start",function($event){return ctx._onAnimationStart($event)})("@dialogContainer.done",function($event){return ctx._onAnimationDone($event)}),2&rf&&(hostProperty("id",ctx._id),attribute("role",ctx._config.role)("aria-labelledby",ctx._config.ariaLabel?null:ctx._ariaLabelledBy)("aria-label",ctx._config.ariaLabel)("aria-describedby",ctx._config.ariaDescribedBy||null),syntheticHostProperty("@dialogContainer",ctx._state))},features:[InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(rf,ctx){1&rf&&template(0,MatDialogContainer_ng_template_0_Template,0,0,"ng-template",0)},directives:[portal_CdkPortalOutlet],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[matDialogAnimations.dialogContainer]}}),MatDialogContainer})();const MatDialogContainer_BaseFactory=getInheritedFactory(dialog_MatDialogContainer);let uniqueId=0;class dialog_MatDialogRef{constructor(_overlayRef,_containerInstance,id="mat-dialog-"+uniqueId++){this._overlayRef=_overlayRef,this._containerInstance=_containerInstance,this.id=id,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Subject_Subject,this._afterClosed=new Subject_Subject,this._beforeClosed=new Subject_Subject,this._state=0,_containerInstance._id=id,_containerInstance._animationStateChanged.pipe(filter_filter(event=>"opened"===event.state),take(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),_containerInstance._animationStateChanged.pipe(filter_filter(event=>"closed"===event.state),take(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),_overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),_overlayRef.keydownEvents().pipe(filter_filter(event=>27===event.keyCode&&!this.disableClose&&!hasModifierKey(event))).subscribe(event=>{event.preventDefault(),_closeDialogVia(this,"keyboard")}),_overlayRef.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():_closeDialogVia(this,"mouse")})}close(dialogResult){this._result=dialogResult,this._containerInstance._animationStateChanged.pipe(filter_filter(event=>"closing"===event.state),take(1)).subscribe(event=>{this._beforeClosed.next(dialogResult),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),event.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(position){let strategy=this._getPositionStrategy();return position&&(position.left||position.right)?position.left?strategy.left(position.left):strategy.right(position.right):strategy.centerHorizontally(),position&&(position.top||position.bottom)?position.top?strategy.top(position.top):strategy.bottom(position.bottom):strategy.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(width="",height=""){return this._getPositionStrategy().width(width).height(height),this._overlayRef.updatePosition(),this}addPanelClass(classes){return this._overlayRef.addPanelClass(classes),this}removePanelClass(classes){return this._overlayRef.removePanelClass(classes),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function _closeDialogVia(ref,interactionType,result){return void 0!==ref._containerInstance&&(ref._containerInstance._closeInteractionType=interactionType),ref.close(result)}const MAT_DIALOG_DATA=new InjectionToken("MatDialogData"),MAT_DIALOG_DEFAULT_OPTIONS=new InjectionToken("mat-dialog-default-options"),MAT_DIALOG_SCROLL_STRATEGY=new InjectionToken("mat-dialog-scroll-strategy"),MAT_DIALOG_SCROLL_STRATEGY_PROVIDER={provide:MAT_DIALOG_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.block()}};let dialog_MatDialogBase=(()=>{class _MatDialogBase{constructor(_overlay,_injector,_defaultOptions,_parentDialog,_overlayContainer,scrollStrategy,_dialogRefConstructor,_dialogContainerType,_dialogDataToken){this._overlay=_overlay,this._injector=_injector,this._defaultOptions=_defaultOptions,this._parentDialog=_parentDialog,this._overlayContainer=_overlayContainer,this._dialogRefConstructor=_dialogRefConstructor,this._dialogContainerType=_dialogContainerType,this._dialogDataToken=_dialogDataToken,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Subject_Subject,this._afterOpenedAtThisLevel=new Subject_Subject,this._ariaHiddenElements=new Map,this.afterAllClosed=defer(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(startWith(void 0))),this._scrollStrategy=scrollStrategy}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const parent=this._parentDialog;return parent?parent._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(componentOrTemplateRef,config){(config=function(config,defaultOptions){return Object.assign(Object.assign({},defaultOptions),config)}(config,this._defaultOptions||new MatDialogConfig)).id&&this.getDialogById(config.id);const overlayRef=this._createOverlay(config),dialogContainer=this._attachDialogContainer(overlayRef,config),dialogRef=this._attachDialogContent(componentOrTemplateRef,dialogContainer,overlayRef,config);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(dialogRef),dialogRef.afterClosed().subscribe(()=>this._removeOpenDialog(dialogRef)),this.afterOpened.next(dialogRef),dialogContainer._initializeWithAttachedContent(),dialogRef}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(id){return this.openDialogs.find(dialog=>dialog.id===id)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(config){const overlayConfig=this._getOverlayConfig(config);return this._overlay.create(overlayConfig)}_getOverlayConfig(dialogConfig){const state=new OverlayConfig({positionStrategy:this._overlay.position().global(),scrollStrategy:dialogConfig.scrollStrategy||this._scrollStrategy(),panelClass:dialogConfig.panelClass,hasBackdrop:dialogConfig.hasBackdrop,direction:dialogConfig.direction,minWidth:dialogConfig.minWidth,minHeight:dialogConfig.minHeight,maxWidth:dialogConfig.maxWidth,maxHeight:dialogConfig.maxHeight,disposeOnNavigation:dialogConfig.closeOnNavigation});return dialogConfig.backdropClass&&(state.backdropClass=dialogConfig.backdropClass),state}_attachDialogContainer(overlay,config){const injector=Injector.create({parent:config&&config.viewContainerRef&&config.viewContainerRef.injector||this._injector,providers:[{provide:MatDialogConfig,useValue:config}]}),containerPortal=new ComponentPortal(this._dialogContainerType,config.viewContainerRef,injector,config.componentFactoryResolver);return overlay.attach(containerPortal).instance}_attachDialogContent(componentOrTemplateRef,dialogContainer,overlayRef,config){const dialogRef=new this._dialogRefConstructor(overlayRef,dialogContainer,config.id);if(componentOrTemplateRef instanceof TemplateRef)dialogContainer.attachTemplatePortal(new TemplatePortal(componentOrTemplateRef,null,{$implicit:config.data,dialogRef:dialogRef}));else{const injector=this._createInjector(config,dialogRef,dialogContainer),contentRef=dialogContainer.attachComponentPortal(new ComponentPortal(componentOrTemplateRef,config.viewContainerRef,injector));dialogRef.componentInstance=contentRef.instance}return dialogRef.updateSize(config.width,config.height).updatePosition(config.position),dialogRef}_createInjector(config,dialogRef,dialogContainer){const userInjector=config&&config.viewContainerRef&&config.viewContainerRef.injector,providers=[{provide:this._dialogContainerType,useValue:dialogContainer},{provide:this._dialogDataToken,useValue:config.data},{provide:this._dialogRefConstructor,useValue:dialogRef}];return!config.direction||userInjector&&userInjector.get(bidi_Directionality,null)||providers.push({provide:bidi_Directionality,useValue:{value:config.direction,change:of()}}),Injector.create({parent:userInjector||this._injector,providers:providers})}_removeOpenDialog(dialogRef){const index=this.openDialogs.indexOf(dialogRef);index>-1&&(this.openDialogs.splice(index,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((previousValue,element)=>{previousValue?element.setAttribute("aria-hidden",previousValue):element.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const overlayContainer=this._overlayContainer.getContainerElement();if(overlayContainer.parentElement){const siblings=overlayContainer.parentElement.children;for(let i=siblings.length-1;i>-1;i--){let sibling=siblings[i];sibling===overlayContainer||"SCRIPT"===sibling.nodeName||"STYLE"===sibling.nodeName||sibling.hasAttribute("aria-live")||(this._ariaHiddenElements.set(sibling,sibling.getAttribute("aria-hidden")),sibling.setAttribute("aria-hidden","true"))}}}_closeDialogs(dialogs){let i=dialogs.length;for(;i--;)dialogs[i].close()}}return _MatDialogBase.fac=function(t){return new(t||_MatDialogBase)(directiveInject(overlay_Overlay),directiveInject(Injector),directiveInject(void 0),directiveInject(void 0),directiveInject(overlay_OverlayContainer),directiveInject(void 0),directiveInject(Type),directiveInject(Type),directiveInject(InjectionToken))},_MatDialogBase.dir=defineDirective({type:_MatDialogBase}),_MatDialogBase})(),dialog_MatDialog=(()=>{class MatDialog extends dialog_MatDialogBase{constructor(overlay,injector,location,defaultOptions,scrollStrategy,parentDialog,overlayContainer){super(overlay,injector,defaultOptions,parentDialog,overlayContainer,scrollStrategy,dialog_MatDialogRef,dialog_MatDialogContainer,MAT_DIALOG_DATA)}}return MatDialog.fac=function(t){return new(t||MatDialog)(inject(overlay_Overlay),inject(Injector),inject(common_Location,8),inject(MAT_DIALOG_DEFAULT_OPTIONS,8),inject(MAT_DIALOG_SCROLL_STRATEGY),inject(MatDialog,12),inject(overlay_OverlayContainer))},MatDialog.prov=defineInjectable({token:MatDialog,factory:MatDialog.fac}),MatDialog})(),dialogElementUid=0,dialog_MatDialogClose=(()=>{class MatDialogClose{constructor(dialogRef,_elementRef,_dialog){this.dialogRef=dialogRef,this._elementRef=_elementRef,this._dialog=_dialog,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=getClosestDialog(this._elementRef,this._dialog.openDialogs))}ngOnChanges(changes){const proxiedChange=changes._matDialogClose||changes._matDialogCloseResult;proxiedChange&&(this.dialogResult=proxiedChange.currentValue)}_onButtonClick(event){_closeDialogVia(this.dialogRef,0===event.screenX&&0===event.screenY?"keyboard":"mouse",this.dialogResult)}}return MatDialogClose.fac=function(t){return new(t||MatDialogClose)(directiveInject(dialog_MatDialogRef,8),directiveInject(ElementRef),directiveInject(dialog_MatDialog))},MatDialogClose.dir=defineDirective({type:MatDialogClose,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(rf,ctx){1&rf&&listener("click",function($event){return ctx._onButtonClick($event)}),2&rf&&attribute("aria-label",ctx.ariaLabel||null)("type",ctx.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[NgOnChangesFeature]}),MatDialogClose})(),dialog_MatDialogTitle=(()=>{class MatDialogTitle{constructor(_dialogRef,_elementRef,_dialog){this._dialogRef=_dialogRef,this._elementRef=_elementRef,this._dialog=_dialog,this.id="mat-dialog-title-"+dialogElementUid++}ngOnInit(){this._dialogRef||(this._dialogRef=getClosestDialog(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const container=this._dialogRef._containerInstance;container&&!container._ariaLabelledBy&&(container._ariaLabelledBy=this.id)})}}return MatDialogTitle.fac=function(t){return new(t||MatDialogTitle)(directiveInject(dialog_MatDialogRef,8),directiveInject(ElementRef),directiveInject(dialog_MatDialog))},MatDialogTitle.dir=defineDirective({type:MatDialogTitle,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(rf,ctx){2&rf&&hostProperty("id",ctx.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),MatDialogTitle})(),dialog_MatDialogContent=(()=>{class MatDialogContent{}return MatDialogContent.fac=function(t){return new(t||MatDialogContent)},MatDialogContent.dir=defineDirective({type:MatDialogContent,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),MatDialogContent})(),dialog_MatDialogActions=(()=>{class MatDialogActions{}return MatDialogActions.fac=function(t){return new(t||MatDialogActions)},MatDialogActions.dir=defineDirective({type:MatDialogActions,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),MatDialogActions})();function getClosestDialog(element,openDialogs){let parent=element.nativeElement.parentElement;for(;parent&&!parent.classList.contains("mat-dialog-container");)parent=parent.parentElement;return parent?openDialogs.find(dialog=>dialog.id===parent.id):null}let dialog_MatDialogModule=(()=>{class MatDialogModule{}return MatDialogModule.mod=defineNgModule({type:MatDialogModule}),MatDialogModule.inj=defineInjector({factory:function(t){return new(t||MatDialogModule)},providers:[dialog_MatDialog,MAT_DIALOG_SCROLL_STRATEGY_PROVIDER],imports:[[overlay_OverlayModule,portal_PortalModule,core_MatCommonModule],core_MatCommonModule]}),MatDialogModule})(),AppConfiguration=(()=>{class AppConfiguration{}return AppConfiguration.hostname="https://ogito.itc.utwente.nl/",AppConfiguration.wmsVersion="1.3.0",AppConfiguration.wfsVersion="1.1.0",AppConfiguration.wmtsVersion="1.0.0",AppConfiguration.qgsProject="checking2.qgs",AppConfiguration.srsName="EPSG:25832",AppConfiguration.curProject=AppConfiguration.hostname+"qgs_projects/"+AppConfiguration.qgsProject,AppConfiguration.svgFolder="../../assets/svg/",AppConfiguration.svgUrl=AppConfiguration.hostname+"svg/",AppConfiguration.qgsProjectFolder="/home/qgis/projects/",AppConfiguration.QgsFileProject=AppConfiguration.qgsProjectFolder+AppConfiguration.qgsProject,AppConfiguration.mapZoom=14,AppConfiguration.maxZoom=20,AppConfiguration.minZoom=8,AppConfiguration.threshold=1e3,AppConfiguration.projDefs={25832:"+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"},AppConfiguration.rasterIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIJSURBVFiF7dfNSxVhFMfxz71zkd40X1KzrZgmQRQF/Qkt2oSLWviveHkIyoyyPyhKsqjoDSK5ILbIlXsX6tUZp0UpNi+kBGkx39XwnPN75vfAM+fMoeI/obbzEIRjmMNAJqeNySB8yoqDcArP0ZcJbdTV7zQ1vxRouvEM3ZnQeiSamDK1CI2d1YZGXyy+XnKAi8gZi0SDieRakSCVjiNnDOdwpUizbXsMi1AvMXLoVMYOypE1tnv5Y/EKHsp/LUlDY65InEiW8RidmVCcSl+WvPMrnuBkZn0rlb7Zr/GKioq/zW4TnzV7fNXqPHozOXFdfbKp+T4rnjHTuW79BU5nQlt19dtNzc9ZzbTpnrb2nHyJ2cREEFrsqWNr1npxtcj9tu0LyBnbtDmAy0WaVDqGnLG29hAuFWlqaiNocYQrf2XsoOzLWE0tPejGqfSPNNkmfh9nMvlbkeh50UajRr+1tIoa/ybmizRDhpZWrDxCVybUxut9naCiouIQ2DuJn8BHDGZy2rgVhLdZcRC68EG+xGzgZsn03ot38j8La7gRhAV+ncR7YvFYyQHOI2csEvUnkpEiwc+GnDOGsxguWO+pqQ1jgX+9JR0GR99YLC5tumVNPJGUasqaeCTal2b38gdhJQh3/bice9lIpU+LNho3vtzSuof+TGi9Q0fZ9L6EB4q/yldlpit+x3fslpvzPO+TtwAAAABJRU5ErkJggg==",AppConfiguration.range={min:0,max:10},AppConfiguration.ranges={intensity_auto:{min:0,max:10},intensity_schiene:{min:0,max:10},intensity_kinder:{min:0,max:10},intensity_sonstiges:{min:0,max:10},intensity_arbeit:{min:0,max:10},intensity_bus:{min:0,max:10}},AppConfiguration.fieldsOrder={laute_orte:{name:1,laermquelle_auto:2,intensitaet_auto:3,laermquelle_schiene:4,intensitaet_schiene:5,laermquelle_sonstiges:6,intensitaet_sonstiges:7,laerm_morgens:8,laerm_tagsuber:9,laerm_abends:10,laerm_nachts:11},massnahmen:{beschreibung:1,fahrspurreduzierung:2,fluesterasphalt:3,geschwindigkeitsreduzierung:4,park_ride:5,schallschutzfenster:6,sonstiges:7}},AppConfiguration.ratingPrex={leise_Orte_obs:"rank_"},AppConfiguration.ratingMax=5,AppConfiguration.ratingMin=1,AppConfiguration.rankingMethod="allFiveStars",AppConfiguration.ratingMeasureLayers={massnahmen:["geschwindigkeitsreduzierung","fluesterasphalt","schallschutzfenster","park_ride","fahrspurreduzierung","sonstiges"]},AppConfiguration.fieldDesc={massnahmen:"beschreibung"},AppConfiguration.fieldOther={massnahmen:"sonstiges"},AppConfiguration.actionPlanLayerName="massnahmen",AppConfiguration.noAddingFeatsLayers=["massnahmen_leise"],AppConfiguration.urlLegendLDEN={"GECCO Noise Munster":{IVU_LDEN:"",SCH_Bund_LDEN:"",SCH_Sonstige_LDEN:"",STR_LDEN:""}},AppConfiguration.totalPopBochumArea=64966.73,AppConfiguration.noiseGroupName="Laermkarten",AppConfiguration.institutionsGroupName="oeffentliche_einrichtungen",AppConfiguration.nameSessionGroup="sessionGroup",AppConfiguration})();var ol_Map=__webpack_require__("Xu5n"),View=__webpack_require__("oscj"),ol_sphere=__webpack_require__("eQqr"),ol_proj=__webpack_require__("JW8z"),SEC_TO_RAD=484813681109536e-20,HALF_PI=Math.PI/2,D2R=.017453292519943295,R2D=57.29577951308232,FORTPI=Math.PI/4,TWO_PI=2*Math.PI,SPI=3.14159265359,PrimeMeridian_exports={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},constants_units={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},ignoredChar=/[\s_\-\/\(\)]/g;function match_match(obj,key){if(obj[key])return obj[key];for(var testkey,keys=Object.keys(obj),lkey=key.toLowerCase().replace(ignoredChar,""),i=-1;++i<keys.length;)if((testkey=keys[i]).toLowerCase().replace(ignoredChar,"")===lkey)return obj[testkey]}var projString=function(defData){var paramName,paramVal,paramOutname,self={},paramObj=defData.split("+").map(function(v){return v.trim()}).filter(function(a){return a}).reduce(function(p,a){var split=a.split("=");return split.push(!0),p[split[0].toLowerCase()]=split[1],p},{}),params={proj:"projName",datum:"datumCode",rf:function(v){self.rf=parseFloat(v)},lat_0:function(v){self.lat0=v*D2R},lat_1:function(v){self.lat1=v*D2R},lat_2:function(v){self.lat2=v*D2R},lat_ts:function(v){self.lat_ts=v*D2R},lon_0:function(v){self.long0=v*D2R},lon_1:function(v){self.long1=v*D2R},lon_2:function(v){self.long2=v*D2R},alpha:function(v){self.alpha=parseFloat(v)*D2R},lonc:function(v){self.longc=v*D2R},x_0:function(v){self.x0=parseFloat(v)},y_0:function(v){self.y0=parseFloat(v)},k_0:function(v){self.k0=parseFloat(v)},k:function(v){self.k0=parseFloat(v)},a:function(v){self.a=parseFloat(v)},b:function(v){self.b=parseFloat(v)},r_a:function(){self.R_A=!0},zone:function(v){self.zone=parseInt(v,10)},south:function(){self.utmSouth=!0},towgs84:function(v){self.datum_params=v.split(",").map(function(a){return parseFloat(a)})},to_meter:function(v){self.to_meter=parseFloat(v)},units:function(v){self.units=v;var unit=match_match(constants_units,v);unit&&(self.to_meter=unit.to_meter)},from_greenwich:function(v){self.from_greenwich=v*D2R},pm:function(v){var pm=match_match(PrimeMeridian_exports,v);self.from_greenwich=(pm||parseFloat(v))*D2R},nadgrids:function(v){"@null"===v?self.datumCode="none":self.nadgrids=v},axis:function(v){3===v.length&&-1!=="ewnsud".indexOf(v.substr(0,1))&&-1!=="ewnsud".indexOf(v.substr(1,1))&&-1!=="ewnsud".indexOf(v.substr(2,1))&&(self.axis=v)}};for(paramName in paramObj)paramVal=paramObj[paramName],paramName in params?"function"==typeof(paramOutname=params[paramName])?paramOutname(paramVal):self[paramOutname]=paramVal:self[paramName]=paramVal;return"string"==typeof self.datumCode&&"WGS84"!==self.datumCode&&(self.datumCode=self.datumCode.toLowerCase()),self},whitespace=/\s/,latin=/[A-Za-z]/,keyword=/[A-Za-z84]/,endThings=/[,\]]/,digets=/[\d\.E\-\+]/;function Parser(text){if("string"!=typeof text)throw new Error("not a string");this.text=text.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function mapit(obj,key,value){Array.isArray(key)&&(value.unshift(key),key=null);var out=value.reduce(function(newObj,item){return sExpr(item,newObj),newObj},key?{}:obj);key&&(obj[key]=out)}function sExpr(v,obj){if(Array.isArray(v)){var key=v.shift();if("PARAMETER"===key&&(key=v.shift()),1===v.length)return Array.isArray(v[0])?(obj[key]={},void sExpr(v[0],obj[key])):void(obj[key]=v[0]);if(v.length)if("TOWGS84"!==key){if("AXIS"===key)return key in obj||(obj[key]=[]),void obj[key].push(v);var i;switch(Array.isArray(key)||(obj[key]={}),key){case"UNIT":case"PRIMEM":case"VERT_DATUM":return obj[key]={name:v[0].toLowerCase(),convert:v[1]},void(3===v.length&&sExpr(v[2],obj[key]));case"SPHEROID":case"ELLIPSOID":return obj[key]={name:v[0],a:v[1],rf:v[2]},void(4===v.length&&sExpr(v[3],obj[key]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return v[0]=["name",v[0]],void mapit(obj,key,v);default:for(i=-1;++i<v.length;)if(!Array.isArray(v[i]))return sExpr(v,obj[key]);return mapit(obj,key,v)}}else obj[key]=v;else obj[key]=!0}else obj[v]=!0}function d2r(input){return.017453292519943295*input}Parser.prototype.readCharicter=function(){var char=this.text[this.place++];if(4!==this.state)for(;whitespace.test(char);){if(this.place>=this.text.length)return;char=this.text[this.place++]}switch(this.state){case 1:return this.neutral(char);case 2:return this.keyword(char);case 4:return this.quoted(char);case 5:return this.afterquote(char);case 3:return this.number(char);case-1:return}},Parser.prototype.afterquote=function(char){if('"'===char)return this.word+='"',void(this.state=4);if(endThings.test(char))return this.word=this.word.trim(),void this.afterItem(char);throw new Error("havn't handled \""+char+'" in afterquote yet, index '+this.place)},Parser.prototype.afterItem=function(char){return","===char?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===char?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Parser.prototype.number=function(char){if(!digets.test(char)){if(endThings.test(char))return this.word=parseFloat(this.word),void this.afterItem(char);throw new Error("havn't handled \""+char+'" in number yet, index '+this.place)}this.word+=char},Parser.prototype.quoted=function(char){'"'!==char?this.word+=char:this.state=5},Parser.prototype.keyword=function(char){if(keyword.test(char))this.word+=char;else{if("["===char){var newObjects=[];return newObjects.push(this.word),this.level++,null===this.root?this.root=newObjects:this.currentObject.push(newObjects),this.stack.push(this.currentObject),this.currentObject=newObjects,void(this.state=1)}if(!endThings.test(char))throw new Error("havn't handled \""+char+'" in keyword yet, index '+this.place);this.afterItem(char)}},Parser.prototype.neutral=function(char){if(latin.test(char))return this.word=char,void(this.state=2);if('"'===char)return this.word="",void(this.state=4);if(digets.test(char))return this.word=char,void(this.state=3);if(!endThings.test(char))throw new Error("havn't handled \""+char+'" in neutral yet, index '+this.place);this.afterItem(char)},Parser.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var wkt_parser=function(wkt){var lisp=new Parser(wkt).output(),type=lisp.shift(),name=lisp.shift();lisp.unshift(["name",name]),lisp.unshift(["type",type]);var obj={};return sExpr(lisp,obj),function(wkt){if("GEOGCS"===wkt.type?wkt.projName="longlat":"LOCAL_CS"===wkt.type?(wkt.projName="identity",wkt.local=!0):wkt.projName="object"==typeof wkt.PROJECTION?Object.keys(wkt.PROJECTION)[0]:wkt.PROJECTION,wkt.AXIS){for(var axisOrder="",i=0,ii=wkt.AXIS.length;i<ii;++i){var descriptor=wkt.AXIS[i][0].toLowerCase();-1!==descriptor.indexOf("north")?axisOrder+="n":-1!==descriptor.indexOf("south")?axisOrder+="s":-1!==descriptor.indexOf("east")?axisOrder+="e":-1!==descriptor.indexOf("west")&&(axisOrder+="w")}2===axisOrder.length&&(axisOrder+="u"),3===axisOrder.length&&(wkt.axis=axisOrder)}wkt.UNIT&&(wkt.units=wkt.UNIT.name.toLowerCase(),"metre"===wkt.units&&(wkt.units="meter"),wkt.UNIT.convert&&("GEOGCS"===wkt.type?wkt.DATUM&&wkt.DATUM.SPHEROID&&(wkt.to_meter=wkt.UNIT.convert*wkt.DATUM.SPHEROID.a):wkt.to_meter=wkt.UNIT.convert));var geogcs=wkt.GEOGCS;function toMeter(input){return input*(wkt.to_meter||1)}"GEOGCS"===wkt.type&&(geogcs=wkt),geogcs&&(wkt.datumCode=geogcs.DATUM?geogcs.DATUM.name.toLowerCase():geogcs.name.toLowerCase(),"d_"===wkt.datumCode.slice(0,2)&&(wkt.datumCode=wkt.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==wkt.datumCode&&"new_zealand_1949"!==wkt.datumCode||(wkt.datumCode="nzgd49"),"wgs_1984"!==wkt.datumCode&&"world_geodetic_system_1984"!==wkt.datumCode||("Mercator_Auxiliary_Sphere"===wkt.PROJECTION&&(wkt.sphere=!0),wkt.datumCode="wgs84"),"_ferro"===wkt.datumCode.slice(-6)&&(wkt.datumCode=wkt.datumCode.slice(0,-6)),"_jakarta"===wkt.datumCode.slice(-8)&&(wkt.datumCode=wkt.datumCode.slice(0,-8)),~wkt.datumCode.indexOf("belge")&&(wkt.datumCode="rnb72"),geogcs.DATUM&&geogcs.DATUM.SPHEROID&&(wkt.ellps=geogcs.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===wkt.ellps.toLowerCase().slice(0,13)&&(wkt.ellps="intl"),wkt.a=geogcs.DATUM.SPHEROID.a,wkt.rf=parseFloat(geogcs.DATUM.SPHEROID.rf,10)),geogcs.DATUM&&geogcs.DATUM.TOWGS84&&(wkt.datum_params=geogcs.DATUM.TOWGS84),~wkt.datumCode.indexOf("osgb_1936")&&(wkt.datumCode="osgb36"),~wkt.datumCode.indexOf("osni_1952")&&(wkt.datumCode="osni52"),(~wkt.datumCode.indexOf("tm65")||~wkt.datumCode.indexOf("geodetic_datum_of_1965"))&&(wkt.datumCode="ire65"),"ch1903+"===wkt.datumCode&&(wkt.datumCode="ch1903"),~wkt.datumCode.indexOf("israel")&&(wkt.datumCode="isr93")),wkt.b&&!isFinite(wkt.b)&&(wkt.b=wkt.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",d2r],["x0","false_easting",toMeter],["y0","false_northing",toMeter],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["azimuth","Azimuth"],["alpha","azimuth",d2r],["srsCode","name"]].forEach(function(a){return inName=(params=a)[1],void(!((outName=params[0])in(obj=wkt))&&inName in obj&&(obj[outName]=obj[inName],3===params.length&&(obj[outName]=params[2](obj[outName]))));var obj,params,outName,inName}),wkt.long0||!wkt.longc||"Albers_Conic_Equal_Area"!==wkt.projName&&"Lambert_Azimuthal_Equal_Area"!==wkt.projName||(wkt.long0=wkt.longc),wkt.lat_ts||!wkt.lat1||"Stereographic_South_Pole"!==wkt.projName&&"Polar Stereographic (variant B)"!==wkt.projName||(wkt.lat0=d2r(wkt.lat1>0?90:-90),wkt.lat_ts=wkt.lat1)}(obj),obj};function defs(name){var that=this;if(2===arguments.length){var def=arguments[1];defs[name]="string"==typeof def?"+"===def.charAt(0)?projString(arguments[1]):wkt_parser(arguments[1]):def}else if(1===arguments.length){if(Array.isArray(name))return name.map(function(v){Array.isArray(v)?defs.apply(that,v):defs(v)});if("string"==typeof name){if(name in defs)return defs[name]}else"EPSG"in name?defs["EPSG:"+name.EPSG]=name:"ESRI"in name?defs["ESRI:"+name.ESRI]=name:"IAU2000"in name?defs["IAU2000:"+name.IAU2000]=name:console.log(name);return}}!function(defs){defs("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),defs("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),defs("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),defs.WGS84=defs["EPSG:4326"],defs["EPSG:3785"]=defs["EPSG:3857"],defs.GOOGLE=defs["EPSG:3857"],defs["EPSG:900913"]=defs["EPSG:3857"],defs["EPSG:102113"]=defs["EPSG:3857"]}(defs);var lib_defs=defs,codeWords=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],codes=["3857","900913","3785","102113"],extend=function(destination,source){var value,property;if(destination=destination||{},!source)return destination;for(property in source)void 0!==(value=source[property])&&(destination[property]=value);return destination},msfnz=function(eccent,sinphi,cosphi){var con=eccent*sinphi;return cosphi/Math.sqrt(1-con*con)},sign=function(x){return x<0?-1:1},adjust_lon=function(x){return Math.abs(x)<=SPI?x:x-sign(x)*TWO_PI},tsfnz=function(eccent,phi,sinphi){var con=eccent*sinphi;return con=Math.pow((1-con)/(1+con),.5*eccent),Math.tan(.5*(HALF_PI-phi))/con},phi2z=function(eccent,ts){for(var con,dphi,eccnth=.5*eccent,phi=HALF_PI-2*Math.atan(ts),i=0;i<=15;i++)if(con=eccent*Math.sin(phi),phi+=dphi=HALF_PI-2*Math.atan(ts*Math.pow((1-con)/(1+con),eccnth))-phi,Math.abs(dphi)<=1e-10)return phi;return-9999};function longlat_identity(pt){return pt}var projs=[{init:function(){var con=this.b/this.a;this.es=1-con*con,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(p){var x,y,lon=p.x,lat=p.y;if(lat*R2D>90&&lat*R2D<-90&&lon*R2D>180&&lon*R2D<-180)return null;if(Math.abs(Math.abs(lat)-HALF_PI)<=1e-10)return null;if(this.sphere)x=this.x0+this.a*this.k0*adjust_lon(lon-this.long0),y=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*lat));else{var sinphi=Math.sin(lat),ts=tsfnz(this.e,lat,sinphi);x=this.x0+this.a*this.k0*adjust_lon(lon-this.long0),y=this.y0-this.a*this.k0*Math.log(ts)}return p.x=x,p.y=y,p},inverse:function(p){var lon,lat,x=p.x-this.x0,y=p.y-this.y0;if(this.sphere)lat=HALF_PI-2*Math.atan(Math.exp(-y/(this.a*this.k0)));else{var ts=Math.exp(-y/(this.a*this.k0));if(-9999===(lat=phi2z(this.e,ts)))return null}return lon=adjust_lon(this.long0+x/(this.a*this.k0)),p.x=lon,p.y=lat,p},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:longlat_identity,inverse:longlat_identity,names:["longlat","identity"]}],projections_names={},projStore=[];function add(proj,i){var len=projStore.length;return proj.names?(projStore[len]=proj,proj.names.forEach(function(n){projections_names[n.toLowerCase()]=len}),this):(console.log(i),!0)}var projections={start:function(){projs.forEach(add)},add:add,get:function(name){if(!name)return!1;var n=name.toLowerCase();return void 0!==projections_names[n]&&projStore[projections_names[n]]?projStore[projections_names[n]]:void 0}},Ellipsoid_exports={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},WGS84=Ellipsoid_exports.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ellipsoid_exports.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Datum_exports={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};function Projection(srsCode,callback){if(!(this instanceof Projection))return new Projection(srsCode);callback=callback||function(error){if(error)throw error};var json=function(code){if(!function(code){return"string"==typeof code}(code))return code;if(function(code){return code in lib_defs}(code))return lib_defs[code];if(function(code){return codeWords.some(function(word){return code.indexOf(word)>-1})}(code)){var out=wkt_parser(code);if(function(item){var auth=match_match(item,"authority");if(auth){var code=match_match(auth,"epsg");return code&&codes.indexOf(code)>-1}}(out))return lib_defs["EPSG:3857"];var maybeProjStr=function(item){var ext=match_match(item,"extension");if(ext)return match_match(ext,"proj4")}(out);return maybeProjStr?projString(maybeProjStr):out}return function(code){return"+"===code[0]}(code)?projString(code):void 0}(srsCode);if("object"==typeof json){var ourProj=Projection.projections.get(json.projName);if(ourProj){if(json.datumCode&&"none"!==json.datumCode){var datumDef=match_match(Datum_exports,json.datumCode);datumDef&&(json.datum_params=datumDef.towgs84?datumDef.towgs84.split(","):null,json.ellps=datumDef.ellipse,json.datumName=datumDef.datumName?datumDef.datumName:json.datumCode)}json.k0=json.k0||1,json.axis=json.axis||"enu",json.ellps=json.ellps||"wgs84";var a,b,a2,b2,es,e,sphere_=function(a,b,rf,ellps,sphere){if(!a){var ellipse=match_match(Ellipsoid_exports,ellps);ellipse||(ellipse=WGS84),a=ellipse.a,b=ellipse.b,rf=ellipse.rf}return rf&&!b&&(b=(1-1/rf)*a),(0===rf||Math.abs(a-b)<1e-10)&&(sphere=!0,b=a),{a:a,b:b,rf:rf,sphere:sphere}}(json.a,json.b,json.rf,json.ellps,json.sphere),ecc=(es=((a2=(a=sphere_.a)*a)-(b2=(b=sphere_.b)*b))/a2,e=0,json.R_A?(a2=(a*=1-es*(.16666666666666666+es*(.04722222222222222+.022156084656084655*es)))*a,es=0):e=Math.sqrt(es),{es:es,e:e,ep2:(a2-b2)/b2}),datumObj=json.datum||function(datumCode,datum_params,a,b,es,ep2){var out={};return out.datum_type=void 0===datumCode||"none"===datumCode?5:4,datum_params&&(out.datum_params=datum_params.map(parseFloat),0===out.datum_params[0]&&0===out.datum_params[1]&&0===out.datum_params[2]||(out.datum_type=1),out.datum_params.length>3&&(0===out.datum_params[3]&&0===out.datum_params[4]&&0===out.datum_params[5]&&0===out.datum_params[6]||(out.datum_type=2,out.datum_params[3]*=SEC_TO_RAD,out.datum_params[4]*=SEC_TO_RAD,out.datum_params[5]*=SEC_TO_RAD,out.datum_params[6]=out.datum_params[6]/1e6+1))),out.a=a,out.b=b,out.es=es,out.ep2=ep2,out}(json.datumCode,json.datum_params,sphere_.a,sphere_.b,ecc.es,ecc.ep2);extend(this,json),extend(this,ourProj),this.a=sphere_.a,this.b=sphere_.b,this.rf=sphere_.rf,this.sphere=sphere_.sphere,this.es=ecc.es,this.e=ecc.e,this.ep2=ecc.ep2,this.datum=datumObj,this.init(),callback(null,this)}else callback(srsCode)}else callback(srsCode)}(Projection.projections=projections).start();var Proj=Projection;function geodeticToGeocentric(p,es,a){var Rn,Sin_Lat,Cos_Lat,Longitude=p.x,Latitude=p.y,Height=p.z?p.z:0;if(Latitude<-HALF_PI&&Latitude>-1.001*HALF_PI)Latitude=-HALF_PI;else if(Latitude>HALF_PI&&Latitude<1.001*HALF_PI)Latitude=HALF_PI;else{if(Latitude<-HALF_PI)return{x:-1/0,y:-1/0,z:p.z};if(Latitude>HALF_PI)return{x:1/0,y:1/0,z:p.z}}return Longitude>Math.PI&&(Longitude-=2*Math.PI),Sin_Lat=Math.sin(Latitude),Cos_Lat=Math.cos(Latitude),{x:((Rn=a/Math.sqrt(1-es*(Sin_Lat*Sin_Lat)))+Height)*Cos_Lat*Math.cos(Longitude),y:(Rn+Height)*Cos_Lat*Math.sin(Longitude),z:(Rn*(1-es)+Height)*Sin_Lat}}function geocentricToGeodetic(p,es,a,b){var P,RR,CT,ST,RX,RK,RN,CPHI0,SPHI0,CPHI,SPHI,SDPHI,iter,Longitude,Height,X=p.x,Y=p.y,Z=p.z?p.z:0;if(P=Math.sqrt(X*X+Y*Y),RR=Math.sqrt(X*X+Y*Y+Z*Z),P/a<1e-12){if(Longitude=0,RR/a<1e-12)return Height=-b,{x:p.x,y:p.y,z:p.z}}else Longitude=Math.atan2(Y,X);CT=Z/RR,CPHI0=(ST=P/RR)*(1-es)*(RX=1/Math.sqrt(1-es*(2-es)*ST*ST)),SPHI0=CT*RX,iter=0;do{iter++,RK=es*(RN=a/Math.sqrt(1-es*SPHI0*SPHI0))/(RN+(Height=P*CPHI0+Z*SPHI0-RN*(1-es*SPHI0*SPHI0))),SDPHI=(SPHI=CT*(RX=1/Math.sqrt(1-RK*(2-RK)*ST*ST)))*CPHI0-(CPHI=ST*(1-RK)*RX)*SPHI0,CPHI0=CPHI,SPHI0=SPHI}while(SDPHI*SDPHI>1e-24&&iter<30);return{x:Longitude,y:Math.atan(SPHI/Math.abs(CPHI)),z:Height}}function checkParams(type){return 1===type||2===type}var adjust_axis=function(crs,denorm,point){var v,t,i,xin=point.x,yin=point.y,zin=point.z||0,out={};for(i=0;i<3;i++)if(!denorm||2!==i||void 0!==point.z)switch(0===i?(v=xin,t=-1!=="ew".indexOf(crs.axis[i])?"x":"y"):1===i?(v=yin,t=-1!=="ns".indexOf(crs.axis[i])?"y":"x"):(v=zin,t="z"),crs.axis[i]){case"e":case"w":case"n":case"s":out[t]=v;break;case"u":void 0!==point[t]&&(out.z=v);break;case"d":void 0!==point[t]&&(out.z=-v);break;default:return null}return out},toPoint=function(array){var out={x:array[0],y:array[1]};return array.length>2&&(out.z=array[2]),array.length>3&&(out.m=array[3]),out};function checkCoord(num){if("function"==typeof Number.isFinite){if(Number.isFinite(num))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof num||num!=num||!isFinite(num))throw new TypeError("coordinates must be finite numbers")}function transform_transform(source,dest,point){var wgs84;return Array.isArray(point)&&(point=toPoint(point)),function(point){checkCoord(point.x),checkCoord(point.y)}(point),source.datum&&dest.datum&&function(source,dest){return(1===source.datum.datum_type||2===source.datum.datum_type)&&"WGS84"!==dest.datumCode||(1===dest.datum.datum_type||2===dest.datum.datum_type)&&"WGS84"!==source.datumCode}(source,dest)&&(point=transform_transform(source,wgs84=new Proj("WGS84"),point),source=wgs84),"enu"!==source.axis&&(point=adjust_axis(source,!1,point)),"longlat"===source.projName?point={x:point.x*D2R,y:point.y*D2R,z:point.z||0}:(source.to_meter&&(point={x:point.x*source.to_meter,y:point.y*source.to_meter,z:point.z||0}),point=source.inverse(point)),source.from_greenwich&&(point.x+=source.from_greenwich),point=function(source,dest,point){return function(source,dest){return source.datum_type===dest.datum_type&&!(source.a!==dest.a||Math.abs(source.es-dest.es)>5e-11)&&(1===source.datum_type?source.datum_params[0]===dest.datum_params[0]&&source.datum_params[1]===dest.datum_params[1]&&source.datum_params[2]===dest.datum_params[2]:2!==source.datum_type||source.datum_params[0]===dest.datum_params[0]&&source.datum_params[1]===dest.datum_params[1]&&source.datum_params[2]===dest.datum_params[2]&&source.datum_params[3]===dest.datum_params[3]&&source.datum_params[4]===dest.datum_params[4]&&source.datum_params[5]===dest.datum_params[5]&&source.datum_params[6]===dest.datum_params[6])}(source,dest)||5===source.datum_type||5===dest.datum_type?point:source.es!==dest.es||source.a!==dest.a||checkParams(source.datum_type)||checkParams(dest.datum_type)?(point=geodeticToGeocentric(point,source.es,source.a),checkParams(source.datum_type)&&(point=function(p,datum_type,datum_params){if(1===datum_type)return{x:p.x+datum_params[0],y:p.y+datum_params[1],z:p.z+datum_params[2]};if(2===datum_type){var Rx_BF=datum_params[3],Ry_BF=datum_params[4],Rz_BF=datum_params[5],M_BF=datum_params[6];return{x:M_BF*(p.x-Rz_BF*p.y+Ry_BF*p.z)+datum_params[0],y:M_BF*(Rz_BF*p.x+p.y-Rx_BF*p.z)+datum_params[1],z:M_BF*(-Ry_BF*p.x+Rx_BF*p.y+p.z)+datum_params[2]}}}(point,source.datum_type,source.datum_params)),checkParams(dest.datum_type)&&(point=function(p,datum_type,datum_params){if(1===datum_type)return{x:p.x-datum_params[0],y:p.y-datum_params[1],z:p.z-datum_params[2]};if(2===datum_type){var Rx_BF=datum_params[3],Ry_BF=datum_params[4],Rz_BF=datum_params[5],M_BF=datum_params[6],x_tmp=(p.x-datum_params[0])/M_BF,y_tmp=(p.y-datum_params[1])/M_BF,z_tmp=(p.z-datum_params[2])/M_BF;return{x:x_tmp+Rz_BF*y_tmp-Ry_BF*z_tmp,y:-Rz_BF*x_tmp+y_tmp+Rx_BF*z_tmp,z:Ry_BF*x_tmp-Rx_BF*y_tmp+z_tmp}}}(point,dest.datum_type,dest.datum_params)),geocentricToGeodetic(point,dest.es,dest.a,dest.b)):point}(source.datum,dest.datum,point),dest.from_greenwich&&(point={x:point.x-dest.from_greenwich,y:point.y,z:point.z||0}),"longlat"===dest.projName?point={x:point.x*R2D,y:point.y*R2D,z:point.z||0}:(point=dest.forward(point),dest.to_meter&&(point={x:point.x/dest.to_meter,y:point.y/dest.to_meter,z:point.z||0})),"enu"!==dest.axis?adjust_axis(dest,!0,point):point}var core_wgs84=Proj("WGS84");function transformer(from,to,coords){var transformedArray,out,keys;return Array.isArray(coords)?(transformedArray=transform_transform(from,to,coords)||{x:NaN,y:NaN},coords.length>2?void 0!==from.name&&"geocent"===from.name||void 0!==to.name&&"geocent"===to.name?"number"==typeof transformedArray.z?[transformedArray.x,transformedArray.y,transformedArray.z].concat(coords.splice(3)):[transformedArray.x,transformedArray.y,coords[2]].concat(coords.splice(3)):[transformedArray.x,transformedArray.y].concat(coords.splice(2)):[transformedArray.x,transformedArray.y]):(out=transform_transform(from,to,coords),2===(keys=Object.keys(coords)).length||keys.forEach(function(key){if(void 0!==from.name&&"geocent"===from.name||void 0!==to.name&&"geocent"===to.name){if("x"===key||"y"===key||"z"===key)return}else if("x"===key||"y"===key)return;out[key]=coords[key]}),out)}function checkProj(item){return item instanceof Proj?item:item.oProj?item.oProj:Proj(item)}var core=function(fromProj,toProj,coord){fromProj=checkProj(fromProj);var obj,single=!1;return void 0===toProj?(toProj=fromProj,fromProj=core_wgs84,single=!0):(void 0!==toProj.x||Array.isArray(toProj))&&(coord=toProj,toProj=fromProj,fromProj=core_wgs84,single=!0),toProj=checkProj(toProj),coord?transformer(fromProj,toProj,coord):(obj={forward:function(coords){return transformer(fromProj,toProj,coords)},inverse:function(coords){return transformer(toProj,fromProj,coords)}},single&&(obj.oProj=toProj),obj)},mgrs={forward:mgrs_forward,inverse:function(mgrs){var bbox=UTMtoLL(mgrs_decode(mgrs.toUpperCase()));return bbox.lat&&bbox.lon?[bbox.lon,bbox.lat,bbox.lon,bbox.lat]:[bbox.left,bbox.bottom,bbox.right,bbox.top]},toPoint:mgrs_toPoint};function mgrs_forward(ll,accuracy){return accuracy=accuracy||5,function(utm,accuracy){var column,row,index,colOrigin,rowOrigin,colInt,rowInt,rollover,easting,northing,setParm,seasting="00000"+utm.easting,snorthing="00000"+utm.northing;return utm.zoneNumber+utm.zoneLetter+(easting=utm.easting,northing=utm.northing,setParm=get100kSetForZone(utm.zoneNumber),column=Math.floor(easting/1e5),row=Math.floor(northing/1e5)%20,rollover=!1,(colInt=(colOrigin="AJSAJS".charCodeAt(index=setParm-1))+column-1)>90&&(colInt=colInt-90+65-1,rollover=!0),(73===colInt||colOrigin<73&&colInt>73||(colInt>73||colOrigin<73)&&rollover)&&colInt++,(79===colInt||colOrigin<79&&colInt>79||(colInt>79||colOrigin<79)&&rollover)&&73==++colInt&&colInt++,colInt>90&&(colInt=colInt-90+65-1),(rowInt=(rowOrigin="AFAFAF".charCodeAt(index))+row)>86?(rowInt=rowInt-86+65-1,rollover=!0):rollover=!1,(73===rowInt||rowOrigin<73&&rowInt>73||(rowInt>73||rowOrigin<73)&&rollover)&&rowInt++,(79===rowInt||rowOrigin<79&&rowInt>79||(rowInt>79||rowOrigin<79)&&rollover)&&73==++rowInt&&rowInt++,rowInt>86&&(rowInt=rowInt-86+65-1),String.fromCharCode(colInt)+String.fromCharCode(rowInt))+seasting.substr(seasting.length-5,accuracy)+snorthing.substr(snorthing.length-5,accuracy)}(function(ll){var N,T,C,A,LongOriginRad,ZoneNumber,Lat=ll.lat,Long=ll.lon,a=6378137,LatRad=degToRad(Lat),LongRad=degToRad(Long);ZoneNumber=Math.floor((Long+180)/6)+1,180===Long&&(ZoneNumber=60),Lat>=56&&Lat<64&&Long>=3&&Long<12&&(ZoneNumber=32),Lat>=72&&Lat<84&&(Long>=0&&Long<9?ZoneNumber=31:Long>=9&&Long<21?ZoneNumber=33:Long>=21&&Long<33?ZoneNumber=35:Long>=33&&Long<42&&(ZoneNumber=37)),LongOriginRad=degToRad(6*(ZoneNumber-1)-180+3),N=a/Math.sqrt(1-.00669438*Math.sin(LatRad)*Math.sin(LatRad)),T=Math.tan(LatRad)*Math.tan(LatRad),C=.006739496752268451*Math.cos(LatRad)*Math.cos(LatRad);var lat,LetterDesignator,UTMEasting=.9996*N*((A=Math.cos(LatRad)*(LongRad-LongOriginRad))+(1-T+C)*A*A*A/6+(5-18*T+T*T+72*C-.39089081163157013)*A*A*A*A*A/120)+5e5,UTMNorthing=.9996*(a*(.9983242984503243*LatRad-.002514607064228144*Math.sin(2*LatRad)+2639046602129982e-21*Math.sin(4*LatRad)-3.418046101696858e-9*Math.sin(6*LatRad))+N*Math.tan(LatRad)*(A*A/2+(5-T+9*C+4*C*C)*A*A*A*A/24+(61-58*T+T*T+600*C-2.2240339282485886)*A*A*A*A*A*A/720));return Lat<0&&(UTMNorthing+=1e7),{northing:Math.round(UTMNorthing),easting:Math.round(UTMEasting),zoneNumber:ZoneNumber,zoneLetter:(lat=Lat,LetterDesignator="Z",84>=lat&&lat>=72?LetterDesignator="X":72>lat&&lat>=64?LetterDesignator="W":64>lat&&lat>=56?LetterDesignator="V":56>lat&&lat>=48?LetterDesignator="U":48>lat&&lat>=40?LetterDesignator="T":40>lat&&lat>=32?LetterDesignator="S":32>lat&&lat>=24?LetterDesignator="R":24>lat&&lat>=16?LetterDesignator="Q":16>lat&&lat>=8?LetterDesignator="P":8>lat&&lat>=0?LetterDesignator="N":0>lat&&lat>=-8?LetterDesignator="M":-8>lat&&lat>=-16?LetterDesignator="L":-16>lat&&lat>=-24?LetterDesignator="K":-24>lat&&lat>=-32?LetterDesignator="J":-32>lat&&lat>=-40?LetterDesignator="H":-40>lat&&lat>=-48?LetterDesignator="G":-48>lat&&lat>=-56?LetterDesignator="F":-56>lat&&lat>=-64?LetterDesignator="E":-64>lat&&lat>=-72?LetterDesignator="D":-72>lat&&lat>=-80&&(LetterDesignator="C"),LetterDesignator)}}({lat:ll[1],lon:ll[0]}),accuracy)}function mgrs_toPoint(mgrs){var bbox=UTMtoLL(mgrs_decode(mgrs.toUpperCase()));return bbox.lat&&bbox.lon?[bbox.lon,bbox.lat]:[(bbox.left+bbox.right)/2,(bbox.top+bbox.bottom)/2]}function degToRad(deg){return deg*(Math.PI/180)}function radToDeg(rad){return rad/Math.PI*180}function UTMtoLL(utm){var UTMNorthing=utm.northing,UTMEasting=utm.easting,zoneLetter=utm.zoneLetter,zoneNumber=utm.zoneNumber;if(zoneNumber<0||zoneNumber>60)return null;var N1,T1,C1,R1,D,LongOrigin,mu,phi1Rad,a=6378137,e1=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),x=UTMEasting-5e5,y=UTMNorthing;zoneLetter<"N"&&(y-=1e7),LongOrigin=6*(zoneNumber-1)-180+3,phi1Rad=(mu=y/.9996/6367449.145945056)+(3*e1/2-27*e1*e1*e1/32)*Math.sin(2*mu)+(21*e1*e1/16-55*e1*e1*e1*e1/32)*Math.sin(4*mu)+151*e1*e1*e1/96*Math.sin(6*mu),N1=a/Math.sqrt(1-.00669438*Math.sin(phi1Rad)*Math.sin(phi1Rad)),T1=Math.tan(phi1Rad)*Math.tan(phi1Rad),C1=.006739496752268451*Math.cos(phi1Rad)*Math.cos(phi1Rad),R1=.99330562*a/Math.pow(1-.00669438*Math.sin(phi1Rad)*Math.sin(phi1Rad),1.5),D=x/(.9996*N1);var lat=phi1Rad-N1*Math.tan(phi1Rad)/R1*(D*D/2-(5+3*T1+10*C1-4*C1*C1-.06065547077041606)*D*D*D*D/24+(61+90*T1+298*C1+45*T1*T1-1.6983531815716497-3*C1*C1)*D*D*D*D*D*D/720);lat=radToDeg(lat);var result,lon=(D-(1+2*T1+C1)*D*D*D/6+(5-2*C1+28*T1-3*C1*C1+.05391597401814761+24*T1*T1)*D*D*D*D*D/120)/Math.cos(phi1Rad);if(lon=LongOrigin+radToDeg(lon),utm.accuracy){var topRight=UTMtoLL({northing:utm.northing+utm.accuracy,easting:utm.easting+utm.accuracy,zoneLetter:utm.zoneLetter,zoneNumber:utm.zoneNumber});result={top:topRight.lat,right:topRight.lon,bottom:lat,left:lon}}else result={lat:lat,lon:lon};return result}function get100kSetForZone(i){var setParm=i%6;return 0===setParm&&(setParm=6),setParm}function mgrs_decode(mgrsString){if(mgrsString&&0===mgrsString.length)throw"MGRSPoint coverting from nothing";for(var testChar,length=mgrsString.length,hunK=null,sb="",i=0;!/[A-Z]/.test(testChar=mgrsString.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+mgrsString;sb+=testChar,i++}var zoneNumber=parseInt(sb,10);if(0===i||i+3>length)throw"MGRSPoint bad conversion from: "+mgrsString;var zoneLetter=mgrsString.charAt(i++);if(zoneLetter<="A"||"B"===zoneLetter||"Y"===zoneLetter||zoneLetter>="Z"||"I"===zoneLetter||"O"===zoneLetter)throw"MGRSPoint zone letter "+zoneLetter+" not handled: "+mgrsString;hunK=mgrsString.substring(i,i+=2);for(var set=get100kSetForZone(zoneNumber),east100k=function(e,set){for(var curCol="AJSAJS".charCodeAt(set-1),eastingValue=1e5,rewindMarker=!1;curCol!==e.charCodeAt(0);){if(73==++curCol&&curCol++,79===curCol&&curCol++,curCol>90){if(rewindMarker)throw"Bad character: "+e;curCol=65,rewindMarker=!0}eastingValue+=1e5}return eastingValue}(hunK.charAt(0),set),north100k=function(n,set){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var curRow="AFAFAF".charCodeAt(set-1),northingValue=0,rewindMarker=!1;curRow!==n.charCodeAt(0);){if(73==++curRow&&curRow++,79===curRow&&curRow++,curRow>86){if(rewindMarker)throw"Bad character: "+n;curRow=65,rewindMarker=!0}northingValue+=1e5}return northingValue}(hunK.charAt(1),set);north100k<getMinNorthing(zoneLetter);)north100k+=2e6;var remainder=length-i;if(remainder%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+mgrsString;var accuracyBonus,sepEastingString,sepNorthingString,sep=remainder/2,sepEasting=0,sepNorthing=0;return sep>0&&(accuracyBonus=1e5/Math.pow(10,sep),sepEastingString=mgrsString.substring(i,i+sep),sepEasting=parseFloat(sepEastingString)*accuracyBonus,sepNorthingString=mgrsString.substring(i+sep),sepNorthing=parseFloat(sepNorthingString)*accuracyBonus),{easting:sepEasting+east100k,northing:sepNorthing+north100k,zoneLetter:zoneLetter,zoneNumber:zoneNumber,accuracy:accuracyBonus}}function getMinNorthing(zoneLetter){var northing;switch(zoneLetter){case"C":northing=11e5;break;case"D":northing=2e6;break;case"E":northing=28e5;break;case"F":northing=37e5;break;case"G":northing=46e5;break;case"H":northing=55e5;break;case"J":northing=64e5;break;case"K":northing=73e5;break;case"L":northing=82e5;break;case"M":northing=91e5;break;case"N":northing=0;break;case"P":northing=8e5;break;case"Q":northing=17e5;break;case"R":northing=26e5;break;case"S":northing=35e5;break;case"T":northing=44e5;break;case"U":northing=53e5;break;case"V":northing=62e5;break;case"W":northing=7e6;break;case"X":northing=79e5;break;default:northing=-1}if(northing>=0)return northing;throw"Invalid zone letter: "+zoneLetter}function Point(x,y,z){if(!(this instanceof Point))return new Point(x,y,z);if(Array.isArray(x))this.x=x[0],this.y=x[1],this.z=x[2]||0;else if("object"==typeof x)this.x=x.x,this.y=x.y,this.z=x.z||0;else if("string"==typeof x&&void 0===y){var coords=x.split(",");this.x=parseFloat(coords[0],10),this.y=parseFloat(coords[1],10),this.z=parseFloat(coords[2],10)||0}else this.x=x,this.y=y,this.z=z||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Point.fromMGRS=function(mgrsStr){return new Point(mgrs_toPoint(mgrsStr))},Point.prototype.toMGRS=function(accuracy){return mgrs_forward([this.x,this.y],accuracy)};var lib_Point=Point,C08=.01068115234375,pj_enfn=function(es){var en=[];en[0]=1-es*(.25+es*(.046875+es*(.01953125+es*C08))),en[1]=es*(.75-es*(.046875+es*(.01953125+es*C08)));var t=es*es;return en[2]=t*(.46875-es*(.013020833333333334+.007120768229166667*es)),en[3]=(t*=es)*(.3645833333333333-.005696614583333333*es),en[4]=t*es*.3076171875,en},pj_mlfn=function(phi,sphi,cphi,en){return en[0]*phi-(cphi*=sphi)*(en[1]+(sphi*=sphi)*(en[2]+sphi*(en[3]+sphi*en[4])))},pj_inv_mlfn=function(arg,es,en){for(var k=1/(1-es),phi=arg,i=20;i;--i){var s=Math.sin(phi),t=1-es*s*s;if(phi-=t=(pj_mlfn(phi,s,Math.cos(phi),en)-arg)*(t*Math.sqrt(t))*k,Math.abs(t)<1e-10)return phi}return phi},tmerc={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=pj_enfn(this.es),this.ml0=pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(p){var con,x,y,lat=p.y,delta_lon=adjust_lon(p.x-this.long0),sin_phi=Math.sin(lat),cos_phi=Math.cos(lat);if(this.es){var al=cos_phi*delta_lon,als=Math.pow(al,2),c=this.ep2*Math.pow(cos_phi,2),cs=Math.pow(c,2),tq=Math.abs(cos_phi)>1e-10?Math.tan(lat):0,t=Math.pow(tq,2),ts=Math.pow(t,2);con=1-this.es*Math.pow(sin_phi,2),al/=Math.sqrt(con);var ml=pj_mlfn(lat,sin_phi,cos_phi,this.en);x=this.a*(this.k0*al*(1+als/6*(1-t+c+als/20*(5-18*t+ts+14*c-58*t*c+als/42*(61+179*ts-ts*t-479*t)))))+this.x0,y=this.a*(this.k0*(ml-this.ml0+sin_phi*delta_lon*al/2*(1+als/12*(5-t+9*c+4*cs+als/30*(61+ts-58*t+270*c-330*t*c+als/56*(1385+543*ts-ts*t-3111*t))))))+this.y0}else{var b=cos_phi*Math.sin(delta_lon);if(Math.abs(Math.abs(b)-1)<1e-10)return 93;if(x=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,y=cos_phi*Math.cos(delta_lon)/Math.sqrt(1-Math.pow(b,2)),(b=Math.abs(y))>=1){if(b-1>1e-10)return 93;y=0}else y=Math.acos(y);lat<0&&(y=-y),y=this.a*this.k0*(y-this.lat0)+this.y0}return p.x=x,p.y=y,p},inverse:function(p){var con,phi,lat,lon,x=1/this.a*(p.x-this.x0),y=1/this.a*(p.y-this.y0);if(this.es)if(phi=pj_inv_mlfn(con=this.ml0+y/this.k0,this.es,this.en),Math.abs(phi)<HALF_PI){var sin_phi=Math.sin(phi),cos_phi=Math.cos(phi),tan_phi=Math.abs(cos_phi)>1e-10?Math.tan(phi):0,c=this.ep2*Math.pow(cos_phi,2),cs=Math.pow(c,2),t=Math.pow(tan_phi,2),ts=Math.pow(t,2);con=1-this.es*Math.pow(sin_phi,2);var d=x*Math.sqrt(con)/this.k0,ds=Math.pow(d,2);lat=phi-(con*=tan_phi)*ds/(1-this.es)*.5*(1-ds/12*(5+3*t-9*c*t+c-4*cs-ds/30*(61+90*t-252*c*t+45*ts+46*c-ds/56*(1385+3633*t+4095*ts+1574*ts*t)))),lon=adjust_lon(this.long0+d*(1-ds/6*(1+2*t+c-ds/20*(5+28*t+24*ts+8*c*t+6*c-ds/42*(61+662*t+1320*ts+720*ts*t))))/cos_phi)}else lat=HALF_PI*sign(y),lon=0;else{var f=Math.exp(x/this.k0),g=.5*(f-1/f),h=Math.cos(this.lat0+y/this.k0);con=Math.sqrt((1-Math.pow(h,2))/(1+Math.pow(g,2))),lat=Math.asin(con),y<0&&(lat=-lat),lon=0===g&&0===h?0:adjust_lon(Math.atan2(g,h)+this.long0)}return p.x=lon,p.y=lat,p},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},sinh=function(x){var r=Math.exp(x);return(r-1/r)/2},hypot=function(x,y){x=Math.abs(x),y=Math.abs(y);var a=Math.max(x,y),b=Math.min(x,y)/(a||1);return a*Math.sqrt(1+Math.pow(b,2))},gatg=function(pp,B){for(var h,cos_2B=2*Math.cos(2*B),i=pp.length-1,h1=pp[i],h2=0;--i>=0;)h=cos_2B*h1-h2+pp[i],h2=h1,h1=h;return B+h*Math.sin(2*B)},clens_cmplx=function(pp,arg_r,arg_i){for(var hr2,hi2,sin_arg_r=Math.sin(arg_r),cos_arg_r=Math.cos(arg_r),sinh_arg_i=sinh(arg_i),cosh_arg_i=function(x){var r=Math.exp(x);return(r+1/r)/2}(arg_i),r=2*cos_arg_r*cosh_arg_i,i=-2*sin_arg_r*sinh_arg_i,j=pp.length-1,hr=pp[j],hi1=0,hr1=0,hi=0;--j>=0;)hr2=hr1,hi2=hi1,hr=r*(hr1=hr)-hr2-i*(hi1=hi)+pp[j],hi=i*hr1-hi2+r*hi1;return[(r=sin_arg_r*cosh_arg_i)*hr-(i=cos_arg_r*sinh_arg_i)*hi,r*hi+i*hr]},etmerc={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var f=this.es/(1+Math.sqrt(1-this.es)),n=f/(2-f),np=n;this.cgb[0]=n*(2+n*(-2/3+n*(n*(116/45+n*(26/45+n*(-2854/675)))-2))),this.cbg[0]=n*(n*(2/3+n*(4/3+n*(-82/45+n*(32/45+n*(4642/4725)))))-2),this.cgb[1]=(np*=n)*(7/3+n*(n*(-227/45+n*(2704/315+n*(2323/945)))-1.6)),this.cbg[1]=np*(5/3+n*(-16/15+n*(-13/9+n*(904/315+n*(-1522/945))))),this.cgb[2]=(np*=n)*(56/15+n*(-136/35+n*(-1262/105+n*(73814/2835)))),this.cbg[2]=np*(-26/15+n*(34/21+n*(1.6+n*(-12686/2835)))),this.cgb[3]=(np*=n)*(4279/630+n*(-332/35+n*(-399572/14175))),this.cbg[3]=np*(1237/630+n*(n*(-24832/14175)-2.4)),this.cgb[4]=(np*=n)*(4174/315+n*(-144838/6237)),this.cbg[4]=np*(-734/315+n*(109598/31185)),this.cgb[5]=(np*=n)*(601676/22275),this.cbg[5]=np*(444337/155925),np=Math.pow(n,2),this.Qn=this.k0/(1+n)*(1+np*(1/4+np*(1/64+np/256))),this.utg[0]=n*(n*(2/3+n*(-37/96+n*(1/360+n*(81/512+n*(-96199/604800)))))-.5),this.gtu[0]=n*(.5+n*(-2/3+n*(5/16+n*(41/180+n*(-127/288+n*(7891/37800)))))),this.utg[1]=np*(-1/48+n*(-1/15+n*(437/1440+n*(-46/105+n*(1118711/3870720))))),this.gtu[1]=np*(13/48+n*(n*(557/1440+n*(281/630+n*(-1983433/1935360)))-.6)),this.utg[2]=(np*=n)*(-17/480+n*(37/840+n*(209/4480+n*(-5569/90720)))),this.gtu[2]=np*(61/240+n*(-103/140+n*(15061/26880+n*(167603/181440)))),this.utg[3]=(np*=n)*(-4397/161280+n*(11/504+n*(830251/7257600))),this.gtu[3]=np*(49561/161280+n*(-179/168+n*(6601661/7257600))),this.utg[4]=(np*=n)*(-4583/161280+n*(108847/3991680)),this.gtu[4]=np*(34729/80640+n*(-3418889/1995840)),this.utg[5]=(np*=n)*(-20648693/638668800),this.gtu[5]=.6650675310896665*np;var Z=gatg(this.cbg,this.lat0);this.Zb=-this.Qn*(Z+function(pp,arg_r){for(var hr,r=2*Math.cos(arg_r),i=pp.length-1,hr1=pp[i],hr2=0;--i>=0;)hr=r*hr1-hr2+pp[i],hr2=hr1,hr1=hr;return Math.sin(arg_r)*hr}(this.gtu,2*Z))},forward:function(p){var Ce=adjust_lon(p.x-this.long0),Cn=p.y;Cn=gatg(this.cbg,Cn);var sin_Cn=Math.sin(Cn),cos_Cn=Math.cos(Cn),sin_Ce=Math.sin(Ce),cos_Ce=Math.cos(Ce);Cn=Math.atan2(sin_Cn,cos_Ce*cos_Cn),Ce=Math.atan2(sin_Ce*cos_Cn,hypot(sin_Cn,cos_Cn*cos_Ce)),Ce=function(x){var y=Math.abs(x);return y=function(x){var y=1+x,z=y-1;return 0===z?x:x*Math.log(y)/z}(y*(1+y/(hypot(1,y)+1))),x<0?-y:y}(Math.tan(Ce));var x,y,tmp=clens_cmplx(this.gtu,2*Cn,2*Ce);return Cn+=tmp[0],Ce+=tmp[1],Math.abs(Ce)<=2.623395162778?(x=this.a*(this.Qn*Ce)+this.x0,y=this.a*(this.Qn*Cn+this.Zb)+this.y0):(x=1/0,y=1/0),p.x=x,p.y=y,p},inverse:function(p){var lon,lat,Ce=1/this.a*(p.x-this.x0),Cn=1/this.a*(p.y-this.y0);if(Cn=(Cn-this.Zb)/this.Qn,Ce/=this.Qn,Math.abs(Ce)<=2.623395162778){var tmp=clens_cmplx(this.utg,2*Cn,2*Ce);Cn+=tmp[0],Ce+=tmp[1],Ce=Math.atan(sinh(Ce));var sin_Cn=Math.sin(Cn),cos_Cn=Math.cos(Cn),sin_Ce=Math.sin(Ce),cos_Ce=Math.cos(Ce);Cn=Math.atan2(sin_Cn*cos_Ce,hypot(sin_Ce,cos_Ce*cos_Cn)),Ce=Math.atan2(sin_Ce,cos_Ce*cos_Cn),lon=adjust_lon(Ce+this.long0),lat=gatg(this.cgb,Cn)}else lon=1/0,lat=1/0;return p.x=lon,p.y=lat,p},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},utm={init:function(){var zone=function(zone,lon){if(void 0===zone){if((zone=Math.floor(30*(adjust_lon(lon)+Math.PI)/Math.PI)+1)<0)return 0;if(zone>60)return 60}return zone}(this.zone,this.long0);if(void 0===zone)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(zone)-183)*D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,etmerc.init.apply(this),this.forward=etmerc.forward,this.inverse=etmerc.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},srat=function(esinp,exp){return Math.pow((1-esinp)/(1+esinp),exp)},gauss={init:function(){var sphi=Math.sin(this.lat0),cphi=Math.cos(this.lat0);cphi*=cphi,this.rc=Math.sqrt(1-this.es)/(1-this.es*sphi*sphi),this.C=Math.sqrt(1+this.es*cphi*cphi/(1-this.es)),this.phic0=Math.asin(sphi/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*sphi,this.ratexp))},forward:function(p){var lon=p.x,lat=p.y;return p.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*lat+FORTPI),this.C)*srat(this.e*Math.sin(lat),this.ratexp))-HALF_PI,p.x=this.C*lon,p},inverse:function(p){for(var lon=p.x/this.C,lat=p.y,num=Math.pow(Math.tan(.5*lat+FORTPI)/this.K,1/this.C),i=20;i>0&&(lat=2*Math.atan(num*srat(this.e*Math.sin(p.y),-.5*this.e))-HALF_PI,!(Math.abs(lat-p.y)<1e-14));--i)p.y=lat;return i?(p.x=lon,p.y=lat,p):null},names:["gauss"]},sterea={init:function(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(p){var sinc,cosc,cosl,k;return p.x=adjust_lon(p.x-this.long0),gauss.forward.apply(this,[p]),sinc=Math.sin(p.y),cosc=Math.cos(p.y),cosl=Math.cos(p.x),p.x=(k=this.k0*this.R2/(1+this.sinc0*sinc+this.cosc0*cosc*cosl))*cosc*Math.sin(p.x),p.y=k*(this.cosc0*sinc-this.sinc0*cosc*cosl),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},inverse:function(p){var sinc,cosc,lon,lat,rho;if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,rho=Math.sqrt(p.x*p.x+p.y*p.y)){var c=2*Math.atan2(rho,this.R2);sinc=Math.sin(c),cosc=Math.cos(c),lat=Math.asin(cosc*this.sinc0+p.y*sinc*this.cosc0/rho),lon=Math.atan2(p.x*sinc,rho*this.cosc0*cosc-p.y*this.sinc0*sinc)}else lat=this.phic0,lon=0;return p.x=lon,p.y=lat,gauss.inverse.apply(this,[p]),p.x=adjust_lon(p.x+this.long0),p},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},stere={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+sign(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(p){var A,X,sinX,cosX,ts,rh,lon=p.x,lat=p.y,sinlat=Math.sin(lat),coslat=Math.cos(lat),dlon=adjust_lon(lon-this.long0);return Math.abs(Math.abs(lon-this.long0)-Math.PI)<=1e-10&&Math.abs(lat+this.lat0)<=1e-10?(p.x=NaN,p.y=NaN,p):this.sphere?(A=2*this.k0/(1+this.sinlat0*sinlat+this.coslat0*coslat*Math.cos(dlon)),p.x=this.a*A*coslat*Math.sin(dlon)+this.x0,p.y=this.a*A*(this.coslat0*sinlat-this.sinlat0*coslat*Math.cos(dlon))+this.y0,p):(X=2*Math.atan(this.ssfn_(lat,sinlat,this.e))-HALF_PI,cosX=Math.cos(X),sinX=Math.sin(X),Math.abs(this.coslat0)<=1e-10?(ts=tsfnz(this.e,lat*this.con,this.con*sinlat),p.x=this.x0+(rh=2*this.a*this.k0*ts/this.cons)*Math.sin(lon-this.long0),p.y=this.y0-this.con*rh*Math.cos(lon-this.long0),p):(Math.abs(this.sinlat0)<1e-10?(A=2*this.a*this.k0/(1+cosX*Math.cos(dlon)),p.y=A*sinX):(A=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*sinX+this.cosX0*cosX*Math.cos(dlon))),p.y=A*(this.cosX0*sinX-this.sinX0*cosX*Math.cos(dlon))+this.y0),p.x=A*cosX*Math.sin(dlon)+this.x0,p))},inverse:function(p){var lon,lat,ce,Chi;p.x-=this.x0,p.y-=this.y0;var rh=Math.sqrt(p.x*p.x+p.y*p.y);if(this.sphere){var c=2*Math.atan(rh/(2*this.a*this.k0));return lon=this.long0,lat=this.lat0,rh<=1e-10?(p.x=lon,p.y=lat,p):(lat=Math.asin(Math.cos(c)*this.sinlat0+p.y*Math.sin(c)*this.coslat0/rh),lon=Math.abs(this.coslat0)<1e-10?adjust_lon(this.lat0>0?this.long0+Math.atan2(p.x,-1*p.y):this.long0+Math.atan2(p.x,p.y)):adjust_lon(this.long0+Math.atan2(p.x*Math.sin(c),rh*this.coslat0*Math.cos(c)-p.y*this.sinlat0*Math.sin(c))),p.x=lon,p.y=lat,p)}if(Math.abs(this.coslat0)<=1e-10){if(rh<=1e-10)return lat=this.lat0,p.x=lon=this.long0,p.y=lat,p;p.x*=this.con,p.y*=this.con,lat=this.con*phi2z(this.e,rh*this.cons/(2*this.a*this.k0)),lon=this.con*adjust_lon(this.con*this.long0+Math.atan2(p.x,-1*p.y))}else ce=2*Math.atan(rh*this.cosX0/(2*this.a*this.k0*this.ms1)),lon=this.long0,rh<=1e-10?Chi=this.X0:(Chi=Math.asin(Math.cos(ce)*this.sinX0+p.y*Math.sin(ce)*this.cosX0/rh),lon=adjust_lon(this.long0+Math.atan2(p.x*Math.sin(ce),rh*this.cosX0*Math.cos(ce)-p.y*this.sinX0*Math.sin(ce)))),lat=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+Chi)));return p.x=lon,p.y=lat,p},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(phit,sinphi,eccen){return sinphi*=eccen,Math.tan(.5*(HALF_PI+phit))*Math.pow((1-sinphi)/(1+sinphi),.5*eccen)}},somerc={init:function(){var phy0=this.lat0;this.lambda0=this.long0;var sinPhy0=Math.sin(phy0),semiMajorAxis=this.a,flattening=1/this.rf,e2=2*flattening-Math.pow(flattening,2),e=this.e=Math.sqrt(e2);this.R=this.k0*semiMajorAxis*Math.sqrt(1-e2)/(1-e2*Math.pow(sinPhy0,2)),this.alpha=Math.sqrt(1+e2/(1-e2)*Math.pow(Math.cos(phy0),4)),this.b0=Math.asin(sinPhy0/this.alpha);var k1=Math.log(Math.tan(Math.PI/4+this.b0/2)),k2=Math.log(Math.tan(Math.PI/4+phy0/2)),k3=Math.log((1+e*sinPhy0)/(1-e*sinPhy0));this.K=k1-this.alpha*k2+this.alpha*e/2*k3},forward:function(p){var Sa1=Math.log(Math.tan(Math.PI/4-p.y/2)),Sa2=this.e/2*Math.log((1+this.e*Math.sin(p.y))/(1-this.e*Math.sin(p.y))),b=2*(Math.atan(Math.exp(-this.alpha*(Sa1+Sa2)+this.K))-Math.PI/4),I=this.alpha*(p.x-this.lambda0),rotI=Math.atan(Math.sin(I)/(Math.sin(this.b0)*Math.tan(b)+Math.cos(this.b0)*Math.cos(I))),rotB=Math.asin(Math.cos(this.b0)*Math.sin(b)-Math.sin(this.b0)*Math.cos(b)*Math.cos(I));return p.y=this.R/2*Math.log((1+Math.sin(rotB))/(1-Math.sin(rotB)))+this.y0,p.x=this.R*rotI+this.x0,p},inverse:function(p){for(var rotI=(p.x-this.x0)/this.R,rotB=2*(Math.atan(Math.exp((p.y-this.y0)/this.R))-Math.PI/4),b=Math.asin(Math.cos(this.b0)*Math.sin(rotB)+Math.sin(this.b0)*Math.cos(rotB)*Math.cos(rotI)),I=Math.atan(Math.sin(rotI)/(Math.cos(this.b0)*Math.cos(rotI)-Math.sin(this.b0)*Math.tan(rotB))),lambda=this.lambda0+I/this.alpha,S=0,phy=b,prevPhy=-1e3,iteration=0;Math.abs(phy-prevPhy)>1e-7;){if(++iteration>20)return;S=1/this.alpha*(Math.log(Math.tan(Math.PI/4+b/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(phy))/2)),prevPhy=phy,phy=2*Math.atan(Math.exp(S))-Math.PI/2}return p.x=lambda,p.y=phy,p},names:["somerc"]},omerc={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var sinlat=Math.sin(this.lat0),coslat=Math.cos(this.lat0),con=this.e*sinlat;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(coslat,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-con*con);var fl,gl,t0=tsfnz(this.e,this.lat0,sinlat),dl=this.bl/coslat*Math.sqrt((1-this.es)/(1-con*con));if(dl*dl<1&&(dl=1),isNaN(this.longc)){var t1=tsfnz(this.e,this.lat1,Math.sin(this.lat1)),t2=tsfnz(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(dl+Math.sqrt(dl*dl-1))*Math.pow(t0,this.bl):(dl-Math.sqrt(dl*dl-1))*Math.pow(t0,this.bl);var hl=Math.pow(t1,this.bl),ll=Math.pow(t2,this.bl);gl=.5*((fl=this.el/hl)-1/fl);var jl=(this.el*this.el-ll*hl)/(this.el*this.el+ll*hl),pl=(ll-hl)/(ll+hl),dlon12=adjust_lon(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(jl*Math.tan(.5*this.bl*dlon12)/pl)/this.bl,this.long0=adjust_lon(this.long0);var dlon10=adjust_lon(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*dlon10)/gl),this.alpha=Math.asin(dl*Math.sin(this.gamma0))}else fl=this.lat0>=0?dl+Math.sqrt(dl*dl-1):dl-Math.sqrt(dl*dl-1),this.el=fl*Math.pow(t0,this.bl),gl=.5*(fl-1/fl),this.gamma0=Math.asin(Math.sin(this.alpha)/dl),this.long0=this.longc-Math.asin(gl*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(dl*dl-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(dl*dl-1),Math.cos(this.alpha))},forward:function(p){var us,vs,con,lat=p.y,dlon=adjust_lon(p.x-this.long0);if(Math.abs(Math.abs(lat)-HALF_PI)<=1e-10)con=lat>0?-1:1,vs=this.al/this.bl*Math.log(Math.tan(FORTPI+con*this.gamma0*.5)),us=-1*con*HALF_PI*this.al/this.bl;else{var t=tsfnz(this.e,lat,Math.sin(lat)),ql=this.el/Math.pow(t,this.bl),sl=.5*(ql-1/ql),tl=.5*(ql+1/ql),vl=Math.sin(this.bl*dlon),ul=(sl*Math.sin(this.gamma0)-vl*Math.cos(this.gamma0))/tl;vs=Math.abs(Math.abs(ul)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-ul)/(1+ul))/this.bl,us=Math.abs(Math.cos(this.bl*dlon))<=1e-10?this.al*this.bl*dlon:this.al*Math.atan2(sl*Math.cos(this.gamma0)+vl*Math.sin(this.gamma0),Math.cos(this.bl*dlon))/this.bl}return this.no_rot?(p.x=this.x0+us,p.y=this.y0+vs):(us-=this.uc,p.x=this.x0+vs*Math.cos(this.alpha)+us*Math.sin(this.alpha),p.y=this.y0+us*Math.cos(this.alpha)-vs*Math.sin(this.alpha)),p},inverse:function(p){var us,vs;this.no_rot?(vs=p.y-this.y0,us=p.x-this.x0):(vs=(p.x-this.x0)*Math.cos(this.alpha)-(p.y-this.y0)*Math.sin(this.alpha),us=(p.y-this.y0)*Math.cos(this.alpha)+(p.x-this.x0)*Math.sin(this.alpha),us+=this.uc);var qp=Math.exp(-1*this.bl*vs/this.al),sp=.5*(qp-1/qp),tp=.5*(qp+1/qp),vp=Math.sin(this.bl*us/this.al),up=(vp*Math.cos(this.gamma0)+sp*Math.sin(this.gamma0))/tp,ts=Math.pow(this.el/Math.sqrt((1+up)/(1-up)),1/this.bl);return Math.abs(up-1)<1e-10?(p.x=this.long0,p.y=HALF_PI):Math.abs(up+1)<1e-10?(p.x=this.long0,p.y=-1*HALF_PI):(p.y=phi2z(this.e,ts),p.x=adjust_lon(this.long0-Math.atan2(sp*Math.cos(this.gamma0)-vp*Math.sin(this.gamma0),Math.cos(this.bl*us/this.al))/this.bl)),p},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},lcc={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var temp=this.b/this.a;this.e=Math.sqrt(1-temp*temp);var sin1=Math.sin(this.lat1),cos1=Math.cos(this.lat1),ms1=msfnz(this.e,sin1,cos1),ts1=tsfnz(this.e,this.lat1,sin1),sin2=Math.sin(this.lat2),cos2=Math.cos(this.lat2),ms2=msfnz(this.e,sin2,cos2),ts2=tsfnz(this.e,this.lat2,sin2),ts0=tsfnz(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>1e-10?Math.log(ms1/ms2)/Math.log(ts1/ts2):sin1,isNaN(this.ns)&&(this.ns=sin1),this.f0=ms1/(this.ns*Math.pow(ts1,this.ns)),this.rh=this.a*this.f0*Math.pow(ts0,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(p){var lon=p.x,lat=p.y;Math.abs(2*Math.abs(lat)-Math.PI)<=1e-10&&(lat=sign(lat)*(HALF_PI-2e-10));var ts,rh1,con=Math.abs(Math.abs(lat)-HALF_PI);if(con>1e-10)ts=tsfnz(this.e,lat,Math.sin(lat)),rh1=this.a*this.f0*Math.pow(ts,this.ns);else{if((con=lat*this.ns)<=0)return null;rh1=0}var theta=this.ns*adjust_lon(lon-this.long0);return p.x=this.k0*(rh1*Math.sin(theta))+this.x0,p.y=this.k0*(this.rh-rh1*Math.cos(theta))+this.y0,p},inverse:function(p){var rh1,con,ts,lat,lon,x=(p.x-this.x0)/this.k0,y=this.rh-(p.y-this.y0)/this.k0;this.ns>0?(rh1=Math.sqrt(x*x+y*y),con=1):(rh1=-Math.sqrt(x*x+y*y),con=-1);var theta=0;if(0!==rh1&&(theta=Math.atan2(con*x,con*y)),0!==rh1||this.ns>0){if(con=1/this.ns,ts=Math.pow(rh1/(this.a*this.f0),con),-9999===(lat=phi2z(this.e,ts)))return null}else lat=-HALF_PI;return lon=adjust_lon(theta/this.ns+this.long0),p.x=lon,p.y=lat,p},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},krovak={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(p){var gfi,u,deltav,s,d,eps,ro,lat=p.y,delta_lon=adjust_lon(p.x-this.long0);return gfi=Math.pow((1+this.e*Math.sin(lat))/(1-this.e*Math.sin(lat)),this.alfa*this.e/2),u=2*(Math.atan(this.k*Math.pow(Math.tan(lat/2+this.s45),this.alfa)/gfi)-this.s45),deltav=-delta_lon*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(u)+Math.sin(this.ad)*Math.cos(u)*Math.cos(deltav)),d=Math.asin(Math.cos(u)*Math.sin(deltav)/Math.cos(s)),eps=this.n*d,ro=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),p.y=ro*Math.cos(eps)/1,p.x=ro*Math.sin(eps)/1,this.czech||(p.y*=-1,p.x*=-1),p},inverse:function(p){var u,deltav,s,d,ro,fi1,ok,tmp=p.x;p.x=p.y,p.y=tmp,this.czech||(p.y*=-1,p.x*=-1),ro=Math.sqrt(p.x*p.x+p.y*p.y),d=Math.atan2(p.y,p.x)/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/ro,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),u=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(d)),deltav=Math.asin(Math.cos(s)*Math.sin(d)/Math.cos(u)),p.x=this.long0-deltav/this.alfa,fi1=u,ok=0;var iter=0;do{p.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(u/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(fi1))/(1-this.e*Math.sin(fi1)),this.e/2))-this.s45),Math.abs(fi1-p.y)<1e-10&&(ok=1),fi1=p.y,iter+=1}while(0===ok&&iter<15);return iter>=15?null:p},names:["Krovak","krovak"]},mlfn=function(e0,e1,e2,e3,phi){return e0*phi-e1*Math.sin(2*phi)+e2*Math.sin(4*phi)-e3*Math.sin(6*phi)},e0fn=function(x){return 1-.25*x*(1+x/16*(3+1.25*x))},e1fn=function(x){return.375*x*(1+.25*x*(1+.46875*x))},e2fn=function(x){return.05859375*x*x*(1+.75*x)},e3fn=function(x){return x*x*x*(35/3072)},gN=function(a,e,sinphi){var temp=e*sinphi;return a/Math.sqrt(1-temp*temp)},adjust_lat=function(x){return Math.abs(x)<HALF_PI?x:x-sign(x)*Math.PI},imlfn=function(ml,e0,e1,e2,e3){var phi,dphi;phi=ml/e0;for(var i=0;i<15;i++)if(phi+=dphi=(ml-(e0*phi-e1*Math.sin(2*phi)+e2*Math.sin(4*phi)-e3*Math.sin(6*phi)))/(e0-2*e1*Math.cos(2*phi)+4*e2*Math.cos(4*phi)-6*e3*Math.cos(6*phi)),Math.abs(dphi)<=1e-10)return phi;return NaN},cass={init:function(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(p){var x,y,lam=p.x,phi=p.y;if(lam=adjust_lon(lam-this.long0),this.sphere)x=this.a*Math.asin(Math.cos(phi)*Math.sin(lam)),y=this.a*(Math.atan2(Math.tan(phi),Math.cos(lam))-this.lat0);else{var sinphi=Math.sin(phi),cosphi=Math.cos(phi),nl=gN(this.a,this.e,sinphi),tl=Math.tan(phi)*Math.tan(phi),al=lam*Math.cos(phi),asq=al*al,cl=this.es*cosphi*cosphi/(1-this.es);x=nl*al*(1-asq*tl*(1/6-(8-tl+8*cl)*asq/120)),y=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,phi)-this.ml0+nl*sinphi/cosphi*asq*(.5+(5-tl+6*cl)*asq/24)}return p.x=x+this.x0,p.y=y+this.y0,p},inverse:function(p){p.x-=this.x0,p.y-=this.y0;var phi,lam,x=p.x/this.a,y=p.y/this.a;if(this.sphere){var dd=y+this.lat0;phi=Math.asin(Math.sin(dd)*Math.cos(x)),lam=Math.atan2(Math.tan(x),Math.cos(dd))}else{var phi1=imlfn(this.ml0/this.a+y,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(phi1)-HALF_PI)<=1e-10)return p.x=this.long0,p.y=HALF_PI,y<0&&(p.y*=-1),p;var nl1=gN(this.a,this.e,Math.sin(phi1)),rl1=nl1*nl1*nl1/this.a/this.a*(1-this.es),tl1=Math.pow(Math.tan(phi1),2),dl=x*this.a/nl1,dsq=dl*dl;phi=phi1-nl1*Math.tan(phi1)/rl1*dl*dl*(.5-(1+3*tl1)*dl*dl/24),lam=dl*(1-dsq*(tl1/3+(1+3*tl1)*tl1*dsq/15))/Math.cos(phi1)}return p.x=adjust_lon(lam+this.long0),p.y=adjust_lat(phi),p},names:["Cassini","Cassini_Soldner","cass"]},qsfnz=function(eccent,sinphi){var con;return eccent>1e-7?(1-eccent*eccent)*(sinphi/(1-(con=eccent*sinphi)*con)-.5/eccent*Math.log((1-con)/(1+con))):2*sinphi},laea={init:function(){var sinphi,t=Math.abs(this.lat0);if(this.mode=Math.abs(t-HALF_PI)<1e-10?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<1e-10?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(es){var t,APA=[];return APA[0]=.3333333333333333*es,APA[0]+=.17222222222222222*(t=es*es),APA[1]=.06388888888888888*t,APA[0]+=.10257936507936508*(t*=es),APA[1]+=.0664021164021164*t,APA[2]=.016415012942191543*t,APA}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),sinphi=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,sinphi)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*sinphi*sinphi)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(p){var x,y,coslam,sinlam,sinphi,q,sinb,cosb,b,cosphi,lam=p.x,phi=p.y;if(lam=adjust_lon(lam-this.long0),this.sphere){if(sinphi=Math.sin(phi),cosphi=Math.cos(phi),coslam=Math.cos(lam),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((y=this.mode===this.EQUIT?1+cosphi*coslam:1+this.sinph0*sinphi+this.cosph0*cosphi*coslam)<=1e-10)return null;x=(y=Math.sqrt(2/y))*cosphi*Math.sin(lam),y*=this.mode===this.EQUIT?sinphi:this.cosph0*sinphi-this.sinph0*cosphi*coslam}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(coslam=-coslam),Math.abs(phi+this.phi0)<1e-10)return null;y=FORTPI-.5*phi,x=(y=2*(this.mode===this.S_POLE?Math.cos(y):Math.sin(y)))*Math.sin(lam),y*=coslam}}else{switch(sinb=0,cosb=0,b=0,coslam=Math.cos(lam),sinlam=Math.sin(lam),sinphi=Math.sin(phi),q=qsfnz(this.e,sinphi),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(sinb=q/this.qp,cosb=Math.sqrt(1-sinb*sinb)),this.mode){case this.OBLIQ:b=1+this.sinb1*sinb+this.cosb1*cosb*coslam;break;case this.EQUIT:b=1+cosb*coslam;break;case this.N_POLE:b=HALF_PI+phi,q=this.qp-q;break;case this.S_POLE:b=phi-HALF_PI,q=this.qp+q}if(Math.abs(b)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:b=Math.sqrt(2/b),y=this.mode===this.OBLIQ?this.ymf*b*(this.cosb1*sinb-this.sinb1*cosb*coslam):(b=Math.sqrt(2/(1+cosb*coslam)))*sinb*this.ymf,x=this.xmf*b*cosb*sinlam;break;case this.N_POLE:case this.S_POLE:q>=0?(x=(b=Math.sqrt(q))*sinlam,y=coslam*(this.mode===this.S_POLE?b:-b)):x=y=0}}return p.x=this.a*x+this.x0,p.y=this.a*y+this.y0,p},inverse:function(p){p.x-=this.x0,p.y-=this.y0;var lam,phi,cCe,sCe,q,rho,ab,beta,APA,t,x=p.x/this.a,y=p.y/this.a;if(this.sphere){var rh,cosz=0,sinz=0;if((phi=.5*(rh=Math.sqrt(x*x+y*y)))>1)return null;switch(phi=2*Math.asin(phi),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(sinz=Math.sin(phi),cosz=Math.cos(phi)),this.mode){case this.EQUIT:phi=Math.abs(rh)<=1e-10?0:Math.asin(y*sinz/rh),x*=sinz,y=cosz*rh;break;case this.OBLIQ:phi=Math.abs(rh)<=1e-10?this.phi0:Math.asin(cosz*this.sinph0+y*sinz*this.cosph0/rh),x*=sinz*this.cosph0,y=(cosz-Math.sin(phi)*this.sinph0)*rh;break;case this.N_POLE:y=-y,phi=HALF_PI-phi;break;case this.S_POLE:phi-=HALF_PI}lam=0!==y||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(x,y):0}else{if(ab=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(x/=this.dd,y*=this.dd,(rho=Math.sqrt(x*x+y*y))<1e-10)return p.x=0,p.y=this.phi0,p;sCe=2*Math.asin(.5*rho/this.rq),cCe=Math.cos(sCe),x*=sCe=Math.sin(sCe),this.mode===this.OBLIQ?(q=this.qp*(ab=cCe*this.sinb1+y*sCe*this.cosb1/rho),y=rho*this.cosb1*cCe-y*this.sinb1*sCe):(q=this.qp*(ab=y*sCe/rho),y=rho*cCe)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(y=-y),!(q=x*x+y*y))return p.x=0,p.y=this.phi0,p;ab=1-q/this.qp,this.mode===this.S_POLE&&(ab=-ab)}lam=Math.atan2(x,y),t=(beta=Math.asin(ab))+beta,phi=beta+(APA=this.apa)[0]*Math.sin(t)+APA[1]*Math.sin(t+t)+APA[2]*Math.sin(t+t+t)}return p.x=adjust_lon(this.long0+lam),p.y=phi,p},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},asinz=function(x){return Math.abs(x)>1&&(x=x>1?1:-1),Math.asin(x)},aea={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>1e-10?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(p){var lon=p.x,lat=p.y;this.sin_phi=Math.sin(lat),this.cos_phi=Math.cos(lat);var qs=qsfnz(this.e3,this.sin_phi),rh1=this.a*Math.sqrt(this.c-this.ns0*qs)/this.ns0,theta=this.ns0*adjust_lon(lon-this.long0),x=rh1*Math.sin(theta)+this.x0,y=this.rh-rh1*Math.cos(theta)+this.y0;return p.x=x,p.y=y,p},inverse:function(p){var rh1,con,theta,lon,lat;return p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns0>=0?(rh1=Math.sqrt(p.x*p.x+p.y*p.y),con=1):(rh1=-Math.sqrt(p.x*p.x+p.y*p.y),con=-1),theta=0,0!==rh1&&(theta=Math.atan2(con*p.x,con*p.y)),con=rh1*this.ns0/this.a,lat=this.sphere?Math.asin((this.c-con*con)/(2*this.ns0)):this.phi1z(this.e3,(this.c-con*con)/this.ns0),lon=adjust_lon(theta/this.ns0+this.long0),p.x=lon,p.y=lat,p},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(eccent,qs){var sinphi,con,com,dphi,phi=asinz(.5*qs);if(eccent<1e-10)return phi;for(var eccnts=eccent*eccent,i=1;i<=25;i++)if(phi+=dphi=.5*(com=1-(con=eccent*(sinphi=Math.sin(phi)))*con)*com/Math.cos(phi)*(qs/(1-eccnts)-sinphi/com+.5/eccent*Math.log((1-con)/(1+con))),Math.abs(dphi)<=1e-7)return phi;return null}},gnom={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(p){var sinphi,cosphi,dlon,coslon,g,x,y,lat=p.y;return dlon=adjust_lon(p.x-this.long0),sinphi=Math.sin(lat),cosphi=Math.cos(lat),coslon=Math.cos(dlon),(g=this.sin_p14*sinphi+this.cos_p14*cosphi*coslon)>0||Math.abs(g)<=1e-10?(x=this.x0+1*this.a*cosphi*Math.sin(dlon)/g,y=this.y0+1*this.a*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)/g):(x=this.x0+this.infinity_dist*cosphi*Math.sin(dlon),y=this.y0+this.infinity_dist*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)),p.x=x,p.y=y,p},inverse:function(p){var rh,sinc,cosc,c,lon,lat;return p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,(rh=Math.sqrt(p.x*p.x+p.y*p.y))?(c=Math.atan2(rh,this.rc),sinc=Math.sin(c),cosc=Math.cos(c),lat=asinz(cosc*this.sin_p14+p.y*sinc*this.cos_p14/rh),lon=Math.atan2(p.x*sinc,rh*this.cos_p14*cosc-p.y*this.sin_p14*sinc),lon=adjust_lon(this.long0+lon)):(lat=this.phic0,lon=0),p.x=lon,p.y=lat,p},names:["gnom"]},cea={init:function(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(p){var x,y,lat=p.y,dlon=adjust_lon(p.x-this.long0);if(this.sphere)x=this.x0+this.a*dlon*Math.cos(this.lat_ts),y=this.y0+this.a*Math.sin(lat)/Math.cos(this.lat_ts);else{var qs=qsfnz(this.e,Math.sin(lat));x=this.x0+this.a*this.k0*dlon,y=this.y0+this.a*qs*.5/this.k0}return p.x=x,p.y=y,p},inverse:function(p){var lon,lat;return p.x-=this.x0,p.y-=this.y0,this.sphere?(lon=adjust_lon(this.long0+p.x/this.a/Math.cos(this.lat_ts)),lat=Math.asin(p.y/this.a*Math.cos(this.lat_ts))):(lat=function(eccent,q){var temp=1-(1-eccent*eccent)/(2*eccent)*Math.log((1-eccent)/(1+eccent));if(Math.abs(Math.abs(q)-temp)<1e-6)return q<0?-1*HALF_PI:HALF_PI;for(var dphi,sin_phi,cos_phi,con,phi=Math.asin(.5*q),i=0;i<30;i++)if(sin_phi=Math.sin(phi),cos_phi=Math.cos(phi),con=eccent*sin_phi,phi+=dphi=Math.pow(1-con*con,2)/(2*cos_phi)*(q/(1-eccent*eccent)-sin_phi/(1-con*con)+.5/eccent*Math.log((1-con)/(1+con))),Math.abs(dphi)<=1e-10)return phi;return NaN}(this.e,2*p.y*this.k0/this.a),lon=adjust_lon(this.long0+p.x/(this.a*this.k0))),p.x=lon,p.y=lat,p},names:["cea"]},eqc={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(p){var lat=p.y,dlon=adjust_lon(p.x-this.long0),dlat=adjust_lat(lat-this.lat0);return p.x=this.x0+this.a*dlon*this.rc,p.y=this.y0+this.a*dlat,p},inverse:function(p){var y=p.y;return p.x=adjust_lon(this.long0+(p.x-this.x0)/(this.a*this.rc)),p.y=adjust_lat(this.lat0+(y-this.y0)/this.a),p},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},poly={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(p){var x,y,el,lat=p.y,dlon=adjust_lon(p.x-this.long0);if(el=dlon*Math.sin(lat),this.sphere)Math.abs(lat)<=1e-10?(x=this.a*dlon,y=-1*this.a*this.lat0):(x=this.a*Math.sin(el)/Math.tan(lat),y=this.a*(adjust_lat(lat-this.lat0)+(1-Math.cos(el))/Math.tan(lat)));else if(Math.abs(lat)<=1e-10)x=this.a*dlon,y=-1*this.ml0;else{var nl=gN(this.a,this.e,Math.sin(lat))/Math.tan(lat);x=nl*Math.sin(el),y=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,lat)-this.ml0+nl*(1-Math.cos(el))}return p.x=x+this.x0,p.y=y+this.y0,p},inverse:function(p){var lon,lat,x,y,i,al,bl,phi,dphi;if(x=p.x-this.x0,y=p.y-this.y0,this.sphere)if(Math.abs(y+this.a*this.lat0)<=1e-10)lon=adjust_lon(x/this.a+this.long0),lat=0;else{var tanphi;for(bl=x*x/this.a/this.a+(al=this.lat0+y/this.a)*al,phi=al,i=20;i;--i)if(phi+=dphi=-1*(al*(phi*(tanphi=Math.tan(phi))+1)-phi-.5*(phi*phi+bl)*tanphi)/((phi-al)/tanphi-1),Math.abs(dphi)<=1e-10){lat=phi;break}lon=adjust_lon(this.long0+Math.asin(x*Math.tan(phi)/this.a)/Math.sin(lat))}else if(Math.abs(y+this.ml0)<=1e-10)lat=0,lon=adjust_lon(this.long0+x/this.a);else{var cl,mln,mlnp,ma,con;for(bl=x*x/this.a/this.a+(al=(this.ml0+y)/this.a)*al,phi=al,i=20;i;--i)if(con=this.e*Math.sin(phi),cl=Math.sqrt(1-con*con)*Math.tan(phi),mln=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,phi),mlnp=this.e0-2*this.e1*Math.cos(2*phi)+4*this.e2*Math.cos(4*phi)-6*this.e3*Math.cos(6*phi),phi-=dphi=(al*(cl*(ma=mln/this.a)+1)-ma-.5*cl*(ma*ma+bl))/(this.es*Math.sin(2*phi)*(ma*ma+bl-2*al*ma)/(4*cl)+(al-ma)*(cl*mlnp-2/Math.sin(2*phi))-mlnp),Math.abs(dphi)<=1e-10){lat=phi;break}cl=Math.sqrt(1-this.es*Math.pow(Math.sin(lat),2))*Math.tan(lat),lon=adjust_lon(this.long0+Math.asin(x*cl/this.a)/Math.sin(lat))}return p.x=lon,p.y=lat,p},names:["Polyconic","poly"]},nzmg={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(p){var n,d_phi=(p.y-this.lat0)/SEC_TO_RAD*1e-5,d_lambda=p.x-this.long0,d_phi_n=1,d_psi=0;for(n=1;n<=10;n++)d_psi+=this.A[n]*(d_phi_n*=d_phi);var th_n_im1,th_re=d_psi,th_im=d_lambda,th_n_re=1,th_n_im=0,z_re=0,z_im=0;for(n=1;n<=6;n++)th_n_im1=th_n_im*th_re+th_n_re*th_im,z_re=z_re+this.B_re[n]*(th_n_re=th_n_re*th_re-th_n_im*th_im)-this.B_im[n]*(th_n_im=th_n_im1),z_im=z_im+this.B_im[n]*th_n_re+this.B_re[n]*th_n_im;return p.x=z_im*this.a+this.x0,p.y=z_re*this.a+this.y0,p},inverse:function(p){var n,z_n_im1,z_re=(p.y-this.y0)/this.a,z_im=(p.x-this.x0)/this.a,z_n_re=1,z_n_im=0,th_re=0,th_im=0;for(n=1;n<=6;n++)z_n_im1=z_n_im*z_re+z_n_re*z_im,th_re=th_re+this.C_re[n]*(z_n_re=z_n_re*z_re-z_n_im*z_im)-this.C_im[n]*(z_n_im=z_n_im1),th_im=th_im+this.C_im[n]*z_n_re+this.C_re[n]*z_n_im;for(var i=0;i<this.iterations;i++){var th_n_im1,th_n_re=th_re,th_n_im=th_im,num_re=z_re,num_im=z_im;for(n=2;n<=6;n++)th_n_im1=th_n_im*th_re+th_n_re*th_im,num_re+=(n-1)*(this.B_re[n]*(th_n_re=th_n_re*th_re-th_n_im*th_im)-this.B_im[n]*(th_n_im=th_n_im1)),num_im+=(n-1)*(this.B_im[n]*th_n_re+this.B_re[n]*th_n_im);th_n_re=1,th_n_im=0;var den_re=this.B_re[1],den_im=this.B_im[1];for(n=2;n<=6;n++)th_n_im1=th_n_im*th_re+th_n_re*th_im,den_re+=n*(this.B_re[n]*(th_n_re=th_n_re*th_re-th_n_im*th_im)-this.B_im[n]*(th_n_im=th_n_im1)),den_im+=n*(this.B_im[n]*th_n_re+this.B_re[n]*th_n_im);var den2=den_re*den_re+den_im*den_im;th_re=(num_re*den_re+num_im*den_im)/den2,th_im=(num_im*den_re-num_re*den_im)/den2}var d_psi=th_re,d_lambda=th_im,d_psi_n=1,d_phi=0;for(n=1;n<=9;n++)d_phi+=this.D[n]*(d_psi_n*=d_psi);var lat=this.lat0+d_phi*SEC_TO_RAD*1e5;return p.x=this.long0+d_lambda,p.y=lat,p},names:["New_Zealand_Map_Grid","nzmg"]},mill={init:function(){},forward:function(p){var lat=p.y,dlon=adjust_lon(p.x-this.long0),x=this.x0+this.a*dlon,y=this.y0+this.a*Math.log(Math.tan(Math.PI/4+lat/2.5))*1.25;return p.x=x,p.y=y,p},inverse:function(p){p.x-=this.x0,p.y-=this.y0;var lon=adjust_lon(this.long0+p.x/this.a),lat=2.5*(Math.atan(Math.exp(.8*p.y/this.a))-Math.PI/4);return p.x=lon,p.y=lat,p},names:["Miller_Cylindrical","mill"]},sinu={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)},forward:function(p){var x,y,lon=p.x,lat=p.y;if(lon=adjust_lon(lon-this.long0),this.sphere){if(this.m)for(var k=this.n*Math.sin(lat),i=20;i;--i){var V=(this.m*lat+Math.sin(lat)-k)/(this.m+Math.cos(lat));if(lat-=V,Math.abs(V)<1e-10)break}else lat=1!==this.n?Math.asin(this.n*Math.sin(lat)):lat;x=this.a*this.C_x*lon*(this.m+Math.cos(lat)),y=this.a*this.C_y*lat}else{var s=Math.sin(lat),c=Math.cos(lat);y=this.a*pj_mlfn(lat,s,c,this.en),x=this.a*lon*c/Math.sqrt(1-this.es*s*s)}return p.x=x,p.y=y,p},inverse:function(p){var lat,temp,lon,s;return p.x-=this.x0,lon=p.x/this.a,p.y-=this.y0,lat=p.y/this.a,this.sphere?(lat/=this.C_y,lon/=this.C_x*(this.m+Math.cos(lat)),this.m?lat=asinz((this.m*lat+Math.sin(lat))/this.n):1!==this.n&&(lat=asinz(Math.sin(lat)/this.n)),lon=adjust_lon(lon+this.long0),lat=adjust_lat(lat)):(lat=pj_inv_mlfn(p.y/this.a,this.es,this.en),(s=Math.abs(lat))<HALF_PI?(s=Math.sin(lat),temp=this.long0+p.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(lat)),lon=adjust_lon(temp)):s-1e-10<HALF_PI&&(lon=this.long0)),p.x=lon,p.y=lat,p},names:["Sinusoidal","sinu"]},moll={init:function(){},forward:function(p){for(var lat=p.y,delta_lon=adjust_lon(p.x-this.long0),theta=lat,con=Math.PI*Math.sin(lat);;){var delta_theta=-(theta+Math.sin(theta)-con)/(1+Math.cos(theta));if(theta+=delta_theta,Math.abs(delta_theta)<1e-10)break}theta/=2,Math.PI/2-Math.abs(lat)<1e-10&&(delta_lon=0);var x=.900316316158*this.a*delta_lon*Math.cos(theta)+this.x0,y=1.4142135623731*this.a*Math.sin(theta)+this.y0;return p.x=x,p.y=y,p},inverse:function(p){var theta,arg;p.x-=this.x0,p.y-=this.y0,arg=p.y/(1.4142135623731*this.a),Math.abs(arg)>.999999999999&&(arg=.999999999999),theta=Math.asin(arg);var lon=adjust_lon(this.long0+p.x/(.900316316158*this.a*Math.cos(theta)));lon<-Math.PI&&(lon=-Math.PI),lon>Math.PI&&(lon=Math.PI),arg=(2*theta+Math.sin(2*theta))/Math.PI,Math.abs(arg)>1&&(arg=1);var lat=Math.asin(arg);return p.x=lon,p.y=lat,p},names:["Mollweide","moll"]},eqdc={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(p){var rh1,lon=p.x,lat=p.y;if(this.sphere)rh1=this.a*(this.g-lat);else{var ml=mlfn(this.e0,this.e1,this.e2,this.e3,lat);rh1=this.a*(this.g-ml)}var theta=this.ns*adjust_lon(lon-this.long0),x=this.x0+rh1*Math.sin(theta),y=this.y0+this.rh-rh1*Math.cos(theta);return p.x=x,p.y=y,p},inverse:function(p){var con,rh1,lat,lon;p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns>=0?(rh1=Math.sqrt(p.x*p.x+p.y*p.y),con=1):(rh1=-Math.sqrt(p.x*p.x+p.y*p.y),con=-1);var theta=0;return 0!==rh1&&(theta=Math.atan2(con*p.x,con*p.y)),this.sphere?(lon=adjust_lon(this.long0+theta/this.ns),lat=adjust_lat(this.g-rh1/this.a),p.x=lon,p.y=lat,p):(lat=imlfn(this.g-rh1/this.a,this.e0,this.e1,this.e2,this.e3),lon=adjust_lon(this.long0+theta/this.ns),p.x=lon,p.y=lat,p)},names:["Equidistant_Conic","eqdc"]},vandg={init:function(){this.R=this.a},forward:function(p){var x,y,lat=p.y,dlon=adjust_lon(p.x-this.long0);Math.abs(lat)<=1e-10&&(x=this.x0+this.R*dlon,y=this.y0);var theta=asinz(2*Math.abs(lat/Math.PI));(Math.abs(dlon)<=1e-10||Math.abs(Math.abs(lat)-HALF_PI)<=1e-10)&&(x=this.x0,y=lat>=0?this.y0+Math.PI*this.R*Math.tan(.5*theta):this.y0+Math.PI*this.R*-Math.tan(.5*theta));var al=.5*Math.abs(Math.PI/dlon-dlon/Math.PI),asq=al*al,sinth=Math.sin(theta),costh=Math.cos(theta),g=costh/(sinth+costh-1),m=g*(2/sinth-1),msq=m*m,con=Math.PI*this.R*(al*(g-msq)+Math.sqrt(asq*(g-msq)*(g-msq)-(msq+asq)*(g*g-msq)))/(msq+asq);dlon<0&&(con=-con),x=this.x0+con;var q=asq+g;return con=Math.PI*this.R*(m*q-al*Math.sqrt((msq+asq)*(asq+1)-q*q))/(msq+asq),y=lat>=0?this.y0+con:this.y0-con,p.x=x,p.y=y,p},inverse:function(p){var lon,lat,xx,yy,xys,c1,c2,c3,a1,m1,con,th1;return p.x-=this.x0,p.y-=this.y0,con=Math.PI*this.R,xys=(xx=p.x/con)*xx+(yy=p.y/con)*yy,con=3*(yy*yy/(c3=-2*(c1=-Math.abs(yy)*(1+xys))+1+2*yy*yy+xys*xys)+(2*(c2=c1-2*yy*yy+xx*xx)*c2*c2/c3/c3/c3-9*c1*c2/c3/c3)/27)/(a1=(c1-c2*c2/3/c3)/c3)/(m1=2*Math.sqrt(-a1/3)),Math.abs(con)>1&&(con=con>=0?1:-1),th1=Math.acos(con)/3,lat=p.y>=0?(-m1*Math.cos(th1+Math.PI/3)-c2/3/c3)*Math.PI:-(-m1*Math.cos(th1+Math.PI/3)-c2/3/c3)*Math.PI,lon=Math.abs(xx)<1e-10?this.long0:adjust_lon(this.long0+Math.PI*(xys-1+Math.sqrt(1+2*(xx*xx-yy*yy)+xys*xys))/2/xx),p.x=lon,p.y=lat,p},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},aeqd={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(p){var e0,e1,e2,e3,Mlp,Ml,tanphi,Nl1,Nl,psi,Az,G,H,GH,Hs,c,kp,cos_c,s,s2,s3,s4,lon=p.x,lat=p.y,sinphi=Math.sin(p.y),cosphi=Math.cos(p.y),dlon=adjust_lon(lon-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(p.x=this.x0+this.a*(HALF_PI-lat)*Math.sin(dlon),p.y=this.y0-this.a*(HALF_PI-lat)*Math.cos(dlon),p):Math.abs(this.sin_p12+1)<=1e-10?(p.x=this.x0+this.a*(HALF_PI+lat)*Math.sin(dlon),p.y=this.y0+this.a*(HALF_PI+lat)*Math.cos(dlon),p):(cos_c=this.sin_p12*sinphi+this.cos_p12*cosphi*Math.cos(dlon),kp=(c=Math.acos(cos_c))/Math.sin(c),p.x=this.x0+this.a*kp*cosphi*Math.sin(dlon),p.y=this.y0+this.a*kp*(this.cos_p12*sinphi-this.sin_p12*cosphi*Math.cos(dlon)),p):(e0=e0fn(this.es),e1=e1fn(this.es),e2=e2fn(this.es),e3=e3fn(this.es),Math.abs(this.sin_p12-1)<=1e-10?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),Ml=this.a*mlfn(e0,e1,e2,e3,lat),p.x=this.x0+(Mlp-Ml)*Math.sin(dlon),p.y=this.y0-(Mlp-Ml)*Math.cos(dlon),p):Math.abs(this.sin_p12+1)<=1e-10?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),Ml=this.a*mlfn(e0,e1,e2,e3,lat),p.x=this.x0+(Mlp+Ml)*Math.sin(dlon),p.y=this.y0+(Mlp+Ml)*Math.cos(dlon),p):(tanphi=sinphi/cosphi,Nl1=gN(this.a,this.e,this.sin_p12),Nl=gN(this.a,this.e,sinphi),psi=Math.atan((1-this.es)*tanphi+this.es*Nl1*this.sin_p12/(Nl*cosphi)),s=0===(Az=Math.atan2(Math.sin(dlon),this.cos_p12*Math.tan(psi)-this.sin_p12*Math.cos(dlon)))?Math.asin(this.cos_p12*Math.sin(psi)-this.sin_p12*Math.cos(psi)):Math.abs(Math.abs(Az)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(psi)-this.sin_p12*Math.cos(psi)):Math.asin(Math.sin(dlon)*Math.cos(psi)/Math.sin(Az)),G=this.e*this.sin_p12/Math.sqrt(1-this.es),H=this.e*this.cos_p12*Math.cos(Az)/Math.sqrt(1-this.es),p.x=this.x0+(c=Nl1*s*(1-(s2=s*s)*(Hs=H*H)*(1-Hs)/6+(s3=s2*s)/8*(GH=G*H)*(1-2*Hs)+(s4=s3*s)/120*(Hs*(4-7*Hs)-3*G*G*(1-7*Hs))-s4*s/48*GH))*Math.sin(Az),p.y=this.y0+c*Math.cos(Az),p))},inverse:function(p){var rh,z,sinz,cosz,lon,lat,con,e0,e1,e2,e3,Mlp,N1,psi,Az,cosAz,tmp,A,B,D,Ee,F;if(p.x-=this.x0,p.y-=this.y0,this.sphere){if((rh=Math.sqrt(p.x*p.x+p.y*p.y))>2*HALF_PI*this.a)return;return z=rh/this.a,sinz=Math.sin(z),cosz=Math.cos(z),lon=this.long0,Math.abs(rh)<=1e-10?lat=this.lat0:(lat=asinz(cosz*this.sin_p12+p.y*sinz*this.cos_p12/rh),con=Math.abs(this.lat0)-HALF_PI,lon=Math.abs(con)<=1e-10?adjust_lon(this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y)):adjust_lon(this.long0+Math.atan2(p.x*sinz,rh*this.cos_p12*cosz-p.y*this.sin_p12*sinz))),p.x=lon,p.y=lat,p}return e0=e0fn(this.es),e1=e1fn(this.es),e2=e2fn(this.es),e3=e3fn(this.es),Math.abs(this.sin_p12-1)<=1e-10?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),rh=Math.sqrt(p.x*p.x+p.y*p.y),lat=imlfn((Mlp-rh)/this.a,e0,e1,e2,e3),lon=adjust_lon(this.long0+Math.atan2(p.x,-1*p.y)),p.x=lon,p.y=lat,p):Math.abs(this.sin_p12+1)<=1e-10?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),rh=Math.sqrt(p.x*p.x+p.y*p.y),lat=imlfn((rh-Mlp)/this.a,e0,e1,e2,e3),lon=adjust_lon(this.long0+Math.atan2(p.x,p.y)),p.x=lon,p.y=lat,p):(rh=Math.sqrt(p.x*p.x+p.y*p.y),Az=Math.atan2(p.x,p.y),N1=gN(this.a,this.e,this.sin_p12),cosAz=Math.cos(Az),B=3*this.es*(1-(A=-(tmp=this.e*this.cos_p12*cosAz)*tmp/(1-this.es)))*this.sin_p12*this.cos_p12*cosAz/(1-this.es),F=1-A*(Ee=(D=rh/N1)-A*(1+A)*Math.pow(D,3)/6-B*(1+3*A)*Math.pow(D,4)/24)*Ee/2-D*Ee*Ee*Ee/6,psi=Math.asin(this.sin_p12*Math.cos(Ee)+this.cos_p12*Math.sin(Ee)*cosAz),lon=adjust_lon(this.long0+Math.asin(Math.sin(Az)*Math.sin(Ee)/Math.cos(psi))),lat=Math.atan((1-this.es*F*this.sin_p12/Math.sin(psi))*Math.tan(psi)/(1-this.es)),p.x=lon,p.y=lat,p)},names:["Azimuthal_Equidistant","aeqd"]},ortho={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(p){var sinphi,cosphi,dlon,coslon,g,x,y,lat=p.y;return dlon=adjust_lon(p.x-this.long0),sinphi=Math.sin(lat),cosphi=Math.cos(lat),coslon=Math.cos(dlon),((g=this.sin_p14*sinphi+this.cos_p14*cosphi*coslon)>0||Math.abs(g)<=1e-10)&&(x=1*this.a*cosphi*Math.sin(dlon),y=this.y0+1*this.a*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)),p.x=x,p.y=y,p},inverse:function(p){var rh,z,sinz,cosz,con,lon,lat;return p.x-=this.x0,p.y-=this.y0,rh=Math.sqrt(p.x*p.x+p.y*p.y),z=asinz(rh/this.a),sinz=Math.sin(z),cosz=Math.cos(z),lon=this.long0,Math.abs(rh)<=1e-10?(lat=this.lat0,p.x=lon,p.y=lat,p):(lat=asinz(cosz*this.sin_p14+p.y*sinz*this.cos_p14/rh),con=Math.abs(this.lat0)-HALF_PI,Math.abs(con)<=1e-10?(lon=adjust_lon(this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y)),p.x=lon,p.y=lat,p):(lon=adjust_lon(this.long0+Math.atan2(p.x*sinz,rh*this.cos_p14*cosz-p.y*this.sin_p14*sinz)),p.x=lon,p.y=lat,p))},names:["ortho"]};function qsc_fwd_equat_face_theta(phi,y,x,area){var theta;return phi<1e-10?(area.value=1,theta=0):(theta=Math.atan2(y,x),Math.abs(theta)<=FORTPI?area.value=1:theta>FORTPI&&theta<=HALF_PI+FORTPI?(area.value=2,theta-=HALF_PI):theta>HALF_PI+FORTPI||theta<=-(HALF_PI+FORTPI)?(area.value=3,theta=theta>=0?theta-SPI:theta+SPI):(area.value=4,theta+=HALF_PI)),theta}function qsc_shift_lon_origin(lon,offset){var slon=lon+offset;return slon<-SPI?slon+=TWO_PI:slon>+SPI&&(slon-=TWO_PI),slon}var proj4,qsc={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=HALF_PI-FORTPI/2?5:this.lat0<=-(HALF_PI-FORTPI/2)?6:Math.abs(this.long0)<=FORTPI?1:Math.abs(this.long0)<=HALF_PI+FORTPI?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(p){var lat,lon,theta,phi,t,mu,xy={x:0,y:0},area={value:0};if(p.x-=this.long0,lat=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(p.y)):p.y,lon=p.x,5===this.face)phi=HALF_PI-lat,lon>=FORTPI&&lon<=HALF_PI+FORTPI?(area.value=1,theta=lon-HALF_PI):lon>HALF_PI+FORTPI||lon<=-(HALF_PI+FORTPI)?(area.value=2,theta=lon>0?lon-SPI:lon+SPI):lon>-(HALF_PI+FORTPI)&&lon<=-FORTPI?(area.value=3,theta=lon+HALF_PI):(area.value=4,theta=lon);else if(6===this.face)phi=HALF_PI+lat,lon>=FORTPI&&lon<=HALF_PI+FORTPI?(area.value=1,theta=-lon+HALF_PI):lon<FORTPI&&lon>=-FORTPI?(area.value=2,theta=-lon):lon<-FORTPI&&lon>=-(HALF_PI+FORTPI)?(area.value=3,theta=-lon-HALF_PI):(area.value=4,theta=lon>0?-lon+SPI:-lon-SPI);else{var q,r,s,sinlat,coslat,sinlon;2===this.face?lon=qsc_shift_lon_origin(lon,+HALF_PI):3===this.face?lon=qsc_shift_lon_origin(lon,+SPI):4===this.face&&(lon=qsc_shift_lon_origin(lon,-HALF_PI)),sinlat=Math.sin(lat),coslat=Math.cos(lat),sinlon=Math.sin(lon),q=coslat*Math.cos(lon),r=coslat*sinlon,s=sinlat,1===this.face?theta=qsc_fwd_equat_face_theta(phi=Math.acos(q),s,r,area):2===this.face?theta=qsc_fwd_equat_face_theta(phi=Math.acos(r),s,-q,area):3===this.face?theta=qsc_fwd_equat_face_theta(phi=Math.acos(-q),s,-r,area):4===this.face?theta=qsc_fwd_equat_face_theta(phi=Math.acos(-r),s,q,area):(phi=theta=0,area.value=1)}return mu=Math.atan(12/SPI*(theta+Math.acos(Math.sin(theta)*Math.cos(FORTPI))-HALF_PI)),t=Math.sqrt((1-Math.cos(phi))/(Math.cos(mu)*Math.cos(mu))/(1-Math.cos(Math.atan(1/Math.cos(theta))))),2===area.value?mu+=HALF_PI:3===area.value?mu+=SPI:4===area.value&&(mu+=1.5*SPI),xy.x=t*Math.cos(mu),xy.y=t*Math.sin(mu),xy.x=xy.x*this.a+this.x0,xy.y=xy.y*this.a+this.y0,p.x=xy.x,p.y=xy.y,p},inverse:function(p){var mu,nu,cosmu,tannu,tantheta,theta,cosphi,phi,t,invert_sign,tanphi,xa,lp={lam:0,phi:0},area={value:0};if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,nu=Math.atan(Math.sqrt(p.x*p.x+p.y*p.y)),mu=Math.atan2(p.y,p.x),p.x>=0&&p.x>=Math.abs(p.y)?area.value=1:p.y>=0&&p.y>=Math.abs(p.x)?(area.value=2,mu-=HALF_PI):p.x<0&&-p.x>=Math.abs(p.y)?(area.value=3,mu=mu<0?mu+SPI:mu-SPI):(area.value=4,mu+=HALF_PI),t=SPI/12*Math.tan(mu),tantheta=Math.sin(t)/(Math.cos(t)-1/Math.sqrt(2)),theta=Math.atan(tantheta),(cosphi=1-(cosmu=Math.cos(mu))*cosmu*(tannu=Math.tan(nu))*tannu*(1-Math.cos(Math.atan(1/Math.cos(theta)))))<-1?cosphi=-1:cosphi>1&&(cosphi=1),5===this.face)phi=Math.acos(cosphi),lp.phi=HALF_PI-phi,lp.lam=1===area.value?theta+HALF_PI:2===area.value?theta<0?theta+SPI:theta-SPI:3===area.value?theta-HALF_PI:theta;else if(6===this.face)phi=Math.acos(cosphi),lp.phi=phi-HALF_PI,lp.lam=1===area.value?-theta+HALF_PI:2===area.value?-theta:3===area.value?-theta-HALF_PI:theta<0?-theta-SPI:-theta+SPI;else{var q,r,s;t=(q=cosphi)*q,r=(t+=(s=t>=1?0:Math.sqrt(1-t)*Math.sin(theta))*s)>=1?0:Math.sqrt(1-t),2===area.value?(t=r,r=-s,s=t):3===area.value?(r=-r,s=-s):4===area.value&&(t=r,r=s,s=-t),2===this.face?(t=q,q=-r,r=t):3===this.face?(q=-q,r=-r):4===this.face&&(t=q,q=r,r=-t),lp.phi=Math.acos(-s)-HALF_PI,lp.lam=Math.atan2(r,q),2===this.face?lp.lam=qsc_shift_lon_origin(lp.lam,-HALF_PI):3===this.face?lp.lam=qsc_shift_lon_origin(lp.lam,-SPI):4===this.face&&(lp.lam=qsc_shift_lon_origin(lp.lam,+HALF_PI))}return 0!==this.es&&(invert_sign=lp.phi<0?1:0,tanphi=Math.tan(lp.phi),xa=this.b/Math.sqrt(tanphi*tanphi+this.one_minus_f_squared),lp.phi=Math.atan(Math.sqrt(this.a*this.a-xa*xa)/(this.one_minus_f*xa)),invert_sign&&(lp.phi=-lp.phi)),lp.lam+=this.long0,p.x=lp.lam,p.y=lp.phi,p},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},COEFS_X=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],COEFS_Y=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],poly3_val=function(coefs,x){return coefs[0]+x*(coefs[1]+x*(coefs[2]+x*coefs[3]))},robin={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(ll){var lon=adjust_lon(ll.x-this.long0),dphi=Math.abs(ll.y),i=Math.floor(11.459155902616464*dphi);i<0?i=0:i>=18&&(i=17);var xy={x:poly3_val(COEFS_X[i],dphi=R2D*(dphi-.08726646259971647*i))*lon,y:poly3_val(COEFS_Y[i],dphi)};return ll.y<0&&(xy.y=-xy.y),xy.x=xy.x*this.a*.8487+this.x0,xy.y=xy.y*this.a*1.3523+this.y0,xy},inverse:function(xy){var ll={x:(xy.x-this.x0)/(.8487*this.a),y:Math.abs(xy.y-this.y0)/(1.3523*this.a)};if(ll.y>=1)ll.x/=COEFS_X[18][0],ll.y=xy.y<0?-HALF_PI:HALF_PI;else{var i=Math.floor(18*ll.y);for(i<0?i=0:i>=18&&(i=17);;)if(COEFS_Y[i][0]>ll.y)--i;else{if(!(COEFS_Y[i+1][0]<=ll.y))break;++i}var coefs=COEFS_Y[i],t=5*(ll.y-coefs[0])/(COEFS_Y[i+1][0]-coefs[0]);t=function(f_df,start,max_err,iters){for(var x=start;iters;--iters){var upd=f_df(x);if(x-=upd,Math.abs(upd)<1e-10)break}return x}(function(x){return(poly3_val(coefs,x)-ll.y)/function(coefs,x){return coefs[1]+x*(2*coefs[2]+3*x*coefs[3])}(coefs,x)},t,0,100),ll.x/=poly3_val(COEFS_X[i],t),ll.y=(5*i+t)*D2R,xy.y<0&&(ll.y=-ll.y)}return ll.x=adjust_lon(ll.x+this.long0),ll},names:["Robinson","robin"]},geocent={init:function(){this.name="geocent"},forward:function(p){return geodeticToGeocentric(p,this.es,this.a)},inverse:function(p){return geocentricToGeodetic(p,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};core.defaultDatum="WGS84",core.Proj=Proj,core.WGS84=new core.Proj("WGS84"),core.Point=lib_Point,core.toPoint=toPoint,core.defs=lib_defs,core.transform=transform_transform,core.mgrs=mgrs,core.version="__VERSION__",(proj4=core).Proj.projections.add(tmerc),proj4.Proj.projections.add(etmerc),proj4.Proj.projections.add(utm),proj4.Proj.projections.add(sterea),proj4.Proj.projections.add(stere),proj4.Proj.projections.add(somerc),proj4.Proj.projections.add(omerc),proj4.Proj.projections.add(lcc),proj4.Proj.projections.add(krovak),proj4.Proj.projections.add(cass),proj4.Proj.projections.add(laea),proj4.Proj.projections.add(aea),proj4.Proj.projections.add(gnom),proj4.Proj.projections.add(cea),proj4.Proj.projections.add(eqc),proj4.Proj.projections.add(poly),proj4.Proj.projections.add(nzmg),proj4.Proj.projections.add(mill),proj4.Proj.projections.add(sinu),proj4.Proj.projections.add(moll),proj4.Proj.projections.add(eqdc),proj4.Proj.projections.add(vandg),proj4.Proj.projections.add(aeqd),proj4.Proj.projections.add(ortho),proj4.Proj.projections.add(qsc),proj4.Proj.projections.add(robin),proj4.Proj.projections.add(geocent);var brokenDiagonalRendering_,extendStatics,lib=core,proj_Projection=__webpack_require__("9d2U"),Units=__webpack_require__("/O31"),ol_obj=__webpack_require__("OPOH"),transforms=__webpack_require__("wVse"),Vector=__webpack_require__("WDFe"),layer_Vector=__webpack_require__("Pmt0"),Layer=__webpack_require__("GvmM"),BaseImage_extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),BaseImage=function(_super){function BaseImageLayer(opt_options){return _super.call(this,opt_options||{})||this}return BaseImage_extends(BaseImageLayer,_super),BaseImageLayer}(Layer.a),canvas_Layer=__webpack_require__("E35u"),ViewHint=__webpack_require__("SW/M"),ol_transform=__webpack_require__("qJZF"),ol_extent=__webpack_require__("CvXi"),render_canvas=__webpack_require__("3er3"),ImageLayer_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),canvas_ImageLayer=function(_super){function CanvasImageLayerRenderer(imageLayer){var _this=_super.call(this,imageLayer)||this;return _this.image_=null,_this}return ImageLayer_extends(CanvasImageLayerRenderer,_super),CanvasImageLayerRenderer.prototype.getImage=function(){return this.image_?this.image_.getImage():null},CanvasImageLayerRenderer.prototype.prepareFrame=function(frameState){var layerState=frameState.layerStatesArray[frameState.layerIndex],pixelRatio=frameState.pixelRatio,viewState=frameState.viewState,viewResolution=viewState.resolution,imageSource=this.getLayer().getSource(),hints=frameState.viewHints,renderedExtent=frameState.extent;if(void 0!==layerState.extent&&(renderedExtent=Object(ol_extent.A)(renderedExtent,Object(ol_proj.i)(layerState.extent,viewState.projection))),!hints[ViewHint.a.ANIMATING]&&!hints[ViewHint.a.INTERACTING]&&!Object(ol_extent.G)(renderedExtent))if(imageSource){var image=imageSource.getImage(renderedExtent,viewResolution,pixelRatio,viewState.projection);image&&this.loadImage(image)&&(this.image_=image)}else this.image_=null;return!!this.image_},CanvasImageLayerRenderer.prototype.renderFrame=function(frameState,target){var image=this.image_,imageExtent=image.getExtent(),imageResolution=image.getResolution(),imagePixelRatio=image.getPixelRatio(),layerState=frameState.layerStatesArray[frameState.layerIndex],pixelRatio=frameState.pixelRatio,viewState=frameState.viewState,viewCenter=viewState.center,size=frameState.size,scale=pixelRatio*imageResolution/(viewState.resolution*imagePixelRatio),width=Math.round(size[0]*pixelRatio),height=Math.round(size[1]*pixelRatio),rotation=viewState.rotation;if(rotation){var size_1=Math.round(Math.sqrt(width*width+height*height));width=size_1,height=size_1}Object(ol_transform.b)(this.pixelTransform,frameState.size[0]/2,frameState.size[1]/2,1/pixelRatio,1/pixelRatio,rotation,-width/2,-height/2),Object(ol_transform.d)(this.inversePixelTransform,this.pixelTransform);var canvasTransform=Object(render_canvas.b)(this.pixelTransform);this.useContainer(target,canvasTransform,layerState.opacity);var context=this.context,canvas=context.canvas;canvas.width!=width||canvas.height!=height?(canvas.width=width,canvas.height=height):this.containerReused||context.clearRect(0,0,width,height);var clipped=!1;if(layerState.extent){var layerExtent=Object(ol_proj.i)(layerState.extent,viewState.projection);(clipped=!Object(ol_extent.g)(layerExtent,frameState.extent)&&Object(ol_extent.E)(layerExtent,frameState.extent))&&this.clipUnrotated(context,frameState,layerExtent)}var img=image.getImage(),transform=Object(ol_transform.b)(this.tempTransform,width/2,height/2,scale,scale,0,imagePixelRatio*(imageExtent[0]-viewCenter[0])/imageResolution,imagePixelRatio*(viewCenter[1]-imageExtent[3])/imageResolution);this.renderedResolution=imageResolution*pixelRatio/imagePixelRatio;var dx=transform[4],dy=transform[5],dw=img.width*transform[0],dh=img.height*transform[3];if(Object(ol_obj.a)(context,this.getLayer().getSource().getContextOptions()),this.preRender(context,frameState),dw>=.5&&dh>=.5){var opacity=layerState.opacity,previousAlpha=void 0;1!==opacity&&(previousAlpha=this.context.globalAlpha,this.context.globalAlpha=opacity),this.context.drawImage(img,0,0,+img.width,+img.height,Math.round(dx),Math.round(dy),Math.round(dw),Math.round(dh)),1!==opacity&&(this.context.globalAlpha=previousAlpha)}return this.postRender(context,frameState),clipped&&context.restore(),canvasTransform!==canvas.style.transform&&(canvas.style.transform=canvasTransform),this.container},CanvasImageLayerRenderer}(canvas_Layer.a),Image_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Image=function(_super){function ImageLayer(opt_options){return _super.call(this,opt_options)||this}return Image_extends(ImageLayer,_super),ImageLayer.prototype.createRenderer=function(){return new canvas_ImageLayer(this)},ImageLayer}(BaseImage),IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},EventType=__webpack_require__("AdTM"),events_Event=__webpack_require__("zvco"),ImageState=__webpack_require__("hp/u"),ImageBase=__webpack_require__("h3hZ"),math=__webpack_require__("f8l7"),reproj_Triangulation=function(){function Triangulation(sourceProj,targetProj,targetExtent,maxSourceExtent,errorThreshold,opt_destinationResolution){this.sourceProj_=sourceProj,this.targetProj_=targetProj;var transformInvCache={},transformInv=Object(ol_proj.l)(this.targetProj_,this.sourceProj_);this.transformInv_=function(c){var key=c[0]+"/"+c[1];return transformInvCache[key]||(transformInvCache[key]=transformInv(c)),transformInvCache[key]},this.maxSourceExtent_=maxSourceExtent,this.errorThresholdSquared_=errorThreshold*errorThreshold,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!maxSourceExtent&&!!this.sourceProj_.getExtent()&&Object(ol_extent.D)(maxSourceExtent)==Object(ol_extent.D)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(ol_extent.D)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(ol_extent.D)(this.targetProj_.getExtent()):null;var destinationTopLeft=Object(ol_extent.B)(targetExtent),destinationTopRight=Object(ol_extent.C)(targetExtent),destinationBottomRight=Object(ol_extent.w)(targetExtent),destinationBottomLeft=Object(ol_extent.v)(targetExtent),sourceTopLeft=this.transformInv_(destinationTopLeft),sourceTopRight=this.transformInv_(destinationTopRight),sourceBottomRight=this.transformInv_(destinationBottomRight),sourceBottomLeft=this.transformInv_(destinationBottomLeft),maxSubdivision=10+(opt_destinationResolution?Math.max(0,Math.ceil(Object(math.d)(Object(ol_extent.u)(targetExtent)/(opt_destinationResolution*opt_destinationResolution*256*256)))):0);if(this.addQuad_(destinationTopLeft,destinationTopRight,destinationBottomRight,destinationBottomLeft,sourceTopLeft,sourceTopRight,sourceBottomRight,sourceBottomLeft,maxSubdivision),this.wrapsXInSource_){var leftBound_1=1/0;this.triangles_.forEach(function(triangle,i,arr){leftBound_1=Math.min(leftBound_1,triangle.source[0][0],triangle.source[1][0],triangle.source[2][0])}),this.triangles_.forEach((function(triangle){if(Math.max(triangle.source[0][0],triangle.source[1][0],triangle.source[2][0])-leftBound_1>this.sourceWorldWidth_/2){var newTriangle=[[triangle.source[0][0],triangle.source[0][1]],[triangle.source[1][0],triangle.source[1][1]],[triangle.source[2][0],triangle.source[2][1]]];newTriangle[0][0]-leftBound_1>this.sourceWorldWidth_/2&&(newTriangle[0][0]-=this.sourceWorldWidth_),newTriangle[1][0]-leftBound_1>this.sourceWorldWidth_/2&&(newTriangle[1][0]-=this.sourceWorldWidth_),newTriangle[2][0]-leftBound_1>this.sourceWorldWidth_/2&&(newTriangle[2][0]-=this.sourceWorldWidth_);var minX=Math.min(newTriangle[0][0],newTriangle[1][0],newTriangle[2][0]);Math.max(newTriangle[0][0],newTriangle[1][0],newTriangle[2][0])-minX<this.sourceWorldWidth_/2&&(triangle.source=newTriangle)}}).bind(this))}transformInvCache={}}return Triangulation.prototype.addTriangle_=function(a,b,c,aSrc,bSrc,cSrc){this.triangles_.push({source:[aSrc,bSrc,cSrc],target:[a,b,c]})},Triangulation.prototype.addQuad_=function(a,b,c,d,aSrc,bSrc,cSrc,dSrc,maxSubdivision){var sourceQuadExtent=Object(ol_extent.b)([aSrc,bSrc,cSrc,dSrc]),sourceCoverageX=this.sourceWorldWidth_?Object(ol_extent.D)(sourceQuadExtent)/this.sourceWorldWidth_:null,sourceWorldWidth=this.sourceWorldWidth_,wrapsX=this.sourceProj_.canWrapX()&&sourceCoverageX>.5&&sourceCoverageX<1,needsSubdivision=!1;if(maxSubdivision>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var targetQuadExtent=Object(ol_extent.b)([a,b,c,d]);needsSubdivision=Object(ol_extent.D)(targetQuadExtent)/this.targetWorldWidth_>.25||needsSubdivision}!wrapsX&&this.sourceProj_.isGlobal()&&sourceCoverageX&&(needsSubdivision=sourceCoverageX>.25||needsSubdivision)}if(!(!needsSubdivision&&this.maxSourceExtent_&&isFinite(sourceQuadExtent[0])&&isFinite(sourceQuadExtent[1])&&isFinite(sourceQuadExtent[2])&&isFinite(sourceQuadExtent[3]))||Object(ol_extent.E)(sourceQuadExtent,this.maxSourceExtent_)){var isNotFinite=0;if(!(needsSubdivision||isFinite(aSrc[0])&&isFinite(aSrc[1])&&isFinite(bSrc[0])&&isFinite(bSrc[1])&&isFinite(cSrc[0])&&isFinite(cSrc[1])&&isFinite(dSrc[0])&&isFinite(dSrc[1])))if(maxSubdivision>0)needsSubdivision=!0;else if(1!=(isNotFinite=(isFinite(aSrc[0])&&isFinite(aSrc[1])?0:8)+(isFinite(bSrc[0])&&isFinite(bSrc[1])?0:4)+(isFinite(cSrc[0])&&isFinite(cSrc[1])?0:2)+(isFinite(dSrc[0])&&isFinite(dSrc[1])?0:1))&&2!=isNotFinite&&4!=isNotFinite&&8!=isNotFinite)return;if(maxSubdivision>0){if(!needsSubdivision){var dx,centerSrc=this.transformInv_([(a[0]+c[0])/2,(a[1]+c[1])/2]);dx=wrapsX?(Object(math.e)(aSrc[0],sourceWorldWidth)+Object(math.e)(cSrc[0],sourceWorldWidth))/2-Object(math.e)(centerSrc[0],sourceWorldWidth):(aSrc[0]+cSrc[0])/2-centerSrc[0];var dy=(aSrc[1]+cSrc[1])/2-centerSrc[1];needsSubdivision=dx*dx+dy*dy>this.errorThresholdSquared_}if(needsSubdivision){if(Math.abs(a[0]-c[0])<=Math.abs(a[1]-c[1])){var bc=[(b[0]+c[0])/2,(b[1]+c[1])/2],bcSrc=this.transformInv_(bc),da=[(d[0]+a[0])/2,(d[1]+a[1])/2],daSrc=this.transformInv_(da);this.addQuad_(a,b,bc,da,aSrc,bSrc,bcSrc,daSrc,maxSubdivision-1),this.addQuad_(da,bc,c,d,daSrc,bcSrc,cSrc,dSrc,maxSubdivision-1)}else{var ab=[(a[0]+b[0])/2,(a[1]+b[1])/2],abSrc=this.transformInv_(ab),cd=[(c[0]+d[0])/2,(c[1]+d[1])/2],cdSrc=this.transformInv_(cd);this.addQuad_(a,ab,cd,d,aSrc,abSrc,cdSrc,dSrc,maxSubdivision-1),this.addQuad_(ab,b,c,cd,abSrc,bSrc,cSrc,cdSrc,maxSubdivision-1)}return}}if(wrapsX){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&isNotFinite)&&this.addTriangle_(a,c,d,aSrc,cSrc,dSrc),0==(14&isNotFinite)&&this.addTriangle_(a,c,b,aSrc,cSrc,bSrc),isNotFinite&&(0==(13&isNotFinite)&&this.addTriangle_(b,d,a,bSrc,dSrc,aSrc),0==(7&isNotFinite)&&this.addTriangle_(b,d,c,bSrc,dSrc,cSrc))}},Triangulation.prototype.calculateSourceExtent=function(){var extent=Object(ol_extent.j)();return this.triangles_.forEach(function(triangle,i,arr){var src=triangle.source;Object(ol_extent.r)(extent,src[0]),Object(ol_extent.r)(extent,src[1]),Object(ol_extent.r)(extent,src[2])}),extent},Triangulation.prototype.getTriangles=function(){return this.triangles_},Triangulation}(),ol_dom=__webpack_require__("CZmH");function drawTestTriangle(ctx,u1,v1,u2,v2){ctx.beginPath(),ctx.moveTo(0,0),ctx.lineTo(u1,v1),ctx.lineTo(u2,v2),ctx.closePath(),ctx.save(),ctx.clip(),ctx.fillRect(0,0,Math.max(u1,u2)+1,Math.max(v1,v2)),ctx.restore()}function verifyBrokenDiagonalRendering(data,offset){return Math.abs(data[4*offset]-210)>2||Math.abs(data[4*offset+3]-191.25)>2}function calculateSourceResolution(sourceProj,targetProj,targetCenter,targetResolution){var sourceCenter=Object(ol_proj.q)(targetCenter,targetProj,sourceProj),sourceResolution=Object(ol_proj.k)(targetProj,targetResolution,targetCenter),targetMetersPerUnit=targetProj.getMetersPerUnit();void 0!==targetMetersPerUnit&&(sourceResolution*=targetMetersPerUnit);var sourceMetersPerUnit=sourceProj.getMetersPerUnit();void 0!==sourceMetersPerUnit&&(sourceResolution/=sourceMetersPerUnit);var sourceExtent=sourceProj.getExtent();if(!sourceExtent||Object(ol_extent.f)(sourceExtent,sourceCenter)){var compensationFactor=Object(ol_proj.k)(sourceProj,sourceResolution,sourceCenter)/sourceResolution;isFinite(compensationFactor)&&compensationFactor>0&&(sourceResolution/=compensationFactor)}return sourceResolution}var events=__webpack_require__("Ho3V"),reproj_Image_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),reproj_Image=function(_super){function ReprojImage(sourceProj,targetProj,targetExtent,targetResolution,pixelRatio,getImageFunction,opt_contextOptions){var _this=this,maxSourceExtent=sourceProj.getExtent(),maxTargetExtent=targetProj.getExtent(),limitedTargetExtent=maxTargetExtent?Object(ol_extent.A)(targetExtent,maxTargetExtent):targetExtent,sourceResolution=calculateSourceResolution(sourceProj,targetProj,Object(ol_extent.x)(limitedTargetExtent),targetResolution),triangulation=new reproj_Triangulation(sourceProj,targetProj,limitedTargetExtent,maxSourceExtent,.5*sourceResolution,targetResolution),sourceImage=getImageFunction(triangulation.calculateSourceExtent(),sourceResolution,pixelRatio),state=sourceImage?ImageState.a.IDLE:ImageState.a.EMPTY,sourcePixelRatio=sourceImage?sourceImage.getPixelRatio():1;return(_this=_super.call(this,targetExtent,targetResolution,sourcePixelRatio,state)||this).targetProj_=targetProj,_this.maxSourceExtent_=maxSourceExtent,_this.triangulation_=triangulation,_this.targetResolution_=targetResolution,_this.targetExtent_=targetExtent,_this.sourceImage_=sourceImage,_this.sourcePixelRatio_=sourcePixelRatio,_this.contextOptions_=opt_contextOptions,_this.canvas_=null,_this.sourceListenerKey_=null,_this}return reproj_Image_extends(ReprojImage,_super),ReprojImage.prototype.disposeInternal=function(){this.state==ImageState.a.LOADING&&this.unlistenSource_(),_super.prototype.disposeInternal.call(this)},ReprojImage.prototype.getImage=function(){return this.canvas_},ReprojImage.prototype.getProjection=function(){return this.targetProj_},ReprojImage.prototype.reproject_=function(){var sourceState=this.sourceImage_.getState();if(sourceState==ImageState.a.LOADED){var width=Object(ol_extent.D)(this.targetExtent_)/this.targetResolution_,height=Object(ol_extent.z)(this.targetExtent_)/this.targetResolution_;this.canvas_=function(width,height,pixelRatio,sourceResolution,sourceExtent,targetResolution,targetExtent,triangulation,sources,gutter,opt_renderEdges,opt_contextOptions){var context=Object(ol_dom.a)(Math.round(pixelRatio*width),Math.round(pixelRatio*height));if(Object(ol_obj.a)(context,opt_contextOptions),0===sources.length)return context.canvas;function pixelRound(value){return Math.round(value*pixelRatio)/pixelRatio}context.scale(pixelRatio,pixelRatio),context.globalCompositeOperation="lighter";var sourceDataExtent=Object(ol_extent.j)();sources.forEach(function(src,i,arr){Object(ol_extent.q)(sourceDataExtent,src.extent)});var canvasWidthInUnits=Object(ol_extent.D)(sourceDataExtent),canvasHeightInUnits=Object(ol_extent.z)(sourceDataExtent),stitchContext=Object(ol_dom.a)(Math.round(pixelRatio*canvasWidthInUnits/sourceResolution),Math.round(pixelRatio*canvasHeightInUnits/sourceResolution));Object(ol_obj.a)(stitchContext,opt_contextOptions);var stitchScale=pixelRatio/sourceResolution;sources.forEach(function(src,i,arr){var xPos=src.extent[0]-sourceDataExtent[0],yPos=-(src.extent[3]-sourceDataExtent[3]),srcWidth=Object(ol_extent.D)(src.extent),srcHeight=Object(ol_extent.z)(src.extent);src.image.width>0&&src.image.height>0&&stitchContext.drawImage(src.image,0,0,src.image.width-0,src.image.height-0,xPos*stitchScale,yPos*stitchScale,srcWidth*stitchScale,srcHeight*stitchScale)});var targetTopLeft=Object(ol_extent.B)(targetExtent);return triangulation.getTriangles().forEach(function(triangle,i,arr){var source=triangle.source,target=triangle.target,x0=source[0][0],y0=source[0][1],x1=source[1][0],y1=source[1][1],x2=source[2][0],y2=source[2][1],u0=pixelRound((target[0][0]-targetTopLeft[0])/targetResolution),v0=pixelRound(-(target[0][1]-targetTopLeft[1])/targetResolution),u1=pixelRound((target[1][0]-targetTopLeft[0])/targetResolution),v1=pixelRound(-(target[1][1]-targetTopLeft[1])/targetResolution),u2=pixelRound((target[2][0]-targetTopLeft[0])/targetResolution),v2=pixelRound(-(target[2][1]-targetTopLeft[1])/targetResolution),sourceNumericalShiftX=x0,sourceNumericalShiftY=y0;x0=0,y0=0;var augmentedMatrix=[[x1-=sourceNumericalShiftX,y1-=sourceNumericalShiftY,0,0,u1-u0],[x2-=sourceNumericalShiftX,y2-=sourceNumericalShiftY,0,0,u2-u0],[0,0,x1,y1,v1-v0],[0,0,x2,y2,v2-v0]],affineCoefs=Object(math.f)(augmentedMatrix);if(affineCoefs){if(context.save(),context.beginPath(),function(){if(void 0===brokenDiagonalRendering_){var ctx=document.createElement("canvas").getContext("2d");ctx.globalCompositeOperation="lighter",ctx.fillStyle="rgba(210, 0, 0, 0.75)",drawTestTriangle(ctx,4,5,4,0),drawTestTriangle(ctx,4,5,0,5);var data=ctx.getImageData(0,0,3,3).data;brokenDiagonalRendering_=verifyBrokenDiagonalRendering(data,0)||verifyBrokenDiagonalRendering(data,4)||verifyBrokenDiagonalRendering(data,8)}return brokenDiagonalRendering_}()||opt_contextOptions===IMAGE_SMOOTHING_DISABLED){context.moveTo(u1,v1);for(var ud=u0-u1,vd=v0-v1,step=0;step<4;step++)context.lineTo(u1+pixelRound((step+1)*ud/4),v1+pixelRound(step*vd/3)),3!=step&&context.lineTo(u1+pixelRound((step+1)*ud/4),v1+pixelRound((step+1)*vd/3));context.lineTo(u2,v2)}else context.moveTo(u1,v1),context.lineTo(u0,v0),context.lineTo(u2,v2);context.clip(),context.transform(affineCoefs[0],affineCoefs[2],affineCoefs[1],affineCoefs[3],u0,v0),context.translate(sourceDataExtent[0]-sourceNumericalShiftX,sourceDataExtent[3]-sourceNumericalShiftY),context.scale(sourceResolution/pixelRatio,-sourceResolution/pixelRatio),context.drawImage(stitchContext.canvas,0,0),context.restore()}}),context.canvas}(width,height,this.sourcePixelRatio_,this.sourceImage_.getResolution(),0,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,0,this.contextOptions_)}this.state=sourceState,this.changed()},ReprojImage.prototype.load=function(){if(this.state==ImageState.a.IDLE){this.state=ImageState.a.LOADING,this.changed();var sourceState=this.sourceImage_.getState();sourceState==ImageState.a.LOADED||sourceState==ImageState.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(events.a)(this.sourceImage_,EventType.a.CHANGE,function(e){var sourceState=this.sourceImage_.getState();sourceState!=ImageState.a.LOADED&&sourceState!=ImageState.a.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},ReprojImage.prototype.unlistenSource_=function(){Object(events.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},ReprojImage}(ImageBase.a),Source=__webpack_require__("/4Cu"),util=__webpack_require__("EwAT"),ol_array=__webpack_require__("n15R"),source_Image_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ImageSourceEvent=function(_super){function ImageSourceEvent(type,image){var _this=_super.call(this,type)||this;return _this.image=image,_this}return source_Image_extends(ImageSourceEvent,_super),ImageSourceEvent}(events_Event.a);function defaultImageLoadFunction(image,src){image.getImage().src=src}var source_Image=function(_super){function ImageSource(options){var _this=_super.call(this,{attributions:options.attributions,projection:options.projection,state:options.state})||this;return _this.resolutions_=void 0!==options.resolutions?options.resolutions:null,_this.reprojectedImage_=null,_this.reprojectedRevision_=0,_this.contextOptions_=!1===options.imageSmoothing?IMAGE_SMOOTHING_DISABLED:void 0,_this}return source_Image_extends(ImageSource,_super),ImageSource.prototype.getResolutions=function(){return this.resolutions_},ImageSource.prototype.getContextOptions=function(){return this.contextOptions_},ImageSource.prototype.findNearestResolution=function(resolution){if(this.resolutions_){var idx=Object(ol_array.e)(this.resolutions_,resolution,0);resolution=this.resolutions_[idx]}return resolution},ImageSource.prototype.getImage=function(extent,resolution,pixelRatio,projection){var sourceProjection=this.getProjection();if(sourceProjection&&projection&&!Object(ol_proj.g)(sourceProjection,projection)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(ol_proj.g)(this.reprojectedImage_.getProjection(),projection)&&this.reprojectedImage_.getResolution()==resolution&&Object(ol_extent.p)(this.reprojectedImage_.getExtent(),extent))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new reproj_Image(sourceProjection,projection,extent,resolution,pixelRatio,(function(extent,resolution,pixelRatio){return this.getImageInternal(extent,resolution,pixelRatio,sourceProjection)}).bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return sourceProjection&&(projection=sourceProjection),this.getImageInternal(extent,resolution,pixelRatio,projection)},ImageSource.prototype.getImageInternal=function(extent,resolution,pixelRatio,projection){return Object(util.b)()},ImageSource.prototype.handleImageChange=function(event){var image=event.target;switch(image.getState()){case ImageState.a.LOADING:this.loading=!0,this.dispatchEvent(new ImageSourceEvent("imageloadstart",image));break;case ImageState.a.LOADED:this.loading=!1,this.dispatchEvent(new ImageSourceEvent("imageloadend",image));break;case ImageState.a.ERROR:this.loading=!1,this.dispatchEvent(new ImageSourceEvent("imageloaderror",image))}},ImageSource}(Source.a),ol_Image=__webpack_require__("ZhEo");function appendParams(uri,params){var keyParams=[];Object.keys(params).forEach(function(k){null!=params[k]&&keyParams.push(k+"="+encodeURIComponent(params[k]))});var qs=keyParams.join("&");return(uri=-1===(uri=uri.replace(/[?&]$/,"")).indexOf("?")?uri+"?":uri+"&")+qs}var asserts=__webpack_require__("kvpX"),ol_string=__webpack_require__("sMGE"),ImageWMS_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GETFEATUREINFO_IMAGE_SIZE=[101,101],source_ImageWMS=function(_super){function ImageWMS(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,{attributions:options.attributions,imageSmoothing:options.imageSmoothing,projection:options.projection,resolutions:options.resolutions})||this).crossOrigin_=void 0!==options.crossOrigin?options.crossOrigin:null,_this.url_=options.url,_this.imageLoadFunction_=void 0!==options.imageLoadFunction?options.imageLoadFunction:defaultImageLoadFunction,_this.params_=options.params||{},_this.v13_=!0,_this.updateV13_(),_this.serverType_=options.serverType,_this.hidpi_=void 0===options.hidpi||options.hidpi,_this.image_=null,_this.imageSize_=[0,0],_this.renderedRevision_=0,_this.ratio_=void 0!==options.ratio?options.ratio:1.5,_this}return ImageWMS_extends(ImageWMS,_super),ImageWMS.prototype.getFeatureInfoUrl=function(coordinate,resolution,projection,params){if(void 0!==this.url_){var projectionObj=Object(ol_proj.j)(projection),sourceProjectionObj=this.getProjection();sourceProjectionObj&&sourceProjectionObj!==projectionObj&&(resolution=calculateSourceResolution(sourceProjectionObj,projectionObj,coordinate,resolution),coordinate=Object(ol_proj.q)(coordinate,projectionObj,sourceProjectionObj));var extent=Object(ol_extent.y)(coordinate,resolution,0,GETFEATUREINFO_IMAGE_SIZE),baseParams={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ol_obj.a)(baseParams,this.params_,params);var x=Math.floor((coordinate[0]-extent[0])/resolution),y=Math.floor((extent[3]-coordinate[1])/resolution);return baseParams[this.v13_?"I":"X"]=x,baseParams[this.v13_?"J":"Y"]=y,this.getRequestUrl_(extent,GETFEATUREINFO_IMAGE_SIZE,1,sourceProjectionObj||projectionObj,baseParams)}},ImageWMS.prototype.getLegendUrl=function(resolution,params){if(void 0!==this.url_){var baseParams={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===params||void 0===params.LAYER){var layers=this.params_.LAYERS;if(Array.isArray(layers)&&1!==layers.length)return;baseParams.LAYER=layers}if(void 0!==resolution){var mpu=this.getProjection()?this.getProjection().getMetersPerUnit():1;baseParams.SCALE=resolution*mpu/28e-5}return Object(ol_obj.a)(baseParams,params),appendParams(this.url_,baseParams)}},ImageWMS.prototype.getParams=function(){return this.params_},ImageWMS.prototype.getImageInternal=function(extent,resolution,pixelRatio,projection){if(void 0===this.url_)return null;resolution=this.findNearestResolution(resolution),1==pixelRatio||this.hidpi_&&void 0!==this.serverType_||(pixelRatio=1);var imageResolution=resolution/pixelRatio,center=Object(ol_extent.x)(extent),viewWidth=Math.ceil(Object(ol_extent.D)(extent)/imageResolution),viewHeight=Math.ceil(Object(ol_extent.z)(extent)/imageResolution),viewExtent=Object(ol_extent.y)(center,imageResolution,0,[viewWidth,viewHeight]),requestWidth=Math.ceil(this.ratio_*Object(ol_extent.D)(extent)/imageResolution),requestHeight=Math.ceil(this.ratio_*Object(ol_extent.z)(extent)/imageResolution),requestExtent=Object(ol_extent.y)(center,imageResolution,0,[requestWidth,requestHeight]),image=this.image_;if(image&&this.renderedRevision_==this.getRevision()&&image.getResolution()==resolution&&image.getPixelRatio()==pixelRatio&&Object(ol_extent.g)(image.getExtent(),viewExtent))return image;var params={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(ol_obj.a)(params,this.params_),this.imageSize_[0]=Math.round(Object(ol_extent.D)(requestExtent)/imageResolution),this.imageSize_[1]=Math.round(Object(ol_extent.z)(requestExtent)/imageResolution);var url=this.getRequestUrl_(requestExtent,this.imageSize_,pixelRatio,projection,params);return this.image_=new ol_Image.a(requestExtent,resolution,pixelRatio,url,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(EventType.a.CHANGE,this.handleImageChange.bind(this)),this.image_},ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ImageWMS.prototype.getRequestUrl_=function(extent,size,pixelRatio,projection,params){if(Object(asserts.a)(void 0!==this.url_,9),params[this.v13_?"CRS":"SRS"]=projection.getCode(),"STYLES"in this.params_||(params.STYLES=""),1!=pixelRatio)switch(this.serverType_){case"geoserver":var dpi=90*pixelRatio+.5|0;"FORMAT_OPTIONS"in params?params.FORMAT_OPTIONS+=";dpi:"+dpi:params.FORMAT_OPTIONS="dpi:"+dpi;break;case"mapserver":params.MAP_RESOLUTION=90*pixelRatio;break;case"carmentaserver":case"qgis":params.DPI=90*pixelRatio;break;default:Object(asserts.a)(!1,8)}params.WIDTH=size[0],params.HEIGHT=size[1];var bbox,axisOrientation=projection.getAxisOrientation();return bbox=this.v13_&&"ne"==axisOrientation.substr(0,2)?[extent[1],extent[0],extent[3],extent[2]]:extent,params.BBOX=bbox.join(","),appendParams(this.url_,params)},ImageWMS.prototype.getUrl=function(){return this.url_},ImageWMS.prototype.setImageLoadFunction=function(imageLoadFunction){this.image_=null,this.imageLoadFunction_=imageLoadFunction,this.changed()},ImageWMS.prototype.setUrl=function(url){url!=this.url_&&(this.url_=url,this.image_=null,this.changed())},ImageWMS.prototype.updateParams=function(params){Object(ol_obj.a)(this.params_,params),this.updateV13_(),this.image_=null,this.changed()},ImageWMS.prototype.updateV13_=function(){var version=this.params_.VERSION||"1.3.0";this.v13_=Object(ol_string.a)(version,"1.3")>=0},ImageWMS}(source_Image),Group=__webpack_require__("nHi6"),Feature=__webpack_require__("TN97"),GeometryLayout=__webpack_require__("Uhtb"),LineString=__webpack_require__("egkh"),LinearRing=__webpack_require__("BJ1j"),MultiLineString=__webpack_require__("R+T3"),MultiPoint=__webpack_require__("mkQN"),MultiPolygon=__webpack_require__("iNpl"),geom_Point=__webpack_require__("9ANI"),Polygon=__webpack_require__("W8M7"),format_Feature=__webpack_require__("t98H"),FormatType=__webpack_require__("Hsuu"),XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance";function createElementNS(namespaceURI,qualifiedName){return xml_getDocument().createElementNS(namespaceURI,qualifiedName)}function getAllTextContent(node,normalizeWhitespace){return getAllTextContent_(node,normalizeWhitespace,[]).join("")}function getAllTextContent_(node,normalizeWhitespace,accumulator){if(node.nodeType==Node.CDATA_SECTION_NODE||node.nodeType==Node.TEXT_NODE)accumulator.push(normalizeWhitespace?String(node.nodeValue).replace(/(\r\n|\r|\n)/g,""):node.nodeValue);else{var n=void 0;for(n=node.firstChild;n;n=n.nextSibling)getAllTextContent_(n,normalizeWhitespace,accumulator)}return accumulator}function isDocument(object){return"documentElement"in object}function xml_parse(xml){return(new DOMParser).parseFromString(xml,"application/xml")}function makeArrayExtender(valueReader,opt_this){return function(node,objectStack){var value=valueReader.call(void 0!==opt_this?opt_this:this,node,objectStack);if(void 0!==value){var array=objectStack[objectStack.length-1];Object(ol_array.c)(array,value)}}}function makeArrayPusher(valueReader,opt_this){return function(node,objectStack){var value=valueReader.call(void 0!==opt_this?opt_this:this,node,objectStack);void 0!==value&&objectStack[objectStack.length-1].push(value)}}function makeReplacer(valueReader,opt_this){return function(node,objectStack){var value=valueReader.call(void 0!==opt_this?opt_this:this,node,objectStack);void 0!==value&&(objectStack[objectStack.length-1]=value)}}function makeObjectPropertyPusher(valueReader,opt_property,opt_this){return function(node,objectStack){var value=valueReader.call(void 0!==opt_this?opt_this:this,node,objectStack);if(void 0!==value){var object=objectStack[objectStack.length-1],property=void 0!==opt_property?opt_property:node.localName,array=void 0;property in object?array=object[property]:object[property]=array=[],array.push(value)}}}function makeObjectPropertySetter(valueReader,opt_property,opt_this){return function(node,objectStack){var value=valueReader.call(void 0!==opt_this?opt_this:this,node,objectStack);void 0!==value&&(objectStack[objectStack.length-1][void 0!==opt_property?opt_property:node.localName]=value)}}function makeChildAppender(nodeWriter,opt_this){return function(node,value,objectStack){nodeWriter.call(void 0!==opt_this?opt_this:this,node,value,objectStack),objectStack[objectStack.length-1].node.appendChild(node)}}function makeSimpleNodeFactory(opt_nodeName,opt_namespaceURI){var fixedNodeName=opt_nodeName;return function(value,objectStack,opt_nodeName){var nodeName=fixedNodeName;return void 0===nodeName&&(nodeName=opt_nodeName),createElementNS(void 0!==opt_namespaceURI?opt_namespaceURI:objectStack[objectStack.length-1].node.namespaceURI,nodeName)}}var OBJECT_PROPERTY_NODE_FACTORY=makeSimpleNodeFactory();function makeSequence(object,orderedKeys){for(var length=orderedKeys.length,sequence=new Array(length),i=0;i<length;++i)sequence[i]=object[orderedKeys[i]];return sequence}function makeStructureNS(namespaceURIs,structure,opt_structureNS){var i,ii,structureNS=void 0!==opt_structureNS?opt_structureNS:{};for(i=0,ii=namespaceURIs.length;i<ii;++i)structureNS[namespaceURIs[i]]=structure;return structureNS}function parseNode(parsersNS,node,objectStack,opt_this){var n;for(n=node.firstElementChild;n;n=n.nextElementSibling){var parsers=parsersNS[n.namespaceURI];if(void 0!==parsers){var parser=parsers[n.localName];void 0!==parser&&parser.call(opt_this,n,objectStack)}}}function pushParseAndPop(object,parsersNS,node,objectStack,opt_this){return objectStack.push(object),parseNode(parsersNS,node,objectStack,opt_this),objectStack.pop()}function pushSerializeAndPop(object,serializersNS,nodeFactory,values,objectStack,opt_keys,opt_this){return objectStack.push(object),function(serializersNS,nodeFactory,values,objectStack,opt_keys,opt_this){for(var value,node,length=(void 0!==opt_keys?opt_keys:values).length,i=0;i<length;++i)void 0!==(value=values[i])&&void 0!==(node=nodeFactory.call(void 0!==opt_this?opt_this:this,value,objectStack,void 0!==opt_keys?opt_keys[i]:void 0))&&serializersNS[node.namespaceURI][node.localName].call(opt_this,node,value,objectStack)}(serializersNS,nodeFactory,values,objectStack,opt_keys,opt_this),objectStack.pop()}var xmlSerializer_=void 0,document_=void 0;function xml_getDocument(){return void 0===document_&&"undefined"!=typeof document&&(document_=document.implementation.createDocument("","",null)),document_}var XMLFeature_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),format_XMLFeature=function(_super){function XMLFeature(){var _this=_super.call(this)||this;return _this.xmlSerializer_=(void 0===xmlSerializer_&&"undefined"!=typeof XMLSerializer&&(xmlSerializer_=new XMLSerializer),xmlSerializer_),_this}return XMLFeature_extends(XMLFeature,_super),XMLFeature.prototype.getType=function(){return FormatType.a.XML},XMLFeature.prototype.readFeature=function(source,opt_options){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readFeatureFromDocument(doc,opt_options)}return isDocument(source)?this.readFeatureFromDocument(source,opt_options):this.readFeatureFromNode(source,opt_options)}return null},XMLFeature.prototype.readFeatureFromDocument=function(doc,opt_options){var features=this.readFeaturesFromDocument(doc,opt_options);return features.length>0?features[0]:null},XMLFeature.prototype.readFeatureFromNode=function(node,opt_options){return null},XMLFeature.prototype.readFeatures=function(source,opt_options){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readFeaturesFromDocument(doc,opt_options)}return isDocument(source)?this.readFeaturesFromDocument(source,opt_options):this.readFeaturesFromNode(source,opt_options)}return[]},XMLFeature.prototype.readFeaturesFromDocument=function(doc,opt_options){for(var features=[],n=doc.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(ol_array.c)(features,this.readFeaturesFromNode(n,opt_options));return features},XMLFeature.prototype.readFeaturesFromNode=function(node,opt_options){return Object(util.b)()},XMLFeature.prototype.readGeometry=function(source,opt_options){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readGeometryFromDocument(doc,opt_options)}return isDocument(source)?this.readGeometryFromDocument(source,opt_options):this.readGeometryFromNode(source,opt_options)}return null},XMLFeature.prototype.readGeometryFromDocument=function(doc,opt_options){return null},XMLFeature.prototype.readGeometryFromNode=function(node,opt_options){return null},XMLFeature.prototype.readProjection=function(source){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readProjectionFromDocument(doc)}return isDocument(source)?this.readProjectionFromDocument(source):this.readProjectionFromNode(source)}return null},XMLFeature.prototype.readProjectionFromDocument=function(doc){return this.dataProjection},XMLFeature.prototype.readProjectionFromNode=function(node){return this.dataProjection},XMLFeature.prototype.writeFeature=function(feature,opt_options){var node=this.writeFeatureNode(feature,opt_options);return this.xmlSerializer_.serializeToString(node)},XMLFeature.prototype.writeFeatureNode=function(feature,opt_options){return null},XMLFeature.prototype.writeFeatures=function(features,opt_options){var node=this.writeFeaturesNode(features,opt_options);return this.xmlSerializer_.serializeToString(node)},XMLFeature.prototype.writeFeaturesNode=function(features,opt_options){return null},XMLFeature.prototype.writeGeometry=function(geometry,opt_options){var node=this.writeGeometryNode(geometry,opt_options);return this.xmlSerializer_.serializeToString(node)},XMLFeature.prototype.writeGeometryNode=function(geometry,opt_options){return null},XMLFeature}(format_Feature.a),GMLBase_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GMLNS="http://www.opengis.net/gml",ONLY_WHITESPACE_RE=/^[\s\xa0]*$/,GMLBase_GMLBase=function(_super){function GMLBase(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.featureType=options.featureType,_this.featureNS=options.featureNS,_this.srsName=options.srsName,_this.schemaLocation="",_this.FEATURE_COLLECTION_PARSERS={},_this.FEATURE_COLLECTION_PARSERS[_this.namespace]={featureMember:makeArrayPusher(_this.readFeaturesInternal),featureMembers:makeReplacer(_this.readFeaturesInternal)},_this}return GMLBase_extends(GMLBase,_super),GMLBase.prototype.readFeaturesInternal=function(node,objectStack){var localName=node.localName,features=null;if("FeatureCollection"==localName)features=pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,node,objectStack,this);else if("featureMembers"==localName||"featureMember"==localName||"member"==localName){var context=objectStack[0],featureType=context.featureType,featureNS=context.featureNS;if(!featureType&&node.childNodes){featureType=[],featureNS={};for(var i=0,ii=node.childNodes.length;i<ii;++i){var child=node.childNodes[i];if(1===child.nodeType){var ft=child.nodeName.split(":").pop();if(-1===featureType.indexOf(ft)){var key="",count=0,uri=child.namespaceURI;for(var candidate in featureNS){if(featureNS[candidate]===uri){key=candidate;break}++count}key||(featureNS[key="p"+count]=uri),featureType.push(key+":"+ft)}}}"featureMember"!=localName&&(context.featureType=featureType,context.featureNS=featureNS)}if("string"==typeof featureNS){var ns=featureNS;(featureNS={}).p0=ns}var parsersNS={},featureTypes=Array.isArray(featureType)?featureType:[featureType];for(var p in featureNS){var parsers={};for(i=0,ii=featureTypes.length;i<ii;++i)(-1===featureTypes[i].indexOf(":")?"p0":featureTypes[i].split(":")[0])===p&&(parsers[featureTypes[i].split(":").pop()]="featureMembers"==localName?makeArrayPusher(this.readFeatureElement,this):makeReplacer(this.readFeatureElement,this));parsersNS[featureNS[p]]=parsers}features=pushParseAndPop("featureMember"==localName||"member"==localName?void 0:[],parsersNS,node,objectStack)}return null===features&&(features=[]),features},GMLBase.prototype.readGeometryElement=function(node,objectStack){var context=objectStack[0];context.srsName=node.firstElementChild.getAttribute("srsName"),context.srsDimension=node.firstElementChild.getAttribute("srsDimension");var geometry=pushParseAndPop(null,this.GEOMETRY_PARSERS,node,objectStack,this);return geometry?Array.isArray(geometry)?Object(format_Feature.b)(geometry,context):Object(format_Feature.c)(geometry,!1,context):void 0},GMLBase.prototype.readFeatureElementInternal=function(node,objectStack,asFeature){for(var geometryName,values={},n=node.firstElementChild;n;n=n.nextElementSibling){var value=void 0,localName=n.localName;0===n.childNodes.length||1===n.childNodes.length&&(3===n.firstChild.nodeType||4===n.firstChild.nodeType)?(value=getAllTextContent(n,!1),ONLY_WHITESPACE_RE.test(value)&&(value=void 0)):(asFeature&&(value=this.readGeometryElement(n,objectStack)),value?"boundedBy"!==localName&&(geometryName=localName):value=this.readFeatureElementInternal(n,objectStack,!1)),values[localName]?(values[localName]instanceof Array||(values[localName]=[values[localName]]),values[localName].push(value)):values[localName]=value;var len=n.attributes.length;if(len>0){values[localName]={_content_:values[localName]};for(var i=0;i<len;i++)values[localName][n.attributes[i].name]=n.attributes[i].value}}if(asFeature){var feature=new Feature.a(values);geometryName&&feature.setGeometryName(geometryName);var fid=node.getAttribute("fid")||function(node,namespaceURI,name){return node.getAttributeNS(namespaceURI,"id")||""}(node,this.namespace);return fid&&feature.setId(fid),feature}return values},GMLBase.prototype.readFeatureElement=function(node,objectStack){return this.readFeatureElementInternal(node,objectStack,!0)},GMLBase.prototype.readPoint=function(node,objectStack){var flatCoordinates=this.readFlatCoordinatesFromNode(node,objectStack);if(flatCoordinates)return new geom_Point.a(flatCoordinates,GeometryLayout.a.XYZ)},GMLBase.prototype.readMultiPoint=function(node,objectStack){var coordinates=pushParseAndPop([],this.MULTIPOINT_PARSERS,node,objectStack,this);return coordinates?new MultiPoint.a(coordinates):void 0},GMLBase.prototype.readMultiLineString=function(node,objectStack){var lineStrings=pushParseAndPop([],this.MULTILINESTRING_PARSERS,node,objectStack,this);if(lineStrings)return new MultiLineString.a(lineStrings)},GMLBase.prototype.readMultiPolygon=function(node,objectStack){var polygons=pushParseAndPop([],this.MULTIPOLYGON_PARSERS,node,objectStack,this);if(polygons)return new MultiPolygon.a(polygons)},GMLBase.prototype.pointMemberParser=function(node,objectStack){parseNode(this.POINTMEMBER_PARSERS,node,objectStack,this)},GMLBase.prototype.lineStringMemberParser=function(node,objectStack){parseNode(this.LINESTRINGMEMBER_PARSERS,node,objectStack,this)},GMLBase.prototype.polygonMemberParser=function(node,objectStack){parseNode(this.POLYGONMEMBER_PARSERS,node,objectStack,this)},GMLBase.prototype.readLineString=function(node,objectStack){var flatCoordinates=this.readFlatCoordinatesFromNode(node,objectStack);return flatCoordinates?new LineString.a(flatCoordinates,GeometryLayout.a.XYZ):void 0},GMLBase.prototype.readFlatLinearRing=function(node,objectStack){return pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,node,objectStack,this)||void 0},GMLBase.prototype.readLinearRing=function(node,objectStack){var flatCoordinates=this.readFlatCoordinatesFromNode(node,objectStack);if(flatCoordinates)return new LinearRing.a(flatCoordinates,GeometryLayout.a.XYZ)},GMLBase.prototype.readPolygon=function(node,objectStack){var flatLinearRings=pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS,node,objectStack,this);if(flatLinearRings&&flatLinearRings[0]){var ii,flatCoordinates=flatLinearRings[0],ends=[flatCoordinates.length],i=void 0;for(i=1,ii=flatLinearRings.length;i<ii;++i)Object(ol_array.c)(flatCoordinates,flatLinearRings[i]),ends.push(flatCoordinates.length);return new Polygon.a(flatCoordinates,GeometryLayout.a.XYZ,ends)}},GMLBase.prototype.readFlatCoordinatesFromNode=function(node,objectStack){return pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,node,objectStack,this)},GMLBase.prototype.readGeometryFromNode=function(node,opt_options){return this.readGeometryElement(node,[this.getReadOptions(node,opt_options||{})])||null},GMLBase.prototype.readFeaturesFromNode=function(node,opt_options){var options={featureType:this.featureType,featureNS:this.featureNS};return opt_options&&Object(ol_obj.a)(options,this.getReadOptions(node,opt_options)),this.readFeaturesInternal(node,[options])||[]},GMLBase.prototype.readProjectionFromNode=function(node){return Object(ol_proj.j)(this.srsName?this.srsName:node.firstElementChild.getAttribute("srsName"))},GMLBase}(format_XMLFeature);GMLBase_GMLBase.prototype.namespace=GMLNS,GMLBase_GMLBase.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},GMLBase_GMLBase.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},GMLBase_GMLBase.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},GMLBase_GMLBase.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:makeArrayPusher(GMLBase_GMLBase.prototype.pointMemberParser),pointMembers:makeArrayPusher(GMLBase_GMLBase.prototype.pointMemberParser)}},GMLBase_GMLBase.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:makeArrayPusher(GMLBase_GMLBase.prototype.lineStringMemberParser),lineStringMembers:makeArrayPusher(GMLBase_GMLBase.prototype.lineStringMemberParser)}},GMLBase_GMLBase.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:makeArrayPusher(GMLBase_GMLBase.prototype.polygonMemberParser),polygonMembers:makeArrayPusher(GMLBase_GMLBase.prototype.polygonMemberParser)}},GMLBase_GMLBase.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:makeArrayPusher(GMLBase_GMLBase.prototype.readFlatCoordinatesFromNode)}},GMLBase_GMLBase.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:makeArrayPusher(GMLBase_GMLBase.prototype.readLineString)}},GMLBase_GMLBase.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:makeArrayPusher(GMLBase_GMLBase.prototype.readPolygon)}},GMLBase_GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:makeReplacer(GMLBase_GMLBase.prototype.readFlatLinearRing)}};var format_GMLBase=GMLBase_GMLBase;function readBoolean(node){return readBooleanString(getAllTextContent(node,!1))}function readBooleanString(string){var m=/^\s*(true|1)|(false|0)\s*$/.exec(string);return m?void 0!==m[1]||!1:void 0}function readDecimal(node){return readDecimalString(getAllTextContent(node,!1))}function readDecimalString(string){var m=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(string);return m?parseFloat(m[1]):void 0}function readNonNegativeInteger(node){return readNonNegativeIntegerString(getAllTextContent(node,!1))}function readNonNegativeIntegerString(string){var m=/^\s*(\d+)\s*$/.exec(string);return m?parseInt(m[1],10):void 0}function readString(node){return getAllTextContent(node,!1).trim()}function writeBooleanTextNode(node,bool){writeStringTextNode(node,bool?"1":"0")}function writeDecimalTextNode(node,decimal){var string=decimal.toPrecision();node.appendChild(xml_getDocument().createTextNode(string))}function writeStringTextNode(node,string){node.appendChild(xml_getDocument().createTextNode(string))}var GML2_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),MULTIGEOMETRY_TO_MEMBER_NODENAME={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},GML2_GML2=function(_super){function GML2(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,options)||this).FEATURE_COLLECTION_PARSERS[GMLNS].featureMember=makeArrayPusher(_this.readFeaturesInternal),_this.schemaLocation=options.schemaLocation?options.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",_this}return GML2_extends(GML2,_super),GML2.prototype.readFlatCoordinates=function(node,objectStack){var s=getAllTextContent(node,!1).replace(/^\s*|\s*$/g,""),containerSrs=objectStack[0].srsName,axisOrientation="enu";if(containerSrs){var proj=Object(ol_proj.j)(containerSrs);proj&&(axisOrientation=proj.getAxisOrientation())}for(var coordsGroups=s.trim().split(/\s+/),flatCoordinates=[],i=0,ii=coordsGroups.length;i<ii;i++){var coords=coordsGroups[i].split(/,+/),x=parseFloat(coords[0]),y=parseFloat(coords[1]),z=3===coords.length?parseFloat(coords[2]):0;"en"===axisOrientation.substr(0,2)?flatCoordinates.push(x,y,z):flatCoordinates.push(y,x,z)}return flatCoordinates},GML2.prototype.readBox=function(node,objectStack){var flatCoordinates=pushParseAndPop([null],this.BOX_PARSERS_,node,objectStack,this);return Object(ol_extent.k)(flatCoordinates[1][0],flatCoordinates[1][1],flatCoordinates[1][3],flatCoordinates[1][4])},GML2.prototype.innerBoundaryIsParser=function(node,objectStack){var flatLinearRing=pushParseAndPop(void 0,this.RING_PARSERS,node,objectStack,this);flatLinearRing&&objectStack[objectStack.length-1].push(flatLinearRing)},GML2.prototype.outerBoundaryIsParser=function(node,objectStack){var flatLinearRing=pushParseAndPop(void 0,this.RING_PARSERS,node,objectStack,this);flatLinearRing&&(objectStack[objectStack.length-1][0]=flatLinearRing)},GML2.prototype.GEOMETRY_NODE_FACTORY_=function(value,objectStack,opt_nodeName){var nodeName,context=objectStack[objectStack.length-1],multiSurface=context.multiSurface,surface=context.surface,multiCurve=context.multiCurve;return Array.isArray(value)?nodeName="Envelope":"MultiPolygon"===(nodeName=value.getType())&&!0===multiSurface?nodeName="MultiSurface":"Polygon"===nodeName&&!0===surface?nodeName="Surface":"MultiLineString"===nodeName&&!0===multiCurve&&(nodeName="MultiCurve"),createElementNS("http://www.opengis.net/gml",nodeName)},GML2.prototype.writeFeatureElement=function(node,feature,objectStack){var fid=feature.getId();fid&&node.setAttribute("fid",fid);var context=objectStack[objectStack.length-1],featureNS=context.featureNS,geometryName=feature.getGeometryName();context.serializers||(context.serializers={},context.serializers[featureNS]={});var keys=[],values=[];if(feature.hasProperties()){var properties=feature.getProperties();for(var key in properties){var value=properties[key];null!==value&&(keys.push(key),values.push(value),key==geometryName||"function"==typeof value.getSimplifiedGeometry?key in context.serializers[featureNS]||(context.serializers[featureNS][key]=makeChildAppender(this.writeGeometryElement,this)):key in context.serializers[featureNS]||(context.serializers[featureNS][key]=makeChildAppender(writeStringTextNode)))}}var item=Object(ol_obj.a)({},context);item.node=node,pushSerializeAndPop(item,context.serializers,makeSimpleNodeFactory(void 0,featureNS),values,objectStack,keys)},GML2.prototype.writeCurveOrLineString=function(node,geometry,objectStack){var srsName=objectStack[objectStack.length-1].srsName;if("LineStringSegment"!==node.nodeName&&srsName&&node.setAttribute("srsName",srsName),"LineString"===node.nodeName||"LineStringSegment"===node.nodeName){var coordinates=this.createCoordinatesNode_(node.namespaceURI);node.appendChild(coordinates),this.writeCoordinates_(coordinates,geometry,objectStack)}else if("Curve"===node.nodeName){var segments=createElementNS(node.namespaceURI,"segments");node.appendChild(segments),this.writeCurveSegments_(segments,geometry,objectStack)}},GML2.prototype.writeLineStringOrCurveMember=function(node,line,objectStack){var child=this.GEOMETRY_NODE_FACTORY_(line,objectStack);child&&(node.appendChild(child),this.writeCurveOrLineString(child,line,objectStack))},GML2.prototype.writeMultiCurveOrLineString=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName,curve=context.curve;srsName&&node.setAttribute("srsName",srsName);var lines=geometry.getLineStrings();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName,curve:curve},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,lines,objectStack,void 0,this)},GML2.prototype.writeGeometryElement=function(node,geometry,objectStack){var value,context=objectStack[objectStack.length-1],item=Object(ol_obj.a)({},context);item.node=node,value=Array.isArray(geometry)?Object(format_Feature.b)(geometry,context):Object(format_Feature.c)(geometry,!0,context),pushSerializeAndPop(item,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[value],objectStack,void 0,this)},GML2.prototype.createCoordinatesNode_=function(namespaceURI){var coordinates=createElementNS(namespaceURI,"coordinates");return coordinates.setAttribute("decimal","."),coordinates.setAttribute("cs",","),coordinates.setAttribute("ts"," "),coordinates},GML2.prototype.writeCoordinates_=function(node,value,objectStack){for(var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName,points=value.getCoordinates(),len=points.length,parts=new Array(len),i=0;i<len;++i)parts[i]=this.getCoords_(points[i],srsName,hasZ);writeStringTextNode(node,parts.join(" "))},GML2.prototype.writeCurveSegments_=function(node,line,objectStack){var child=createElementNS(node.namespaceURI,"LineStringSegment");node.appendChild(child),this.writeCurveOrLineString(child,line,objectStack)},GML2.prototype.writeSurfaceOrPolygon=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName;if("PolygonPatch"!==node.nodeName&&srsName&&node.setAttribute("srsName",srsName),"Polygon"===node.nodeName||"PolygonPatch"===node.nodeName){var rings=geometry.getLinearRings();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,rings,objectStack,void 0,this)}else if("Surface"===node.nodeName){var patches=createElementNS(node.namespaceURI,"patches");node.appendChild(patches),this.writeSurfacePatches_(patches,geometry,objectStack)}},GML2.prototype.RING_NODE_FACTORY_=function(value,objectStack,opt_nodeName){var context=objectStack[objectStack.length-1],parentNode=context.node,exteriorWritten=context.exteriorWritten;return void 0===exteriorWritten&&(context.exteriorWritten=!0),createElementNS(parentNode.namespaceURI,void 0!==exteriorWritten?"innerBoundaryIs":"outerBoundaryIs")},GML2.prototype.writeSurfacePatches_=function(node,polygon,objectStack){var child=createElementNS(node.namespaceURI,"PolygonPatch");node.appendChild(child),this.writeSurfaceOrPolygon(child,polygon,objectStack)},GML2.prototype.writeRing=function(node,ring,objectStack){var linearRing=createElementNS(node.namespaceURI,"LinearRing");node.appendChild(linearRing),this.writeLinearRing(linearRing,ring,objectStack)},GML2.prototype.getCoords_=function(point,opt_srsName,opt_hasZ){var axisOrientation="enu";opt_srsName&&(axisOrientation=Object(ol_proj.j)(opt_srsName).getAxisOrientation());var coords="en"===axisOrientation.substr(0,2)?point[0]+","+point[1]:point[1]+","+point[0];return opt_hasZ&&(coords+=","+(point[2]||0)),coords},GML2.prototype.writePoint=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName;srsName&&node.setAttribute("srsName",srsName);var coordinates=this.createCoordinatesNode_(node.namespaceURI);node.appendChild(coordinates);var point=geometry.getCoordinates();writeStringTextNode(coordinates,this.getCoords_(point,srsName,hasZ))},GML2.prototype.writeMultiPoint=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName;srsName&&node.setAttribute("srsName",srsName);var points=geometry.getPoints();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName},this.POINTMEMBER_SERIALIZERS,makeSimpleNodeFactory("pointMember"),points,objectStack,void 0,this)},GML2.prototype.writePointMember=function(node,point,objectStack){var child=createElementNS(node.namespaceURI,"Point");node.appendChild(child),this.writePoint(child,point,objectStack)},GML2.prototype.writeLinearRing=function(node,geometry,objectStack){var srsName=objectStack[objectStack.length-1].srsName;srsName&&node.setAttribute("srsName",srsName);var coordinates=this.createCoordinatesNode_(node.namespaceURI);node.appendChild(coordinates),this.writeCoordinates_(coordinates,geometry,objectStack)},GML2.prototype.writeMultiSurfaceOrPolygon=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName,surface=context.surface;srsName&&node.setAttribute("srsName",srsName);var polygons=geometry.getPolygons();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName,surface:surface},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,polygons,objectStack,void 0,this)},GML2.prototype.writeSurfaceOrPolygonMember=function(node,polygon,objectStack){var child=this.GEOMETRY_NODE_FACTORY_(polygon,objectStack);child&&(node.appendChild(child),this.writeSurfaceOrPolygon(child,polygon,objectStack))},GML2.prototype.writeEnvelope=function(node,extent,objectStack){var srsName=objectStack[objectStack.length-1].srsName;srsName&&node.setAttribute("srsName",srsName),pushSerializeAndPop({node:node},this.ENVELOPE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[extent[0]+" "+extent[1],extent[2]+" "+extent[3]],objectStack,["lowerCorner","upperCorner"],this)},GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(value,objectStack,opt_nodeName){return createElementNS("http://www.opengis.net/gml",MULTIGEOMETRY_TO_MEMBER_NODENAME[objectStack[objectStack.length-1].node.nodeName])},GML2}(format_GMLBase);GML2_GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:makeReplacer(GML2_GML2.prototype.readFlatCoordinates)}},GML2_GML2.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:GML2_GML2.prototype.innerBoundaryIsParser,outerBoundaryIs:GML2_GML2.prototype.outerBoundaryIsParser}},GML2_GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:makeArrayPusher(GML2_GML2.prototype.readFlatCoordinates)}},GML2_GML2.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:makeReplacer(format_GMLBase.prototype.readPoint),MultiPoint:makeReplacer(format_GMLBase.prototype.readMultiPoint),LineString:makeReplacer(format_GMLBase.prototype.readLineString),MultiLineString:makeReplacer(format_GMLBase.prototype.readMultiLineString),LinearRing:makeReplacer(format_GMLBase.prototype.readLinearRing),Polygon:makeReplacer(format_GMLBase.prototype.readPolygon),MultiPolygon:makeReplacer(format_GMLBase.prototype.readMultiPolygon),Box:makeReplacer(GML2_GML2.prototype.readBox)}},GML2_GML2.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:makeChildAppender(GML2_GML2.prototype.writeCurveOrLineString),MultiCurve:makeChildAppender(GML2_GML2.prototype.writeMultiCurveOrLineString),Point:makeChildAppender(GML2_GML2.prototype.writePoint),MultiPoint:makeChildAppender(GML2_GML2.prototype.writeMultiPoint),LineString:makeChildAppender(GML2_GML2.prototype.writeCurveOrLineString),MultiLineString:makeChildAppender(GML2_GML2.prototype.writeMultiCurveOrLineString),LinearRing:makeChildAppender(GML2_GML2.prototype.writeLinearRing),Polygon:makeChildAppender(GML2_GML2.prototype.writeSurfaceOrPolygon),MultiPolygon:makeChildAppender(GML2_GML2.prototype.writeMultiSurfaceOrPolygon),Surface:makeChildAppender(GML2_GML2.prototype.writeSurfaceOrPolygon),MultiSurface:makeChildAppender(GML2_GML2.prototype.writeMultiSurfaceOrPolygon),Envelope:makeChildAppender(GML2_GML2.prototype.writeEnvelope)}},GML2_GML2.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:makeChildAppender(GML2_GML2.prototype.writeLineStringOrCurveMember),curveMember:makeChildAppender(GML2_GML2.prototype.writeLineStringOrCurveMember)}},GML2_GML2.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:makeChildAppender(GML2_GML2.prototype.writeRing),innerBoundaryIs:makeChildAppender(GML2_GML2.prototype.writeRing)}},GML2_GML2.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:makeChildAppender(GML2_GML2.prototype.writePointMember)}},GML2_GML2.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:makeChildAppender(GML2_GML2.prototype.writeSurfaceOrPolygonMember),polygonMember:makeChildAppender(GML2_GML2.prototype.writeSurfaceOrPolygonMember)}},GML2_GML2.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:makeChildAppender(writeStringTextNode),upperCorner:makeChildAppender(writeStringTextNode)}};var format_GML2=GML2_GML2,GML3_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GML3_MULTIGEOMETRY_TO_MEMBER_NODENAME={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},GML3_GML3=function(_super){function GML3(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,options)||this).surface_=void 0!==options.surface&&options.surface,_this.curve_=void 0!==options.curve&&options.curve,_this.multiCurve_=void 0===options.multiCurve||options.multiCurve,_this.multiSurface_=void 0===options.multiSurface||options.multiSurface,_this.schemaLocation=options.schemaLocation?options.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",_this.hasZ=void 0!==options.hasZ&&options.hasZ,_this}return GML3_extends(GML3,_super),GML3.prototype.readMultiCurve=function(node,objectStack){var lineStrings=pushParseAndPop([],this.MULTICURVE_PARSERS,node,objectStack,this);return lineStrings?new MultiLineString.a(lineStrings):void 0},GML3.prototype.readMultiSurface=function(node,objectStack){var polygons=pushParseAndPop([],this.MULTISURFACE_PARSERS,node,objectStack,this);if(polygons)return new MultiPolygon.a(polygons)},GML3.prototype.curveMemberParser=function(node,objectStack){parseNode(this.CURVEMEMBER_PARSERS,node,objectStack,this)},GML3.prototype.surfaceMemberParser=function(node,objectStack){parseNode(this.SURFACEMEMBER_PARSERS,node,objectStack,this)},GML3.prototype.readPatch=function(node,objectStack){return pushParseAndPop([null],this.PATCHES_PARSERS,node,objectStack,this)},GML3.prototype.readSegment=function(node,objectStack){return pushParseAndPop([null],this.SEGMENTS_PARSERS,node,objectStack,this)},GML3.prototype.readPolygonPatch=function(node,objectStack){return pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS,node,objectStack,this)},GML3.prototype.readLineStringSegment=function(node,objectStack){return pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,node,objectStack,this)},GML3.prototype.interiorParser=function(node,objectStack){var flatLinearRing=pushParseAndPop(void 0,this.RING_PARSERS,node,objectStack,this);flatLinearRing&&objectStack[objectStack.length-1].push(flatLinearRing)},GML3.prototype.exteriorParser=function(node,objectStack){var flatLinearRing=pushParseAndPop(void 0,this.RING_PARSERS,node,objectStack,this);flatLinearRing&&(objectStack[objectStack.length-1][0]=flatLinearRing)},GML3.prototype.readSurface=function(node,objectStack){var flatLinearRings=pushParseAndPop([null],this.SURFACE_PARSERS,node,objectStack,this);if(flatLinearRings&&flatLinearRings[0]){var ii,flatCoordinates=flatLinearRings[0],ends=[flatCoordinates.length],i=void 0;for(i=1,ii=flatLinearRings.length;i<ii;++i)Object(ol_array.c)(flatCoordinates,flatLinearRings[i]),ends.push(flatCoordinates.length);return new Polygon.a(flatCoordinates,GeometryLayout.a.XYZ,ends)}},GML3.prototype.readCurve=function(node,objectStack){var flatCoordinates=pushParseAndPop([null],this.CURVE_PARSERS,node,objectStack,this);return flatCoordinates?new LineString.a(flatCoordinates,GeometryLayout.a.XYZ):void 0},GML3.prototype.readEnvelope=function(node,objectStack){var flatCoordinates=pushParseAndPop([null],this.ENVELOPE_PARSERS,node,objectStack,this);return Object(ol_extent.k)(flatCoordinates[1][0],flatCoordinates[1][1],flatCoordinates[2][0],flatCoordinates[2][1])},GML3.prototype.readFlatPos=function(node,objectStack){for(var m,s=getAllTextContent(node,!1),re=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,flatCoordinates=[];m=re.exec(s);)flatCoordinates.push(parseFloat(m[1])),s=s.substr(m[0].length);if(""===s){var containerSrs=objectStack[0].srsName,axisOrientation="enu";if(containerSrs&&(axisOrientation=Object(ol_proj.j)(containerSrs).getAxisOrientation()),"neu"===axisOrientation){var ii,i=void 0;for(i=0,ii=flatCoordinates.length;i<ii;i+=3){var y=flatCoordinates[i];flatCoordinates[i]=flatCoordinates[i+1],flatCoordinates[i+1]=y}}var len=flatCoordinates.length;if(2==len&&flatCoordinates.push(0),0!==len)return flatCoordinates}},GML3.prototype.readFlatPosList=function(node,objectStack){var s=getAllTextContent(node,!1).replace(/^\s*|\s*$/g,""),context=objectStack[0],containerSrs=context.srsName,contextDimension=context.srsDimension,axisOrientation="enu";containerSrs&&(axisOrientation=Object(ol_proj.j)(containerSrs).getAxisOrientation());var x,y,z,coords=s.split(/\s+/),dim=2;node.getAttribute("srsDimension")?dim=readNonNegativeIntegerString(node.getAttribute("srsDimension")):node.getAttribute("dimension")?dim=readNonNegativeIntegerString(node.getAttribute("dimension")):node.parentNode.getAttribute("srsDimension")?dim=readNonNegativeIntegerString(node.parentNode.getAttribute("srsDimension")):contextDimension&&(dim=readNonNegativeIntegerString(contextDimension));for(var flatCoordinates=[],i=0,ii=coords.length;i<ii;i+=dim)x=parseFloat(coords[i]),y=parseFloat(coords[i+1]),z=3===dim?parseFloat(coords[i+2]):0,"en"===axisOrientation.substr(0,2)?flatCoordinates.push(x,y,z):flatCoordinates.push(y,x,z);return flatCoordinates},GML3.prototype.writePos_=function(node,value,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ;node.setAttribute("srsDimension",hasZ?"3":"2");var srsName=context.srsName,axisOrientation="enu";srsName&&(axisOrientation=Object(ol_proj.j)(srsName).getAxisOrientation());var coords,point=value.getCoordinates();coords="en"===axisOrientation.substr(0,2)?point[0]+" "+point[1]:point[1]+" "+point[0],hasZ&&(coords+=" "+(point[2]||0)),writeStringTextNode(node,coords)},GML3.prototype.getCoords_=function(point,opt_srsName,opt_hasZ){var axisOrientation="enu";opt_srsName&&(axisOrientation=Object(ol_proj.j)(opt_srsName).getAxisOrientation());var coords="en"===axisOrientation.substr(0,2)?point[0]+" "+point[1]:point[1]+" "+point[0];return opt_hasZ&&(coords+=" "+(point[2]||0)),coords},GML3.prototype.writePosList_=function(node,value,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ;node.setAttribute("srsDimension",hasZ?"3":"2");for(var srsName=context.srsName,points=value.getCoordinates(),len=points.length,parts=new Array(len),i=0;i<len;++i)parts[i]=this.getCoords_(points[i],srsName,hasZ);writeStringTextNode(node,parts.join(" "))},GML3.prototype.writePoint=function(node,geometry,objectStack){var srsName=objectStack[objectStack.length-1].srsName;srsName&&node.setAttribute("srsName",srsName);var pos=createElementNS(node.namespaceURI,"pos");node.appendChild(pos),this.writePos_(pos,geometry,objectStack)},GML3.prototype.writeEnvelope=function(node,extent,objectStack){var srsName=objectStack[objectStack.length-1].srsName;srsName&&node.setAttribute("srsName",srsName),pushSerializeAndPop({node:node},this.ENVELOPE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[extent[0]+" "+extent[1],extent[2]+" "+extent[3]],objectStack,["lowerCorner","upperCorner"],this)},GML3.prototype.writeLinearRing=function(node,geometry,objectStack){var srsName=objectStack[objectStack.length-1].srsName;srsName&&node.setAttribute("srsName",srsName);var posList=createElementNS(node.namespaceURI,"posList");node.appendChild(posList),this.writePosList_(posList,geometry,objectStack)},GML3.prototype.RING_NODE_FACTORY_=function(value,objectStack,opt_nodeName){var context=objectStack[objectStack.length-1],parentNode=context.node,exteriorWritten=context.exteriorWritten;return void 0===exteriorWritten&&(context.exteriorWritten=!0),createElementNS(parentNode.namespaceURI,void 0!==exteriorWritten?"interior":"exterior")},GML3.prototype.writeSurfaceOrPolygon=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName;if("PolygonPatch"!==node.nodeName&&srsName&&node.setAttribute("srsName",srsName),"Polygon"===node.nodeName||"PolygonPatch"===node.nodeName){var rings=geometry.getLinearRings();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,rings,objectStack,void 0,this)}else if("Surface"===node.nodeName){var patches=createElementNS(node.namespaceURI,"patches");node.appendChild(patches),this.writeSurfacePatches_(patches,geometry,objectStack)}},GML3.prototype.writeCurveOrLineString=function(node,geometry,objectStack){var srsName=objectStack[objectStack.length-1].srsName;if("LineStringSegment"!==node.nodeName&&srsName&&node.setAttribute("srsName",srsName),"LineString"===node.nodeName||"LineStringSegment"===node.nodeName){var posList=createElementNS(node.namespaceURI,"posList");node.appendChild(posList),this.writePosList_(posList,geometry,objectStack)}else if("Curve"===node.nodeName){var segments=createElementNS(node.namespaceURI,"segments");node.appendChild(segments),this.writeCurveSegments_(segments,geometry,objectStack)}},GML3.prototype.writeMultiSurfaceOrPolygon=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName,surface=context.surface;srsName&&node.setAttribute("srsName",srsName);var polygons=geometry.getPolygons();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName,surface:surface},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,polygons,objectStack,void 0,this)},GML3.prototype.writeMultiPoint=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],srsName=context.srsName,hasZ=context.hasZ;srsName&&node.setAttribute("srsName",srsName);var points=geometry.getPoints();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName},this.POINTMEMBER_SERIALIZERS,makeSimpleNodeFactory("pointMember"),points,objectStack,void 0,this)},GML3.prototype.writeMultiCurveOrLineString=function(node,geometry,objectStack){var context=objectStack[objectStack.length-1],hasZ=context.hasZ,srsName=context.srsName,curve=context.curve;srsName&&node.setAttribute("srsName",srsName);var lines=geometry.getLineStrings();pushSerializeAndPop({node:node,hasZ:hasZ,srsName:srsName,curve:curve},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,lines,objectStack,void 0,this)},GML3.prototype.writeRing=function(node,ring,objectStack){var linearRing=createElementNS(node.namespaceURI,"LinearRing");node.appendChild(linearRing),this.writeLinearRing(linearRing,ring,objectStack)},GML3.prototype.writeSurfaceOrPolygonMember=function(node,polygon,objectStack){var child=this.GEOMETRY_NODE_FACTORY_(polygon,objectStack);child&&(node.appendChild(child),this.writeSurfaceOrPolygon(child,polygon,objectStack))},GML3.prototype.writePointMember=function(node,point,objectStack){var child=createElementNS(node.namespaceURI,"Point");node.appendChild(child),this.writePoint(child,point,objectStack)},GML3.prototype.writeLineStringOrCurveMember=function(node,line,objectStack){var child=this.GEOMETRY_NODE_FACTORY_(line,objectStack);child&&(node.appendChild(child),this.writeCurveOrLineString(child,line,objectStack))},GML3.prototype.writeSurfacePatches_=function(node,polygon,objectStack){var child=createElementNS(node.namespaceURI,"PolygonPatch");node.appendChild(child),this.writeSurfaceOrPolygon(child,polygon,objectStack)},GML3.prototype.writeCurveSegments_=function(node,line,objectStack){var child=createElementNS(node.namespaceURI,"LineStringSegment");node.appendChild(child),this.writeCurveOrLineString(child,line,objectStack)},GML3.prototype.writeGeometryElement=function(node,geometry,objectStack){var value,context=objectStack[objectStack.length-1],item=Object(ol_obj.a)({},context);item.node=node,value=Array.isArray(geometry)?Object(format_Feature.b)(geometry,context):Object(format_Feature.c)(geometry,!0,context),pushSerializeAndPop(item,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[value],objectStack,void 0,this)},GML3.prototype.writeFeatureElement=function(node,feature,objectStack){var fid=feature.getId();fid&&node.setAttribute("fid",fid);var context=objectStack[objectStack.length-1],featureNS=context.featureNS,geometryName=feature.getGeometryName();context.serializers||(context.serializers={},context.serializers[featureNS]={});var keys=[],values=[];if(feature.hasProperties()){var properties=feature.getProperties();for(var key in properties){var value=properties[key];null!==value&&(keys.push(key),values.push(value),key==geometryName||"function"==typeof value.getSimplifiedGeometry?key in context.serializers[featureNS]||(context.serializers[featureNS][key]=makeChildAppender(this.writeGeometryElement,this)):key in context.serializers[featureNS]||(context.serializers[featureNS][key]=makeChildAppender(writeStringTextNode)))}}var item=Object(ol_obj.a)({},context);item.node=node,pushSerializeAndPop(item,context.serializers,makeSimpleNodeFactory(void 0,featureNS),values,objectStack,keys)},GML3.prototype.writeFeatureMembers_=function(node,features,objectStack){var context=objectStack[objectStack.length-1],featureType=context.featureType,featureNS=context.featureNS,serializers={};serializers[featureNS]={},serializers[featureNS][featureType]=makeChildAppender(this.writeFeatureElement,this);var item=Object(ol_obj.a)({},context);item.node=node,pushSerializeAndPop(item,serializers,makeSimpleNodeFactory(featureType,featureNS),features,objectStack)},GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(value,objectStack,opt_nodeName){return createElementNS(this.namespace,GML3_MULTIGEOMETRY_TO_MEMBER_NODENAME[objectStack[objectStack.length-1].node.nodeName])},GML3.prototype.GEOMETRY_NODE_FACTORY_=function(value,objectStack,opt_nodeName){var nodeName,context=objectStack[objectStack.length-1],multiSurface=context.multiSurface,surface=context.surface,curve=context.curve,multiCurve=context.multiCurve;return Array.isArray(value)?nodeName="Envelope":"MultiPolygon"===(nodeName=value.getType())&&!0===multiSurface?nodeName="MultiSurface":"Polygon"===nodeName&&!0===surface?nodeName="Surface":"LineString"===nodeName&&!0===curve?nodeName="Curve":"MultiLineString"===nodeName&&!0===multiCurve&&(nodeName="MultiCurve"),createElementNS(this.namespace,nodeName)},GML3.prototype.writeGeometryNode=function(geometry,opt_options){opt_options=this.adaptOptions(opt_options);var geom=createElementNS(this.namespace,"geom"),context={node:geom,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return opt_options&&Object(ol_obj.a)(context,opt_options),this.writeGeometryElement(geom,geometry,[context]),geom},GML3.prototype.writeFeaturesNode=function(features,opt_options){opt_options=this.adaptOptions(opt_options);var node=createElementNS(this.namespace,"featureMembers");node.setAttributeNS(XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation);var context={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return opt_options&&Object(ol_obj.a)(context,opt_options),this.writeFeatureMembers_(node,features,[context]),node},GML3}(format_GMLBase);GML3_GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:makeReplacer(GML3_GML3.prototype.readFlatPos),posList:makeReplacer(GML3_GML3.prototype.readFlatPosList),coordinates:makeReplacer(format_GML2.prototype.readFlatCoordinates)}},GML3_GML3.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:GML3_GML3.prototype.interiorParser,exterior:GML3_GML3.prototype.exteriorParser}},GML3_GML3.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:makeReplacer(format_GMLBase.prototype.readPoint),MultiPoint:makeReplacer(format_GMLBase.prototype.readMultiPoint),LineString:makeReplacer(format_GMLBase.prototype.readLineString),MultiLineString:makeReplacer(format_GMLBase.prototype.readMultiLineString),LinearRing:makeReplacer(format_GMLBase.prototype.readLinearRing),Polygon:makeReplacer(format_GMLBase.prototype.readPolygon),MultiPolygon:makeReplacer(format_GMLBase.prototype.readMultiPolygon),Surface:makeReplacer(GML3_GML3.prototype.readSurface),MultiSurface:makeReplacer(GML3_GML3.prototype.readMultiSurface),Curve:makeReplacer(GML3_GML3.prototype.readCurve),MultiCurve:makeReplacer(GML3_GML3.prototype.readMultiCurve),Envelope:makeReplacer(GML3_GML3.prototype.readEnvelope)}},GML3_GML3.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:makeArrayPusher(GML3_GML3.prototype.curveMemberParser),curveMembers:makeArrayPusher(GML3_GML3.prototype.curveMemberParser)}},GML3_GML3.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:makeArrayPusher(GML3_GML3.prototype.surfaceMemberParser),surfaceMembers:makeArrayPusher(GML3_GML3.prototype.surfaceMemberParser)}},GML3_GML3.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:makeArrayPusher(format_GMLBase.prototype.readLineString),Curve:makeArrayPusher(GML3_GML3.prototype.readCurve)}},GML3_GML3.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:makeArrayPusher(format_GMLBase.prototype.readPolygon),Surface:makeArrayPusher(GML3_GML3.prototype.readSurface)}},GML3_GML3.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:makeReplacer(GML3_GML3.prototype.readPatch)}},GML3_GML3.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:makeReplacer(GML3_GML3.prototype.readSegment)}},GML3_GML3.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:makeArrayPusher(GML3_GML3.prototype.readFlatPosList),upperCorner:makeArrayPusher(GML3_GML3.prototype.readFlatPosList)}},GML3_GML3.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:makeReplacer(GML3_GML3.prototype.readPolygonPatch)}},GML3_GML3.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:makeReplacer(GML3_GML3.prototype.readLineStringSegment)}},GML3_GML3.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:makeChildAppender(GML3_GML3.prototype.writeRing),interior:makeChildAppender(GML3_GML3.prototype.writeRing)}},GML3_GML3.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:makeChildAppender(writeStringTextNode),upperCorner:makeChildAppender(writeStringTextNode)}},GML3_GML3.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:makeChildAppender(GML3_GML3.prototype.writeSurfaceOrPolygonMember),polygonMember:makeChildAppender(GML3_GML3.prototype.writeSurfaceOrPolygonMember)}},GML3_GML3.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:makeChildAppender(GML3_GML3.prototype.writePointMember)}},GML3_GML3.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:makeChildAppender(GML3_GML3.prototype.writeLineStringOrCurveMember),curveMember:makeChildAppender(GML3_GML3.prototype.writeLineStringOrCurveMember)}},GML3_GML3.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:makeChildAppender(GML3_GML3.prototype.writeCurveOrLineString),MultiCurve:makeChildAppender(GML3_GML3.prototype.writeMultiCurveOrLineString),Point:makeChildAppender(GML3_GML3.prototype.writePoint),MultiPoint:makeChildAppender(GML3_GML3.prototype.writeMultiPoint),LineString:makeChildAppender(GML3_GML3.prototype.writeCurveOrLineString),MultiLineString:makeChildAppender(GML3_GML3.prototype.writeMultiCurveOrLineString),LinearRing:makeChildAppender(GML3_GML3.prototype.writeLinearRing),Polygon:makeChildAppender(GML3_GML3.prototype.writeSurfaceOrPolygon),MultiPolygon:makeChildAppender(GML3_GML3.prototype.writeMultiSurfaceOrPolygon),Surface:makeChildAppender(GML3_GML3.prototype.writeSurfaceOrPolygon),MultiSurface:makeChildAppender(GML3_GML3.prototype.writeMultiSurfaceOrPolygon),Envelope:makeChildAppender(GML3_GML3.prototype.writeEnvelope)}};var format_GML3=GML3_GML3,GML32_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GML32=function(_super){function GML32(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,options)||this).schemaLocation=options.schemaLocation?options.schemaLocation:_this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",_this}return GML32_extends(GML32,_super),GML32}(format_GML3);GML32.prototype.namespace="http://www.opengis.net/gml/3.2",GML32.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:makeReplacer(format_GML3.prototype.readFlatPos),posList:makeReplacer(format_GML3.prototype.readFlatPosList),coordinates:makeReplacer(format_GML2.prototype.readFlatCoordinates)}},GML32.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:format_GML3.prototype.interiorParser,exterior:format_GML3.prototype.exteriorParser}},GML32.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:makeReplacer(format_GMLBase.prototype.readPoint),MultiPoint:makeReplacer(format_GMLBase.prototype.readMultiPoint),LineString:makeReplacer(format_GMLBase.prototype.readLineString),MultiLineString:makeReplacer(format_GMLBase.prototype.readMultiLineString),LinearRing:makeReplacer(format_GMLBase.prototype.readLinearRing),Polygon:makeReplacer(format_GMLBase.prototype.readPolygon),MultiPolygon:makeReplacer(format_GMLBase.prototype.readMultiPolygon),Surface:makeReplacer(GML32.prototype.readSurface),MultiSurface:makeReplacer(format_GML3.prototype.readMultiSurface),Curve:makeReplacer(GML32.prototype.readCurve),MultiCurve:makeReplacer(format_GML3.prototype.readMultiCurve),Envelope:makeReplacer(GML32.prototype.readEnvelope)}},GML32.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:makeArrayPusher(format_GML3.prototype.curveMemberParser),curveMembers:makeArrayPusher(format_GML3.prototype.curveMemberParser)}},GML32.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:makeArrayPusher(format_GML3.prototype.surfaceMemberParser),surfaceMembers:makeArrayPusher(format_GML3.prototype.surfaceMemberParser)}},GML32.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:makeArrayPusher(format_GMLBase.prototype.readLineString),Curve:makeArrayPusher(format_GML3.prototype.readCurve)}},GML32.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:makeArrayPusher(format_GMLBase.prototype.readPolygon),Surface:makeArrayPusher(format_GML3.prototype.readSurface)}},GML32.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:makeReplacer(format_GML3.prototype.readPatch)}},GML32.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:makeReplacer(format_GML3.prototype.readSegment)}},GML32.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:makeArrayPusher(format_GML3.prototype.readFlatPosList),upperCorner:makeArrayPusher(format_GML3.prototype.readFlatPosList)}},GML32.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:makeReplacer(format_GML3.prototype.readPolygonPatch)}},GML32.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:makeReplacer(format_GML3.prototype.readLineStringSegment)}},GML32.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:makeArrayPusher(format_GMLBase.prototype.pointMemberParser),pointMembers:makeArrayPusher(format_GMLBase.prototype.pointMemberParser)}},GML32.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:makeArrayPusher(format_GMLBase.prototype.lineStringMemberParser),lineStringMembers:makeArrayPusher(format_GMLBase.prototype.lineStringMemberParser)}},GML32.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:makeArrayPusher(format_GMLBase.prototype.polygonMemberParser),polygonMembers:makeArrayPusher(format_GMLBase.prototype.polygonMemberParser)}},GML32.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:makeArrayPusher(format_GMLBase.prototype.readFlatCoordinatesFromNode)}},GML32.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:makeArrayPusher(format_GMLBase.prototype.readLineString)}},GML32.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:makeArrayPusher(format_GMLBase.prototype.readPolygon)}},GML32.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:makeReplacer(format_GMLBase.prototype.readFlatLinearRing)}},GML32.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:makeChildAppender(format_GML3.prototype.writeRing),interior:makeChildAppender(format_GML3.prototype.writeRing)}},GML32.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:makeChildAppender(writeStringTextNode),upperCorner:makeChildAppender(writeStringTextNode)}},GML32.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:makeChildAppender(format_GML3.prototype.writeSurfaceOrPolygonMember),polygonMember:makeChildAppender(format_GML3.prototype.writeSurfaceOrPolygonMember)}},GML32.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:makeChildAppender(format_GML3.prototype.writePointMember)}},GML32.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:makeChildAppender(format_GML3.prototype.writeLineStringOrCurveMember),curveMember:makeChildAppender(format_GML3.prototype.writeLineStringOrCurveMember)}},GML32.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:makeChildAppender(format_GML3.prototype.writeCurveOrLineString),MultiCurve:makeChildAppender(format_GML3.prototype.writeMultiCurveOrLineString),Point:makeChildAppender(GML32.prototype.writePoint),MultiPoint:makeChildAppender(format_GML3.prototype.writeMultiPoint),LineString:makeChildAppender(format_GML3.prototype.writeCurveOrLineString),MultiLineString:makeChildAppender(format_GML3.prototype.writeMultiCurveOrLineString),LinearRing:makeChildAppender(format_GML3.prototype.writeLinearRing),Polygon:makeChildAppender(format_GML3.prototype.writeSurfaceOrPolygon),MultiPolygon:makeChildAppender(format_GML3.prototype.writeMultiSurfaceOrPolygon),Surface:makeChildAppender(format_GML3.prototype.writeSurfaceOrPolygon),MultiSurface:makeChildAppender(format_GML3.prototype.writeMultiSurfaceOrPolygon),Envelope:makeChildAppender(format_GML3.prototype.writeEnvelope)}};var _super,format_GML32=GML32,filter_Filter=function(){function Filter(tagName){this.tagName_=tagName}return Filter.prototype.getTagName=function(){return this.tagName_},Filter}(),LogicalNary_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),filter_LogicalNary=function(_super){function LogicalNary(tagName,conditions){var _this=_super.call(this,tagName)||this;return _this.conditions=conditions,Object(asserts.a)(_this.conditions.length>=2,57),_this}return LogicalNary_extends(LogicalNary,_super),LogicalNary}(filter_Filter),And_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),filter_And=function(_super){function And(conditions){return _super.call(this,"And",Array.prototype.slice.call(arguments))||this}return And_extends(And,_super),And}(filter_LogicalNary),Bbox_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),filter_Bbox=function(_super){function Bbox(geometryName,extent,opt_srsName){var _this=_super.call(this,"BBOX")||this;if(_this.geometryName=geometryName,_this.extent=extent,4!==extent.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return _this.srsName=opt_srsName,_this}return Bbox_extends(Bbox,_super),Bbox}(filter_Filter),Spatial_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),filter_Spatial=function(_super){function Spatial(tagName,geometryName,geometry,opt_srsName){var _this=_super.call(this,tagName)||this;return _this.geometryName=geometryName||"the_geom",_this.geometry=geometry,_this.srsName=opt_srsName,_this}return Spatial_extends(Spatial,_super),Spatial}(filter_Filter),DWithin_extends=(function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()(function(geometryName,geometry,opt_srsName){return _super.call(this,"Contains",geometryName,geometry,opt_srsName)||this},_super=filter_Spatial),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),Disjoint_extends=(function(_super){DWithin_extends(function(geometryName,geometry,distance,unit,opt_srsName){var _this=_super.call(this,"DWithin",geometryName,geometry,opt_srsName)||this;return _this.distance=distance,_this.unit=unit,_this},_super)}(filter_Spatial),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),Comparison_extends=(function(_super){Disjoint_extends(function(geometryName,geometry,opt_srsName){return _super.call(this,"Disjoint",geometryName,geometry,opt_srsName)||this},_super)}(filter_Spatial),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),filter_Comparison=function(_super){function Comparison(tagName,propertyName){var _this=_super.call(this,tagName)||this;return _this.propertyName=propertyName,_this}return Comparison_extends(Comparison,_super),Comparison}(filter_Filter),During_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ComparisonBinary_extends=(function(_super){During_extends(function(propertyName,begin,end){var _this=_super.call(this,"During",propertyName)||this;return _this.begin=begin,_this.end=end,_this},_super)}(filter_Comparison),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),filter_ComparisonBinary=function(_super){function ComparisonBinary(tagName,propertyName,expression,opt_matchCase){var _this=_super.call(this,tagName,propertyName)||this;return _this.expression=expression,_this.matchCase=opt_matchCase,_this}return ComparisonBinary_extends(ComparisonBinary,_super),ComparisonBinary}(filter_Comparison),EqualTo_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GreaterThan_extends=(function(_super){EqualTo_extends(function(propertyName,expression,opt_matchCase){return _super.call(this,"PropertyIsEqualTo",propertyName,expression,opt_matchCase)||this},_super)}(filter_ComparisonBinary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),GreaterThanOrEqualTo_extends=(function(_super){GreaterThan_extends(function(propertyName,expression){return _super.call(this,"PropertyIsGreaterThan",propertyName,expression)||this},_super)}(filter_ComparisonBinary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),Intersects_extends=(function(_super){GreaterThanOrEqualTo_extends(function(propertyName,expression){return _super.call(this,"PropertyIsGreaterThanOrEqualTo",propertyName,expression)||this},_super)}(filter_ComparisonBinary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),IsBetween_extends=(function(_super){Intersects_extends(function(geometryName,geometry,opt_srsName){return _super.call(this,"Intersects",geometryName,geometry,opt_srsName)||this},_super)}(filter_Spatial),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),IsLike_extends=(function(_super){IsBetween_extends(function(propertyName,lowerBoundary,upperBoundary){var _this=_super.call(this,"PropertyIsBetween",propertyName)||this;return _this.lowerBoundary=lowerBoundary,_this.upperBoundary=upperBoundary,_this},_super)}(filter_Comparison),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),IsNull_extends=(function(_super){IsLike_extends(function(propertyName,pattern,opt_wildCard,opt_singleChar,opt_escapeChar,opt_matchCase){var _this=_super.call(this,"PropertyIsLike",propertyName)||this;return _this.pattern=pattern,_this.wildCard=void 0!==opt_wildCard?opt_wildCard:"*",_this.singleChar=void 0!==opt_singleChar?opt_singleChar:".",_this.escapeChar=void 0!==opt_escapeChar?opt_escapeChar:"!",_this.matchCase=opt_matchCase,_this},_super)}(filter_Comparison),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),LessThan_extends=(function(_super){IsNull_extends(function(propertyName){return _super.call(this,"PropertyIsNull",propertyName)||this},_super)}(filter_Comparison),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),LessThanOrEqualTo_extends=(function(_super){LessThan_extends(function(propertyName,expression){return _super.call(this,"PropertyIsLessThan",propertyName,expression)||this},_super)}(filter_ComparisonBinary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),Not_extends=(function(_super){LessThanOrEqualTo_extends(function(propertyName,expression){return _super.call(this,"PropertyIsLessThanOrEqualTo",propertyName,expression)||this},_super)}(filter_ComparisonBinary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),NotEqualTo_extends=(function(_super){Not_extends(function(condition){var _this=_super.call(this,"Not")||this;return _this.condition=condition,_this},_super)}(filter_Filter),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),Or_extends=(function(_super){NotEqualTo_extends(function(propertyName,expression,opt_matchCase){return _super.call(this,"PropertyIsNotEqualTo",propertyName,expression,opt_matchCase)||this},_super)}(filter_ComparisonBinary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),ResourceId_extends=(function(_super){Or_extends(function(conditions){return _super.call(this,"Or",Array.prototype.slice.call(arguments))||this},_super)}(filter_LogicalNary),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),Within_extends=(function(_super){ResourceId_extends(function(rid){var _this=_super.call(this,"ResourceId")||this;return _this.rid=rid,_this},_super)}(filter_Filter),function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}());!function(_super){Within_extends(function(geometryName,geometry,opt_srsName){return _super.call(this,"Within",geometryName,geometry,opt_srsName)||this},_super)}(filter_Spatial);var WFS_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),FEATURE_COLLECTION_PARSERS={"http://www.opengis.net/gml":{boundedBy:makeObjectPropertySetter(format_GMLBase.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:makeArrayPusher(format_GMLBase.prototype.readFeaturesInternal)}},TRANSACTION_SUMMARY_PARSERS={"http://www.opengis.net/wfs":{totalInserted:makeObjectPropertySetter(readNonNegativeInteger),totalUpdated:makeObjectPropertySetter(readNonNegativeInteger),totalDeleted:makeObjectPropertySetter(readNonNegativeInteger)},"http://www.opengis.net/wfs/2.0":{totalInserted:makeObjectPropertySetter(readNonNegativeInteger),totalUpdated:makeObjectPropertySetter(readNonNegativeInteger),totalDeleted:makeObjectPropertySetter(readNonNegativeInteger)}},TRANSACTION_RESPONSE_PARSERS={"http://www.opengis.net/wfs":{TransactionSummary:makeObjectPropertySetter(readTransactionSummary,"transactionSummary"),InsertResults:makeObjectPropertySetter(readInsertResults,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:makeObjectPropertySetter(readTransactionSummary,"transactionSummary"),InsertResults:makeObjectPropertySetter(readInsertResults,"insertIds")}},QUERY_SERIALIZERS={"http://www.opengis.net/wfs":{PropertyName:makeChildAppender(writeStringTextNode)},"http://www.opengis.net/wfs/2.0":{PropertyName:makeChildAppender(writeStringTextNode)}},TRANSACTION_SERIALIZERS={"http://www.opengis.net/wfs":{Insert:makeChildAppender(writeFeature),Update:makeChildAppender(writeUpdate),Delete:makeChildAppender(writeDelete),Property:makeChildAppender(writeProperty),Native:makeChildAppender(writeNative)},"http://www.opengis.net/wfs/2.0":{Insert:makeChildAppender(writeFeature),Update:makeChildAppender(writeUpdate),Delete:makeChildAppender(writeDelete),Property:makeChildAppender(writeProperty),Native:makeChildAppender(writeNative)}},XMLNS="http://www.w3.org/2000/xmlns/",OGCNS={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},WFSNS={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},FESNS={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},SCHEMA_LOCATIONS={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},GML_FORMATS={"2.0.0":format_GML32,"1.1.0":format_GML3,"1.0.0":format_GML2},WFS_WFS=function(_super){function WFS(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.version_=options.version?options.version:"1.1.0",_this.featureType_=options.featureType,_this.featureNS_=options.featureNS,_this.gmlFormat_=options.gmlFormat?options.gmlFormat:new GML_FORMATS[_this.version_],_this.schemaLocation_=options.schemaLocation?options.schemaLocation:SCHEMA_LOCATIONS[_this.version_],_this}return WFS_extends(WFS,_super),WFS.prototype.getFeatureType=function(){return this.featureType_},WFS.prototype.setFeatureType=function(featureType){this.featureType_=featureType},WFS.prototype.readFeaturesFromNode=function(node,opt_options){var context={node:node};Object(ol_obj.a)(context,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(ol_obj.a)(context,this.getReadOptions(node,opt_options||{}));var features=pushParseAndPop([],"2.0.0"===this.version_?FEATURE_COLLECTION_PARSERS:this.gmlFormat_.FEATURE_COLLECTION_PARSERS,node,[context],this.gmlFormat_);return features||(features=[]),features},WFS.prototype.readTransactionResponse=function(source){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readTransactionResponseFromDocument(doc)}return isDocument(source)?this.readTransactionResponseFromDocument(source):this.readTransactionResponseFromNode(source)}},WFS.prototype.readFeatureCollectionMetadata=function(source){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readFeatureCollectionMetadataFromDocument(doc)}return isDocument(source)?this.readFeatureCollectionMetadataFromDocument(source):this.readFeatureCollectionMetadataFromNode(source)}},WFS.prototype.readFeatureCollectionMetadataFromDocument=function(doc){for(var n=doc.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(n)},WFS.prototype.readFeatureCollectionMetadataFromNode=function(node){var result={},value=readNonNegativeIntegerString(node.getAttribute("numberOfFeatures"));return result.numberOfFeatures=value,pushParseAndPop(result,FEATURE_COLLECTION_PARSERS,node,[],this.gmlFormat_)},WFS.prototype.readTransactionResponseFromDocument=function(doc){for(var n=doc.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(n)},WFS.prototype.readTransactionResponseFromNode=function(node){return pushParseAndPop({},TRANSACTION_RESPONSE_PARSERS,node,[])},WFS.prototype.writeGetFeature=function(options){var _this=this,node=createElementNS(WFSNS[this.version_],"GetFeature");node.setAttribute("service","WFS"),node.setAttribute("version",this.version_),options.handle&&node.setAttribute("handle",options.handle),options.outputFormat&&node.setAttribute("outputFormat",options.outputFormat),void 0!==options.maxFeatures&&node.setAttribute("maxFeatures",String(options.maxFeatures)),options.resultType&&node.setAttribute("resultType",options.resultType),void 0!==options.startIndex&&node.setAttribute("startIndex",String(options.startIndex)),void 0!==options.count&&node.setAttribute("count",String(options.count)),void 0!==options.viewParams&&node.setAttribute("viewParams",options.viewParams),node.setAttributeNS(XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation_);var context={node:node};if(Object(ol_obj.a)(context,{version:this.version_,srsName:options.srsName,featureNS:options.featureNS?options.featureNS:this.featureNS_,featurePrefix:options.featurePrefix,propertyNames:options.propertyNames?options.propertyNames:[]}),Object(asserts.a)(Array.isArray(options.featureTypes),11),"string"==typeof options.featureTypes[0]){var filter=options.filter;options.bbox&&(Object(asserts.a)(options.geometryName,12),filter=this.combineBboxAndFilter(options.geometryName,options.bbox,options.srsName,filter)),Object(ol_obj.a)(context,{geometryName:options.geometryName,filter:filter}),writeGetFeature(node,options.featureTypes,[context])}else options.featureTypes.forEach(function(featureType){var completeFilter=_this.combineBboxAndFilter(featureType.geometryName,featureType.bbox,options.srsName,options.filter);Object(ol_obj.a)(context,{geometryName:featureType.geometryName,filter:completeFilter}),writeGetFeature(node,[featureType.name],[context])});return node},WFS.prototype.combineBboxAndFilter=function(geometryName,extent,opt_srsName,opt_filter){var bboxFilter=function(geometryName,extent,opt_srsName){return new filter_Bbox(geometryName,extent,opt_srsName)}(geometryName,extent,opt_srsName);return opt_filter?function(conditions){var params=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(filter_And,params))}(opt_filter,bboxFilter):bboxFilter},WFS.prototype.writeTransaction=function(inserts,updates,deletes,options){var baseObj,objectStack=[],version=options.version?options.version:this.version_,node=createElementNS(WFSNS[version],"Transaction");node.setAttribute("service","WFS"),node.setAttribute("version",version),options&&(baseObj=options.gmlOptions?options.gmlOptions:{},options.handle&&node.setAttribute("handle",options.handle)),node.setAttributeNS(XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",SCHEMA_LOCATIONS[version]);var request=function(node,baseObj,version,options){var gmlVersion,featurePrefix=options.featurePrefix?options.featurePrefix:"feature";return"1.0.0"===version?gmlVersion=2:"1.1.0"===version?gmlVersion=3:"2.0.0"===version&&(gmlVersion=3.2),Object(ol_obj.a)({node:node},{version:version,featureNS:options.featureNS,featureType:options.featureType,featurePrefix:featurePrefix,gmlVersion:gmlVersion,hasZ:options.hasZ,srsName:options.srsName},baseObj)}(node,baseObj,version,options);return inserts&&serializeTransactionRequest("Insert",inserts,objectStack,request),updates&&serializeTransactionRequest("Update",updates,objectStack,request),deletes&&serializeTransactionRequest("Delete",deletes,objectStack,request),options.nativeElements&&serializeTransactionRequest("Native",options.nativeElements,objectStack,request),node},WFS.prototype.readProjectionFromDocument=function(doc){for(var n=doc.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(n);return null},WFS.prototype.readProjectionFromNode=function(node){if(node.firstElementChild&&node.firstElementChild.firstElementChild)for(var n=(node=node.firstElementChild.firstElementChild).firstElementChild;n;n=n.nextElementSibling)if(0!==n.childNodes.length&&(1!==n.childNodes.length||3!==n.firstChild.nodeType)){var objectStack=[{}];return this.gmlFormat_.readGeometryElement(n,objectStack),Object(ol_proj.j)(objectStack.pop().srsName)}return null},WFS}(format_XMLFeature);function serializeTransactionRequest(type,features,objectStack,request){pushSerializeAndPop(request,TRANSACTION_SERIALIZERS,makeSimpleNodeFactory(type),features,objectStack)}function readTransactionSummary(node,objectStack){return pushParseAndPop({},TRANSACTION_SUMMARY_PARSERS,node,objectStack)}var OGC_FID_PARSERS={"http://www.opengis.net/ogc":{FeatureId:makeArrayPusher(function(node,objectStack){return node.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:makeArrayPusher(function(node,objectStack){return node.getAttribute("fid")})}};function fidParser(node,objectStack){parseNode(OGC_FID_PARSERS,node,objectStack)}var INSERT_RESULTS_PARSERS={"http://www.opengis.net/wfs":{Feature:fidParser},"http://www.opengis.net/wfs/2.0":{Feature:fidParser}};function readInsertResults(node,objectStack){return pushParseAndPop([],INSERT_RESULTS_PARSERS,node,objectStack)}function writeFeature(node,feature,objectStack){var context=objectStack[objectStack.length-1],gmlVersion=context.gmlVersion,child=createElementNS(context.featureNS,context.featureType);node.appendChild(child),2===gmlVersion?format_GML2.prototype.writeFeatureElement(child,feature,objectStack):3===gmlVersion?format_GML3.prototype.writeFeatureElement(child,feature,objectStack):format_GML32.prototype.writeFeatureElement(child,feature,objectStack)}function writeOgcFidFilter(node,fid,objectStack){var ns=OGCNS[objectStack[objectStack.length-1].version],filter=createElementNS(ns,"Filter"),child=createElementNS(ns,"FeatureId");filter.appendChild(child),child.setAttribute("fid",fid),node.appendChild(filter)}function WFS_getTypeName(featurePrefix,featureType){var prefix=(featurePrefix=featurePrefix||"feature")+":";return 0===featureType.indexOf(prefix)?featureType:prefix+featureType}function writeDelete(node,feature,objectStack){var context=objectStack[objectStack.length-1];Object(asserts.a)(void 0!==feature.getId(),26);var featurePrefix=context.featurePrefix,featureNS=context.featureNS,typeName=WFS_getTypeName(featurePrefix,context.featureType);node.setAttribute("typeName",typeName),node.setAttributeNS(XMLNS,"xmlns:"+featurePrefix,featureNS);var fid=feature.getId();void 0!==fid&&writeOgcFidFilter(node,fid,objectStack)}function writeUpdate(node,feature,objectStack){var context=objectStack[objectStack.length-1];Object(asserts.a)(void 0!==feature.getId(),27);var version=context.version,featurePrefix=context.featurePrefix,featureNS=context.featureNS,typeName=WFS_getTypeName(featurePrefix,context.featureType),geometryName=feature.getGeometryName();node.setAttribute("typeName",typeName),node.setAttributeNS(XMLNS,"xmlns:"+featurePrefix,featureNS);var fid=feature.getId();if(void 0!==fid){for(var keys=feature.getKeys(),values=[],i=0,ii=keys.length;i<ii;i++){var value=feature.get(keys[i]);if(void 0!==value){var name_1=keys[i];value&&"function"==typeof value.getSimplifiedGeometry&&(name_1=geometryName),values.push({name:name_1,value:value})}}pushSerializeAndPop({version:version,gmlVersion:context.gmlVersion,node:node,hasZ:context.hasZ,srsName:context.srsName},TRANSACTION_SERIALIZERS,makeSimpleNodeFactory("Property"),values,objectStack),writeOgcFidFilter(node,fid,objectStack)}}function writeProperty(node,pair,objectStack){var context=objectStack[objectStack.length-1],ns=WFSNS[context.version],name=createElementNS(ns,"Name"),gmlVersion=context.gmlVersion;if(node.appendChild(name),writeStringTextNode(name,pair.name),null!=pair.value){var value=createElementNS(ns,"Value");node.appendChild(value),pair.value&&"function"==typeof pair.value.getSimplifiedGeometry?2===gmlVersion?format_GML2.prototype.writeGeometryElement(value,pair.value,objectStack):3===gmlVersion?format_GML3.prototype.writeGeometryElement(value,pair.value,objectStack):format_GML32.prototype.writeGeometryElement(value,pair.value,objectStack):writeStringTextNode(value,pair.value)}}function writeNative(node,nativeElement,objectStack){nativeElement.vendorId&&node.setAttribute("vendorId",nativeElement.vendorId),void 0!==nativeElement.safeToIgnore&&node.setAttribute("safeToIgnore",String(nativeElement.safeToIgnore)),void 0!==nativeElement.value&&writeStringTextNode(node,nativeElement.value)}var GETFEATURE_SERIALIZERS={"http://www.opengis.net/wfs":{Query:makeChildAppender(writeQuery)},"http://www.opengis.net/wfs/2.0":{Query:makeChildAppender(writeQuery)},"http://www.opengis.net/ogc":{During:makeChildAppender(writeDuringFilter),And:makeChildAppender(writeLogicalFilter),Or:makeChildAppender(writeLogicalFilter),Not:makeChildAppender(writeNotFilter),BBOX:makeChildAppender(writeBboxFilter),Contains:makeChildAppender(writeSpatialFilter),Intersects:makeChildAppender(writeSpatialFilter),Within:makeChildAppender(writeSpatialFilter),DWithin:makeChildAppender(writeDWithinFilter),PropertyIsEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsNotEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsLessThan:makeChildAppender(writeComparisonFilter),PropertyIsLessThanOrEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsGreaterThan:makeChildAppender(writeComparisonFilter),PropertyIsGreaterThanOrEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsNull:makeChildAppender(writeIsNullFilter),PropertyIsBetween:makeChildAppender(writeIsBetweenFilter),PropertyIsLike:makeChildAppender(writeIsLikeFilter)},"http://www.opengis.net/fes/2.0":{During:makeChildAppender(writeDuringFilter),And:makeChildAppender(writeLogicalFilter),Or:makeChildAppender(writeLogicalFilter),Not:makeChildAppender(writeNotFilter),BBOX:makeChildAppender(writeBboxFilter),Contains:makeChildAppender(writeSpatialFilter),Disjoint:makeChildAppender(writeSpatialFilter),Intersects:makeChildAppender(writeSpatialFilter),ResourceId:makeChildAppender(function(node,filter,objectStack){node.setAttribute("rid",filter.rid)}),Within:makeChildAppender(writeSpatialFilter),DWithin:makeChildAppender(writeDWithinFilter),PropertyIsEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsNotEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsLessThan:makeChildAppender(writeComparisonFilter),PropertyIsLessThanOrEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsGreaterThan:makeChildAppender(writeComparisonFilter),PropertyIsGreaterThanOrEqualTo:makeChildAppender(writeComparisonFilter),PropertyIsNull:makeChildAppender(writeIsNullFilter),PropertyIsBetween:makeChildAppender(writeIsBetweenFilter),PropertyIsLike:makeChildAppender(writeIsLikeFilter)}};function writeQuery(node,featureType,objectStack){var typeName,context=objectStack[objectStack.length-1],version=context.version,featurePrefix=context.featurePrefix,featureNS=context.featureNS,propertyNames=context.propertyNames,srsName=context.srsName;typeName=featurePrefix?WFS_getTypeName(featurePrefix,featureType):featureType,node.setAttribute("2.0.0"===version?"typeNames":"typeName",typeName),srsName&&node.setAttribute("srsName",srsName),featureNS&&node.setAttributeNS(XMLNS,"xmlns:"+featurePrefix,featureNS);var item=Object(ol_obj.a)({},context);item.node=node,pushSerializeAndPop(item,QUERY_SERIALIZERS,makeSimpleNodeFactory("PropertyName"),propertyNames,objectStack);var filter=context.filter;if(filter){var child=createElementNS(getFilterNS(version),"Filter");node.appendChild(child),function(node,filter,objectStack){var context=objectStack[objectStack.length-1],item={node:node};Object(ol_obj.a)(item,{context:context}),pushSerializeAndPop(item,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(filter.getTagName()),[filter],objectStack)}(child,filter,objectStack)}}function writeBboxFilter(node,filter,objectStack){var parent=objectStack[objectStack.length-1],version=parent.context.version;parent.srsName=filter.srsName;var format=GML_FORMATS[version];writePropertyName(version,node,filter.geometryName),format.prototype.writeGeometryElement(node,filter.extent,objectStack)}function writeSpatialFilter(node,filter,objectStack){var parent=objectStack[objectStack.length-1],version=parent.context.version;parent.srsName=filter.srsName;var format=GML_FORMATS[version];writePropertyName(version,node,filter.geometryName),format.prototype.writeGeometryElement(node,filter.geometry,objectStack)}function writeDWithinFilter(node,filter,objectStack){var version=objectStack[objectStack.length-1].context.version;writeSpatialFilter(node,filter,objectStack);var distance=createElementNS(getFilterNS(version),"Distance");writeStringTextNode(distance,filter.distance.toString()),distance.setAttribute("2.0.0"===version?"uom":"units",filter.unit),node.appendChild(distance)}function writeDuringFilter(node,filter,objectStack){writeExpression(FESNS[objectStack[objectStack.length-1].context.version],"ValueReference",node,filter.propertyName);var timePeriod=createElementNS(GMLNS,"TimePeriod");node.appendChild(timePeriod);var begin=createElementNS(GMLNS,"begin");timePeriod.appendChild(begin),writeTimeInstant(begin,filter.begin);var end=createElementNS(GMLNS,"end");timePeriod.appendChild(end),writeTimeInstant(end,filter.end)}function writeLogicalFilter(node,filter,objectStack){var context=objectStack[objectStack.length-1].context,item={node:node};Object(ol_obj.a)(item,{context:context});for(var conditions=filter.conditions,i=0,ii=conditions.length;i<ii;++i){var condition=conditions[i];pushSerializeAndPop(item,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(condition.getTagName()),[condition],objectStack)}}function writeNotFilter(node,filter,objectStack){var context=objectStack[objectStack.length-1].context,item={node:node};Object(ol_obj.a)(item,{context:context});var condition=filter.condition;pushSerializeAndPop(item,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(condition.getTagName()),[condition],objectStack)}function writeComparisonFilter(node,filter,objectStack){var version=objectStack[objectStack.length-1].context.version;void 0!==filter.matchCase&&node.setAttribute("matchCase",filter.matchCase.toString()),writePropertyName(version,node,filter.propertyName),writeLiteral(version,node,""+filter.expression)}function writeIsNullFilter(node,filter,objectStack){writePropertyName(objectStack[objectStack.length-1].context.version,node,filter.propertyName)}function writeIsBetweenFilter(node,filter,objectStack){var version=objectStack[objectStack.length-1].context.version,ns=getFilterNS(version);writePropertyName(version,node,filter.propertyName);var lowerBoundary=createElementNS(ns,"LowerBoundary");node.appendChild(lowerBoundary),writeLiteral(version,lowerBoundary,""+filter.lowerBoundary);var upperBoundary=createElementNS(ns,"UpperBoundary");node.appendChild(upperBoundary),writeLiteral(version,upperBoundary,""+filter.upperBoundary)}function writeIsLikeFilter(node,filter,objectStack){var version=objectStack[objectStack.length-1].context.version;node.setAttribute("wildCard",filter.wildCard),node.setAttribute("singleChar",filter.singleChar),node.setAttribute("escapeChar",filter.escapeChar),void 0!==filter.matchCase&&node.setAttribute("matchCase",filter.matchCase.toString()),writePropertyName(version,node,filter.propertyName),writeLiteral(version,node,""+filter.pattern)}function writeExpression(ns,tagName,node,value){var property=createElementNS(ns,tagName);writeStringTextNode(property,value),node.appendChild(property)}function writeLiteral(version,node,value){writeExpression(getFilterNS(version),"Literal",node,value)}function writePropertyName(version,node,value){"2.0.0"===version?writeExpression(FESNS[version],"ValueReference",node,value):writeExpression(OGCNS[version],"PropertyName",node,value)}function writeTimeInstant(node,time){var timeInstant=createElementNS(GMLNS,"TimeInstant");node.appendChild(timeInstant);var timePosition=createElementNS(GMLNS,"timePosition");timeInstant.appendChild(timePosition),writeStringTextNode(timePosition,time)}function writeGetFeature(node,featureTypes,objectStack){var context=objectStack[objectStack.length-1],item=Object(ol_obj.a)({},context);item.node=node,pushSerializeAndPop(item,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory("Query"),featureTypes,objectStack)}function getFilterNS(version){return"2.0.0"===version?FESNS[version]:OGCNS[version]}var format_WFS=WFS_WFS,format_GML=format_GML3,format_XML=function(){function XML(){}return XML.prototype.read=function(source){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readFromDocument(doc)}return isDocument(source)?this.readFromDocument(source):this.readFromNode(source)}return null},XML.prototype.readFromDocument=function(doc){for(var n=doc.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFromNode(n);return null},XML.prototype.readFromNode=function(node){},XML}();function readHref(node){return node.getAttributeNS("http://www.w3.org/1999/xlink","href")}var WMScapabilities_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),WMScapabilities_NAMESPACE_URIS=[null,"http://www.opengis.net/wms"],PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Service:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},SERVICE_PARSERS,node,objectStack)}),Capability:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},CAPABILITY_PARSERS,node,objectStack)})}),CAPABILITY_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Request:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},REQUEST_PARSERS,node,objectStack)}),Exception:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop([],EXCEPTION_PARSERS,node,objectStack)}),Layer:makeObjectPropertySetter(function(node,objectStack){var layerObject=pushParseAndPop({},LAYER_PARSERS,node,objectStack);return void 0===layerObject.Layer?Object.assign(layerObject,readLayer(node,objectStack)):layerObject})}),WMScapabilities_WMSCapabilities=function(_super){function WMSCapabilities(){var _this=_super.call(this)||this;return _this.version=void 0,_this}return WMScapabilities_extends(WMSCapabilities,_super),WMSCapabilities.prototype.readFromNode=function(node){return this.version=node.getAttribute("version").trim(),pushParseAndPop({version:this.version},PARSERS,node,[])||null},WMSCapabilities}(format_XML),SERVICE_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Name:makeObjectPropertySetter(readString),Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),KeywordList:makeObjectPropertySetter(readKeywordList),OnlineResource:makeObjectPropertySetter(readHref),ContactInformation:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},CONTACT_INFORMATION_PARSERS,node,objectStack)}),Fees:makeObjectPropertySetter(readString),AccessConstraints:makeObjectPropertySetter(readString),LayerLimit:makeObjectPropertySetter(readNonNegativeInteger),MaxWidth:makeObjectPropertySetter(readNonNegativeInteger),MaxHeight:makeObjectPropertySetter(readNonNegativeInteger)}),CONTACT_INFORMATION_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{ContactPersonPrimary:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},CONTACT_PERSON_PARSERS,node,objectStack)}),ContactPosition:makeObjectPropertySetter(readString),ContactAddress:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},CONTACT_ADDRESS_PARSERS,node,objectStack)}),ContactVoiceTelephone:makeObjectPropertySetter(readString),ContactFacsimileTelephone:makeObjectPropertySetter(readString),ContactElectronicMailAddress:makeObjectPropertySetter(readString)}),CONTACT_PERSON_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{ContactPerson:makeObjectPropertySetter(readString),ContactOrganization:makeObjectPropertySetter(readString)}),CONTACT_ADDRESS_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{AddressType:makeObjectPropertySetter(readString),Address:makeObjectPropertySetter(readString),City:makeObjectPropertySetter(readString),StateOrProvince:makeObjectPropertySetter(readString),PostCode:makeObjectPropertySetter(readString),Country:makeObjectPropertySetter(readString)}),EXCEPTION_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Format:makeArrayPusher(readString)}),LAYER_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Name:makeObjectPropertySetter(readString),Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),KeywordList:makeObjectPropertySetter(readKeywordList),CRS:makeObjectPropertyPusher(readString),EX_GeographicBoundingBox:makeObjectPropertySetter(function(node,objectStack){var geographicBoundingBox=pushParseAndPop({},EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,node,objectStack);if(geographicBoundingBox){var westBoundLongitude=geographicBoundingBox.westBoundLongitude,southBoundLatitude=geographicBoundingBox.southBoundLatitude,eastBoundLongitude=geographicBoundingBox.eastBoundLongitude,northBoundLatitude=geographicBoundingBox.northBoundLatitude;if(void 0!==westBoundLongitude&&void 0!==southBoundLatitude&&void 0!==eastBoundLongitude&&void 0!==northBoundLatitude)return[westBoundLongitude,southBoundLatitude,eastBoundLongitude,northBoundLatitude]}}),BoundingBox:makeObjectPropertyPusher(function(node,objectStack){var extent=[readDecimalString(node.getAttribute("minx")),readDecimalString(node.getAttribute("miny")),readDecimalString(node.getAttribute("maxx")),readDecimalString(node.getAttribute("maxy"))],resolutions=[readDecimalString(node.getAttribute("resx")),readDecimalString(node.getAttribute("resy"))];return{crs:node.getAttribute("CRS"),extent:extent,res:resolutions}}),Dimension:makeObjectPropertyPusher(function(node,objectStack){return{name:node.getAttribute("name"),units:node.getAttribute("units"),unitSymbol:node.getAttribute("unitSymbol"),default:node.getAttribute("default"),multipleValues:readBooleanString(node.getAttribute("multipleValues")),nearestValue:readBooleanString(node.getAttribute("nearestValue")),current:readBooleanString(node.getAttribute("current")),values:readString(node)}}),Attribution:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},ATTRIBUTION_PARSERS,node,objectStack)}),AuthorityURL:makeObjectPropertyPusher(function(node,objectStack){var authorityObject=readFormatOnlineresource(node,objectStack);if(authorityObject)return authorityObject.name=node.getAttribute("name"),authorityObject}),Identifier:makeObjectPropertyPusher(readString),MetadataURL:makeObjectPropertyPusher(function(node,objectStack){var metadataObject=readFormatOnlineresource(node,objectStack);if(metadataObject)return metadataObject.type=node.getAttribute("type"),metadataObject}),DataURL:makeObjectPropertyPusher(readFormatOnlineresource),FeatureListURL:makeObjectPropertyPusher(readFormatOnlineresource),Style:makeObjectPropertyPusher(function(node,objectStack){return pushParseAndPop({},STYLE_PARSERS,node,objectStack)}),MinScaleDenominator:makeObjectPropertySetter(readDecimal),MaxScaleDenominator:makeObjectPropertySetter(readDecimal),Layer:makeObjectPropertyPusher(readLayer)}),ATTRIBUTION_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Title:makeObjectPropertySetter(readString),OnlineResource:makeObjectPropertySetter(readHref),LogoURL:makeObjectPropertySetter(readSizedFormatOnlineresource)}),EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{westBoundLongitude:makeObjectPropertySetter(readDecimal),eastBoundLongitude:makeObjectPropertySetter(readDecimal),southBoundLatitude:makeObjectPropertySetter(readDecimal),northBoundLatitude:makeObjectPropertySetter(readDecimal)}),REQUEST_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{GetCapabilities:makeObjectPropertySetter(readOperationType),GetMap:makeObjectPropertySetter(readOperationType),GetFeatureInfo:makeObjectPropertySetter(readOperationType)}),OPERATIONTYPE_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Format:makeObjectPropertyPusher(readString),DCPType:makeObjectPropertyPusher(function(node,objectStack){return pushParseAndPop({},DCPTYPE_PARSERS,node,objectStack)})}),DCPTYPE_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{HTTP:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},HTTP_PARSERS,node,objectStack)})}),HTTP_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Get:makeObjectPropertySetter(readFormatOnlineresource),Post:makeObjectPropertySetter(readFormatOnlineresource)}),STYLE_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Name:makeObjectPropertySetter(readString),Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),LegendURL:makeObjectPropertyPusher(readSizedFormatOnlineresource),StyleSheetURL:makeObjectPropertySetter(readFormatOnlineresource),StyleURL:makeObjectPropertySetter(readFormatOnlineresource)}),FORMAT_ONLINERESOURCE_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Format:makeObjectPropertySetter(readString),OnlineResource:makeObjectPropertySetter(readHref)}),KEYWORDLIST_PARSERS=makeStructureNS(WMScapabilities_NAMESPACE_URIS,{Keyword:makeArrayPusher(readString)});function readLayer(node,objectStack){var parentLayerObject=objectStack[objectStack.length-1],layerObject=pushParseAndPop({},LAYER_PARSERS,node,objectStack);if(layerObject){var queryable=readBooleanString(node.getAttribute("queryable"));void 0===queryable&&(queryable=parentLayerObject.queryable),layerObject.queryable=void 0!==queryable&&queryable;var cascaded=readNonNegativeIntegerString(node.getAttribute("cascaded"));void 0===cascaded&&(cascaded=parentLayerObject.cascaded),layerObject.cascaded=cascaded;var opaque=readBooleanString(node.getAttribute("opaque"));void 0===opaque&&(opaque=parentLayerObject.opaque),layerObject.opaque=void 0!==opaque&&opaque;var noSubsets=readBooleanString(node.getAttribute("noSubsets"));void 0===noSubsets&&(noSubsets=parentLayerObject.noSubsets),layerObject.noSubsets=void 0!==noSubsets&&noSubsets;var fixedWidth=readDecimalString(node.getAttribute("fixedWidth"));fixedWidth||(fixedWidth=parentLayerObject.fixedWidth),layerObject.fixedWidth=fixedWidth;var fixedHeight=readDecimalString(node.getAttribute("fixedHeight"));return fixedHeight||(fixedHeight=parentLayerObject.fixedHeight),layerObject.fixedHeight=fixedHeight,["Style","CRS","AuthorityURL"].forEach(function(key){key in parentLayerObject&&(layerObject[key]=(layerObject[key]||[]).concat(parentLayerObject[key]))}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(key){key in layerObject||(layerObject[key]=parentLayerObject[key])}),layerObject}}function readFormatOnlineresource(node,objectStack){return pushParseAndPop({},FORMAT_ONLINERESOURCE_PARSERS,node,objectStack)}function readOperationType(node,objectStack){return pushParseAndPop({},OPERATIONTYPE_PARSERS,node,objectStack)}function readSizedFormatOnlineresource(node,objectStack){var formatOnlineresource=readFormatOnlineresource(node,objectStack);if(formatOnlineresource){var size=[readNonNegativeIntegerString(node.getAttribute("width")),readNonNegativeIntegerString(node.getAttribute("height"))];return formatOnlineresource.size=size,formatOnlineresource}}function readKeywordList(node,objectStack){return pushParseAndPop([],KEYWORDLIST_PARSERS,node,objectStack)}var DEFAULT_COLOR,DEFAULT_IMAGE_STYLE_ANCHOR,DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS,DEFAULT_IMAGE_STYLE_SIZE,DEFAULT_IMAGE_STYLE_SRC,DEFAULT_IMAGE_SCALE_MULTIPLIER,DEFAULT_NO_IMAGE_STYLE,DEFAULT_TEXT_STROKE_STYLE,TEXTAREA,WMScapabilities=WMScapabilities_WMSCapabilities,events_condition=__webpack_require__("Bviv"),ol_Object=__webpack_require__("4mld"),MapEventType=__webpack_require__("WS2v"),css=__webpack_require__("zX6e"),Overlay_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ol_Overlay=function(_super){function Overlay(options){var _this=_super.call(this)||this;_this.options=options,_this.id=options.id,_this.insertFirst=void 0===options.insertFirst||options.insertFirst,_this.stopEvent=void 0===options.stopEvent||options.stopEvent,_this.element=document.createElement("div"),_this.element.className=void 0!==options.className?options.className:"ol-overlay-container "+css.d,_this.element.style.position="absolute",_this.element.style.pointerEvents="auto";var autoPan=options.autoPan;return autoPan&&"object"!=typeof autoPan&&(autoPan={animation:options.autoPanAnimation,margin:options.autoPanMargin}),_this.autoPan=autoPan||!1,_this.rendered={transform_:"",visible:!0},_this.mapPostrenderListenerKey=null,_this.addEventListener(Object(ol_Object.b)("element"),_this.handleElementChanged),_this.addEventListener(Object(ol_Object.b)("map"),_this.handleMapChanged),_this.addEventListener(Object(ol_Object.b)("offset"),_this.handleOffsetChanged),_this.addEventListener(Object(ol_Object.b)("position"),_this.handlePositionChanged),_this.addEventListener(Object(ol_Object.b)("positioning"),_this.handlePositioningChanged),void 0!==options.element&&_this.setElement(options.element),_this.setOffset(void 0!==options.offset?options.offset:[0,0]),_this.setPositioning(void 0!==options.positioning?options.positioning:"top-left"),void 0!==options.position&&_this.setPosition(options.position),_this}return Overlay_extends(Overlay,_super),Overlay.prototype.getElement=function(){return this.get("element")},Overlay.prototype.getId=function(){return this.id},Overlay.prototype.getMap=function(){return this.get("map")},Overlay.prototype.getOffset=function(){return this.get("offset")},Overlay.prototype.getPosition=function(){return this.get("position")},Overlay.prototype.getPositioning=function(){return this.get("positioning")},Overlay.prototype.handleElementChanged=function(){Object(ol_dom.d)(this.element);var element=this.getElement();element&&this.element.appendChild(element)},Overlay.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(ol_dom.e)(this.element),Object(events.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var map=this.getMap();if(map){this.mapPostrenderListenerKey=Object(events.a)(map,MapEventType.a.POSTRENDER,this.render,this),this.updatePixelPosition();var container=this.stopEvent?map.getOverlayContainerStopEvent():map.getOverlayContainer();this.insertFirst?container.insertBefore(this.element,container.childNodes[0]||null):container.appendChild(this.element),this.performAutoPan()}},Overlay.prototype.render=function(){this.updatePixelPosition()},Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},Overlay.prototype.setElement=function(element){this.set("element",element)},Overlay.prototype.setMap=function(map){this.set("map",map)},Overlay.prototype.setOffset=function(offset){this.set("offset",offset)},Overlay.prototype.setPosition=function(position){this.set("position",position)},Overlay.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},Overlay.prototype.panIntoView=function(opt_panIntoViewOptions){var map=this.getMap();if(map&&map.getTargetElement()&&this.get("position")){var mapRect=this.getRect(map.getTargetElement(),map.getSize()),element=this.getElement(),overlayRect=this.getRect(element,[Object(ol_dom.c)(element),Object(ol_dom.b)(element)]),panIntoViewOptions=opt_panIntoViewOptions||{},myMargin=void 0===panIntoViewOptions.margin?20:panIntoViewOptions.margin;if(!Object(ol_extent.g)(mapRect,overlayRect)){var offsetLeft=overlayRect[0]-mapRect[0],offsetRight=mapRect[2]-overlayRect[2],offsetTop=overlayRect[1]-mapRect[1],offsetBottom=mapRect[3]-overlayRect[3],delta=[0,0];if(offsetLeft<0?delta[0]=offsetLeft-myMargin:offsetRight<0&&(delta[0]=Math.abs(offsetRight)+myMargin),offsetTop<0?delta[1]=offsetTop-myMargin:offsetBottom<0&&(delta[1]=Math.abs(offsetBottom)+myMargin),0!==delta[0]||0!==delta[1]){var center=map.getView().getCenterInternal(),centerPx=map.getPixelFromCoordinateInternal(center);if(!centerPx)return;var newCenterPx=[centerPx[0]+delta[0],centerPx[1]+delta[1]],panOptions=panIntoViewOptions.animation||{};map.getView().animateInternal({center:map.getCoordinateFromPixelInternal(newCenterPx),duration:panOptions.duration,easing:panOptions.easing})}}}},Overlay.prototype.getRect=function(element,size){var box=element.getBoundingClientRect(),offsetX=box.left+window.pageXOffset,offsetY=box.top+window.pageYOffset;return[offsetX,offsetY,offsetX+size[0],offsetY+size[1]]},Overlay.prototype.setPositioning=function(positioning){this.set("positioning",positioning)},Overlay.prototype.setVisible=function(visible){this.rendered.visible!==visible&&(this.element.style.display=visible?"":"none",this.rendered.visible=visible)},Overlay.prototype.updatePixelPosition=function(){var map=this.getMap(),position=this.getPosition();if(map&&map.isRendered()&&position){var pixel=map.getPixelFromCoordinate(position),mapSize=map.getSize();this.updateRenderedPosition(pixel,mapSize)}else this.setVisible(!1)},Overlay.prototype.updateRenderedPosition=function(pixel,mapSize){var style=this.element.style,offset=this.getOffset(),positioning=this.getPositioning();this.setVisible(!0);var posX="0%",posY="0%";"bottom-right"==positioning||"center-right"==positioning||"top-right"==positioning?posX="-100%":"bottom-center"!=positioning&&"center-center"!=positioning&&"top-center"!=positioning||(posX="-50%"),"bottom-left"==positioning||"bottom-center"==positioning||"bottom-right"==positioning?posY="-100%":"center-left"!=positioning&&"center-center"!=positioning&&"center-right"!=positioning||(posY="-50%");var transform="translate("+posX+", "+posY+") translate("+Math.round(pixel[0]+offset[0])+"px, "+Math.round(pixel[1]+offset[1])+"px)";this.rendered.transform_!=transform&&(this.rendered.transform_=transform,style.transform=transform,style.msTransform=transform)},Overlay.prototype.getOptions=function(){return this.options},Overlay}(ol_Object.a),Select=__webpack_require__("LOJ/"),PinchZoom=__webpack_require__("83mf"),PinchRotate=__webpack_require__("UI7K"),DragPan=__webpack_require__("y3bx"),DragRotate=__webpack_require__("y23+"),DragZoom=__webpack_require__("Aotg"),DragAndDrop=__webpack_require__("iN/N"),ol_interaction=__webpack_require__("Ojm/"),Draw=__webpack_require__("rCk2"),Snap=__webpack_require__("svx0"),DragBox=__webpack_require__("JfxD"),Translate=__webpack_require__("0FFk"),Style=__webpack_require__("bHcU"),Stroke=__webpack_require__("hoJM"),Fill=__webpack_require__("g6Z0"),Circle=__webpack_require__("zixo"),GeoJSON=__webpack_require__("ouHB"),GeometryCollection=__webpack_require__("01Jf"),GeometryType=__webpack_require__("9iPr"),Icon=__webpack_require__("bL/2"),IconAnchorUnits=__webpack_require__("grDu"),IconOrigin=__webpack_require__("0gJn"),Text=__webpack_require__("gpXz"),ol_color=__webpack_require__("XDhV"),KML_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GX_NAMESPACE_URIS=["http://www.google.com/kml/ext/2.2"],KML_NAMESPACE_URIS=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ICON_ANCHOR_UNITS_MAP={fraction:IconAnchorUnits.a.FRACTION,pixels:IconAnchorUnits.a.PIXELS,insetPixels:IconAnchorUnits.a.PIXELS},PLACEMARK_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{ExtendedData:extendedDataParser,Region:regionParser,MultiGeometry:makeObjectPropertySetter(readMultiGeometry,"geometry"),LineString:makeObjectPropertySetter(readLineString,"geometry"),LinearRing:makeObjectPropertySetter(readLinearRing,"geometry"),Point:makeObjectPropertySetter(readPoint,"geometry"),Polygon:makeObjectPropertySetter(readPolygon,"geometry"),Style:makeObjectPropertySetter(KML_readStyle),StyleMap:function(node,objectStack){var styleMapValue=readStyleMapValue.call(this,node,objectStack);if(styleMapValue){var placemarkObject=objectStack[objectStack.length-1];Array.isArray(styleMapValue)?placemarkObject.Style=styleMapValue:"string"==typeof styleMapValue?placemarkObject.styleUrl=styleMapValue:Object(asserts.a)(!1,38)}},address:makeObjectPropertySetter(readString),description:makeObjectPropertySetter(readString),name:makeObjectPropertySetter(readString),open:makeObjectPropertySetter(readBoolean),phoneNumber:makeObjectPropertySetter(readString),styleUrl:makeObjectPropertySetter(readStyleURL),visibility:makeObjectPropertySetter(readBoolean)},makeStructureNS(GX_NAMESPACE_URIS,{MultiTrack:makeObjectPropertySetter(function(node,objectStack){var lineStrings=pushParseAndPop([],GX_MULTITRACK_GEOMETRY_PARSERS,node,objectStack);if(lineStrings)return new MultiLineString.a(lineStrings)},"geometry"),Track:makeObjectPropertySetter(readGxTrack,"geometry")})),NETWORK_LINK_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{ExtendedData:extendedDataParser,Region:regionParser,Link:function(node,objectStack){parseNode(LINK_PARSERS,node,objectStack)},address:makeObjectPropertySetter(readString),description:makeObjectPropertySetter(readString),name:makeObjectPropertySetter(readString),open:makeObjectPropertySetter(readBoolean),phoneNumber:makeObjectPropertySetter(readString),visibility:makeObjectPropertySetter(readBoolean)}),LINK_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{href:makeObjectPropertySetter(readURI)}),REGION_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{LatLonAltBox:function(node,objectStack){var object=pushParseAndPop({},LAT_LON_ALT_BOX_PARSERS,node,objectStack);if(object){var regionObject=objectStack[objectStack.length-1],extent=[parseFloat(object.west),parseFloat(object.south),parseFloat(object.east),parseFloat(object.north)];regionObject.extent=extent,regionObject.altitudeMode=object.altitudeMode,regionObject.minAltitude=parseFloat(object.minAltitude),regionObject.maxAltitude=parseFloat(object.maxAltitude)}},Lod:function(node,objectStack){var object=pushParseAndPop({},LOD_PARSERS,node,objectStack);if(object){var lodObject=objectStack[objectStack.length-1];lodObject.minLodPixels=parseFloat(object.minLodPixels),lodObject.maxLodPixels=parseFloat(object.maxLodPixels),lodObject.minFadeExtent=parseFloat(object.minFadeExtent),lodObject.maxFadeExtent=parseFloat(object.maxFadeExtent)}}}),KML_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["Document","Placemark"]),KML_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{Document:makeChildAppender(function(node,features,objectStack){pushSerializeAndPop({node:node},DOCUMENT_SERIALIZERS,DOCUMENT_NODE_FACTORY,features,objectStack,void 0,this)}),Placemark:makeChildAppender(writePlacemark)}),DEFAULT_FILL_STYLE=null,DEFAULT_IMAGE_STYLE=null,DEFAULT_STROKE_STYLE=null,DEFAULT_TEXT_STYLE=null,DEFAULT_STYLE=null,DEFAULT_STYLE_ARRAY=null;function defaultIconUrlFunction(href){return href}var KML_KML=function(_super){function KML(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return DEFAULT_STYLE_ARRAY||(DEFAULT_FILL_STYLE=new Fill.a({color:DEFAULT_COLOR=[255,255,255,1]}),DEFAULT_IMAGE_STYLE=new Icon.a({anchor:DEFAULT_IMAGE_STYLE_ANCHOR=[20,2],anchorOrigin:IconOrigin.a.BOTTOM_LEFT,anchorXUnits:DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS=IconAnchorUnits.a.PIXELS,anchorYUnits:DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS=IconAnchorUnits.a.PIXELS,crossOrigin:"anonymous",rotation:0,scale:DEFAULT_IMAGE_SCALE_MULTIPLIER=.5,size:DEFAULT_IMAGE_STYLE_SIZE=[64,64],src:DEFAULT_IMAGE_STYLE_SRC="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),DEFAULT_NO_IMAGE_STYLE="NO_IMAGE",DEFAULT_STROKE_STYLE=new Stroke.a({color:DEFAULT_COLOR,width:1}),DEFAULT_TEXT_STROKE_STYLE=new Stroke.a({color:[51,51,51,1],width:2}),DEFAULT_TEXT_STYLE=new Text.a({font:"bold 16px Helvetica",fill:DEFAULT_FILL_STYLE,stroke:DEFAULT_TEXT_STROKE_STYLE,scale:.8}),DEFAULT_STYLE=new Style.c({fill:DEFAULT_FILL_STYLE,image:DEFAULT_IMAGE_STYLE,text:DEFAULT_TEXT_STYLE,stroke:DEFAULT_STROKE_STYLE,zIndex:0}),DEFAULT_STYLE_ARRAY=[DEFAULT_STYLE]),_this.dataProjection=Object(ol_proj.j)("EPSG:4326"),_this.defaultStyle_=options.defaultStyle?options.defaultStyle:DEFAULT_STYLE_ARRAY,_this.extractStyles_=void 0===options.extractStyles||options.extractStyles,_this.writeStyles_=void 0===options.writeStyles||options.writeStyles,_this.sharedStyles_={},_this.showPointNames_=void 0===options.showPointNames||options.showPointNames,_this.crossOrigin_=void 0!==options.crossOrigin?options.crossOrigin:"anonymous",_this.iconUrlFunction_=options.iconUrlFunction?options.iconUrlFunction:defaultIconUrlFunction,_this}return KML_extends(KML,_super),KML.prototype.readDocumentOrFolder_=function(node,objectStack){return pushParseAndPop([],makeStructureNS(KML_NAMESPACE_URIS,{Document:makeArrayExtender(this.readDocumentOrFolder_,this),Folder:makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),node,objectStack,this)||void 0},KML.prototype.readPlacemark_=function(node,objectStack){var style,styleUrl,defaultStyle,sharedStyles,showPointNames,object=pushParseAndPop({geometry:null},PLACEMARK_PARSERS,node,objectStack,this);if(object){var feature=new Feature.a,id=node.getAttribute("id");null!==id&&feature.setId(id);var options=objectStack[0],geometry=object.geometry;if(geometry&&Object(format_Feature.c)(geometry,!1,options),feature.setGeometry(geometry),delete object.geometry,this.extractStyles_){var styleFunction=(style=object.Style,styleUrl=object.styleUrl,defaultStyle=this.defaultStyle_,sharedStyles=this.sharedStyles_,showPointNames=this.showPointNames_,function(feature,resolution){var drawName=showPointNames,name="",multiGeometryPoints=[];if(drawName){var geometry=feature.getGeometry();if(geometry){var type=geometry.getType();drawName=type===GeometryType.a.GEOMETRY_COLLECTION?(multiGeometryPoints=geometry.getGeometriesArrayRecursive().filter(function(geometry){var type=geometry.getType();return type===GeometryType.a.POINT||type===GeometryType.a.MULTI_POINT})).length>0:type===GeometryType.a.POINT||type===GeometryType.a.MULTI_POINT}}drawName&&(name=feature.get("name"),(drawName=drawName&&!!name)&&name.search(/&[^&]+;/)>-1&&(TEXTAREA||(TEXTAREA=document.createElement("textarea")),TEXTAREA.innerHTML=name,name=TEXTAREA.value));var featureStyle=defaultStyle;if(style?featureStyle=style:styleUrl&&(featureStyle=findStyle(styleUrl,defaultStyle,sharedStyles)),drawName){var nameStyle=function(foundStyle,name){var textOffset=[0,0],textAlign="start",imageStyle=foundStyle.getImage();if(imageStyle){var imageSize=imageStyle.getImageSize();if(null===imageSize&&(imageSize=DEFAULT_IMAGE_STYLE_SIZE),2==imageSize.length){var imageScale=imageStyle.getScaleArray();textOffset[0]=imageScale[0]*imageSize[0]/2,textOffset[1]=-imageScale[1]*imageSize[1]/2,textAlign="left"}}var textStyle=foundStyle.getText();return textStyle?((textStyle=textStyle.clone()).setFont(textStyle.getFont()||DEFAULT_TEXT_STYLE.getFont()),textStyle.setScale(textStyle.getScale()||DEFAULT_TEXT_STYLE.getScale()),textStyle.setFill(textStyle.getFill()||DEFAULT_TEXT_STYLE.getFill()),textStyle.setStroke(textStyle.getStroke()||DEFAULT_TEXT_STROKE_STYLE)):textStyle=DEFAULT_TEXT_STYLE.clone(),textStyle.setText(name),textStyle.setOffsetX(textOffset[0]),textStyle.setOffsetY(textOffset[1]),textStyle.setTextAlign(textAlign),new Style.c({image:imageStyle,text:textStyle})}(featureStyle[0],name);return multiGeometryPoints.length>0?(nameStyle.setGeometry(new GeometryCollection.a(multiGeometryPoints)),[nameStyle,new Style.c({geometry:featureStyle[0].getGeometry(),image:null,fill:featureStyle[0].getFill(),stroke:featureStyle[0].getStroke(),text:null})].concat(featureStyle.slice(1))):nameStyle}return featureStyle});feature.setStyle(styleFunction)}return delete object.Style,feature.setProperties(object,!0),feature}},KML.prototype.readSharedStyle_=function(node,objectStack){var id=node.getAttribute("id");if(null!==id){var style=KML_readStyle.call(this,node,objectStack);if(style){var styleUri,baseURI=node.baseURI;baseURI&&"about:blank"!=baseURI||(baseURI=window.location.href),styleUri=baseURI?new URL("#"+id,baseURI).href:"#"+id,this.sharedStyles_[styleUri]=style}}},KML.prototype.readSharedStyleMap_=function(node,objectStack){var id=node.getAttribute("id");if(null!==id){var styleMapValue=readStyleMapValue.call(this,node,objectStack);if(styleMapValue){var styleUri,baseURI=node.baseURI;baseURI&&"about:blank"!=baseURI||(baseURI=window.location.href),styleUri=baseURI?new URL("#"+id,baseURI).href:"#"+id,this.sharedStyles_[styleUri]=styleMapValue}}},KML.prototype.readFeatureFromNode=function(node,opt_options){return Object(ol_array.d)(KML_NAMESPACE_URIS,node.namespaceURI)&&this.readPlacemark_(node,[this.getReadOptions(node,opt_options)])||null},KML.prototype.readFeaturesFromNode=function(node,opt_options){if(!Object(ol_array.d)(KML_NAMESPACE_URIS,node.namespaceURI))return[];var features,localName=node.localName;if("Document"==localName||"Folder"==localName)return(features=this.readDocumentOrFolder_(node,[this.getReadOptions(node,opt_options)]))||[];if("Placemark"==localName){var feature=this.readPlacemark_(node,[this.getReadOptions(node,opt_options)]);return feature?[feature]:[]}if("kml"==localName){features=[];for(var n=node.firstElementChild;n;n=n.nextElementSibling){var fs=this.readFeaturesFromNode(n,opt_options);fs&&Object(ol_array.c)(features,fs)}return features}return[]},KML.prototype.readName=function(source){if(source){if("string"==typeof source){var doc=xml_parse(source);return this.readNameFromDocument(doc)}return isDocument(source)?this.readNameFromDocument(source):this.readNameFromNode(source)}},KML.prototype.readNameFromDocument=function(doc){for(var n=doc.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){var name_1=this.readNameFromNode(n);if(name_1)return name_1}},KML.prototype.readNameFromNode=function(node){for(var n=node.firstElementChild;n;n=n.nextElementSibling)if(Object(ol_array.d)(KML_NAMESPACE_URIS,n.namespaceURI)&&"name"==n.localName)return readString(n);for(n=node.firstElementChild;n;n=n.nextElementSibling){var localName=n.localName;if(Object(ol_array.d)(KML_NAMESPACE_URIS,n.namespaceURI)&&("Document"==localName||"Folder"==localName||"Placemark"==localName||"kml"==localName)){var name_2=this.readNameFromNode(n);if(name_2)return name_2}}},KML.prototype.readNetworkLinks=function(source){var networkLinks=[];if("string"==typeof source){var doc=xml_parse(source);Object(ol_array.c)(networkLinks,this.readNetworkLinksFromDocument(doc))}else isDocument(source)?Object(ol_array.c)(networkLinks,this.readNetworkLinksFromDocument(source)):Object(ol_array.c)(networkLinks,this.readNetworkLinksFromNode(source));return networkLinks},KML.prototype.readNetworkLinksFromDocument=function(doc){for(var networkLinks=[],n=doc.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(ol_array.c)(networkLinks,this.readNetworkLinksFromNode(n));return networkLinks},KML.prototype.readNetworkLinksFromNode=function(node){for(var networkLinks=[],n=node.firstElementChild;n;n=n.nextElementSibling)if(Object(ol_array.d)(KML_NAMESPACE_URIS,n.namespaceURI)&&"NetworkLink"==n.localName){var obj=pushParseAndPop({},NETWORK_LINK_PARSERS,n,[]);networkLinks.push(obj)}for(n=node.firstElementChild;n;n=n.nextElementSibling){var localName=n.localName;!Object(ol_array.d)(KML_NAMESPACE_URIS,n.namespaceURI)||"Document"!=localName&&"Folder"!=localName&&"kml"!=localName||Object(ol_array.c)(networkLinks,this.readNetworkLinksFromNode(n))}return networkLinks},KML.prototype.readRegion=function(source){var regions=[];if("string"==typeof source){var doc=xml_parse(source);Object(ol_array.c)(regions,this.readRegionFromDocument(doc))}else isDocument(source)?Object(ol_array.c)(regions,this.readRegionFromDocument(source)):Object(ol_array.c)(regions,this.readRegionFromNode(source));return regions},KML.prototype.readRegionFromDocument=function(doc){for(var regions=[],n=doc.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(ol_array.c)(regions,this.readRegionFromNode(n));return regions},KML.prototype.readRegionFromNode=function(node){for(var regions=[],n=node.firstElementChild;n;n=n.nextElementSibling)if(Object(ol_array.d)(KML_NAMESPACE_URIS,n.namespaceURI)&&"Region"==n.localName){var obj=pushParseAndPop({},REGION_PARSERS,n,[]);regions.push(obj)}for(n=node.firstElementChild;n;n=n.nextElementSibling){var localName=n.localName;!Object(ol_array.d)(KML_NAMESPACE_URIS,n.namespaceURI)||"Document"!=localName&&"Folder"!=localName&&"kml"!=localName||Object(ol_array.c)(regions,this.readRegionFromNode(n))}return regions},KML.prototype.writeFeaturesNode=function(features,opt_options){opt_options=this.adaptOptions(opt_options);var kml=createElementNS(KML_NAMESPACE_URIS[4],"kml"),xmlnsUri="http://www.w3.org/2000/xmlns/";kml.setAttributeNS(xmlnsUri,"xmlns:gx",GX_NAMESPACE_URIS[0]),kml.setAttributeNS(xmlnsUri,"xmlns:xsi",XML_SCHEMA_INSTANCE_URI),kml.setAttributeNS(XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var context={node:kml},properties={};features.length>1?properties.Document=features:1==features.length&&(properties.Placemark=features[0]);var orderedKeys=KML_SEQUENCE[kml.namespaceURI],values=makeSequence(properties,orderedKeys);return pushSerializeAndPop(context,KML_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,[opt_options],orderedKeys,this),kml},KML}(format_XMLFeature);function findStyle(styleValue,defaultStyle,sharedStyles){return Array.isArray(styleValue)?styleValue:"string"==typeof styleValue?findStyle(sharedStyles[styleValue],defaultStyle,sharedStyles):defaultStyle}function readColor(node){var s=getAllTextContent(node,!1),m=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(s);if(m){var hexColor=m[1];return[parseInt(hexColor.substr(6,2),16),parseInt(hexColor.substr(4,2),16),parseInt(hexColor.substr(2,2),16),parseInt(hexColor.substr(0,2),16)/255]}}function readFlatCoordinates(node){var s=getAllTextContent(node,!1),flatCoordinates=[];s=s.replace(/\s*,\s*/g,",");for(var m,re=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;m=re.exec(s);){var x=parseFloat(m[1]),y=parseFloat(m[2]),z=m[3]?parseFloat(m[3]):0;flatCoordinates.push(x,y,z),s=s.substr(m[0].length)}if(""===s)return flatCoordinates}function readURI(node){var s=getAllTextContent(node,!1).trim(),baseURI=node.baseURI;return baseURI&&"about:blank"!=baseURI||(baseURI=window.location.href),baseURI?new URL(s,baseURI).href:s}function readStyleURL(node){var s=getAllTextContent(node,!1).trim().replace(/^(?!.*#)/,"#"),baseURI=node.baseURI;return baseURI&&"about:blank"!=baseURI||(baseURI=window.location.href),baseURI?new URL(s,baseURI).href:s}function readScale(node){return readDecimal(node)}var STYLE_MAP_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{Pair:function(node,objectStack){var pairObject=pushParseAndPop({},PAIR_PARSERS,node,objectStack,this);if(pairObject){var key=pairObject.key;if(key&&"normal"==key){var styleUrl=pairObject.styleUrl;styleUrl&&(objectStack[objectStack.length-1]=styleUrl);var style=pairObject.Style;style&&(objectStack[objectStack.length-1]=style)}}}});function readStyleMapValue(node,objectStack){return pushParseAndPop(void 0,STYLE_MAP_PARSERS,node,objectStack,this)}var ICON_STYLE_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{Icon:makeObjectPropertySetter(function(node,objectStack){return pushParseAndPop({},ICON_PARSERS,node,objectStack)||null}),color:makeObjectPropertySetter(readColor),heading:makeObjectPropertySetter(readDecimal),hotSpot:makeObjectPropertySetter(function(node){var origin,xunits=node.getAttribute("xunits"),yunits=node.getAttribute("yunits");return origin="insetPixels"!==xunits?"insetPixels"!==yunits?IconOrigin.a.BOTTOM_LEFT:IconOrigin.a.TOP_LEFT:"insetPixels"!==yunits?IconOrigin.a.BOTTOM_RIGHT:IconOrigin.a.TOP_RIGHT,{x:parseFloat(node.getAttribute("x")),xunits:ICON_ANCHOR_UNITS_MAP[xunits],y:parseFloat(node.getAttribute("y")),yunits:ICON_ANCHOR_UNITS_MAP[yunits],origin:origin}}),scale:makeObjectPropertySetter(readScale)}),LABEL_STYLE_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{color:makeObjectPropertySetter(readColor),scale:makeObjectPropertySetter(readScale)}),LINE_STYLE_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{color:makeObjectPropertySetter(readColor),width:makeObjectPropertySetter(readDecimal)}),POLY_STYLE_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{color:makeObjectPropertySetter(readColor),fill:makeObjectPropertySetter(readBoolean),outline:makeObjectPropertySetter(readBoolean)}),FLAT_LINEAR_RING_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{coordinates:makeReplacer(readFlatCoordinates)});function readFlatLinearRing(node,objectStack){return pushParseAndPop(null,FLAT_LINEAR_RING_PARSERS,node,objectStack)}var GX_MULTITRACK_GEOMETRY_PARSERS=makeStructureNS(GX_NAMESPACE_URIS,{Track:makeArrayPusher(readGxTrack)}),GX_TRACK_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{when:function(node,objectStack){var whens=objectStack[objectStack.length-1].whens,s=getAllTextContent(node,!1),when=Date.parse(s);whens.push(isNaN(when)?0:when)}},makeStructureNS(GX_NAMESPACE_URIS,{coord:function(node,objectStack){var flatCoordinates=objectStack[objectStack.length-1].flatCoordinates,s=getAllTextContent(node,!1),m=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(s);if(m){var x=parseFloat(m[1]),y=parseFloat(m[2]),z=parseFloat(m[3]);flatCoordinates.push(x,y,z,0)}else flatCoordinates.push(0,0,0,0)}}));function readGxTrack(node,objectStack){var gxTrackObject=pushParseAndPop({flatCoordinates:[],whens:[]},GX_TRACK_PARSERS,node,objectStack);if(gxTrackObject){for(var flatCoordinates=gxTrackObject.flatCoordinates,whens=gxTrackObject.whens,i=0,ii=Math.min(flatCoordinates.length,whens.length);i<ii;++i)flatCoordinates[4*i+3]=whens[i];return new LineString.a(flatCoordinates,GeometryLayout.a.XYZM)}}var ICON_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{href:makeObjectPropertySetter(readURI)},makeStructureNS(GX_NAMESPACE_URIS,{x:makeObjectPropertySetter(readDecimal),y:makeObjectPropertySetter(readDecimal),w:makeObjectPropertySetter(readDecimal),h:makeObjectPropertySetter(readDecimal)})),GEOMETRY_FLAT_COORDINATES_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{coordinates:makeReplacer(readFlatCoordinates)});function readFlatCoordinatesFromNode(node,objectStack){return pushParseAndPop(null,GEOMETRY_FLAT_COORDINATES_PARSERS,node,objectStack)}var EXTRUDE_AND_ALTITUDE_MODE_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{extrude:makeObjectPropertySetter(readBoolean),tessellate:makeObjectPropertySetter(readBoolean),altitudeMode:makeObjectPropertySetter(readString)});function readLineString(node,objectStack){var properties=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,node,objectStack),flatCoordinates=readFlatCoordinatesFromNode(node,objectStack);if(flatCoordinates){var lineString=new LineString.a(flatCoordinates,GeometryLayout.a.XYZ);return lineString.setProperties(properties,!0),lineString}}function readLinearRing(node,objectStack){var properties=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,node,objectStack),flatCoordinates=readFlatCoordinatesFromNode(node,objectStack);if(flatCoordinates){var polygon=new Polygon.a(flatCoordinates,GeometryLayout.a.XYZ,[flatCoordinates.length]);return polygon.setProperties(properties,!0),polygon}}var MULTI_GEOMETRY_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{LineString:makeArrayPusher(readLineString),LinearRing:makeArrayPusher(readLinearRing),MultiGeometry:makeArrayPusher(readMultiGeometry),Point:makeArrayPusher(readPoint),Polygon:makeArrayPusher(readPolygon)});function readMultiGeometry(node,objectStack){var multiGeometry,geometries=pushParseAndPop([],MULTI_GEOMETRY_PARSERS,node,objectStack);if(!geometries)return null;if(0===geometries.length)return new GeometryCollection.a(geometries);for(var geometry,homogeneous=!0,type=geometries[0].getType(),i=1,ii=geometries.length;i<ii;++i)if((geometry=geometries[i]).getType()!=type){homogeneous=!1;break}if(homogeneous){var layout=void 0,flatCoordinates=void 0;if(type==GeometryType.a.POINT){var point=geometries[0];for(layout=point.getLayout(),flatCoordinates=point.getFlatCoordinates(),i=1,ii=geometries.length;i<ii;++i)geometry=geometries[i],Object(ol_array.c)(flatCoordinates,geometry.getFlatCoordinates());setCommonGeometryProperties(multiGeometry=new MultiPoint.a(flatCoordinates,layout),geometries)}else type==GeometryType.a.LINE_STRING?setCommonGeometryProperties(multiGeometry=new MultiLineString.a(geometries),geometries):type==GeometryType.a.POLYGON?setCommonGeometryProperties(multiGeometry=new MultiPolygon.a(geometries),geometries):type==GeometryType.a.GEOMETRY_COLLECTION?multiGeometry=new GeometryCollection.a(geometries):Object(asserts.a)(!1,37)}else multiGeometry=new GeometryCollection.a(geometries);return multiGeometry}function readPoint(node,objectStack){var properties=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,node,objectStack),flatCoordinates=readFlatCoordinatesFromNode(node,objectStack);if(flatCoordinates){var point=new geom_Point.a(flatCoordinates,GeometryLayout.a.XYZ);return point.setProperties(properties,!0),point}}var FLAT_LINEAR_RINGS_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{innerBoundaryIs:function(node,objectStack){var flatLinearRing=pushParseAndPop(void 0,INNER_BOUNDARY_IS_PARSERS,node,objectStack);flatLinearRing&&objectStack[objectStack.length-1].push(flatLinearRing)},outerBoundaryIs:function(node,objectStack){var flatLinearRing=pushParseAndPop(void 0,OUTER_BOUNDARY_IS_PARSERS,node,objectStack);flatLinearRing&&(objectStack[objectStack.length-1][0]=flatLinearRing)}});function readPolygon(node,objectStack){var properties=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,node,objectStack),flatLinearRings=pushParseAndPop([null],FLAT_LINEAR_RINGS_PARSERS,node,objectStack);if(flatLinearRings&&flatLinearRings[0]){for(var flatCoordinates=flatLinearRings[0],ends=[flatCoordinates.length],i=1,ii=flatLinearRings.length;i<ii;++i)Object(ol_array.c)(flatCoordinates,flatLinearRings[i]),ends.push(flatCoordinates.length);var polygon=new Polygon.a(flatCoordinates,GeometryLayout.a.XYZ,ends);return polygon.setProperties(properties,!0),polygon}}var KML_STYLE_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{IconStyle:function(node,objectStack){var object=pushParseAndPop({},ICON_STYLE_PARSERS,node,objectStack);if(object){var src,anchor,anchorXUnits,anchorYUnits,styleObject=objectStack[objectStack.length-1],IconObject="Icon"in object?object.Icon:{},drawIcon=!("Icon"in object)||Object.keys(IconObject).length>0,href=IconObject.href;href?src=href:drawIcon&&(src=DEFAULT_IMAGE_STYLE_SRC);var offset,anchorOrigin=IconOrigin.a.BOTTOM_LEFT,hotSpot=object.hotSpot;hotSpot?(anchor=[hotSpot.x,hotSpot.y],anchorXUnits=hotSpot.xunits,anchorYUnits=hotSpot.yunits,anchorOrigin=hotSpot.origin):src===DEFAULT_IMAGE_STYLE_SRC?(anchor=DEFAULT_IMAGE_STYLE_ANCHOR,anchorXUnits=DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,anchorYUnits=DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(src)&&(anchor=[.5,0],anchorXUnits=IconAnchorUnits.a.FRACTION,anchorYUnits=IconAnchorUnits.a.FRACTION);var size,x=IconObject.x,y=IconObject.y;void 0!==x&&void 0!==y&&(offset=[x,y]);var rotation,w=IconObject.w,h=IconObject.h;void 0!==w&&void 0!==h&&(size=[w,h]);var heading=object.heading;void 0!==heading&&(rotation=Object(math.j)(heading));var scale=object.scale,color=object.color;if(drawIcon){src==DEFAULT_IMAGE_STYLE_SRC&&(size=DEFAULT_IMAGE_STYLE_SIZE,void 0===scale&&(scale=DEFAULT_IMAGE_SCALE_MULTIPLIER));var imageStyle=new Icon.a({anchor:anchor,anchorOrigin:anchorOrigin,anchorXUnits:anchorXUnits,anchorYUnits:anchorYUnits,crossOrigin:this.crossOrigin_,offset:offset,offsetOrigin:IconOrigin.a.BOTTOM_LEFT,rotation:rotation,scale:scale,size:size,src:this.iconUrlFunction_(src),color:color});styleObject.imageStyle=imageStyle}else styleObject.imageStyle=DEFAULT_NO_IMAGE_STYLE}},LabelStyle:function(node,objectStack){var object=pushParseAndPop({},LABEL_STYLE_PARSERS,node,objectStack);if(object){var styleObject=objectStack[objectStack.length-1],textStyle=new Text.a({fill:new Fill.a({color:"color"in object?object.color:DEFAULT_COLOR}),scale:object.scale});styleObject.textStyle=textStyle}},LineStyle:function(node,objectStack){var object=pushParseAndPop({},LINE_STYLE_PARSERS,node,objectStack);if(object){var styleObject=objectStack[objectStack.length-1],strokeStyle=new Stroke.a({color:"color"in object?object.color:DEFAULT_COLOR,width:"width"in object?object.width:1});styleObject.strokeStyle=strokeStyle}},PolyStyle:function(node,objectStack){var object=pushParseAndPop({},POLY_STYLE_PARSERS,node,objectStack);if(object){var styleObject=objectStack[objectStack.length-1],fillStyle=new Fill.a({color:"color"in object?object.color:DEFAULT_COLOR});styleObject.fillStyle=fillStyle;var fill=object.fill;void 0!==fill&&(styleObject.fill=fill);var outline=object.outline;void 0!==outline&&(styleObject.outline=outline)}}});function KML_readStyle(node,objectStack){var styleObject=pushParseAndPop({},KML_STYLE_PARSERS,node,objectStack,this);if(!styleObject)return null;var imageStyle,fillStyle="fillStyle"in styleObject?styleObject.fillStyle:DEFAULT_FILL_STYLE,fill=styleObject.fill;void 0===fill||fill||(fillStyle=null),"imageStyle"in styleObject?styleObject.imageStyle!=DEFAULT_NO_IMAGE_STYLE&&(imageStyle=styleObject.imageStyle):imageStyle=DEFAULT_IMAGE_STYLE;var textStyle="textStyle"in styleObject?styleObject.textStyle:DEFAULT_TEXT_STYLE,strokeStyle="strokeStyle"in styleObject?styleObject.strokeStyle:DEFAULT_STROKE_STYLE,outline=styleObject.outline;return void 0===outline||outline?[new Style.c({fill:fillStyle,image:imageStyle,stroke:strokeStyle,text:textStyle,zIndex:void 0})]:[new Style.c({geometry:function(feature){var geometry=feature.getGeometry(),type=geometry.getType();return type===GeometryType.a.GEOMETRY_COLLECTION?new GeometryCollection.a(geometry.getGeometriesArrayRecursive().filter(function(geometry){var type=geometry.getType();return type!==GeometryType.a.POLYGON&&type!==GeometryType.a.MULTI_POLYGON})):type!==GeometryType.a.POLYGON&&type!==GeometryType.a.MULTI_POLYGON?geometry:void 0},fill:fillStyle,image:imageStyle,stroke:strokeStyle,text:textStyle,zIndex:void 0}),new Style.c({geometry:function(feature){var geometry=feature.getGeometry(),type=geometry.getType();return type===GeometryType.a.GEOMETRY_COLLECTION?new GeometryCollection.a(geometry.getGeometriesArrayRecursive().filter(function(geometry){var type=geometry.getType();return type===GeometryType.a.POLYGON||type===GeometryType.a.MULTI_POLYGON})):type===GeometryType.a.POLYGON||type===GeometryType.a.MULTI_POLYGON?geometry:void 0},fill:fillStyle,stroke:null,zIndex:void 0})]}function setCommonGeometryProperties(multiGeometry,geometries){var hasExtrude,hasTessellate,hasAltitudeMode,ii=geometries.length,extrudes=new Array(geometries.length),tessellates=new Array(geometries.length),altitudeModes=new Array(geometries.length);hasExtrude=!1,hasTessellate=!1,hasAltitudeMode=!1;for(var i=0;i<ii;++i){var geometry=geometries[i];extrudes[i]=geometry.get("extrude"),tessellates[i]=geometry.get("tessellate"),altitudeModes[i]=geometry.get("altitudeMode"),hasExtrude=hasExtrude||void 0!==extrudes[i],hasTessellate=hasTessellate||void 0!==tessellates[i],hasAltitudeMode=hasAltitudeMode||altitudeModes[i]}hasExtrude&&multiGeometry.set("extrude",extrudes),hasTessellate&&multiGeometry.set("tessellate",tessellates),hasAltitudeMode&&multiGeometry.set("altitudeMode",altitudeModes)}var DATA_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{displayName:makeObjectPropertySetter(readString),value:makeObjectPropertySetter(readString)}),EXTENDED_DATA_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{Data:function(node,objectStack){var name=node.getAttribute("name");parseNode(DATA_PARSERS,node,objectStack);var featureObject=objectStack[objectStack.length-1];name&&featureObject.displayName?featureObject[name]={value:featureObject.value,displayName:featureObject.displayName,toString:function(){return featureObject.value}}:null!==name?featureObject[name]=featureObject.value:null!==featureObject.displayName&&(featureObject[featureObject.displayName]=featureObject.value),delete featureObject.value},SchemaData:function(node,objectStack){parseNode(SCHEMA_DATA_PARSERS,node,objectStack)}});function extendedDataParser(node,objectStack){parseNode(EXTENDED_DATA_PARSERS,node,objectStack)}function regionParser(node,objectStack){parseNode(REGION_PARSERS,node,objectStack)}var PAIR_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{Style:makeObjectPropertySetter(KML_readStyle),key:makeObjectPropertySetter(readString),styleUrl:makeObjectPropertySetter(readStyleURL)}),SCHEMA_DATA_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{SimpleData:function(node,objectStack){var name=node.getAttribute("name");if(null!==name){var data=readString(node);objectStack[objectStack.length-1][name]=data}}}),LAT_LON_ALT_BOX_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{altitudeMode:makeObjectPropertySetter(readString),minAltitude:makeObjectPropertySetter(readDecimal),maxAltitude:makeObjectPropertySetter(readDecimal),north:makeObjectPropertySetter(readDecimal),south:makeObjectPropertySetter(readDecimal),east:makeObjectPropertySetter(readDecimal),west:makeObjectPropertySetter(readDecimal)}),LOD_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{minLodPixels:makeObjectPropertySetter(readDecimal),maxLodPixels:makeObjectPropertySetter(readDecimal),minFadeExtent:makeObjectPropertySetter(readDecimal),maxFadeExtent:makeObjectPropertySetter(readDecimal)}),INNER_BOUNDARY_IS_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{LinearRing:makeReplacer(readFlatLinearRing)}),OUTER_BOUNDARY_IS_PARSERS=makeStructureNS(KML_NAMESPACE_URIS,{LinearRing:makeReplacer(readFlatLinearRing)});function writeColorTextNode(node,color){for(var rgba=Object(ol_color.a)(color),abgr=[255*(4==rgba.length?rgba[3]:1),rgba[2],rgba[1],rgba[0]],i=0;i<4;++i){var hex=Math.floor(abgr[i]).toString(16);abgr[i]=1==hex.length?"0"+hex:hex}writeStringTextNode(node,abgr.join(""))}var EXTENDEDDATA_NODE_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{Data:makeChildAppender(function(node,pair,objectStack){node.setAttribute("name",pair.name);var context={node:node},value=pair.value;"object"==typeof value?(null!==value&&value.displayName&&pushSerializeAndPop(context,EXTENDEDDATA_NODE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[value.displayName],objectStack,["displayName"]),null!==value&&value.value&&pushSerializeAndPop(context,EXTENDEDDATA_NODE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[value.value],objectStack,["value"])):pushSerializeAndPop(context,EXTENDEDDATA_NODE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[value],objectStack,["value"])}),value:makeChildAppender(function(node,value){writeStringTextNode(node,value)}),displayName:makeChildAppender(function(node,name){!function(node,string){node.appendChild(xml_getDocument().createCDATASection(string))}(node,name)})}),DOCUMENT_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{Placemark:makeChildAppender(writePlacemark)}),DOCUMENT_NODE_FACTORY=function(value,objectStack,opt_nodeName){return createElementNS(objectStack[objectStack.length-1].node.namespaceURI,"Placemark")},DATA_NODE_FACTORY=makeSimpleNodeFactory("Data"),ICON_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["href"],makeStructureNS(GX_NAMESPACE_URIS,["x","y","w","h"])),ICON_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{href:makeChildAppender(writeStringTextNode)},makeStructureNS(GX_NAMESPACE_URIS,{x:makeChildAppender(writeDecimalTextNode),y:makeChildAppender(writeDecimalTextNode),w:makeChildAppender(writeDecimalTextNode),h:makeChildAppender(writeDecimalTextNode)})),GX_NODE_FACTORY=function(value,objectStack,opt_nodeName){return createElementNS(GX_NAMESPACE_URIS[0],"gx:"+opt_nodeName)},ICON_STYLE_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["scale","heading","Icon","color","hotSpot"]),ICON_STYLE_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{Icon:makeChildAppender(function(node,icon,objectStack){var context={node:node},orderedKeys=ICON_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(icon,orderedKeys);pushSerializeAndPop(context,ICON_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys),values=makeSequence(icon,orderedKeys=ICON_SEQUENCE[GX_NAMESPACE_URIS[0]]),pushSerializeAndPop(context,ICON_SERIALIZERS,GX_NODE_FACTORY,values,objectStack,orderedKeys)}),color:makeChildAppender(writeColorTextNode),heading:makeChildAppender(writeDecimalTextNode),hotSpot:makeChildAppender(function(node,vec2){node.setAttribute("x",String(vec2.x)),node.setAttribute("y",String(vec2.y)),node.setAttribute("xunits",vec2.xunits),node.setAttribute("yunits",vec2.yunits)}),scale:makeChildAppender(writeScaleTextNode)}),LABEL_STYLE_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["color","scale"]),LABEL_STYLE_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{color:makeChildAppender(writeColorTextNode),scale:makeChildAppender(writeScaleTextNode)}),LINE_STYLE_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["color","width"]),LINE_STYLE_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{color:makeChildAppender(writeColorTextNode),width:makeChildAppender(writeDecimalTextNode)}),GEOMETRY_TYPE_TO_NODENAME={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},GEOMETRY_NODE_FACTORY=function(value,objectStack,opt_nodeName){if(value)return createElementNS(objectStack[objectStack.length-1].node.namespaceURI,GEOMETRY_TYPE_TO_NODENAME[value.getType()])},POINT_NODE_FACTORY=makeSimpleNodeFactory("Point"),LINE_STRING_NODE_FACTORY=makeSimpleNodeFactory("LineString"),LINEAR_RING_NODE_FACTORY=makeSimpleNodeFactory("LinearRing"),POLYGON_NODE_FACTORY=makeSimpleNodeFactory("Polygon"),MULTI_GEOMETRY_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{LineString:makeChildAppender(writePrimitiveGeometry),Point:makeChildAppender(writePrimitiveGeometry),Polygon:makeChildAppender(writePolygon),GeometryCollection:makeChildAppender(writeMultiGeometry)});function writeMultiGeometry(node,geometry,objectStack){var factory,context={node:node},type=geometry.getType(),geometries=[];type===GeometryType.a.GEOMETRY_COLLECTION?(geometry.getGeometriesArrayRecursive().forEach(function(geometry){var type=geometry.getType();type===GeometryType.a.MULTI_POINT?geometries=geometries.concat(geometry.getPoints()):type===GeometryType.a.MULTI_LINE_STRING?geometries=geometries.concat(geometry.getLineStrings()):type===GeometryType.a.MULTI_POLYGON?geometries=geometries.concat(geometry.getPolygons()):type===GeometryType.a.POINT||type===GeometryType.a.LINE_STRING||type===GeometryType.a.POLYGON?geometries.push(geometry):Object(asserts.a)(!1,39)}),factory=GEOMETRY_NODE_FACTORY):type===GeometryType.a.MULTI_POINT?(geometries=geometry.getPoints(),factory=POINT_NODE_FACTORY):type===GeometryType.a.MULTI_LINE_STRING?(geometries=geometry.getLineStrings(),factory=LINE_STRING_NODE_FACTORY):type===GeometryType.a.MULTI_POLYGON?(geometries=geometry.getPolygons(),factory=POLYGON_NODE_FACTORY):Object(asserts.a)(!1,39),pushSerializeAndPop(context,MULTI_GEOMETRY_SERIALIZERS,factory,geometries,objectStack)}var BOUNDARY_IS_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{LinearRing:makeChildAppender(writePrimitiveGeometry)});function writeBoundaryIs(node,linearRing,objectStack){pushSerializeAndPop({node:node},BOUNDARY_IS_SERIALIZERS,LINEAR_RING_NODE_FACTORY,[linearRing],objectStack)}var PLACEMARK_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{ExtendedData:makeChildAppender(function(node,namesAndValues,objectStack){for(var context={node:node},names=namesAndValues.names,values=namesAndValues.values,length=names.length,i=0;i<length;i++)pushSerializeAndPop(context,EXTENDEDDATA_NODE_SERIALIZERS,DATA_NODE_FACTORY,[{name:names[i],value:values[i]}],objectStack)}),MultiGeometry:makeChildAppender(writeMultiGeometry),LineString:makeChildAppender(writePrimitiveGeometry),LinearRing:makeChildAppender(writePrimitiveGeometry),Point:makeChildAppender(writePrimitiveGeometry),Polygon:makeChildAppender(writePolygon),Style:makeChildAppender(function(node,styles,objectStack){var strokeStyle,context={node:node},properties={};if(styles.pointStyles.length){var textStyle=styles.pointStyles[0].getText();textStyle&&(properties.LabelStyle=textStyle);var imageStyle=styles.pointStyles[0].getImage();imageStyle&&"function"==typeof imageStyle.getSrc&&(properties.IconStyle=imageStyle)}styles.lineStyles.length&&(strokeStyle=styles.lineStyles[0].getStroke())&&(properties.LineStyle=strokeStyle),styles.polyStyles.length&&((strokeStyle=styles.polyStyles[0].getStroke())&&!properties.LineStyle&&(properties.LineStyle=strokeStyle),properties.PolyStyle=styles.polyStyles[0]);var orderedKeys=STYLE_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);pushSerializeAndPop(context,STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys)}),address:makeChildAppender(writeStringTextNode),description:makeChildAppender(writeStringTextNode),name:makeChildAppender(writeStringTextNode),open:makeChildAppender(writeBooleanTextNode),phoneNumber:makeChildAppender(writeStringTextNode),styleUrl:makeChildAppender(writeStringTextNode),visibility:makeChildAppender(writeBooleanTextNode)}),PLACEMARK_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),EXTENDEDDATA_NODE_FACTORY=makeSimpleNodeFactory("ExtendedData");function writePlacemark(node,feature,objectStack){var context={node:node};feature.getId()&&node.setAttribute("id",feature.getId());var properties=feature.getProperties(),filter={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};filter[feature.getGeometryName()]=1;var keys=Object.keys(properties||{}).sort().filter(function(v){return!filter[v]}),styleFunction=feature.getStyleFunction();if(styleFunction){var styles=styleFunction(feature,0);if(styles){var styleArray=Array.isArray(styles)?styles:[styles],pointStyles=styleArray;if(feature.getGeometry()&&(pointStyles=styleArray.filter(function(style){var geometry=style.getGeometryFunction()(feature);if(geometry){var type=geometry.getType();return type===GeometryType.a.GEOMETRY_COLLECTION?geometry.getGeometriesArrayRecursive().filter(function(geometry){var type=geometry.getType();return type===GeometryType.a.POINT||type===GeometryType.a.MULTI_POINT}).length:type===GeometryType.a.POINT||type===GeometryType.a.MULTI_POINT}})),this.writeStyles_){var lineStyles=styleArray,polyStyles=styleArray;feature.getGeometry()&&(lineStyles=styleArray.filter(function(style){var geometry=style.getGeometryFunction()(feature);if(geometry){var type=geometry.getType();return type===GeometryType.a.GEOMETRY_COLLECTION?geometry.getGeometriesArrayRecursive().filter(function(geometry){var type=geometry.getType();return type===GeometryType.a.LINE_STRING||type===GeometryType.a.MULTI_LINE_STRING}).length:type===GeometryType.a.LINE_STRING||type===GeometryType.a.MULTI_LINE_STRING}}),polyStyles=styleArray.filter(function(style){var geometry=style.getGeometryFunction()(feature);if(geometry){var type=geometry.getType();return type===GeometryType.a.GEOMETRY_COLLECTION?geometry.getGeometriesArrayRecursive().filter(function(geometry){var type=geometry.getType();return type===GeometryType.a.POLYGON||type===GeometryType.a.MULTI_POLYGON}).length:type===GeometryType.a.POLYGON||type===GeometryType.a.MULTI_POLYGON}})),properties.Style={pointStyles:pointStyles,lineStyles:lineStyles,polyStyles:polyStyles}}if(pointStyles.length&&void 0===properties.name){var textStyle=pointStyles[0].getText();textStyle&&(properties.name=textStyle.getText())}}}var orderedKeys=PLACEMARK_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);if(pushSerializeAndPop(context,PLACEMARK_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys),keys.length>0){var sequence=makeSequence(properties,keys);pushSerializeAndPop(context,PLACEMARK_SERIALIZERS,EXTENDEDDATA_NODE_FACTORY,[{names:keys,values:sequence}],objectStack)}var options=objectStack[0],geometry=feature.getGeometry();geometry&&(geometry=Object(format_Feature.c)(geometry,!0,options)),pushSerializeAndPop(context,PLACEMARK_SERIALIZERS,GEOMETRY_NODE_FACTORY,[geometry],objectStack)}var PRIMITIVE_GEOMETRY_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["extrude","tessellate","altitudeMode","coordinates"]),PRIMITIVE_GEOMETRY_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{extrude:makeChildAppender(writeBooleanTextNode),tessellate:makeChildAppender(writeBooleanTextNode),altitudeMode:makeChildAppender(writeStringTextNode),coordinates:makeChildAppender(function(node,coordinates,objectStack){var dimension,context=objectStack[objectStack.length-1],layout=context.layout,stride=context.stride;layout==GeometryLayout.a.XY||layout==GeometryLayout.a.XYM?dimension=2:layout==GeometryLayout.a.XYZ||layout==GeometryLayout.a.XYZM?dimension=3:Object(asserts.a)(!1,34);var ii=coordinates.length,text="";if(ii>0){text+=coordinates[0];for(var d=1;d<dimension;++d)text+=","+coordinates[d];for(var i=stride;i<ii;i+=stride)for(text+=" "+coordinates[i],d=1;d<dimension;++d)text+=","+coordinates[i+d]}writeStringTextNode(node,text)})});function writePrimitiveGeometry(node,geometry,objectStack){var flatCoordinates=geometry.getFlatCoordinates(),context={node:node};context.layout=geometry.getLayout(),context.stride=geometry.getStride();var properties=geometry.getProperties();properties.coordinates=flatCoordinates;var orderedKeys=PRIMITIVE_GEOMETRY_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);pushSerializeAndPop(context,PRIMITIVE_GEOMETRY_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys)}var POLY_STYLE_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["color","fill","outline"]),POLYGON_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{outerBoundaryIs:makeChildAppender(writeBoundaryIs),innerBoundaryIs:makeChildAppender(writeBoundaryIs)}),INNER_BOUNDARY_NODE_FACTORY=makeSimpleNodeFactory("innerBoundaryIs"),OUTER_BOUNDARY_NODE_FACTORY=makeSimpleNodeFactory("outerBoundaryIs");function writePolygon(node,polygon,objectStack){var linearRings=polygon.getLinearRings(),outerRing=linearRings.shift(),context={node:node};pushSerializeAndPop(context,POLYGON_SERIALIZERS,INNER_BOUNDARY_NODE_FACTORY,linearRings,objectStack),pushSerializeAndPop(context,POLYGON_SERIALIZERS,OUTER_BOUNDARY_NODE_FACTORY,[outerRing],objectStack)}var POLY_STYLE_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{color:makeChildAppender(writeColorTextNode),fill:makeChildAppender(writeBooleanTextNode),outline:makeChildAppender(writeBooleanTextNode)});function writeScaleTextNode(node,scale){writeDecimalTextNode(node,Math.round(1e6*scale)/1e6)}var STYLE_SEQUENCE=makeStructureNS(KML_NAMESPACE_URIS,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),STYLE_SERIALIZERS=makeStructureNS(KML_NAMESPACE_URIS,{IconStyle:makeChildAppender(function(node,style,objectStack){var context={node:node},properties={},src=style.getSrc(),size=style.getSize(),iconImageSize=style.getImageSize(),iconProperties={href:src};if(size){iconProperties.w=size[0],iconProperties.h=size[1];var anchor=style.getAnchor(),origin_1=style.getOrigin();origin_1&&iconImageSize&&0!==origin_1[0]&&origin_1[1]!==size[1]&&(iconProperties.x=origin_1[0],iconProperties.y=iconImageSize[1]-(origin_1[1]+size[1])),!anchor||anchor[0]===size[0]/2&&anchor[1]===size[1]/2||(properties.hotSpot={x:anchor[0],xunits:IconAnchorUnits.a.PIXELS,y:size[1]-anchor[1],yunits:IconAnchorUnits.a.PIXELS})}properties.Icon=iconProperties;var scale=style.getScale();1!==scale&&(properties.scale=scale);var rotation=style.getRotation();0!==rotation&&(properties.heading=rotation);var color=style.getColor();color&&(properties.color=color);var orderedKeys=ICON_STYLE_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);pushSerializeAndPop(context,ICON_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys)}),LabelStyle:makeChildAppender(function(node,style,objectStack){var context={node:node},properties={},fill=style.getFill();fill&&(properties.color=fill.getColor());var scale=style.getScale();scale&&1!==scale&&(properties.scale=scale);var orderedKeys=LABEL_STYLE_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);pushSerializeAndPop(context,LABEL_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys)}),LineStyle:makeChildAppender(function(node,style,objectStack){var context={node:node},properties={color:style.getColor(),width:Number(style.getWidth())||1},orderedKeys=LINE_STYLE_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);pushSerializeAndPop(context,LINE_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys)}),PolyStyle:makeChildAppender(function(node,style,objectStack){var context={node:node},fill=style.getFill(),stroke=style.getStroke(),properties={color:fill?fill.getColor():void 0,fill:!!fill&&void 0,outline:!!stroke&&void 0},orderedKeys=POLY_STYLE_SEQUENCE[objectStack[objectStack.length-1].node.namespaceURI],values=makeSequence(properties,orderedKeys);pushSerializeAndPop(context,POLY_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,values,objectStack,orderedKeys)})}),format_KML=KML_KML,ZoomSlider=__webpack_require__("HgA5"),ScaleLine=__webpack_require__("nUcq"),ol_Observable=__webpack_require__("Nafy"),ol_coordinate=__webpack_require__("pWiS");const NG_VALUE_ACCESSOR=new InjectionToken("NgValueAccessor"),CHECKBOX_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_CheckboxControlValueAccessor),multi:!0};let forms_CheckboxControlValueAccessor=(()=>{class CheckboxControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"checked",value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}}return CheckboxControlValueAccessor.fac=function(t){return new(t||CheckboxControlValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef))},CheckboxControlValueAccessor.dir=defineDirective({type:CheckboxControlValueAccessor,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&listener("change",function($event){return ctx.onChange($event.target.checked)})("blur",function(){return ctx.onTouched()})},features:[ProvidersFeature([CHECKBOX_VALUE_ACCESSOR])]}),CheckboxControlValueAccessor})();const DEFAULT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_DefaultValueAccessor),multi:!0},COMPOSITION_BUFFER_MODE=new InjectionToken("CompositionEventMode");let forms_DefaultValueAccessor=(()=>{class DefaultValueAccessor{constructor(_renderer,_elementRef,_compositionMode){this._renderer=_renderer,this._elementRef=_elementRef,this._compositionMode=_compositionMode,this.onChange=_=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const userAgent=getDOM()?getDOM().getUserAgent():"";return/android (\d+)/.test(userAgent.toLowerCase())}())}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==value?"":value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_handleInput(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(value)}_compositionStart(){this._composing=!0}_compositionEnd(value){this._composing=!1,this._compositionMode&&this.onChange(value)}}return DefaultValueAccessor.fac=function(t){return new(t||DefaultValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef),directiveInject(COMPOSITION_BUFFER_MODE,8))},DefaultValueAccessor.dir=defineDirective({type:DefaultValueAccessor,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(rf,ctx){1&rf&&listener("input",function($event){return ctx._handleInput($event.target.value)})("blur",function(){return ctx.onTouched()})("compositionstart",function(){return ctx._compositionStart()})("compositionend",function($event){return ctx._compositionEnd($event.target.value)})},features:[ProvidersFeature([DEFAULT_VALUE_ACCESSOR])]}),DefaultValueAccessor})();function isEmptyInputValue(value){return null==value||0===value.length}function hasValidLength(value){return null!=value&&"number"==typeof value.length}const NG_VALIDATORS=new InjectionToken("NgValidators"),NG_ASYNC_VALIDATORS=new InjectionToken("NgAsyncValidators"),EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class forms_Validators{static min(min){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(min))return null;const value=parseFloat(control.value);return!isNaN(value)&&value<min?{min:{min:min,actual:control.value}}:null}}static max(max){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(max))return null;const value=parseFloat(control.value);return!isNaN(value)&&value>max?{max:{max:max,actual:control.value}}:null}}static required(control){return isEmptyInputValue(control.value)?{required:!0}:null}static requiredTrue(control){return!0===control.value?null:{required:!0}}static email(control){return isEmptyInputValue(control.value)||EMAIL_REGEXP.test(control.value)?null:{email:!0}}static minLength(minLength){return control=>isEmptyInputValue(control.value)||!hasValidLength(control.value)?null:control.value.length<minLength?{minlength:{requiredLength:minLength,actualLength:control.value.length}}:null}static maxLength(maxLength){return control=>hasValidLength(control.value)&&control.value.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:control.value.length}}:null}static pattern(pattern){if(!pattern)return forms_Validators.nullValidator;let regex,regexStr;return"string"==typeof pattern?(regexStr="","^"!==pattern.charAt(0)&&(regexStr+="^"),regexStr+=pattern,"$"!==pattern.charAt(pattern.length-1)&&(regexStr+="$"),regex=new RegExp(regexStr)):(regexStr=pattern.toString(),regex=pattern),control=>{if(isEmptyInputValue(control.value))return null;const value=control.value;return regex.test(value)?null:{pattern:{requiredPattern:regexStr,actualValue:value}}}}static nullValidator(control){return null}static compose(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return mergeErrors(executeValidators(control,presentValidators))}}static composeAsync(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return forkJoin(executeValidators(control,presentValidators).map(toObservable)).pipe(map_map(mergeErrors))}}}function isPresent(o){return null!=o}function toObservable(r){const obs=core_isPromise(r)?from_from(r):r;return isObservable(obs),obs}function mergeErrors(arrayOfErrors){let res={};return arrayOfErrors.forEach(errors=>{res=null!=errors?Object.assign(Object.assign({},res),errors):res}),0===Object.keys(res).length?null:res}function executeValidators(control,validators){return validators.map(validator=>validator(control))}function normalizeValidators(validators){return validators.map(validator=>function(validator){return!validator.validate}(validator)?validator:c=>validator.validate(c))}function composeValidators(validators){return null!=validators?forms_Validators.compose(normalizeValidators(validators)):null}function composeAsyncValidators(validators){return null!=validators?forms_Validators.composeAsync(normalizeValidators(validators)):null}function mergeValidators(controlValidators,dirValidator){return null===controlValidators?[dirValidator]:Array.isArray(controlValidators)?[...controlValidators,dirValidator]:[controlValidators,dirValidator]}function getControlValidators(control){return control._rawValidators}function getControlAsyncValidators(control){return control._rawAsyncValidators}let forms_AbstractControlDirective=(()=>{class AbstractControlDirective{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(validators){this._rawValidators=validators||[],this._composedValidatorFn=composeValidators(this._rawValidators)}_setAsyncValidators(validators){this._rawAsyncValidators=validators||[],this._composedAsyncValidatorFn=composeAsyncValidators(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(fn){this._onDestroyCallbacks.push(fn)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(fn=>fn()),this._onDestroyCallbacks=[]}reset(value){this.control&&this.control.reset(value)}hasError(errorCode,path){return!!this.control&&this.control.hasError(errorCode,path)}getError(errorCode,path){return this.control?this.control.getError(errorCode,path):null}}return AbstractControlDirective.fac=function(t){return new(t||AbstractControlDirective)},AbstractControlDirective.dir=defineDirective({type:AbstractControlDirective}),AbstractControlDirective})(),forms_ControlContainer=(()=>{class ControlContainer extends forms_AbstractControlDirective{get formDirective(){return null}get path(){return null}}return ControlContainer.fac=function(t){return ControlContainer_BaseFactory(t||ControlContainer)},ControlContainer.dir=defineDirective({type:ControlContainer,features:[InheritDefinitionFeature]}),ControlContainer})();const ControlContainer_BaseFactory=getInheritedFactory(forms_ControlContainer);class NgControl extends forms_AbstractControlDirective{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AbstractControlStatus{constructor(cd){this._cd=cd}is(status){var _a,_b;return!!(null===(_b=null===(_a=this._cd)||void 0===_a?void 0:_a.control)||void 0===_b?void 0:_b[status])}}let forms_NgControlStatus=(()=>{class NgControlStatus extends AbstractControlStatus{constructor(cd){super(cd)}}return NgControlStatus.fac=function(t){return new(t||NgControlStatus)(directiveInject(NgControl,2))},NgControlStatus.dir=defineDirective({type:NgControlStatus,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(rf,ctx){2&rf&&classProp("ng-untouched",ctx.is("untouched"))("ng-touched",ctx.is("touched"))("ng-pristine",ctx.is("pristine"))("ng-dirty",ctx.is("dirty"))("ng-valid",ctx.is("valid"))("ng-invalid",ctx.is("invalid"))("ng-pending",ctx.is("pending"))},features:[InheritDefinitionFeature]}),NgControlStatus})(),forms_NgControlStatusGroup=(()=>{class NgControlStatusGroup extends AbstractControlStatus{constructor(cd){super(cd)}}return NgControlStatusGroup.fac=function(t){return new(t||NgControlStatusGroup)(directiveInject(forms_ControlContainer,10))},NgControlStatusGroup.dir=defineDirective({type:NgControlStatusGroup,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(rf,ctx){2&rf&&classProp("ng-untouched",ctx.is("untouched"))("ng-touched",ctx.is("touched"))("ng-pristine",ctx.is("pristine"))("ng-dirty",ctx.is("dirty"))("ng-valid",ctx.is("valid"))("ng-invalid",ctx.is("invalid"))("ng-pending",ctx.is("pending"))},features:[InheritDefinitionFeature]}),NgControlStatusGroup})();const NUMBER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_NumberValueAccessor),multi:!0};let forms_NumberValueAccessor=(()=>{class NumberValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==value?"":value)}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}}return NumberValueAccessor.fac=function(t){return new(t||NumberValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef))},NumberValueAccessor.dir=defineDirective({type:NumberValueAccessor,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&listener("input",function($event){return ctx.onChange($event.target.value)})("blur",function(){return ctx.onTouched()})},features:[ProvidersFeature([NUMBER_VALUE_ACCESSOR])]}),NumberValueAccessor})();const RADIO_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_RadioControlValueAccessor),multi:!0};let forms_RadioControlRegistry=(()=>{class RadioControlRegistry{constructor(){this._accessors=[]}add(control,accessor){this._accessors.push([control,accessor])}remove(accessor){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===accessor)return void this._accessors.splice(i,1)}select(accessor){this._accessors.forEach(c=>{this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)})}_isSameGroup(controlPair,accessor){return!!controlPair[0].control&&controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name}}return RadioControlRegistry.fac=function(t){return new(t||RadioControlRegistry)},RadioControlRegistry.prov=defineInjectable({token:RadioControlRegistry,factory:RadioControlRegistry.fac}),RadioControlRegistry})(),forms_RadioControlValueAccessor=(()=>{class RadioControlValueAccessor{constructor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(value){this._state=value===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(fn){this._fn=fn,this.onChange=()=>{fn(this.value),this._registry.select(this)}}fireUncheck(value){this.writeValue(value)}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return RadioControlValueAccessor.fac=function(t){return new(t||RadioControlValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef),directiveInject(forms_RadioControlRegistry),directiveInject(Injector))},RadioControlValueAccessor.dir=defineDirective({type:RadioControlValueAccessor,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&listener("change",function(){return ctx.onChange()})("blur",function(){return ctx.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ProvidersFeature([RADIO_VALUE_ACCESSOR])]}),RadioControlValueAccessor})();const RANGE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_RangeValueAccessor),multi:!0};let forms_RangeValueAccessor=(()=>{class RangeValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(value))}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}}return RangeValueAccessor.fac=function(t){return new(t||RangeValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef))},RangeValueAccessor.dir=defineDirective({type:RangeValueAccessor,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&listener("change",function($event){return ctx.onChange($event.target.value)})("input",function($event){return ctx.onChange($event.target.value)})("blur",function(){return ctx.onTouched()})},features:[ProvidersFeature([RANGE_VALUE_ACCESSOR])]}),RangeValueAccessor})();const SELECT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_SelectControlValueAccessor),multi:!0};function _buildValueString(id,value){return null==id?`${value}`:(value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}let forms_SelectControlValueAccessor=(()=>{class SelectControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(fn){this._compareWith=fn}writeValue(value){this.value=value;const id=this._getOptionId(value);null==id&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const valueString=_buildValueString(id,value);this._renderer.setProperty(this._elementRef.nativeElement,"value",valueString)}registerOnChange(fn){this.onChange=valueString=>{this.value=this._getOptionValue(valueString),fn(this.value)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id),value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString}}return SelectControlValueAccessor.fac=function(t){return new(t||SelectControlValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef))},SelectControlValueAccessor.dir=defineDirective({type:SelectControlValueAccessor,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(rf,ctx){1&rf&&listener("change",function($event){return ctx.onChange($event.target.value)})("blur",function(){return ctx.onTouched()})},inputs:{compareWith:"compareWith"},features:[ProvidersFeature([SELECT_VALUE_ACCESSOR])]}),SelectControlValueAccessor})(),forms_NgSelectOption=(()=>{class NgSelectOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption())}set ngValue(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._setElementValue(value),this._select&&this._select.writeValue(this._select.value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return NgSelectOption.fac=function(t){return new(t||NgSelectOption)(directiveInject(ElementRef),directiveInject(Renderer2),directiveInject(forms_SelectControlValueAccessor,9))},NgSelectOption.dir=defineDirective({type:NgSelectOption,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),NgSelectOption})();const SELECT_MULTIPLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>forms_SelectMultipleControlValueAccessor),multi:!0};function _buildValueString$1(id,value){return null==id?`${value}`:("string"==typeof value&&(value=`'${value}'`),value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}let forms_SelectMultipleControlValueAccessor=(()=>{class SelectMultipleControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(fn){this._compareWith=fn}writeValue(value){let optionSelectedStateSetter;if(this.value=value,Array.isArray(value)){const ids=value.map(v=>this._getOptionId(v));optionSelectedStateSetter=(opt,o)=>{opt._setSelected(ids.indexOf(o.toString())>-1)}}else optionSelectedStateSetter=(opt,o)=>{opt._setSelected(!1)};this._optionMap.forEach(optionSelectedStateSetter)}registerOnChange(fn){this.onChange=_=>{const selected=[];if(void 0!==_.selectedOptions){const options=_.selectedOptions;for(let i=0;i<options.length;i++){const opt=options.item(i),val=this._getOptionValue(opt.value);selected.push(val)}}else{const options=_.options;for(let i=0;i<options.length;i++){const opt=options.item(i);if(opt.selected){const val=this._getOptionValue(opt.value);selected.push(val)}}}this.value=selected,fn(selected)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_registerOption(value){const id=(this._idCounter++).toString();return this._optionMap.set(id,value),id}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id)._value,value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString}}return SelectMultipleControlValueAccessor.fac=function(t){return new(t||SelectMultipleControlValueAccessor)(directiveInject(Renderer2),directiveInject(ElementRef))},SelectMultipleControlValueAccessor.dir=defineDirective({type:SelectMultipleControlValueAccessor,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(rf,ctx){1&rf&&listener("change",function($event){return ctx.onChange($event.target)})("blur",function(){return ctx.onTouched()})},inputs:{compareWith:"compareWith"},features:[ProvidersFeature([SELECT_MULTIPLE_VALUE_ACCESSOR])]}),SelectMultipleControlValueAccessor})(),forms_NgSelectMultipleOption=(()=>{class NgSelectMultipleOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption(this))}set ngValue(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._select?(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}_setSelected(selected){this._renderer.setProperty(this._element.nativeElement,"selected",selected)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return NgSelectMultipleOption.fac=function(t){return new(t||NgSelectMultipleOption)(directiveInject(ElementRef),directiveInject(Renderer2),directiveInject(forms_SelectMultipleControlValueAccessor,9))},NgSelectMultipleOption.dir=defineDirective({type:NgSelectMultipleOption,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),NgSelectMultipleOption})();function controlPath(name,parent){return[...parent.path,name]}function setUpControl(control,dir){setUpValidators(control,dir,!0),dir.valueAccessor.writeValue(control.value),function(control,dir){dir.valueAccessor.registerOnChange(newValue=>{control._pendingValue=newValue,control._pendingChange=!0,control._pendingDirty=!0,"change"===control.updateOn&&updateControl(control,dir)})}(control,dir),function(control,dir){const onChange=(newValue,emitModelEvent)=>{dir.valueAccessor.writeValue(newValue),emitModelEvent&&dir.viewToModelUpdate(newValue)};control.registerOnChange(onChange),dir._registerOnDestroy(()=>{control._unregisterOnChange(onChange)})}(control,dir),function(control,dir){dir.valueAccessor.registerOnTouched(()=>{control._pendingTouched=!0,"blur"===control.updateOn&&control._pendingChange&&updateControl(control,dir),"submit"!==control.updateOn&&control.markAsTouched()})}(control,dir),function(control,dir){if(dir.valueAccessor.setDisabledState){const onDisabledChange=isDisabled=>{dir.valueAccessor.setDisabledState(isDisabled)};control.registerOnDisabledChange(onDisabledChange),dir._registerOnDestroy(()=>{control._unregisterOnDisabledChange(onDisabledChange)})}}(control,dir)}function cleanUpControl(control,dir,validateControlPresenceOnChange=!0){const noop=()=>{};dir.valueAccessor&&(dir.valueAccessor.registerOnChange(noop),dir.valueAccessor.registerOnTouched(noop)),cleanUpValidators(control,dir,!0),control&&(dir._invokeOnDestroyCallbacks(),control._registerOnCollectionChange(()=>{}))}function registerOnValidatorChange(validators,onChange){validators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(onChange)})}function setUpValidators(control,dir,handleOnValidatorChange){const validators=getControlValidators(control);null!==dir.validator?control.setValidators(mergeValidators(validators,dir.validator)):"function"==typeof validators&&control.setValidators([validators]);const asyncValidators=getControlAsyncValidators(control);if(null!==dir.asyncValidator?control.setAsyncValidators(mergeValidators(asyncValidators,dir.asyncValidator)):"function"==typeof asyncValidators&&control.setAsyncValidators([asyncValidators]),handleOnValidatorChange){const onValidatorChange=()=>control.updateValueAndValidity();registerOnValidatorChange(dir._rawValidators,onValidatorChange),registerOnValidatorChange(dir._rawAsyncValidators,onValidatorChange)}}function cleanUpValidators(control,dir,handleOnValidatorChange){let isControlUpdated=!1;if(null!==control){if(null!==dir.validator){const validators=getControlValidators(control);if(Array.isArray(validators)&&validators.length>0){const updatedValidators=validators.filter(validator=>validator!==dir.validator);updatedValidators.length!==validators.length&&(isControlUpdated=!0,control.setValidators(updatedValidators))}}if(null!==dir.asyncValidator){const asyncValidators=getControlAsyncValidators(control);if(Array.isArray(asyncValidators)&&asyncValidators.length>0){const updatedAsyncValidators=asyncValidators.filter(asyncValidator=>asyncValidator!==dir.asyncValidator);updatedAsyncValidators.length!==asyncValidators.length&&(isControlUpdated=!0,control.setAsyncValidators(updatedAsyncValidators))}}}if(handleOnValidatorChange){const noop=()=>{};registerOnValidatorChange(dir._rawValidators,noop),registerOnValidatorChange(dir._rawAsyncValidators,noop)}return isControlUpdated}function updateControl(control,dir){control._pendingDirty&&control.markAsDirty(),control.setValue(control._pendingValue,{emitModelToViewChange:!1}),dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1}function setUpFormContainer(control,dir){setUpValidators(control,dir,!1)}function isPropertyUpdated(changes,viewModel){if(!changes.hasOwnProperty("model"))return!1;const change=changes.model;return!!change.isFirstChange()||!Object.is(viewModel,change.currentValue)}const BUILTIN_ACCESSORS=[forms_CheckboxControlValueAccessor,forms_RangeValueAccessor,forms_NumberValueAccessor,forms_SelectControlValueAccessor,forms_SelectMultipleControlValueAccessor,forms_RadioControlValueAccessor];function syncPendingControls(form,directives){form._syncPendingControls(),directives.forEach(dir=>{const control=dir.control;"submit"===control.updateOn&&control._pendingChange&&(dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1)})}function selectValueAccessor(dir,valueAccessors){if(!valueAccessors)return null;let defaultAccessor,builtinAccessor,customAccessor;return Array.isArray(valueAccessors),valueAccessors.forEach(v=>{var valueAccessor;v.constructor===forms_DefaultValueAccessor?defaultAccessor=v:(valueAccessor=v,BUILTIN_ACCESSORS.some(a=>valueAccessor.constructor===a)?builtinAccessor=v:customAccessor=v)}),customAccessor||builtinAccessor||defaultAccessor||null}function removeListItem(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}function pickValidators(validatorOrOpts){return(isOptionsObj(validatorOrOpts)?validatorOrOpts.validators:validatorOrOpts)||null}function coerceToValidator(validator){return Array.isArray(validator)?composeValidators(validator):validator||null}function pickAsyncValidators(asyncValidator,validatorOrOpts){return(isOptionsObj(validatorOrOpts)?validatorOrOpts.asyncValidators:asyncValidator)||null}function coerceToAsyncValidator(asyncValidator){return Array.isArray(asyncValidator)?composeAsyncValidators(asyncValidator):asyncValidator||null}function isOptionsObj(validatorOrOpts){return null!=validatorOrOpts&&!Array.isArray(validatorOrOpts)&&"object"==typeof validatorOrOpts}class forms_AbstractControl{constructor(validators,asyncValidators){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=validators,this._rawAsyncValidators=asyncValidators,this._composedValidatorFn=coerceToValidator(this._rawValidators),this._composedAsyncValidatorFn=coerceToAsyncValidator(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(validatorFn){this._rawValidators=this._composedValidatorFn=validatorFn}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(asyncValidatorFn){this._rawAsyncValidators=this._composedAsyncValidatorFn=asyncValidatorFn}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(newValidator){this._rawValidators=newValidator,this._composedValidatorFn=coerceToValidator(newValidator)}setAsyncValidators(newValidator){this._rawAsyncValidators=newValidator,this._composedAsyncValidatorFn=coerceToAsyncValidator(newValidator)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(opts={}){this.touched=!0,this._parent&&!opts.onlySelf&&this._parent.markAsTouched(opts)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(control=>control.markAllAsTouched())}markAsUntouched(opts={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(control=>{control.markAsUntouched({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}markAsDirty(opts={}){this.pristine=!1,this._parent&&!opts.onlySelf&&this._parent.markAsDirty(opts)}markAsPristine(opts={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(control=>{control.markAsPristine({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}markAsPending(opts={}){this.status="PENDING",!1!==opts.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!opts.onlySelf&&this._parent.markAsPending(opts)}disable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(control=>{control.disable(Object.assign(Object.assign({},opts),{onlySelf:!0}))}),this._updateValue(),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},opts),{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!0))}enable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="VALID",this._forEachChild(control=>{control.enable(Object.assign(Object.assign({},opts),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},opts),{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!1))}_updateAncestors(opts){this._parent&&!opts.onlySelf&&(this._parent.updateValueAndValidity(opts),opts.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(parent){this._parent=parent}updateValueAndValidity(opts={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(opts.emitEvent)),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!opts.onlySelf&&this._parent.updateValueAndValidity(opts)}_updateTreeValidity(opts={emitEvent:!0}){this._forEachChild(ctrl=>ctrl._updateTreeValidity(opts)),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(emitEvent){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe(errors=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(errors,{emitEvent:emitEvent})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(errors,opts={}){this.errors=errors,this._updateControlsErrors(!1!==opts.emitEvent)}get(path){return function(control,path,delimiter){if(null==path)return null;if(Array.isArray(path)||(path=path.split(".")),Array.isArray(path)&&0===path.length)return null;let controlToFind=control;return path.forEach(name=>{controlToFind=controlToFind instanceof FormGroup?controlToFind.controls.hasOwnProperty(name)?controlToFind.controls[name]:null:controlToFind instanceof FormArray&&controlToFind.at(name)||null}),controlToFind}(this,path)}getError(errorCode,path){const control=path?this.get(path):this;return control&&control.errors?control.errors[errorCode]:null}hasError(errorCode,path){return!!this.getError(errorCode,path)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(emitEvent){this.status=this._calculateStatus(),emitEvent&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(emitEvent)}_initObservables(){this.valueChanges=new EventEmitter,this.statusChanges=new EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(status){return this._anyControls(control=>control.status===status)}_anyControlsDirty(){return this._anyControls(control=>control.dirty)}_anyControlsTouched(){return this._anyControls(control=>control.touched)}_updatePristine(opts={}){this.pristine=!this._anyControlsDirty(),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}_updateTouched(opts={}){this.touched=this._anyControlsTouched(),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}_isBoxedValue(formState){return"object"==typeof formState&&null!==formState&&2===Object.keys(formState).length&&"value"in formState&&"disabled"in formState}_registerOnCollectionChange(fn){this._onCollectionChange=fn}_setUpdateStrategy(opts){isOptionsObj(opts)&&null!=opts.updateOn&&(this._updateOn=opts.updateOn)}_parentMarkedDirty(onlySelf){return!onlySelf&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class FormControl extends forms_AbstractControl{constructor(formState=null,validatorOrOpts,asyncValidator){super(pickValidators(validatorOrOpts),pickAsyncValidators(asyncValidator,validatorOrOpts)),this._onChange=[],this._applyFormState(formState),this._setUpdateStrategy(validatorOrOpts),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!asyncValidator})}setValue(value,options={}){this.value=this._pendingValue=value,this._onChange.length&&!1!==options.emitModelToViewChange&&this._onChange.forEach(changeFn=>changeFn(this.value,!1!==options.emitViewToModelChange)),this.updateValueAndValidity(options)}patchValue(value,options={}){this.setValue(value,options)}reset(formState=null,options={}){this._applyFormState(formState),this.markAsPristine(options),this.markAsUntouched(options),this.setValue(this.value,options),this._pendingChange=!1}_updateValue(){}_anyControls(condition){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fn){this._onChange.push(fn)}_unregisterOnChange(fn){removeListItem(this._onChange,fn)}registerOnDisabledChange(fn){this._onDisabledChange.push(fn)}_unregisterOnDisabledChange(fn){removeListItem(this._onDisabledChange,fn)}_forEachChild(cb){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(formState){this._isBoxedValue(formState)?(this.value=this._pendingValue=formState.value,formState.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=formState}}class FormGroup extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(pickValidators(validatorOrOpts),pickAsyncValidators(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!asyncValidator})}registerControl(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange),control)}addControl(name,control){this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(name){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],this.updateValueAndValidity(),this._onCollectionChange()}setControl(name,control){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],control&&this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}contains(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled}setValue(value,options={}){this._checkAllValuesPresent(value),Object.keys(value).forEach(name=>{this._throwIfControlMissing(name),this.controls[name].setValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){null!=value&&(Object.keys(value).forEach(name=>{this.controls[name]&&this.controls[name].patchValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options))}reset(value={},options={}){this._forEachChild((control,name)=>{control.reset(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this._reduceChildren({},(acc,control,name)=>(acc[name]=control instanceof FormControl?control.value:control.getRawValue(),acc))}_syncPendingControls(){let subtreeUpdated=this._reduceChildren(!1,(updated,child)=>!!child._syncPendingControls()||updated);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(name){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[name])throw new Error(`Cannot find form control with name: ${name}.`)}_forEachChild(cb){Object.keys(this.controls).forEach(key=>{const control=this.controls[key];control&&cb(control,key)})}_setUpControls(){this._forEachChild(control=>{control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(condition){for(const controlName of Object.keys(this.controls)){const control=this.controls[controlName];if(this.contains(controlName)&&condition(control))return!0}return!1}_reduceValue(){return this._reduceChildren({},(acc,control,name)=>((control.enabled||this.disabled)&&(acc[name]=control.value),acc))}_reduceChildren(initValue,fn){let res=initValue;return this._forEachChild((control,name)=>{res=fn(res,control,name)}),res}_allControlsDisabled(){for(const controlName of Object.keys(this.controls))if(this.controls[controlName].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(value){this._forEachChild((control,name)=>{if(void 0===value[name])throw new Error(`Must supply a value for form control with name: '${name}'.`)})}}class FormArray extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(pickValidators(validatorOrOpts),pickAsyncValidators(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!asyncValidator})}at(index){return this.controls[index]}push(control){this.controls.push(control),this._registerControl(control),this.updateValueAndValidity(),this._onCollectionChange()}insert(index,control){this.controls.splice(index,0,control),this._registerControl(control),this.updateValueAndValidity()}removeAt(index){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),this.updateValueAndValidity()}setControl(index,control){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),control&&(this.controls.splice(index,0,control),this._registerControl(control)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(value,options={}){this._checkAllValuesPresent(value),value.forEach((newValue,index)=>{this._throwIfControlMissing(index),this.at(index).setValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){null!=value&&(value.forEach((newValue,index)=>{this.at(index)&&this.at(index).patchValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options))}reset(value=[],options={}){this._forEachChild((control,index)=>{control.reset(value[index],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this.controls.map(control=>control instanceof FormControl?control.value:control.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(control=>control._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let subtreeUpdated=this.controls.reduce((updated,child)=>!!child._syncPendingControls()||updated,!1);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(index){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(index))throw new Error(`Cannot find form control at index ${index}`)}_forEachChild(cb){this.controls.forEach((control,index)=>{cb(control,index)})}_updateValue(){this.value=this.controls.filter(control=>control.enabled||this.disabled).map(control=>control.value)}_anyControls(condition){return this.controls.some(control=>control.enabled&&condition(control))}_setUpControls(){this._forEachChild(control=>this._registerControl(control))}_checkAllValuesPresent(value){this._forEachChild((control,i)=>{if(void 0===value[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const control of this.controls)if(control.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(control){control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)}}const formDirectiveProvider={provide:forms_ControlContainer,useExisting:forwardRef(()=>forms_NgForm)},resolvedPromise=(()=>Promise.resolve(null))();let forms_NgForm=(()=>{class NgForm extends forms_ControlContainer{constructor(validators,asyncValidators){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new EventEmitter,this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);dir.control=container.registerControl(dir.name,dir.control),setUpControl(dir.control,dir),dir.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(dir)})}getControl(dir){return this.form.get(dir.path)}removeControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name),removeListItem(this._directives,dir)})}addFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path),group=new FormGroup({});setUpFormContainer(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name)})}getFormGroup(dir){return this.form.get(dir.path)}updateModel(dir,value){resolvedPromise.then(()=>{this.form.get(dir.path).setValue(value)})}setValue(value){this.control.setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this._directives),this.ngSubmit.emit($event),!1}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(path){return path.pop(),path.length?this.form.get(path):this.form}}return NgForm.fac=function(t){return new(t||NgForm)(directiveInject(NG_VALIDATORS,10),directiveInject(NG_ASYNC_VALIDATORS,10))},NgForm.dir=defineDirective({type:NgForm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(rf,ctx){1&rf&&listener("submit",function($event){return ctx.onSubmit($event)})("reset",function(){return ctx.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ProvidersFeature([formDirectiveProvider]),InheritDefinitionFeature]}),NgForm})();const formControlBinding={provide:NgControl,useExisting:forwardRef(()=>forms_NgModel)},resolvedPromise$1=(()=>Promise.resolve(null))();let forms_NgModel=(()=>{class NgModel extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors){super(),this.control=new FormControl,this._registered=!1,this.update=new EventEmitter,this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators),this.valueAccessor=selectValueAccessor(0,valueAccessors)}ngOnChanges(changes){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in changes&&this._updateDisabled(changes),isPropertyUpdated(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?controlPath(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){setUpControl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(value){resolvedPromise$1.then(()=>{this.control.setValue(value,{emitViewToModelChange:!1})})}_updateDisabled(changes){const disabledValue=changes.isDisabled.currentValue,isDisabled=""===disabledValue||disabledValue&&"false"!==disabledValue;resolvedPromise$1.then(()=>{isDisabled&&!this.control.disabled?this.control.disable():!isDisabled&&this.control.disabled&&this.control.enable()})}}return NgModel.fac=function(t){return new(t||NgModel)(directiveInject(forms_ControlContainer,9),directiveInject(NG_VALIDATORS,10),directiveInject(NG_ASYNC_VALIDATORS,10),directiveInject(NG_VALUE_ACCESSOR,10))},NgModel.dir=defineDirective({type:NgModel,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ProvidersFeature([formControlBinding]),InheritDefinitionFeature,NgOnChangesFeature]}),NgModel})(),forms_NgNoValidate=(()=>{class NgNoValidate{}return NgNoValidate.fac=function(t){return new(t||NgNoValidate)},NgNoValidate.dir=defineDirective({type:NgNoValidate,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),NgNoValidate})();const NG_MODEL_WITH_FORM_CONTROL_WARNING=new InjectionToken("NgModelWithFormControlWarning"),formDirectiveProvider$1={provide:forms_ControlContainer,useExisting:forwardRef(()=>forms_FormGroupDirective)};let forms_FormGroupDirective=(()=>{class FormGroupDirective extends forms_ControlContainer{constructor(validators,asyncValidators){super(),this.validators=validators,this.asyncValidators=asyncValidators,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new EventEmitter,this._setValidators(validators),this._setAsyncValidators(asyncValidators)}ngOnChanges(changes){this._checkFormPresent(),changes.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cleanUpValidators(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(dir){const ctrl=this.form.get(dir.path);return setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir),ctrl}getControl(dir){return this.form.get(dir.path)}removeControl(dir){cleanUpControl(dir.control||null,dir,!1),removeListItem(this.directives,dir)}addFormGroup(dir){this._setUpFormContainer(dir)}removeFormGroup(dir){this._cleanUpFormContainer(dir)}getFormGroup(dir){return this.form.get(dir.path)}addFormArray(dir){this._setUpFormContainer(dir)}removeFormArray(dir){this._cleanUpFormContainer(dir)}getFormArray(dir){return this.form.get(dir.path)}updateModel(dir,value){this.form.get(dir.path).setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this.directives),this.ngSubmit.emit($event),!1}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_updateDomValue(){this.directives.forEach(dir=>{const newCtrl=this.form.get(dir.path);dir.control!==newCtrl&&(cleanUpControl(dir.control||null,dir),newCtrl&&setUpControl(newCtrl,dir),dir.control=newCtrl)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(dir){const ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(dir){if(this.form){const ctrl=this.form.get(dir.path);ctrl&&function(control,dir){return cleanUpValidators(control,dir,!1)}(ctrl,dir)&&ctrl.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){setUpValidators(this.form,this,!1),this._oldForm&&cleanUpValidators(this._oldForm,this,!1)}_checkFormPresent(){}}return FormGroupDirective.fac=function(t){return new(t||FormGroupDirective)(directiveInject(NG_VALIDATORS,10),directiveInject(NG_ASYNC_VALIDATORS,10))},FormGroupDirective.dir=defineDirective({type:FormGroupDirective,selectors:[["","formGroup",""]],hostBindings:function(rf,ctx){1&rf&&listener("submit",function($event){return ctx.onSubmit($event)})("reset",function(){return ctx.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ProvidersFeature([formDirectiveProvider$1]),InheritDefinitionFeature,NgOnChangesFeature]}),FormGroupDirective})();const controlNameBinding={provide:NgControl,useExisting:forwardRef(()=>forms_FormControlName)};let forms_FormControlName=(()=>{class FormControlName extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors,_ngModelWarningConfig){super(),this._ngModelWarningConfig=_ngModelWarningConfig,this._added=!1,this.update=new EventEmitter,this._ngModelWarningSent=!1,this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators),this.valueAccessor=selectValueAccessor(0,valueAccessors)}set isDisabled(isDisabled){}ngOnChanges(changes){this._added||this._setUpControl(),isPropertyUpdated(changes,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return FormControlName.fac=function(t){return new(t||FormControlName)(directiveInject(forms_ControlContainer,13),directiveInject(NG_VALIDATORS,10),directiveInject(NG_ASYNC_VALIDATORS,10),directiveInject(NG_VALUE_ACCESSOR,10),directiveInject(NG_MODEL_WITH_FORM_CONTROL_WARNING,8))},FormControlName.dir=defineDirective({type:FormControlName,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ProvidersFeature([controlNameBinding]),InheritDefinitionFeature,NgOnChangesFeature]}),FormControlName._ngModelWarningSentOnce=!1,FormControlName})();const REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(()=>forms_RequiredValidator),multi:!0};let forms_RequiredValidator=(()=>{class RequiredValidator{constructor(){this._required=!1}get required(){return this._required}set required(value){this._required=null!=value&&!1!==value&&"false"!=`${value}`,this._onChange&&this._onChange()}validate(control){return this.required?forms_Validators.required(control):null}registerOnValidatorChange(fn){this._onChange=fn}}return RequiredValidator.fac=function(t){return new(t||RequiredValidator)},RequiredValidator.dir=defineDirective({type:RequiredValidator,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&attribute("required",ctx.required?"":null)},inputs:{required:"required"},features:[ProvidersFeature([REQUIRED_VALIDATOR])]}),RequiredValidator})(),forms_InternalFormsSharedModule=(()=>{class InternalFormsSharedModule{}return InternalFormsSharedModule.mod=defineNgModule({type:InternalFormsSharedModule}),InternalFormsSharedModule.inj=defineInjector({factory:function(t){return new(t||InternalFormsSharedModule)}}),InternalFormsSharedModule})(),forms_FormBuilder=(()=>{class FormBuilder{group(controlsConfig,options=null){const controls=this._reduceControls(controlsConfig);let updateOn,validators=null,asyncValidators=null;return null!=options&&(function(options){return void 0!==options.asyncValidators||void 0!==options.validators||void 0!==options.updateOn}(options)?(validators=null!=options.validators?options.validators:null,asyncValidators=null!=options.asyncValidators?options.asyncValidators:null,updateOn=null!=options.updateOn?options.updateOn:void 0):(validators=null!=options.validator?options.validator:null,asyncValidators=null!=options.asyncValidator?options.asyncValidator:null)),new FormGroup(controls,{asyncValidators:asyncValidators,updateOn:updateOn,validators:validators})}control(formState,validatorOrOpts,asyncValidator){return new FormControl(formState,validatorOrOpts,asyncValidator)}array(controlsConfig,validatorOrOpts,asyncValidator){const controls=controlsConfig.map(c=>this._createControl(c));return new FormArray(controls,validatorOrOpts,asyncValidator)}_reduceControls(controlsConfig){const controls={};return Object.keys(controlsConfig).forEach(controlName=>{controls[controlName]=this._createControl(controlsConfig[controlName])}),controls}_createControl(controlConfig){return controlConfig instanceof FormControl||controlConfig instanceof FormGroup||controlConfig instanceof FormArray?controlConfig:Array.isArray(controlConfig)?this.control(controlConfig[0],controlConfig.length>1?controlConfig[1]:null,controlConfig.length>2?controlConfig[2]:null):this.control(controlConfig)}}return FormBuilder.fac=function(t){return new(t||FormBuilder)},FormBuilder.prov=defineInjectable({token:FormBuilder,factory:FormBuilder.fac}),FormBuilder})(),forms_FormsModule=(()=>{class FormsModule{}return FormsModule.mod=defineNgModule({type:FormsModule}),FormsModule.inj=defineInjector({factory:function(t){return new(t||FormsModule)},providers:[forms_RadioControlRegistry],imports:[forms_InternalFormsSharedModule]}),FormsModule})(),forms_ReactiveFormsModule=(()=>{class ReactiveFormsModule{static withConfig(opts){return{ngModule:ReactiveFormsModule,providers:[{provide:NG_MODEL_WITH_FORM_CONTROL_WARNING,useValue:opts.warnOnNgModelWithFormControl}]}}}return ReactiveFormsModule.mod=defineNgModule({type:ReactiveFormsModule}),ReactiveFormsModule.inj=defineInjector({factory:function(t){return new(t||ReactiveFormsModule)},providers:[forms_FormBuilder,forms_RadioControlRegistry],imports:[forms_InternalFormsSharedModule]}),ReactiveFormsModule})();var build=__webpack_require__("3X/P"),build_default=__webpack_require__.n(build);class QuestionBase{constructor(options={}){this.value=options.value,this.key=options.key||"",this.label=options.label||"",this.required=!!options.required,this.order=void 0===options.order?1:options.order,this.min=void 0===options.min?1:options.min,this.max=void 0===options.max?10:options.max,this.controlType=options.controlType||"",this.type=options.type||"",this.checked=options.checked||!1,this.options=options.options||[]}}class textbox_question_TextboxQuestion extends QuestionBase{constructor(){super(...arguments),this.controlType="textbox"}}class check_box_question_CheckBoxQuestion extends QuestionBase{constructor(){super(...arguments),this.controlType="checkbox"}}class slider_question_SliderQuestion extends QuestionBase{constructor(){super(...arguments),this.controlType="slider"}}let question_service_service_QuestionService=(()=>{class QuestionService{constructor(){this.questions={},this.showEditFormSource=new Subject_Subject,this.showEditForm$=this.showEditFormSource.asObservable()}updateShowEditForm(showForm){this.showEditFormSource.next(showForm)}setLayerQuestions(layerName,qgisFieldList){if(layerName.toLowerCase()===AppConfiguration.actionPlanLayerName)return this.setLayerQuestionsActionPlanNoise(layerName.toLowerCase(),qgisFieldList);let order=0,layerQuestions=[],question=null,orderInLayer=!1;return void 0!==AppConfiguration.fieldsOrder[layerName.toLowerCase()]&&(orderInLayer=!0),qgisFieldList.forEach(attr=>{if("id"!==attr.name&&"fid"!==attr.name&&"picfilepath"!==attr.name&&"linkqrfile"!==attr.name){order+=1;let label=""===attr.comment?attr.name:attr.comment;const required=!1;switch(attr.type){case"bool":question=new check_box_question_CheckBoxQuestion({key:attr.name,label:label,value:"true",required:required,order:orderInLayer?this.findOrder(layerName,attr.name):order,type:"checkbox"});break;case"QString":question=new textbox_question_TextboxQuestion({key:attr.name,label:label,value:"",required:required,order:orderInLayer?this.findOrder(layerName,attr.name):order});break;case"int":question=new slider_question_SliderQuestion({key:attr.name,label:label,value:0,required:required,order:orderInLayer?this.findOrder(layerName,attr.name):order,min:this.findMinRange(attr.name),max:this.findMaxRange(attr.name)});break;case"double":question=new textbox_question_TextboxQuestion({key:attr.name,label:label,value:"",required:required,order:orderInLayer?this.findOrder(layerName,attr.name):order})}layerQuestions.push(question)}}),layerQuestions}setLayerQuestionsActionPlanNoise(layerName,qgisFieldList){let order=0,layerQuestions=[],question=null,orderInLayer=!1;return void 0!==AppConfiguration.fieldsOrder[layerName]&&(orderInLayer=!0),qgisFieldList.forEach(attr=>{if("id"!==attr.name&&"fid"!==attr.name&&"picfilepath"!==attr.name&&"linkqrfile"!==attr.name){order+=1;const label=""===attr.comment?attr.name:attr.comment;"bool"===attr.type&&(question=new check_box_question_CheckBoxQuestion({key:attr.name,label:label,required:!1,order:orderInLayer?this.findOrder(layerName,attr.name):order,type:"checkbox"}),layerQuestions.push(question)),"QString"===attr.type&&(question=new textbox_question_TextboxQuestion({key:attr.name,label:label,value:"",required:!1,order:orderInLayer?this.findOrder(layerName,attr.name):order}),layerQuestions.push(question))}}),layerQuestions}findOrder(layerName,attrName){return layerName=layerName.toLowerCase(),void 0!==AppConfiguration.fieldsOrder[layerName]&&void 0!==AppConfiguration.fieldsOrder[layerName][attrName]?AppConfiguration.fieldsOrder[layerName][attrName]:null}findMinRange(attrName){let min=AppConfiguration.range.min;return void 0!==AppConfiguration.ranges[attrName]&&(min=AppConfiguration.ranges[attrName].min),min}findMaxRange(attrName){let max=AppConfiguration.range.max;return void 0!==AppConfiguration.ranges[attrName]&&(max=AppConfiguration.ranges[attrName].max),max}setSketchQuestions(sketchName,fields){const questions=this.setLayerQuestions(sketchName,fields);this.questions[sketchName]=questions}setQuestions(layerGroups){layerGroups.forEach(group=>{group.layers.forEach(layer=>{if(layer.wfs){const questions=this.setLayerQuestions(layer.layerName,layer.fields);this.questions[layer.layerName]=questions}})})}getQuestions(layerName){return this.questions[layerName].sort((a,b)=>a.order-b.order)}toFormGroup(questions){const group={};return questions.forEach(question=>{group[question.key]="checkbox"!==question.controlType?question.required?new FormControl(question.value||"",forms_Validators.required):new FormControl(question.value||""):question.required?new FormControl(question.value||"",forms_Validators.required):new FormControl(!1)}),new FormGroup(group)}}return QuestionService.fac=function(t){return new(t||QuestionService)},QuestionService.prov=defineInjectable({token:QuestionService,factory:QuestionService.fac,providedIn:"root"}),QuestionService})();class SkipOperator{constructor(total){this.total=total}call(subscriber,source){return source.subscribe(new skip_SkipSubscriber(subscriber,this.total))}}class skip_SkipSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(x){++this.count>this.total&&this.destination.next(x)}}const mediaQueriesForWebkitCompatibility=new Set;let mediaQueryStyleNode,layout_MediaMatcher=(()=>{class MediaMatcher{constructor(_platform){this._platform=_platform,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):noopMatchMedia}matchMedia(query){return this._platform.WEBKIT&&function(query){if(!mediaQueriesForWebkitCompatibility.has(query))try{mediaQueryStyleNode||(mediaQueryStyleNode=document.createElement("style"),mediaQueryStyleNode.setAttribute("type","text/css"),document.head.appendChild(mediaQueryStyleNode)),mediaQueryStyleNode.sheet&&(mediaQueryStyleNode.sheet.insertRule(`@media ${query} {.fx-query-test{ }}`,0),mediaQueriesForWebkitCompatibility.add(query))}catch(e){console.error(e)}}(query),this._matchMedia(query)}}return MediaMatcher.fac=function(t){return new(t||MediaMatcher)(inject(platform_Platform))},MediaMatcher.prov=defineInjectable({factory:function(){return new MediaMatcher(inject(platform_Platform))},token:MediaMatcher,providedIn:"root"}),MediaMatcher})();function noopMatchMedia(query){return{matches:"all"===query||""===query,media:query,addListener:()=>{},removeListener:()=>{}}}let layout_BreakpointObserver=(()=>{class BreakpointObserver{constructor(_mediaMatcher,_zone){this._mediaMatcher=_mediaMatcher,this._zone=_zone,this._queries=new Map,this._destroySubject=new Subject_Subject}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(value){return splitQueries(coerceArray(value)).some(mediaQuery=>this._registerQuery(mediaQuery).mql.matches)}observe(value){let stateObservable=combineLatest(splitQueries(coerceArray(value)).map(query=>this._registerQuery(query).observable));return stateObservable=concat(stateObservable.pipe(take(1)),stateObservable.pipe(source=>source.lift(new SkipOperator(1)),debounceTime(0))),stateObservable.pipe(map_map(breakpointStates=>{const response={matches:!1,breakpoints:{}};return breakpointStates.forEach(({matches:matches,query:query})=>{response.matches=response.matches||matches,response.breakpoints[query]=matches}),response}))}_registerQuery(query){if(this._queries.has(query))return this._queries.get(query);const mql=this._mediaMatcher.matchMedia(query),output={observable:new Observable_Observable(observer=>{const handler=e=>this._zone.run(()=>observer.next(e));return mql.addListener(handler),()=>{mql.removeListener(handler)}}).pipe(startWith(mql),map_map(({matches:matches})=>({query:query,matches:matches})),takeUntil(this._destroySubject)),mql:mql};return this._queries.set(query,output),output}}return BreakpointObserver.fac=function(t){return new(t||BreakpointObserver)(inject(layout_MediaMatcher),inject(NgZone))},BreakpointObserver.prov=defineInjectable({factory:function(){return new BreakpointObserver(inject(layout_MediaMatcher),inject(NgZone))},token:BreakpointObserver,providedIn:"root"}),BreakpointObserver})();function splitQueries(queries){return queries.map(query=>query.split(",")).reduce((a1,a2)=>a1.concat(a2)).map(query=>query.trim())}function SimpleSnackBar_div_2_Template(rf,ctx){if(1&rf){const _r2=getCurrentView();elementStart(0,"div",1),elementStart(1,"button",2),listener("click",function(){return restoreView(_r2),nextContext().action()}),text(2),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();advance(2),textInterpolate(ctx_r0.data.action)}}function MatSnackBarContainer_ng_template_0_Template(rf,ctx){}const MAT_SNACK_BAR_DATA=new InjectionToken("MatSnackBarData");class MatSnackBarConfig{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const MAX_TIMEOUT=Math.pow(2,31)-1;class snack_bar_MatSnackBarRef{constructor(containerInstance,_overlayRef){this._overlayRef=_overlayRef,this._afterDismissed=new Subject_Subject,this._afterOpened=new Subject_Subject,this._onAction=new Subject_Subject,this._dismissedByAction=!1,this.containerInstance=containerInstance,this.onAction().subscribe(()=>this.dismiss()),containerInstance._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(duration){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(duration,MAX_TIMEOUT))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let snack_bar_SimpleSnackBar=(()=>{class SimpleSnackBar{constructor(snackBarRef,data){this.snackBarRef=snackBarRef,this.data=data}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return SimpleSnackBar.fac=function(t){return new(t||SimpleSnackBar)(directiveInject(snack_bar_MatSnackBarRef),directiveInject(MAT_SNACK_BAR_DATA))},SimpleSnackBar.cmp=defineComponent({type:SimpleSnackBar,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(rf,ctx){1&rf&&(elementStart(0,"span"),text(1),elementEnd(),template(2,SimpleSnackBar_div_2_Template,3,1,"div",0)),2&rf&&(advance(1),textInterpolate(ctx.data.message),advance(1),property("ngIf",ctx.hasAction))},directives:[common_NgIf,button_MatButton],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),SimpleSnackBar})();const matSnackBarAnimations={snackBarState:trigger("state",[animations_state("void, hidden",animations_style({transform:"scale(0.8)",opacity:0})),animations_state("visible",animations_style({transform:"scale(1)",opacity:1})),animations_transition("* => visible",animate("150ms cubic-bezier(0, 0, 0.2, 1)")),animations_transition("* => void, * => hidden",animate("75ms cubic-bezier(0.4, 0.0, 1, 1)",animations_style({opacity:0})))])};let snack_bar_MatSnackBarContainer=(()=>{class MatSnackBarContainer extends BasePortalOutlet{constructor(_ngZone,_elementRef,_changeDetectorRef,snackBarConfig){super(),this._ngZone=_ngZone,this._elementRef=_elementRef,this._changeDetectorRef=_changeDetectorRef,this.snackBarConfig=snackBarConfig,this._destroyed=!1,this._onExit=new Subject_Subject,this._onEnter=new Subject_Subject,this._animationState="void",this.attachDomPortal=portal=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(portal)),this._role="assertive"!==snackBarConfig.politeness||snackBarConfig.announcementMessage?"off"===snackBarConfig.politeness?null:"status":"alert"}attachComponentPortal(portal){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(portal)}attachTemplatePortal(portal){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(portal)}onAnimationEnd(event){const{fromState:fromState,toState:toState}=event;if(("void"===toState&&"void"!==fromState||"hidden"===toState)&&this._completeExit(),"visible"===toState){const onEnter=this._onEnter;this._ngZone.run(()=>{onEnter.next(),onEnter.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(take(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const element=this._elementRef.nativeElement,panelClasses=this.snackBarConfig.panelClass;panelClasses&&(Array.isArray(panelClasses)?panelClasses.forEach(cssClass=>element.classList.add(cssClass)):element.classList.add(panelClasses)),"center"===this.snackBarConfig.horizontalPosition&&element.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&element.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}}return MatSnackBarContainer.fac=function(t){return new(t||MatSnackBarContainer)(directiveInject(NgZone),directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(MatSnackBarConfig))},MatSnackBarContainer.cmp=defineComponent({type:MatSnackBarContainer,selectors:[["snack-bar-container"]],viewQuery:function(rf,ctx){if(1&rf&&viewQuery(portal_CdkPortalOutlet,3),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._portalOutlet=_t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(rf,ctx){1&rf&&syntheticHostListener("@state.done",function($event){return ctx.onAnimationEnd($event)}),2&rf&&(attribute("role",ctx._role),syntheticHostProperty("@state",ctx._animationState))},features:[InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(rf,ctx){1&rf&&template(0,MatSnackBarContainer_ng_template_0_Template,0,0,"ng-template",0)},directives:[portal_CdkPortalOutlet],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[matSnackBarAnimations.snackBarState]}}),MatSnackBarContainer})(),snack_bar_MatSnackBarModule=(()=>{class MatSnackBarModule{}return MatSnackBarModule.mod=defineNgModule({type:MatSnackBarModule}),MatSnackBarModule.inj=defineInjector({factory:function(t){return new(t||MatSnackBarModule)},imports:[[overlay_OverlayModule,portal_PortalModule,common_CommonModule,button_MatButtonModule,core_MatCommonModule],core_MatCommonModule]}),MatSnackBarModule})();const MAT_SNACK_BAR_DEFAULT_OPTIONS=new InjectionToken("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new MatSnackBarConfig}});let snack_bar_MatSnackBar=(()=>{class MatSnackBar{constructor(_overlay,_live,_injector,_breakpointObserver,_parentSnackBar,_defaultConfig){this._overlay=_overlay,this._live=_live,this._injector=_injector,this._breakpointObserver=_breakpointObserver,this._parentSnackBar=_parentSnackBar,this._defaultConfig=_defaultConfig,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=snack_bar_SimpleSnackBar,this.snackBarContainerComponent=snack_bar_MatSnackBarContainer,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const parent=this._parentSnackBar;return parent?parent._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(value){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=value:this._snackBarRefAtThisLevel=value}openFromComponent(component,config){return this._attach(component,config)}openFromTemplate(template,config){return this._attach(template,config)}open(message,action="",config){const _config=Object.assign(Object.assign({},this._defaultConfig),config);return _config.data={message:message,action:action},_config.announcementMessage===message&&(_config.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,_config)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(overlayRef,config){const injector=Injector.create({parent:config&&config.viewContainerRef&&config.viewContainerRef.injector||this._injector,providers:[{provide:MatSnackBarConfig,useValue:config}]}),containerPortal=new ComponentPortal(this.snackBarContainerComponent,config.viewContainerRef,injector),containerRef=overlayRef.attach(containerPortal);return containerRef.instance.snackBarConfig=config,containerRef.instance}_attach(content,userConfig){const config=Object.assign(Object.assign(Object.assign({},new MatSnackBarConfig),this._defaultConfig),userConfig),overlayRef=this._createOverlay(config),container=this._attachSnackBarContainer(overlayRef,config),snackBarRef=new snack_bar_MatSnackBarRef(container,overlayRef);if(content instanceof TemplateRef){const portal=new TemplatePortal(content,null,{$implicit:config.data,snackBarRef:snackBarRef});snackBarRef.instance=container.attachTemplatePortal(portal)}else{const injector=this._createInjector(config,snackBarRef),portal=new ComponentPortal(content,void 0,injector),contentRef=container.attachComponentPortal(portal);snackBarRef.instance=contentRef.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(takeUntil(overlayRef.detachments())).subscribe(state=>{const classList=overlayRef.overlayElement.classList;state.matches?classList.add(this.handsetCssClass):classList.remove(this.handsetCssClass)}),this._animateSnackBar(snackBarRef,config),this._openedSnackBarRef=snackBarRef,this._openedSnackBarRef}_animateSnackBar(snackBarRef,config){snackBarRef.afterDismissed().subscribe(()=>{this._openedSnackBarRef==snackBarRef&&(this._openedSnackBarRef=null),config.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{snackBarRef.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):snackBarRef.containerInstance.enter(),config.duration&&config.duration>0&&snackBarRef.afterOpened().subscribe(()=>snackBarRef._dismissAfter(config.duration)),config.announcementMessage&&this._live.announce(config.announcementMessage,config.politeness)}_createOverlay(config){const overlayConfig=new OverlayConfig;overlayConfig.direction=config.direction;let positionStrategy=this._overlay.position().global();const isRtl="rtl"===config.direction,isLeft="left"===config.horizontalPosition||"start"===config.horizontalPosition&&!isRtl||"end"===config.horizontalPosition&&isRtl,isRight=!isLeft&&"center"!==config.horizontalPosition;return isLeft?positionStrategy.left("0"):isRight?positionStrategy.right("0"):positionStrategy.centerHorizontally(),"top"===config.verticalPosition?positionStrategy.top("0"):positionStrategy.bottom("0"),overlayConfig.positionStrategy=positionStrategy,this._overlay.create(overlayConfig)}_createInjector(config,snackBarRef){return Injector.create({parent:config&&config.viewContainerRef&&config.viewContainerRef.injector||this._injector,providers:[{provide:snack_bar_MatSnackBarRef,useValue:snackBarRef},{provide:MAT_SNACK_BAR_DATA,useValue:config.data}]})}}return MatSnackBar.fac=function(t){return new(t||MatSnackBar)(inject(overlay_Overlay),inject(a11y_LiveAnnouncer),inject(Injector),inject(layout_BreakpointObserver),inject(MatSnackBar,12),inject(MAT_SNACK_BAR_DEFAULT_OPTIONS))},MatSnackBar.prov=defineInjectable({factory:function(){return new MatSnackBar(inject(overlay_Overlay),inject(a11y_LiveAnnouncer),inject(INJECTOR$1),inject(layout_BreakpointObserver),inject(MatSnackBar,12),inject(MAT_SNACK_BAR_DEFAULT_OPTIONS))},token:MatSnackBar,providedIn:snack_bar_MatSnackBarModule}),MatSnackBar})();function interval_dispatch(state){const{subscriber:subscriber,counter:counter,period:period}=state;subscriber.next(counter),this.schedule({subscriber:subscriber,counter:counter+1,period:period},period)}function drag_drop_extendStyles(dest,source){for(let key in source)source.hasOwnProperty(key)&&(dest[key]=source[key]);return dest}function toggleNativeDragInteractions(element,enable){const userSelect=enable?"":"none";drag_drop_extendStyles(element.style,{touchAction:enable?"":"none",webkitUserDrag:enable?"":"none",webkitTapHighlightColor:enable?"":"transparent",userSelect:userSelect,msUserSelect:userSelect,webkitUserSelect:userSelect,MozUserSelect:userSelect})}function toggleVisibility(element,enable){const styles=element.style;styles.position=enable?"":"fixed",styles.top=styles.opacity=enable?"":"0",styles.left=enable?"":"-999em"}function parseCssTimeUnitsToMs(value){const multiplier=value.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(value)*multiplier}function parseCssPropertyValue(computedStyle,name){return computedStyle.getPropertyValue(name).split(",").map(part=>part.trim())}function getMutableClientRect(element){const clientRect=element.getBoundingClientRect();return{top:clientRect.top,right:clientRect.right,bottom:clientRect.bottom,left:clientRect.left,width:clientRect.width,height:clientRect.height}}function isInsideClientRect(clientRect,x,y){const{top:top,bottom:bottom,left:left,right:right}=clientRect;return y>=top&&y<=bottom&&x>=left&&x<=right}function adjustClientRect(clientRect,top,left){clientRect.top+=top,clientRect.bottom=clientRect.top+clientRect.height,clientRect.left+=left,clientRect.right=clientRect.left+clientRect.width}function isPointerNearClientRect(rect,threshold,pointerX,pointerY){const{top:top,right:right,bottom:bottom,left:left,width:width,height:height}=rect,xThreshold=width*threshold,yThreshold=height*threshold;return pointerY>top-yThreshold&&pointerY<bottom+yThreshold&&pointerX>left-xThreshold&&pointerX<right+xThreshold}class ParentPositionTracker{constructor(_document,_viewportRuler){this._document=_document,this._viewportRuler=_viewportRuler,this.positions=new Map}clear(){this.positions.clear()}cache(elements){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),elements.forEach(element=>{this.positions.set(element,{scrollPosition:{top:element.scrollTop,left:element.scrollLeft},clientRect:getMutableClientRect(element)})})}handleScroll(event){const target=event.target,cachedPosition=this.positions.get(target);if(!cachedPosition)return null;const scrolledParentNode=target===this._document?target.documentElement:target,scrollPosition=cachedPosition.scrollPosition;let newTop,newLeft;if(target===this._document){const viewportScrollPosition=this._viewportRuler.getViewportScrollPosition();newTop=viewportScrollPosition.top,newLeft=viewportScrollPosition.left}else newTop=target.scrollTop,newLeft=target.scrollLeft;const topDifference=scrollPosition.top-newTop,leftDifference=scrollPosition.left-newLeft;return this.positions.forEach((position,node)=>{position.clientRect&&target!==node&&scrolledParentNode.contains(node)&&adjustClientRect(position.clientRect,topDifference,leftDifference)}),scrollPosition.top=newTop,scrollPosition.left=newLeft,{top:topDifference,left:leftDifference}}}function deepCloneNode(node){const clone=node.cloneNode(!0),descendantsWithId=clone.querySelectorAll("[id]"),nodeName=node.nodeName.toLowerCase();clone.removeAttribute("id");for(let i=0;i<descendantsWithId.length;i++)descendantsWithId[i].removeAttribute("id");return"canvas"===nodeName?transferCanvasData(node,clone):"input"!==nodeName&&"select"!==nodeName&&"textarea"!==nodeName||transferInputData(node,clone),transferData("canvas",node,clone,transferCanvasData),transferData("input, textarea, select",node,clone,transferInputData),clone}function transferData(selector,node,clone,callback){const descendantElements=node.querySelectorAll(selector);if(descendantElements.length){const cloneElements=clone.querySelectorAll(selector);for(let i=0;i<descendantElements.length;i++)callback(descendantElements[i],cloneElements[i])}}let cloneUniqueId=0;function transferInputData(source,clone){"file"!==clone.type&&(clone.value=source.value),"radio"===clone.type&&clone.name&&(clone.name=`mat-clone-${clone.name}-${cloneUniqueId++}`)}function transferCanvasData(source,clone){const context=clone.getContext("2d");if(context)try{context.drawImage(source,0,0)}catch(_a){}}const drag_drop_passiveEventListenerOptions=normalizePassiveListenerOptions({passive:!0}),activeEventListenerOptions=normalizePassiveListenerOptions({passive:!1});class drag_drop_DragRef{constructor(element,_config,_document,_ngZone,_viewportRuler,_dragDropRegistry){this._config=_config,this._document=_document,this._ngZone=_ngZone,this._viewportRuler=_viewportRuler,this._dragDropRegistry=_dragDropRegistry,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new Subject_Subject,this._pointerMoveSubscription=Subscription_Subscription.EMPTY,this._pointerUpSubscription=Subscription_Subscription.EMPTY,this._scrollSubscription=Subscription_Subscription.EMPTY,this._resizeSubscription=Subscription_Subscription.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Subject_Subject,this.started=new Subject_Subject,this.released=new Subject_Subject,this.ended=new Subject_Subject,this.entered=new Subject_Subject,this.exited=new Subject_Subject,this.dropped=new Subject_Subject,this.moved=this._moveEvents,this._pointerDown=event=>{if(this.beforeStarted.next(),this._handles.length){const targetHandle=this._handles.find(handle=>{const target=event.target;return!!target&&(target===handle||handle.contains(target))});!targetHandle||this._disabledHandles.has(targetHandle)||this.disabled||this._initializeDragSequence(targetHandle,event)}else this.disabled||this._initializeDragSequence(this._rootElement,event)},this._pointerMove=event=>{event.preventDefault();const pointerPosition=this._getPointerPositionOnPage(event);if(!this._hasStartedDragging){if(Math.abs(pointerPosition.x-this._pickupPositionOnPage.x)+Math.abs(pointerPosition.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const isDelayElapsed=Date.now()>=this._dragStartTime+this._getDragStartDelay(event),container=this._dropContainer;if(!isDelayElapsed)return void this._endDragSequence(event);container&&(container.isDragging()||container.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(event)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const constrainedPointerPosition=this._getConstrainedPointerPosition(pointerPosition);if(this._hasMoved=!0,this._lastKnownPointerPosition=pointerPosition,this._updatePointerDirectionDelta(constrainedPointerPosition),this._dropContainer)this._updateActiveDropContainer(constrainedPointerPosition,pointerPosition);else{const activeTransform=this._activeTransform;activeTransform.x=constrainedPointerPosition.x-this._pickupPositionOnPage.x+this._passiveTransform.x,activeTransform.y=constrainedPointerPosition.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(activeTransform.x,activeTransform.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${activeTransform.x} ${activeTransform.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:constrainedPointerPosition,event:event,distance:this._getDragDistance(constrainedPointerPosition),delta:this._pointerDirectionDelta})})},this._pointerUp=event=>{this._endDragSequence(event)},this.withRootElement(element),this._parentPositions=new ParentPositionTracker(_document,_viewportRuler),_dragDropRegistry.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(value){const newValue=coerceBooleanProperty(value);newValue!==this._disabled&&(this._disabled=newValue,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(handles){return this._handles=handles.map(handle=>coerceElement(handle)),this._handles.forEach(handle=>toggleNativeDragInteractions(handle,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(template){return this._previewTemplate=template,this}withPlaceholderTemplate(template){return this._placeholderTemplate=template,this}withRootElement(rootElement){const element=coerceElement(rootElement);return element!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{element.addEventListener("mousedown",this._pointerDown,activeEventListenerOptions),element.addEventListener("touchstart",this._pointerDown,drag_drop_passiveEventListenerOptions)}),this._initialTransform=void 0,this._rootElement=element),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(boundaryElement){return this._boundaryElement=boundaryElement?coerceElement(boundaryElement):null,this._resizeSubscription.unsubscribe(),boundaryElement&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&removeNode(this._rootElement),removeNode(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(handle){this._handles.indexOf(handle)>-1&&this._disabledHandles.add(handle)}enableHandle(handle){this._disabledHandles.delete(handle)}withDirection(direction){return this._direction=direction,this}_withDropContainer(container){this._dropContainer=container}getFreeDragPosition(){const position=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:position.x,y:position.y}}setFreeDragPosition(value){return this._activeTransform={x:0,y:0},this._passiveTransform.x=value.x,this._passiveTransform.y=value.y,this._dropContainer||this._applyRootElementTransform(value.x,value.y),this}_sortFromLastPointerPosition(){const position=this._lastKnownPointerPosition;position&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(position),position)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&removeNode(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&removeNode(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(event){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(event),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(event))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(event){isTouchEvent(event)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const dropContainer=this._dropContainer;if(dropContainer){const element=this._rootElement,parent=element.parentNode,preview=this._preview=this._createPreviewElement(),placeholder=this._placeholder=this._createPlaceholderElement(),anchor=this._anchor=this._anchor||this._document.createComment("");parent.insertBefore(anchor,element),toggleVisibility(element,!1),this._document.body.appendChild(parent.replaceChild(placeholder,element)),(documentRef=this._document,documentRef.fullscreenElement||documentRef.webkitFullscreenElement||documentRef.mozFullScreenElement||documentRef.msFullscreenElement||documentRef.body).appendChild(preview),this.started.next({source:this}),dropContainer.start(),this._initialContainer=dropContainer,this._initialIndex=dropContainer.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var documentRef;this._parentPositions.cache(dropContainer?dropContainer.getScrollableParents():[])}_initializeDragSequence(referenceElement,event){event.stopPropagation();const isDragging=this.isDragging(),isTouchSequence=isTouchEvent(event),isAuxiliaryMouseButton=!isTouchSequence&&0!==event.button,rootElement=this._rootElement,isSyntheticEvent=!isTouchSequence&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(event.target&&event.target.draggable&&"mousedown"===event.type&&event.preventDefault(),isDragging||isAuxiliaryMouseButton||isSyntheticEvent)return;this._handles.length&&(this._rootElementTapHighlight=rootElement.style.webkitTapHighlightColor||"",rootElement.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(scrollEvent=>{this._updateOnScroll(scrollEvent)}),this._boundaryElement&&(this._boundaryRect=getMutableClientRect(this._boundaryElement));const previewTemplate=this._previewTemplate;this._pickupPositionInElement=previewTemplate&&previewTemplate.template&&!previewTemplate.matchSize?{x:0,y:0}:this._getPointerPositionInElement(referenceElement,event);const pointerPosition=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(event);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:pointerPosition.x,y:pointerPosition.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,event)}_cleanupDragArtifacts(event){toggleVisibility(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const container=this._dropContainer,currentIndex=container.getItemIndex(this),pointerPosition=this._getPointerPositionOnPage(event),distance=this._getDragDistance(this._getPointerPositionOnPage(event)),isPointerOverContainer=container._isOverContainer(pointerPosition.x,pointerPosition.y);this.ended.next({source:this,distance:distance}),this.dropped.next({item:this,currentIndex:currentIndex,previousIndex:this._initialIndex,container:container,previousContainer:this._initialContainer,isPointerOverContainer:isPointerOverContainer,distance:distance}),container.drop(this,currentIndex,this._initialContainer,isPointerOverContainer,distance,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:x,y:y},{x:rawX,y:rawY}){let newContainer=this._initialContainer._getSiblingContainerFromPosition(this,x,y);!newContainer&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(x,y)&&(newContainer=this._initialContainer),newContainer&&newContainer!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=newContainer,this._dropContainer.enter(this,x,y,newContainer===this._initialContainer&&newContainer.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:newContainer,currentIndex:newContainer.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(rawX,rawY),this._dropContainer._sortItem(this,x,y,this._pointerDirectionDelta),this._preview.style.transform=getTransform(x-this._pickupPositionInElement.x,y-this._pickupPositionInElement.y)}_createPreviewElement(){const previewConfig=this._previewTemplate,previewClass=this.previewClass,previewTemplate=previewConfig?previewConfig.template:null;let preview;if(previewTemplate&&previewConfig){const rootRect=previewConfig.matchSize?this._rootElement.getBoundingClientRect():null,viewRef=previewConfig.viewContainer.createEmbeddedView(previewTemplate,previewConfig.context);viewRef.detectChanges(),preview=getRootNode(viewRef,this._document),this._previewRef=viewRef,previewConfig.matchSize?matchElementSize(preview,rootRect):preview.style.transform=getTransform(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const element=this._rootElement;preview=deepCloneNode(element),matchElementSize(preview,element.getBoundingClientRect())}return drag_drop_extendStyles(preview.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),toggleNativeDragInteractions(preview,!1),preview.classList.add("cdk-drag-preview"),preview.setAttribute("dir",this._direction),previewClass&&(Array.isArray(previewClass)?previewClass.forEach(className=>preview.classList.add(className)):preview.classList.add(previewClass)),preview}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const placeholderRect=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=getTransform(placeholderRect.left,placeholderRect.top);const duration=function(element){const computedStyle=getComputedStyle(element),transitionedProperties=parseCssPropertyValue(computedStyle,"transition-property"),property=transitionedProperties.find(prop=>"transform"===prop||"all"===prop);if(!property)return 0;const propertyIndex=transitionedProperties.indexOf(property),rawDurations=parseCssPropertyValue(computedStyle,"transition-duration"),rawDelays=parseCssPropertyValue(computedStyle,"transition-delay");return parseCssTimeUnitsToMs(rawDurations[propertyIndex])+parseCssTimeUnitsToMs(rawDelays[propertyIndex])}(this._preview);return 0===duration?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(resolve=>{const handler=event=>{(!event||event.target===this._preview&&"transform"===event.propertyName)&&(this._preview.removeEventListener("transitionend",handler),resolve(),clearTimeout(timeout))},timeout=setTimeout(handler,1.5*duration);this._preview.addEventListener("transitionend",handler)}))}_createPlaceholderElement(){const placeholderConfig=this._placeholderTemplate,placeholderTemplate=placeholderConfig?placeholderConfig.template:null;let placeholder;return placeholderTemplate?(this._placeholderRef=placeholderConfig.viewContainer.createEmbeddedView(placeholderTemplate,placeholderConfig.context),this._placeholderRef.detectChanges(),placeholder=getRootNode(this._placeholderRef,this._document)):placeholder=deepCloneNode(this._rootElement),placeholder.classList.add("cdk-drag-placeholder"),placeholder}_getPointerPositionInElement(referenceElement,event){const elementRect=this._rootElement.getBoundingClientRect(),handleElement=referenceElement===this._rootElement?null:referenceElement,referenceRect=handleElement?handleElement.getBoundingClientRect():elementRect,point=isTouchEvent(event)?event.targetTouches[0]:event,scrollPosition=this._getViewportScrollPosition();return{x:referenceRect.left-elementRect.left+(point.pageX-referenceRect.left-scrollPosition.left),y:referenceRect.top-elementRect.top+(point.pageY-referenceRect.top-scrollPosition.top)}}_getPointerPositionOnPage(event){const scrollPosition=this._getViewportScrollPosition(),point=isTouchEvent(event)?event.touches[0]||event.changedTouches[0]||{pageX:0,pageY:0}:event,x=point.pageX-scrollPosition.left,y=point.pageY-scrollPosition.top;if(this._ownerSVGElement){const svgMatrix=this._ownerSVGElement.getScreenCTM();if(svgMatrix){const svgPoint=this._ownerSVGElement.createSVGPoint();return svgPoint.x=x,svgPoint.y=y,svgPoint.matrixTransform(svgMatrix.inverse())}}return{x:x,y:y}}_getConstrainedPointerPosition(point){const dropContainerLock=this._dropContainer?this._dropContainer.lockAxis:null;let{x:x,y:y}=this.constrainPosition?this.constrainPosition(point,this):point;if("x"===this.lockAxis||"x"===dropContainerLock?y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==dropContainerLock||(x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:pickupX,y:pickupY}=this._pickupPositionInElement,boundaryRect=this._boundaryRect,previewRect=this._previewRect,minY=boundaryRect.top+pickupY,maxY=boundaryRect.bottom-(previewRect.height-pickupY);x=clamp(x,boundaryRect.left+pickupX,boundaryRect.right-(previewRect.width-pickupX)),y=clamp(y,minY,maxY)}return{x:x,y:y}}_updatePointerDirectionDelta(pointerPositionOnPage){const{x:x,y:y}=pointerPositionOnPage,delta=this._pointerDirectionDelta,positionSinceLastChange=this._pointerPositionAtLastDirectionChange,changeX=Math.abs(x-positionSinceLastChange.x),changeY=Math.abs(y-positionSinceLastChange.y);return changeX>this._config.pointerDirectionChangeThreshold&&(delta.x=x>positionSinceLastChange.x?1:-1,positionSinceLastChange.x=x),changeY>this._config.pointerDirectionChangeThreshold&&(delta.y=y>positionSinceLastChange.y?1:-1,positionSinceLastChange.y=y),delta}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const shouldEnable=this._handles.length>0||!this.isDragging();shouldEnable!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=shouldEnable,toggleNativeDragInteractions(this._rootElement,shouldEnable))}_removeRootElementListeners(element){element.removeEventListener("mousedown",this._pointerDown,activeEventListenerOptions),element.removeEventListener("touchstart",this._pointerDown,drag_drop_passiveEventListenerOptions)}_applyRootElementTransform(x,y){const transform=getTransform(x,y);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?transform+" "+this._initialTransform:transform}_getDragDistance(currentPosition){const pickupPosition=this._pickupPositionOnPage;return pickupPosition?{x:currentPosition.x-pickupPosition.x,y:currentPosition.y-pickupPosition.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:x,y:y}=this._passiveTransform;if(0===x&&0===y||this.isDragging()||!this._boundaryElement)return;const boundaryRect=this._boundaryElement.getBoundingClientRect(),elementRect=this._rootElement.getBoundingClientRect();if(0===boundaryRect.width&&0===boundaryRect.height||0===elementRect.width&&0===elementRect.height)return;const leftOverflow=boundaryRect.left-elementRect.left,rightOverflow=elementRect.right-boundaryRect.right,topOverflow=boundaryRect.top-elementRect.top,bottomOverflow=elementRect.bottom-boundaryRect.bottom;boundaryRect.width>elementRect.width?(leftOverflow>0&&(x+=leftOverflow),rightOverflow>0&&(x-=rightOverflow)):x=0,boundaryRect.height>elementRect.height?(topOverflow>0&&(y+=topOverflow),bottomOverflow>0&&(y-=bottomOverflow)):y=0,x===this._passiveTransform.x&&y===this._passiveTransform.y||this.setFreeDragPosition({y:y,x:x})}_getDragStartDelay(event){const value=this.dragStartDelay;return"number"==typeof value?value:isTouchEvent(event)?value.touch:value?value.mouse:0}_updateOnScroll(event){const scrollDifference=this._parentPositions.handleScroll(event);if(scrollDifference){const target=event.target;this._boundaryRect&&(target===this._document||target!==this._boundaryElement&&target.contains(this._boundaryElement))&&adjustClientRect(this._boundaryRect,scrollDifference.top,scrollDifference.left),this._pickupPositionOnPage.x+=scrollDifference.left,this._pickupPositionOnPage.y+=scrollDifference.top,this._dropContainer||(this._activeTransform.x-=scrollDifference.left,this._activeTransform.y-=scrollDifference.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const cachedPosition=this._parentPositions.positions.get(this._document);return cachedPosition?cachedPosition.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function getTransform(x,y){return`translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`}function clamp(value,min,max){return Math.max(min,Math.min(max,value))}function removeNode(node){node&&node.parentNode&&node.parentNode.removeChild(node)}function isTouchEvent(event){return"t"===event.type[0]}function getRootNode(viewRef,_document){const rootNodes=viewRef.rootNodes;if(1===rootNodes.length&&rootNodes[0].nodeType===_document.ELEMENT_NODE)return rootNodes[0];const wrapper=_document.createElement("div");return rootNodes.forEach(node=>wrapper.appendChild(node)),wrapper}function matchElementSize(target,sourceRect){target.style.width=`${sourceRect.width}px`,target.style.height=`${sourceRect.height}px`,target.style.transform=getTransform(sourceRect.left,sourceRect.top)}function moveItemInArray(array,fromIndex,toIndex){const from=clamp$1(fromIndex,array.length-1),to=clamp$1(toIndex,array.length-1);if(from===to)return;const target=array[from],delta=to<from?-1:1;for(let i=from;i!==to;i+=delta)array[i]=array[i+delta];array[to]=target}function clamp$1(value,max){return Math.max(0,Math.min(max,value))}class drag_drop_DropListRef{constructor(element,_dragDropRegistry,_document,_ngZone,_viewportRuler){this._dragDropRegistry=_dragDropRegistry,this._ngZone=_ngZone,this._viewportRuler=_viewportRuler,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new Subject_Subject,this.entered=new Subject_Subject,this.exited=new Subject_Subject,this.dropped=new Subject_Subject,this.sorted=new Subject_Subject,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Subscription_Subscription.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Subject_Subject,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(period=0,scheduler=async_async){return(!isNumeric(period)||period<0)&&(period=0),scheduler&&"function"==typeof scheduler.schedule||(scheduler=async_async),new Observable_Observable(subscriber=>(subscriber.add(scheduler.schedule(interval_dispatch,period,{subscriber:subscriber,counter:0,period:period})),subscriber))}(0,animationFrame).pipe(takeUntil(this._stopScrollTimers)).subscribe(()=>{const node=this._scrollNode;1===this._verticalScrollDirection?incrementVerticalScroll(node,-2):2===this._verticalScrollDirection&&incrementVerticalScroll(node,2),1===this._horizontalScrollDirection?incrementHorizontalScroll(node,-2):2===this._horizontalScrollDirection&&incrementHorizontalScroll(node,2)})},this.element=coerceElement(element),this._document=_document,this.withScrollableParents([this.element]),_dragDropRegistry.registerDropContainer(this),this._parentPositions=new ParentPositionTracker(_document,_viewportRuler)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const styles=coerceElement(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=styles.msScrollSnapType||styles.scrollSnapType||"",styles.scrollSnapType=styles.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(sibling=>sibling._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(item,pointerX,pointerY,index){let newIndex;this.start(),null==index?(newIndex=this.sortingDisabled?this._draggables.indexOf(item):-1,-1===newIndex&&(newIndex=this._getItemIndexFromPointerPosition(item,pointerX,pointerY))):newIndex=index;const activeDraggables=this._activeDraggables,currentIndex=activeDraggables.indexOf(item),placeholder=item.getPlaceholderElement();let newPositionReference=activeDraggables[newIndex];if(newPositionReference===item&&(newPositionReference=activeDraggables[newIndex+1]),currentIndex>-1&&activeDraggables.splice(currentIndex,1),newPositionReference&&!this._dragDropRegistry.isDragging(newPositionReference)){const element=newPositionReference.getRootElement();element.parentElement.insertBefore(placeholder,element),activeDraggables.splice(newIndex,0,item)}else if(this._shouldEnterAsFirstChild(pointerX,pointerY)){const reference=activeDraggables[0].getRootElement();reference.parentNode.insertBefore(placeholder,reference),activeDraggables.unshift(item)}else coerceElement(this.element).appendChild(placeholder),activeDraggables.push(item);placeholder.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:item,container:this,currentIndex:this.getItemIndex(item)})}exit(item){this._reset(),this.exited.next({item:item,container:this})}drop(item,currentIndex,previousContainer,isPointerOverContainer,distance,previousIndex){this._reset(),null==previousIndex&&(previousIndex=previousContainer.getItemIndex(item)),this.dropped.next({item:item,currentIndex:currentIndex,previousIndex:previousIndex,container:this,previousContainer:previousContainer,isPointerOverContainer:isPointerOverContainer,distance:distance})}withItems(items){const previousItems=this._draggables;return this._draggables=items,items.forEach(item=>item._withDropContainer(this)),this.isDragging()&&(previousItems.filter(item=>item.isDragging()).every(item=>-1===items.indexOf(item))?this._reset():this._cacheItems()),this}withDirection(direction){return this._direction=direction,this}connectedTo(connectedTo){return this._siblings=connectedTo.slice(),this}withOrientation(orientation){return this._orientation=orientation,this}withScrollableParents(elements){const element=coerceElement(this.element);return this._scrollableElements=-1===elements.indexOf(element)?[element,...elements]:elements.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(item){return this._isDragging?findIndex("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,currentItem=>currentItem.drag===item):this._draggables.indexOf(item)}isReceiving(){return this._activeSiblings.size>0}_sortItem(item,pointerX,pointerY,pointerDelta){if(this.sortingDisabled||!isPointerNearClientRect(this._clientRect,.05,pointerX,pointerY))return;const siblings=this._itemPositions,newIndex=this._getItemIndexFromPointerPosition(item,pointerX,pointerY,pointerDelta);if(-1===newIndex&&siblings.length>0)return;const isHorizontal="horizontal"===this._orientation,currentIndex=findIndex(siblings,currentItem=>currentItem.drag===item),siblingAtNewPosition=siblings[newIndex],newPosition=siblingAtNewPosition.clientRect,delta=currentIndex>newIndex?1:-1,itemOffset=this._getItemOffsetPx(siblings[currentIndex].clientRect,newPosition,delta),siblingOffset=this._getSiblingOffsetPx(currentIndex,siblings,delta),oldOrder=siblings.slice();moveItemInArray(siblings,currentIndex,newIndex),this.sorted.next({previousIndex:currentIndex,currentIndex:newIndex,container:this,item:item}),siblings.forEach((sibling,index)=>{if(oldOrder[index]===sibling)return;const isDraggedItem=sibling.drag===item,offset=isDraggedItem?itemOffset:siblingOffset,elementToOffset=isDraggedItem?item.getPlaceholderElement():sibling.drag.getRootElement();sibling.offset+=offset,isHorizontal?(elementToOffset.style.transform=`translate3d(${Math.round(sibling.offset)}px, 0, 0)`,adjustClientRect(sibling.clientRect,0,offset)):(elementToOffset.style.transform=`translate3d(0, ${Math.round(sibling.offset)}px, 0)`,adjustClientRect(sibling.clientRect,offset,0))}),this._previousSwap.overlaps=isInsideClientRect(newPosition,pointerX,pointerY),this._previousSwap.drag=siblingAtNewPosition.drag,this._previousSwap.delta=isHorizontal?pointerDelta.x:pointerDelta.y}_startScrollingIfNecessary(pointerX,pointerY){if(this.autoScrollDisabled)return;let scrollNode,verticalScrollDirection=0,horizontalScrollDirection=0;if(this._parentPositions.positions.forEach((position,element)=>{element!==this._document&&position.clientRect&&!scrollNode&&isPointerNearClientRect(position.clientRect,.05,pointerX,pointerY)&&([verticalScrollDirection,horizontalScrollDirection]=function(element,clientRect,pointerX,pointerY){const computedVertical=getVerticalScrollDirection(clientRect,pointerY),computedHorizontal=getHorizontalScrollDirection(clientRect,pointerX);let verticalScrollDirection=0,horizontalScrollDirection=0;if(computedVertical){const scrollTop=element.scrollTop;1===computedVertical?scrollTop>0&&(verticalScrollDirection=1):element.scrollHeight-scrollTop>element.clientHeight&&(verticalScrollDirection=2)}if(computedHorizontal){const scrollLeft=element.scrollLeft;1===computedHorizontal?scrollLeft>0&&(horizontalScrollDirection=1):element.scrollWidth-scrollLeft>element.clientWidth&&(horizontalScrollDirection=2)}return[verticalScrollDirection,horizontalScrollDirection]}(element,position.clientRect,pointerX,pointerY),(verticalScrollDirection||horizontalScrollDirection)&&(scrollNode=element))}),!verticalScrollDirection&&!horizontalScrollDirection){const{width:width,height:height}=this._viewportRuler.getViewportSize(),clientRect={width:width,height:height,top:0,right:width,bottom:height,left:0};verticalScrollDirection=getVerticalScrollDirection(clientRect,pointerY),horizontalScrollDirection=getHorizontalScrollDirection(clientRect,pointerX),scrollNode=window}!scrollNode||verticalScrollDirection===this._verticalScrollDirection&&horizontalScrollDirection===this._horizontalScrollDirection&&scrollNode===this._scrollNode||(this._verticalScrollDirection=verticalScrollDirection,this._horizontalScrollDirection=horizontalScrollDirection,this._scrollNode=scrollNode,(verticalScrollDirection||horizontalScrollDirection)&&scrollNode?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const element=coerceElement(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(element).clientRect}_cacheItemPositions(){const isHorizontal="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(drag=>{const elementToMeasure=drag.getVisibleElement();return{drag:drag,offset:0,clientRect:getMutableClientRect(elementToMeasure)}}).sort((a,b)=>isHorizontal?a.clientRect.left-b.clientRect.left:a.clientRect.top-b.clientRect.top)}_reset(){this._isDragging=!1;const styles=coerceElement(this.element).style;styles.scrollSnapType=styles.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(item=>{const rootElement=item.getRootElement();rootElement&&(rootElement.style.transform="")}),this._siblings.forEach(sibling=>sibling._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(currentIndex,siblings,delta){const isHorizontal="horizontal"===this._orientation,currentPosition=siblings[currentIndex].clientRect,immediateSibling=siblings[currentIndex+-1*delta];let siblingOffset=currentPosition[isHorizontal?"width":"height"]*delta;if(immediateSibling){const start=isHorizontal?"left":"top",end=isHorizontal?"right":"bottom";-1===delta?siblingOffset-=immediateSibling.clientRect[start]-currentPosition[end]:siblingOffset+=currentPosition[start]-immediateSibling.clientRect[end]}return siblingOffset}_getItemOffsetPx(currentPosition,newPosition,delta){const isHorizontal="horizontal"===this._orientation;let itemOffset=isHorizontal?newPosition.left-currentPosition.left:newPosition.top-currentPosition.top;return-1===delta&&(itemOffset+=isHorizontal?newPosition.width-currentPosition.width:newPosition.height-currentPosition.height),itemOffset}_shouldEnterAsFirstChild(pointerX,pointerY){if(!this._activeDraggables.length)return!1;const itemPositions=this._itemPositions,isHorizontal="horizontal"===this._orientation;if(itemPositions[0].drag!==this._activeDraggables[0]){const lastItemRect=itemPositions[itemPositions.length-1].clientRect;return isHorizontal?pointerX>=lastItemRect.right:pointerY>=lastItemRect.bottom}{const firstItemRect=itemPositions[0].clientRect;return isHorizontal?pointerX<=firstItemRect.left:pointerY<=firstItemRect.top}}_getItemIndexFromPointerPosition(item,pointerX,pointerY,delta){const isHorizontal="horizontal"===this._orientation;return findIndex(this._itemPositions,({drag:drag,clientRect:clientRect},_,array)=>{if(drag===item)return array.length<2;if(delta){const direction=isHorizontal?delta.x:delta.y;if(drag===this._previousSwap.drag&&this._previousSwap.overlaps&&direction===this._previousSwap.delta)return!1}return isHorizontal?pointerX>=Math.floor(clientRect.left)&&pointerX<Math.floor(clientRect.right):pointerY>=Math.floor(clientRect.top)&&pointerY<Math.floor(clientRect.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(x,y){return isInsideClientRect(this._clientRect,x,y)}_getSiblingContainerFromPosition(item,x,y){return this._siblings.find(sibling=>sibling._canReceive(item,x,y))}_canReceive(item,x,y){if(!isInsideClientRect(this._clientRect,x,y)||!this.enterPredicate(item,this))return!1;const elementFromPoint=this._getShadowRoot().elementFromPoint(x,y);if(!elementFromPoint)return!1;const nativeElement=coerceElement(this.element);return elementFromPoint===nativeElement||nativeElement.contains(elementFromPoint)}_startReceiving(sibling){const activeSiblings=this._activeSiblings;activeSiblings.has(sibling)||(activeSiblings.add(sibling),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(sibling){this._activeSiblings.delete(sibling),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(event=>{if(this.isDragging()){const scrollDifference=this._parentPositions.handleScroll(event);scrollDifference&&(this._itemPositions.forEach(({clientRect:clientRect})=>{adjustClientRect(clientRect,scrollDifference.top,scrollDifference.left)}),this._itemPositions.forEach(({drag:drag})=>{this._dragDropRegistry.isDragging(drag)&&drag._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const shadowRoot=_getShadowRoot(coerceElement(this.element));this._cachedShadowRoot=shadowRoot||this._document}return this._cachedShadowRoot}}function findIndex(array,predicate){for(let i=0;i<array.length;i++)if(predicate(array[i],i,array))return i;return-1}function incrementVerticalScroll(node,amount){node===window?node.scrollBy(0,amount):node.scrollTop+=amount}function incrementHorizontalScroll(node,amount){node===window?node.scrollBy(amount,0):node.scrollLeft+=amount}function getVerticalScrollDirection(clientRect,pointerY){const{top:top,bottom:bottom,height:height}=clientRect,yThreshold=.05*height;return pointerY>=top-yThreshold&&pointerY<=top+yThreshold?1:pointerY>=bottom-yThreshold&&pointerY<=bottom+yThreshold?2:0}function getHorizontalScrollDirection(clientRect,pointerX){const{left:left,right:right,width:width}=clientRect,xThreshold=.05*width;return pointerX>=left-xThreshold&&pointerX<=left+xThreshold?1:pointerX>=right-xThreshold&&pointerX<=right+xThreshold?2:0}const activeCapturingEventOptions=normalizePassiveListenerOptions({passive:!1,capture:!0});let drag_drop_DragDropRegistry=(()=>{class DragDropRegistry{constructor(_ngZone,_document){this._ngZone=_ngZone,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new Subject_Subject,this.pointerUp=new Subject_Subject,this.scroll=new Subject_Subject,this._preventDefaultWhileDragging=event=>{this._activeDragInstances.size&&event.preventDefault()},this._persistentTouchmoveListener=event=>{this._activeDragInstances.size&&(event.preventDefault(),this.pointerMove.next(event))},this._document=_document}registerDropContainer(drop){this._dropInstances.has(drop)||this._dropInstances.add(drop)}registerDragItem(drag){this._dragInstances.add(drag),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,activeCapturingEventOptions)})}removeDropContainer(drop){this._dropInstances.delete(drop)}removeDragItem(drag){this._dragInstances.delete(drag),this.stopDragging(drag),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,activeCapturingEventOptions)}startDragging(drag,event){if(!this._activeDragInstances.has(drag)&&(this._activeDragInstances.add(drag),1===this._activeDragInstances.size)){const isTouchEvent=event.type.startsWith("touch");this._globalListeners.set(isTouchEvent?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:activeCapturingEventOptions}),isTouchEvent||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:activeCapturingEventOptions}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((config,name)=>{this._document.addEventListener(name,config.handler,config.options)})})}}stopDragging(drag){this._activeDragInstances.delete(drag),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(drag){return this._activeDragInstances.has(drag)}ngOnDestroy(){this._dragInstances.forEach(instance=>this.removeDragItem(instance)),this._dropInstances.forEach(instance=>this.removeDropContainer(instance)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((config,name)=>{this._document.removeEventListener(name,config.handler,config.options)}),this._globalListeners.clear()}}return DragDropRegistry.fac=function(t){return new(t||DragDropRegistry)(inject(NgZone),inject(common_DOCUMENT))},DragDropRegistry.prov=defineInjectable({factory:function(){return new DragDropRegistry(inject(NgZone),inject(common_DOCUMENT))},token:DragDropRegistry,providedIn:"root"}),DragDropRegistry})();const drag_drop_DEFAULT_CONFIG={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let drag_drop_DragDrop=(()=>{class DragDrop{constructor(_document,_ngZone,_viewportRuler,_dragDropRegistry){this._document=_document,this._ngZone=_ngZone,this._viewportRuler=_viewportRuler,this._dragDropRegistry=_dragDropRegistry}createDrag(element,config=drag_drop_DEFAULT_CONFIG){return new drag_drop_DragRef(element,config,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(element){return new drag_drop_DropListRef(element,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return DragDrop.fac=function(t){return new(t||DragDrop)(inject(common_DOCUMENT),inject(NgZone),inject(scrolling_ViewportRuler),inject(drag_drop_DragDropRegistry))},DragDrop.prov=defineInjectable({factory:function(){return new DragDrop(inject(common_DOCUMENT),inject(NgZone),inject(scrolling_ViewportRuler),inject(drag_drop_DragDropRegistry))},token:DragDrop,providedIn:"root"}),DragDrop})();const CDK_DRAG_PARENT=new InjectionToken("CDK_DRAG_PARENT"),CDK_DROP_LIST_GROUP=new InjectionToken("CdkDropListGroup"),CDK_DRAG_CONFIG=new InjectionToken("CDK_DRAG_CONFIG");let drag_drop_uniqueIdCounter=0;const CDK_DROP_LIST=new InjectionToken("CdkDropList");let drag_drop_CdkDropList=(()=>{class CdkDropList{constructor(element,dragDrop,_changeDetectorRef,_dir,_group,_scrollDispatcher,config){this.element=element,this._changeDetectorRef=_changeDetectorRef,this._dir=_dir,this._group=_group,this._scrollDispatcher=_scrollDispatcher,this._destroyed=new Subject_Subject,this.connectedTo=[],this.id="cdk-drop-list-"+drag_drop_uniqueIdCounter++,this.enterPredicate=()=>!0,this.dropped=new EventEmitter,this.entered=new EventEmitter,this.exited=new EventEmitter,this.sorted=new EventEmitter,this._unsortedItems=new Set,this._dropListRef=dragDrop.createDropList(element),this._dropListRef.data=this,config&&this._assignDefaults(config),this._dropListRef.enterPredicate=(drag,drop)=>this.enterPredicate(drag.data,drop.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),CdkDropList._dropLists.push(this),_group&&_group._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(value){this._dropListRef.disabled=this._disabled=coerceBooleanProperty(value)}addItem(item){this._unsortedItems.add(item),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(item){this._unsortedItems.delete(item),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((a,b)=>a._dragRef.getVisibleElement().compareDocumentPosition(b._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const index=CdkDropList._dropLists.indexOf(this);index>-1&&CdkDropList._dropLists.splice(index,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(ref){this._dir&&this._dir.change.pipe(startWith(this._dir.value),takeUntil(this._destroyed)).subscribe(value=>ref.withDirection(value)),ref.beforeStarted.subscribe(()=>{const siblings=coerceArray(this.connectedTo).map(drop=>"string"==typeof drop?CdkDropList._dropLists.find(list=>list.id===drop):drop);if(this._group&&this._group._items.forEach(drop=>{-1===siblings.indexOf(drop)&&siblings.push(drop)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const scrollableParents=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(scrollable=>scrollable.getElementRef().nativeElement);this._dropListRef.withScrollableParents(scrollableParents),this._scrollableParentsResolved=!0}ref.disabled=this.disabled,ref.lockAxis=this.lockAxis,ref.sortingDisabled=coerceBooleanProperty(this.sortingDisabled),ref.autoScrollDisabled=coerceBooleanProperty(this.autoScrollDisabled),ref.connectedTo(siblings.filter(drop=>drop&&drop!==this).map(list=>list._dropListRef)).withOrientation(this.orientation)})}_handleEvents(ref){ref.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),ref.entered.subscribe(event=>{this.entered.emit({container:this,item:event.item.data,currentIndex:event.currentIndex})}),ref.exited.subscribe(event=>{this.exited.emit({container:this,item:event.item.data}),this._changeDetectorRef.markForCheck()}),ref.sorted.subscribe(event=>{this.sorted.emit({previousIndex:event.previousIndex,currentIndex:event.currentIndex,container:this,item:event.item.data})}),ref.dropped.subscribe(event=>{this.dropped.emit({previousIndex:event.previousIndex,currentIndex:event.currentIndex,previousContainer:event.previousContainer.data,container:event.container.data,item:event.item.data,isPointerOverContainer:event.isPointerOverContainer,distance:event.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(config){const{lockAxis:lockAxis,draggingDisabled:draggingDisabled,sortingDisabled:sortingDisabled,listAutoScrollDisabled:listAutoScrollDisabled,listOrientation:listOrientation}=config;this.disabled=null!=draggingDisabled&&draggingDisabled,this.sortingDisabled=null!=sortingDisabled&&sortingDisabled,this.autoScrollDisabled=null!=listAutoScrollDisabled&&listAutoScrollDisabled,this.orientation=listOrientation||"vertical",lockAxis&&(this.lockAxis=lockAxis)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(item=>item._dragRef))}}return CdkDropList.fac=function(t){return new(t||CdkDropList)(directiveInject(ElementRef),directiveInject(drag_drop_DragDrop),directiveInject(ChangeDetectorRef),directiveInject(bidi_Directionality,8),directiveInject(CDK_DROP_LIST_GROUP,12),directiveInject(scrolling_ScrollDispatcher),directiveInject(CDK_DRAG_CONFIG,8))},CdkDropList.dir=defineDirective({type:CdkDropList,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(rf,ctx){2&rf&&(hostProperty("id",ctx.id),classProp("cdk-drop-list-disabled",ctx.disabled)("cdk-drop-list-dragging",ctx._dropListRef.isDragging())("cdk-drop-list-receiving",ctx._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ProvidersFeature([{provide:CDK_DROP_LIST_GROUP,useValue:void 0},{provide:CDK_DROP_LIST,useExisting:CdkDropList}])]}),CdkDropList._dropLists=[],CdkDropList})();const CDK_DRAG_HANDLE=new InjectionToken("CdkDragHandle"),CDK_DRAG_PLACEHOLDER=new InjectionToken("CdkDragPlaceholder"),CDK_DRAG_PREVIEW=new InjectionToken("CdkDragPreview");let drag_drop_CdkDrag=(()=>{class CdkDrag{constructor(element,dropContainer,_document,_ngZone,_viewContainerRef,config,_dir,dragDrop,_changeDetectorRef,_selfHandle){this.element=element,this.dropContainer=dropContainer,this._document=_document,this._ngZone=_ngZone,this._viewContainerRef=_viewContainerRef,this._dir=_dir,this._changeDetectorRef=_changeDetectorRef,this._selfHandle=_selfHandle,this._destroyed=new Subject_Subject,this.started=new EventEmitter,this.released=new EventEmitter,this.ended=new EventEmitter,this.entered=new EventEmitter,this.exited=new EventEmitter,this.dropped=new EventEmitter,this.moved=new Observable_Observable(observer=>{const subscription=this._dragRef.moved.pipe(map_map(movedEvent=>({source:this,pointerPosition:movedEvent.pointerPosition,event:movedEvent.event,delta:movedEvent.delta,distance:movedEvent.distance}))).subscribe(observer);return()=>{subscription.unsubscribe()}}),this._dragRef=dragDrop.createDrag(element,{dragStartThreshold:config&&null!=config.dragStartThreshold?config.dragStartThreshold:5,pointerDirectionChangeThreshold:config&&null!=config.pointerDirectionChangeThreshold?config.pointerDirectionChangeThreshold:5,zIndex:null==config?void 0:config.zIndex}),this._dragRef.data=this,config&&this._assignDefaults(config),dropContainer&&(this._dragRef._withDropContainer(dropContainer._dropListRef),dropContainer.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(take(1),takeUntil(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(startWith(this._handles),tap(handles=>{const childHandleElements=handles.filter(handle=>handle._parentDrag===this).map(handle=>handle.element);this._selfHandle&&this.rootElementSelector&&childHandleElements.push(this.element),this._dragRef.withHandles(childHandleElements)}),switchMap(handles=>merge(...handles.map(item=>item._stateChanges.pipe(startWith(item))))),takeUntil(this._destroyed)).subscribe(handleInstance=>{const dragRef=this._dragRef,handle=handleInstance.element.nativeElement;handleInstance.disabled?dragRef.disableHandle(handle):dragRef.enableHandle(handle)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(changes){const rootSelectorChange=changes.rootElementSelector,positionChange=changes.freeDragPosition;rootSelectorChange&&!rootSelectorChange.firstChange&&this._updateRootElement(),positionChange&&!positionChange.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const element=this.element.nativeElement,rootElement=this.rootElementSelector?getClosestMatchingAncestor(element,this.rootElementSelector):element;this._dragRef.withRootElement(rootElement||element)}_getBoundaryElement(){const boundary=this.boundaryElement;return boundary?"string"==typeof boundary?getClosestMatchingAncestor(this.element.nativeElement,boundary):coerceElement(boundary):null}_syncInputs(ref){ref.beforeStarted.subscribe(()=>{if(!ref.isDragging()){const dir=this._dir,dragStartDelay=this.dragStartDelay,placeholder=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,preview=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;ref.disabled=this.disabled,ref.lockAxis=this.lockAxis,ref.dragStartDelay="object"==typeof dragStartDelay&&dragStartDelay?dragStartDelay:coerceNumberProperty(dragStartDelay),ref.constrainPosition=this.constrainPosition,ref.previewClass=this.previewClass,ref.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(placeholder).withPreviewTemplate(preview),dir&&ref.withDirection(dir.value)}})}_handleEvents(ref){ref.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),ref.released.subscribe(()=>{this.released.emit({source:this})}),ref.ended.subscribe(event=>{this.ended.emit({source:this,distance:event.distance}),this._changeDetectorRef.markForCheck()}),ref.entered.subscribe(event=>{this.entered.emit({container:event.container.data,item:this,currentIndex:event.currentIndex})}),ref.exited.subscribe(event=>{this.exited.emit({container:event.container.data,item:this})}),ref.dropped.subscribe(event=>{this.dropped.emit({previousIndex:event.previousIndex,currentIndex:event.currentIndex,previousContainer:event.previousContainer.data,container:event.container.data,isPointerOverContainer:event.isPointerOverContainer,item:this,distance:event.distance})})}_assignDefaults(config){const{lockAxis:lockAxis,dragStartDelay:dragStartDelay,constrainPosition:constrainPosition,previewClass:previewClass,boundaryElement:boundaryElement,draggingDisabled:draggingDisabled,rootElementSelector:rootElementSelector}=config;this.disabled=null!=draggingDisabled&&draggingDisabled,this.dragStartDelay=dragStartDelay||0,lockAxis&&(this.lockAxis=lockAxis),constrainPosition&&(this.constrainPosition=constrainPosition),previewClass&&(this.previewClass=previewClass),boundaryElement&&(this.boundaryElement=boundaryElement),rootElementSelector&&(this.rootElementSelector=rootElementSelector)}}return CdkDrag.fac=function(t){return new(t||CdkDrag)(directiveInject(ElementRef),directiveInject(CDK_DROP_LIST,12),directiveInject(common_DOCUMENT),directiveInject(NgZone),directiveInject(ViewContainerRef),directiveInject(CDK_DRAG_CONFIG,8),directiveInject(bidi_Directionality,8),directiveInject(drag_drop_DragDrop),directiveInject(ChangeDetectorRef),directiveInject(CDK_DRAG_HANDLE,10))},CdkDrag.dir=defineDirective({type:CdkDrag,selectors:[["","cdkDrag",""]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&(contentQuery(dirIndex,CDK_DRAG_PREVIEW,1),contentQuery(dirIndex,CDK_DRAG_PLACEHOLDER,1),contentQuery(dirIndex,CDK_DRAG_HANDLE,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._previewTemplate=_t.first),queryRefresh(_t=loadQuery())&&(ctx._placeholderTemplate=_t.first),queryRefresh(_t=loadQuery())&&(ctx._handles=_t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(rf,ctx){2&rf&&classProp("cdk-drag-disabled",ctx.disabled)("cdk-drag-dragging",ctx._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ProvidersFeature([{provide:CDK_DRAG_PARENT,useExisting:CdkDrag}]),NgOnChangesFeature]}),CdkDrag})();function getClosestMatchingAncestor(element,selector){let currentElement=element.parentElement;for(;currentElement;){if(currentElement.matches?currentElement.matches(selector):currentElement.msMatchesSelector(selector))return currentElement;currentElement=currentElement.parentElement}return null}let drag_drop_DragDropModule=(()=>{class DragDropModule{}return DragDropModule.mod=defineNgModule({type:DragDropModule}),DragDropModule.inj=defineInjector({factory:function(t){return new(t||DragDropModule)},providers:[drag_drop_DragDrop],imports:[scrolling_CdkScrollableModule]}),DragDropModule})();const card_c0=["*",[["mat-card-footer"]]],card_c1=["*","mat-card-footer"],_c4=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],_c5=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let card_MatCardTitle=(()=>{class MatCardTitle{}return MatCardTitle.fac=function(t){return new(t||MatCardTitle)},MatCardTitle.dir=defineDirective({type:MatCardTitle,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),MatCardTitle})(),card_MatCard=(()=>{class MatCard{constructor(_animationMode){this._animationMode=_animationMode}}return MatCard.fac=function(t){return new(t||MatCard)(directiveInject(ANIMATION_MODULE_TYPE,8))},MatCard.cmp=defineComponent({type:MatCard,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(rf,ctx){2&rf&&classProp("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)},exportAs:["matCard"],ngContentSelectors:card_c1,decls:2,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(card_c0),projection(0),projection(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),MatCard})(),card_MatCardTitleGroup=(()=>{class MatCardTitleGroup{}return MatCardTitleGroup.fac=function(t){return new(t||MatCardTitleGroup)},MatCardTitleGroup.cmp=defineComponent({type:MatCardTitleGroup,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:_c5,decls:4,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(_c4),elementStart(0,"div"),projection(1),elementEnd(),projection(2,1),projection(3,2))},encapsulation:2,changeDetection:0}),MatCardTitleGroup})(),card_MatCardModule=(()=>{class MatCardModule{}return MatCardModule.mod=defineNgModule({type:MatCardModule}),MatCardModule.inj=defineInjector({factory:function(t){return new(t||MatCardModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),MatCardModule})(),divider_MatDivider=(()=>{class MatDivider{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(value){this._vertical=coerceBooleanProperty(value)}get inset(){return this._inset}set inset(value){this._inset=coerceBooleanProperty(value)}}return MatDivider.fac=function(t){return new(t||MatDivider)},MatDivider.cmp=defineComponent({type:MatDivider,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(rf,ctx){2&rf&&(attribute("aria-orientation",ctx.vertical?"vertical":"horizontal"),classProp("mat-divider-vertical",ctx.vertical)("mat-divider-horizontal",!ctx.vertical)("mat-divider-inset",ctx.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(rf,ctx){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),MatDivider})(),divider_MatDividerModule=(()=>{class MatDividerModule{}return MatDividerModule.mod=defineNgModule({type:MatDividerModule}),MatDividerModule.inj=defineInjector({factory:function(t){return new(t||MatDividerModule)},imports:[[core_MatCommonModule],core_MatCommonModule]}),MatDividerModule})();const form_field_c0=["underline"],form_field_c1=["connectionContainer"],form_field_c2=["inputContainer"],form_field_c3=["label"];function MatFormField_ng_container_3_Template(rf,ctx){1&rf&&(elementContainerStart(0),elementStart(1,"div",14),element(2,"div",15),element(3,"div",16),element(4,"div",17),elementEnd(),elementStart(5,"div",18),element(6,"div",15),element(7,"div",16),element(8,"div",17),elementEnd(),elementContainerEnd())}function MatFormField_div_4_Template(rf,ctx){1&rf&&(elementStart(0,"div",19),projection(1,1),elementEnd())}function MatFormField_label_9_ng_container_2_Template(rf,ctx){if(1&rf&&(elementContainerStart(0),projection(1,2),elementStart(2,"span"),text(3),elementEnd(),elementContainerEnd()),2&rf){const ctx_r10=nextContext(2);advance(3),textInterpolate(ctx_r10._control.placeholder)}}function MatFormField_label_9_ng_content_3_Template(rf,ctx){1&rf&&projection(0,3,["*ngSwitchCase","true"])}function MatFormField_label_9_span_4_Template(rf,ctx){1&rf&&(elementStart(0,"span",23),text(1," *"),elementEnd())}function MatFormField_label_9_Template(rf,ctx){if(1&rf){const _r14=getCurrentView();elementStart(0,"label",20,21),listener("cdkObserveContent",function(){return restoreView(_r14),nextContext().updateOutlineGap()}),template(2,MatFormField_label_9_ng_container_2_Template,4,1,"ng-container",12),template(3,MatFormField_label_9_ng_content_3_Template,1,0,"ng-content",12),template(4,MatFormField_label_9_span_4_Template,2,0,"span",22),elementEnd()}if(2&rf){const ctx_r4=nextContext();classProp("mat-empty",ctx_r4._control.empty&&!ctx_r4._shouldAlwaysFloat())("mat-form-field-empty",ctx_r4._control.empty&&!ctx_r4._shouldAlwaysFloat())("mat-accent","accent"==ctx_r4.color)("mat-warn","warn"==ctx_r4.color),property("cdkObserveContentDisabled","outline"!=ctx_r4.appearance)("id",ctx_r4._labelId)("ngSwitch",ctx_r4._hasLabel()),attribute("for",ctx_r4._control.id)("aria-owns",ctx_r4._control.id),advance(2),property("ngSwitchCase",!1),advance(1),property("ngSwitchCase",!0),advance(1),property("ngIf",!ctx_r4.hideRequiredMarker&&ctx_r4._control.required&&!ctx_r4._control.disabled)}}function MatFormField_div_10_Template(rf,ctx){1&rf&&(elementStart(0,"div",24),projection(1,4),elementEnd())}function MatFormField_div_11_Template(rf,ctx){if(1&rf&&(elementStart(0,"div",25,26),element(2,"span",27),elementEnd()),2&rf){const ctx_r6=nextContext();advance(2),classProp("mat-accent","accent"==ctx_r6.color)("mat-warn","warn"==ctx_r6.color)}}function MatFormField_div_13_Template(rf,ctx){1&rf&&(elementStart(0,"div"),projection(1,5),elementEnd()),2&rf&&property("@transitionMessages",nextContext()._subscriptAnimationState)}function MatFormField_div_14_div_1_Template(rf,ctx){if(1&rf&&(elementStart(0,"div",31),text(1),elementEnd()),2&rf){const ctx_r16=nextContext(2);property("id",ctx_r16._hintLabelId),advance(1),textInterpolate(ctx_r16.hintLabel)}}function MatFormField_div_14_Template(rf,ctx){if(1&rf&&(elementStart(0,"div",28),template(1,MatFormField_div_14_div_1_Template,2,2,"div",29),projection(2,6),element(3,"div",30),projection(4,7),elementEnd()),2&rf){const ctx_r8=nextContext();property("@transitionMessages",ctx_r8._subscriptAnimationState),advance(1),property("ngIf",ctx_r8.hintLabel)}}const form_field_c4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],form_field_c5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],MAT_ERROR=new InjectionToken("MatError"),matFormFieldAnimations={transitionMessages:trigger("transitionMessages",[animations_state("enter",animations_style({opacity:1,transform:"translateY(0%)"})),animations_transition("void => enter",[animations_style({opacity:0,transform:"translateY(-100%)"}),animate("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let form_field_MatFormFieldControl=(()=>{class MatFormFieldControl{}return MatFormFieldControl.fac=function(t){return new(t||MatFormFieldControl)},MatFormFieldControl.dir=defineDirective({type:MatFormFieldControl}),MatFormFieldControl})();const _MAT_HINT=new InjectionToken("MatHint");let form_field_MatLabel=(()=>{class MatLabel{}return MatLabel.fac=function(t){return new(t||MatLabel)},MatLabel.dir=defineDirective({type:MatLabel,selectors:[["mat-label"]]}),MatLabel})(),form_field_MatPlaceholder=(()=>{class MatPlaceholder{}return MatPlaceholder.fac=function(t){return new(t||MatPlaceholder)},MatPlaceholder.dir=defineDirective({type:MatPlaceholder,selectors:[["mat-placeholder"]]}),MatPlaceholder})();const MAT_PREFIX=new InjectionToken("MatPrefix"),MAT_SUFFIX=new InjectionToken("MatSuffix");let nextUniqueId$2=0;class MatFormFieldBase{constructor(_elementRef){this._elementRef=_elementRef}}const _MatFormFieldMixinBase=mixinColor(MatFormFieldBase,"primary"),MAT_FORM_FIELD_DEFAULT_OPTIONS=new InjectionToken("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MAT_FORM_FIELD=new InjectionToken("MatFormField");let form_field_MatFormField=(()=>{class MatFormField extends _MatFormFieldMixinBase{constructor(_elementRef,_changeDetectorRef,labelOptions,_dir,_defaults,_platform,_ngZone,_animationMode){super(_elementRef),this._elementRef=_elementRef,this._changeDetectorRef=_changeDetectorRef,this._dir=_dir,this._defaults=_defaults,this._platform=_platform,this._ngZone=_ngZone,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Subject_Subject,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+nextUniqueId$2++,this._labelId="mat-form-field-label-"+nextUniqueId$2++,this._labelOptions=labelOptions||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_animationMode,this.appearance=_defaults&&_defaults.appearance?_defaults.appearance:"legacy",this._hideRequiredMarker=!(!_defaults||null==_defaults.hideRequiredMarker)&&_defaults.hideRequiredMarker}get appearance(){return this._appearance}set appearance(value){const oldValue=this._appearance;this._appearance=value||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&oldValue!==value&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(value){this._hideRequiredMarker=coerceBooleanProperty(value)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(value){this._hintLabel=value,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(value){value!==this._floatLabel&&(this._floatLabel=value||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(value){this._explicitFormFieldControl=value}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const control=this._control;control.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${control.controlType}`),control.stateChanges.pipe(startWith(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),control.ngControl&&control.ngControl.valueChanges&&control.ngControl.valueChanges.pipe(takeUntil(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(takeUntil(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),merge(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(startWith(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(startWith(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(takeUntil(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(prop){const ngControl=this._control?this._control.ngControl:null;return ngControl&&ngControl[prop]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,fromEvent(this._label.nativeElement,"transitionend").pipe(take(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let ids=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ids.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const startHint=this._hintChildren?this._hintChildren.find(hint=>"start"===hint.align):null,endHint=this._hintChildren?this._hintChildren.find(hint=>"end"===hint.align):null;startHint?ids.push(startHint.id):this._hintLabel&&ids.push(this._hintLabelId),endHint&&ids.push(endHint.id)}else this._errorChildren&&ids.push(...this._errorChildren.map(error=>error.id));this._control.setDescribedByIds(ids)}}_validateControlChild(){}updateOutlineGap(){const labelEl=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!labelEl||!labelEl.children.length||!labelEl.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let startWidth=0,gapWidth=0;const container=this._connectionContainerRef.nativeElement,startEls=container.querySelectorAll(".mat-form-field-outline-start"),gapEls=container.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const containerRect=container.getBoundingClientRect();if(0===containerRect.width&&0===containerRect.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const containerStart=this._getStartEnd(containerRect),labelChildren=labelEl.children,labelStart=this._getStartEnd(labelChildren[0].getBoundingClientRect());let labelWidth=0;for(let i=0;i<labelChildren.length;i++)labelWidth+=labelChildren[i].offsetWidth;startWidth=Math.abs(labelStart-containerStart)-5,gapWidth=labelWidth>0?.75*labelWidth+10:0}for(let i=0;i<startEls.length;i++)startEls[i].style.width=`${startWidth}px`;for(let i=0;i<gapEls.length;i++)gapEls[i].style.width=`${gapWidth}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(rect){return this._dir&&"rtl"===this._dir.value?rect.right:rect.left}_isAttachedToDOM(){const element=this._elementRef.nativeElement;if(element.getRootNode){const rootNode=element.getRootNode();return rootNode&&rootNode!==element}return document.documentElement.contains(element)}}return MatFormField.fac=function(t){return new(t||MatFormField)(directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(MAT_LABEL_GLOBAL_OPTIONS,8),directiveInject(bidi_Directionality,8),directiveInject(MAT_FORM_FIELD_DEFAULT_OPTIONS,8),directiveInject(platform_Platform),directiveInject(NgZone),directiveInject(ANIMATION_MODULE_TYPE,8))},MatFormField.cmp=defineComponent({type:MatFormField,selectors:[["mat-form-field"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&(contentQuery(dirIndex,form_field_MatFormFieldControl,1),contentQuery(dirIndex,form_field_MatFormFieldControl,3),contentQuery(dirIndex,form_field_MatLabel,1),contentQuery(dirIndex,form_field_MatLabel,3),contentQuery(dirIndex,form_field_MatPlaceholder,1),contentQuery(dirIndex,MAT_ERROR,1),contentQuery(dirIndex,_MAT_HINT,1),contentQuery(dirIndex,MAT_PREFIX,1),contentQuery(dirIndex,MAT_SUFFIX,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._controlNonStatic=_t.first),queryRefresh(_t=loadQuery())&&(ctx._controlStatic=_t.first),queryRefresh(_t=loadQuery())&&(ctx._labelChildNonStatic=_t.first),queryRefresh(_t=loadQuery())&&(ctx._labelChildStatic=_t.first),queryRefresh(_t=loadQuery())&&(ctx._placeholderChild=_t.first),queryRefresh(_t=loadQuery())&&(ctx._errorChildren=_t),queryRefresh(_t=loadQuery())&&(ctx._hintChildren=_t),queryRefresh(_t=loadQuery())&&(ctx._prefixChildren=_t),queryRefresh(_t=loadQuery())&&(ctx._suffixChildren=_t)}},viewQuery:function(rf,ctx){if(1&rf&&(viewQuery(form_field_c0,1),viewQuery(form_field_c1,3),viewQuery(form_field_c2,1),viewQuery(form_field_c3,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.underlineRef=_t.first),queryRefresh(_t=loadQuery())&&(ctx._connectionContainerRef=_t.first),queryRefresh(_t=loadQuery())&&(ctx._inputContainerRef=_t.first),queryRefresh(_t=loadQuery())&&(ctx._label=_t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(rf,ctx){2&rf&&classProp("mat-form-field-appearance-standard","standard"==ctx.appearance)("mat-form-field-appearance-fill","fill"==ctx.appearance)("mat-form-field-appearance-outline","outline"==ctx.appearance)("mat-form-field-appearance-legacy","legacy"==ctx.appearance)("mat-form-field-invalid",ctx._control.errorState)("mat-form-field-can-float",ctx._canLabelFloat())("mat-form-field-should-float",ctx._shouldLabelFloat())("mat-form-field-has-label",ctx._hasFloatingLabel())("mat-form-field-hide-placeholder",ctx._hideControlPlaceholder())("mat-form-field-disabled",ctx._control.disabled)("mat-form-field-autofilled",ctx._control.autofilled)("mat-focused",ctx._control.focused)("mat-accent","accent"==ctx.color)("mat-warn","warn"==ctx.color)("ng-untouched",ctx._shouldForward("untouched"))("ng-touched",ctx._shouldForward("touched"))("ng-pristine",ctx._shouldForward("pristine"))("ng-dirty",ctx._shouldForward("dirty"))("ng-valid",ctx._shouldForward("valid"))("ng-invalid",ctx._shouldForward("invalid"))("ng-pending",ctx._shouldForward("pending"))("_mat-animation-noopable",!ctx._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ProvidersFeature([{provide:MAT_FORM_FIELD,useExisting:MatFormField}]),InheritDefinitionFeature],ngContentSelectors:form_field_c5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(rf,ctx){1&rf&&(projectionDef(form_field_c4),elementStart(0,"div",0),elementStart(1,"div",1,2),listener("click",function($event){return ctx._control.onContainerClick&&ctx._control.onContainerClick($event)}),template(3,MatFormField_ng_container_3_Template,9,0,"ng-container",3),template(4,MatFormField_div_4_Template,2,0,"div",4),elementStart(5,"div",5,6),projection(7),elementStart(8,"span",7),template(9,MatFormField_label_9_Template,5,16,"label",8),elementEnd(),elementEnd(),template(10,MatFormField_div_10_Template,2,0,"div",9),elementEnd(),template(11,MatFormField_div_11_Template,3,4,"div",10),elementStart(12,"div",11),template(13,MatFormField_div_13_Template,2,1,"div",12),template(14,MatFormField_div_14_Template,5,2,"div",13),elementEnd(),elementEnd()),2&rf&&(advance(3),property("ngIf","outline"==ctx.appearance),advance(1),property("ngIf",ctx._prefixChildren.length),advance(5),property("ngIf",ctx._hasFloatingLabel()),advance(1),property("ngIf",ctx._suffixChildren.length),advance(1),property("ngIf","outline"!=ctx.appearance),advance(1),property("ngSwitch",ctx._getDisplayedMessages()),advance(1),property("ngSwitchCase","error"),advance(1),property("ngSwitchCase","hint"))},directives:[common_NgIf,common_NgSwitch,common_NgSwitchCase,observers_CdkObserveContent],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[matFormFieldAnimations.transitionMessages]},changeDetection:0}),MatFormField})(),form_field_MatFormFieldModule=(()=>{class MatFormFieldModule{}return MatFormFieldModule.mod=defineNgModule({type:MatFormFieldModule}),MatFormFieldModule.inj=defineInjector({factory:function(t){return new(t||MatFormFieldModule)},imports:[[common_CommonModule,core_MatCommonModule,observers_ObserversModule],core_MatCommonModule]}),MatFormFieldModule})();const listenerOptions=normalizePassiveListenerOptions({passive:!0});let text_field_AutofillMonitor=(()=>{class AutofillMonitor{constructor(_platform,_ngZone){this._platform=_platform,this._ngZone=_ngZone,this._monitoredElements=new Map}monitor(elementOrRef){if(!this._platform.isBrowser)return empty_EMPTY;const element=coerceElement(elementOrRef),info=this._monitoredElements.get(element);if(info)return info.subject;const result=new Subject_Subject,cssClass="cdk-text-field-autofilled",listener=event=>{"cdk-text-field-autofill-start"!==event.animationName||element.classList.contains(cssClass)?"cdk-text-field-autofill-end"===event.animationName&&element.classList.contains(cssClass)&&(element.classList.remove(cssClass),this._ngZone.run(()=>result.next({target:event.target,isAutofilled:!1}))):(element.classList.add(cssClass),this._ngZone.run(()=>result.next({target:event.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{element.addEventListener("animationstart",listener,listenerOptions),element.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(element,{subject:result,unlisten:()=>{element.removeEventListener("animationstart",listener,listenerOptions)}}),result}stopMonitoring(elementOrRef){const element=coerceElement(elementOrRef),info=this._monitoredElements.get(element);info&&(info.unlisten(),info.subject.complete(),element.classList.remove("cdk-text-field-autofill-monitored"),element.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(element))}ngOnDestroy(){this._monitoredElements.forEach((_info,element)=>this.stopMonitoring(element))}}return AutofillMonitor.fac=function(t){return new(t||AutofillMonitor)(inject(platform_Platform),inject(NgZone))},AutofillMonitor.prov=defineInjectable({factory:function(){return new AutofillMonitor(inject(platform_Platform),inject(NgZone))},token:AutofillMonitor,providedIn:"root"}),AutofillMonitor})(),text_field_TextFieldModule=(()=>{class TextFieldModule{}return TextFieldModule.mod=defineNgModule({type:TextFieldModule}),TextFieldModule.inj=defineInjector({factory:function(t){return new(t||TextFieldModule)},imports:[[platform_PlatformModule]]}),TextFieldModule})();const MAT_INPUT_VALUE_ACCESSOR=new InjectionToken("MAT_INPUT_VALUE_ACCESSOR"),MAT_INPUT_INVALID_TYPES=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let input_nextUniqueId=0;class MatInputBase{constructor(_defaultErrorStateMatcher,_parentForm,_parentFormGroup,ngControl){this._defaultErrorStateMatcher=_defaultErrorStateMatcher,this._parentForm=_parentForm,this._parentFormGroup=_parentFormGroup,this.ngControl=ngControl}}const _MatInputMixinBase=mixinErrorState(MatInputBase);let input_MatInput=(()=>{class MatInput extends _MatInputMixinBase{constructor(_elementRef,_platform,ngControl,_parentForm,_parentFormGroup,_defaultErrorStateMatcher,inputValueAccessor,_autofillMonitor,ngZone,_formField){super(_defaultErrorStateMatcher,_parentForm,_parentFormGroup,ngControl),this._elementRef=_elementRef,this._platform=_platform,this.ngControl=ngControl,this._autofillMonitor=_autofillMonitor,this._formField=_formField,this._uid="mat-input-"+input_nextUniqueId++,this.focused=!1,this.stateChanges=new Subject_Subject,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>getSupportedInputTypes().has(t));const element=this._elementRef.nativeElement,nodeName=element.nodeName.toLowerCase();this._inputValueAccessor=inputValueAccessor||element,this._previousNativeValue=this.value,this.id=this.id,_platform.IOS&&ngZone.runOutsideAngular(()=>{_elementRef.nativeElement.addEventListener("keyup",event=>{let el=event.target;el.value||el.selectionStart||el.selectionEnd||(el.setSelectionRange(1,1),el.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===nodeName,this._isTextarea="textarea"===nodeName,this._isNativeSelect&&(this.controlType=element.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(value){this._id=value||this._uid}get required(){return this._required}set required(value){this._required=coerceBooleanProperty(value)}get type(){return this._type}set type(value){this._type=value||"text",this._validateType(),!this._isTextarea&&getSupportedInputTypes().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(value){value!==this.value&&(this._inputValueAccessor.value=value,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(value){this._readonly=coerceBooleanProperty(value)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(event=>{this.autofilled=event.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(options){this._elementRef.nativeElement.focus(options)}_focusChanged(isFocused){isFocused===this.focused||this.readonly&&isFocused||(this.focused=isFocused,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var _a,_b;const placeholder=(null===(_b=null===(_a=this._formField)||void 0===_a?void 0:_a._hideControlPlaceholder)||void 0===_b?void 0:_b.call(_a))?null:this.placeholder;if(placeholder!==this._previousPlaceholder){const element=this._elementRef.nativeElement;this._previousPlaceholder=placeholder,placeholder?element.setAttribute("placeholder",placeholder):element.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const newValue=this._elementRef.nativeElement.value;this._previousNativeValue!==newValue&&(this._previousNativeValue=newValue,this.stateChanges.next())}_validateType(){MAT_INPUT_INVALID_TYPES.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let validity=this._elementRef.nativeElement.validity;return validity&&validity.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const selectElement=this._elementRef.nativeElement,firstOption=selectElement.options[0];return this.focused||selectElement.multiple||!this.empty||!!(selectElement.selectedIndex>-1&&firstOption&&firstOption.label)}return this.focused||!this.empty}setDescribedByIds(ids){ids.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ids.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return MatInput.fac=function(t){return new(t||MatInput)(directiveInject(ElementRef),directiveInject(platform_Platform),directiveInject(NgControl,10),directiveInject(forms_NgForm,8),directiveInject(forms_FormGroupDirective,8),directiveInject(core_ErrorStateMatcher),directiveInject(MAT_INPUT_VALUE_ACCESSOR,10),directiveInject(text_field_AutofillMonitor),directiveInject(NgZone),directiveInject(MAT_FORM_FIELD,8))},MatInput.dir=defineDirective({type:MatInput,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(rf,ctx){1&rf&&listener("focus",function(){return ctx._focusChanged(!0)})("blur",function(){return ctx._focusChanged(!1)})("input",function(){return ctx._onInput()}),2&rf&&(hostProperty("disabled",ctx.disabled)("required",ctx.required),attribute("id",ctx.id)("data-placeholder",ctx.placeholder)("readonly",ctx.readonly&&!ctx._isNativeSelect||null)("aria-invalid",ctx.errorState)("aria-required",ctx.required.toString()),classProp("mat-input-server",ctx._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[ProvidersFeature([{provide:form_field_MatFormFieldControl,useExisting:MatInput}]),InheritDefinitionFeature,NgOnChangesFeature]}),MatInput})(),input_MatInputModule=(()=>{class MatInputModule{}return MatInputModule.mod=defineNgModule({type:MatInputModule}),MatInputModule.inj=defineInjector({factory:function(t){return new(t||MatInputModule)},providers:[core_ErrorStateMatcher],imports:[[text_field_TextFieldModule,form_field_MatFormFieldModule],text_field_TextFieldModule,form_field_MatFormFieldModule]}),MatInputModule})();const checkbox_c0=["input"],checkbox_c1=function(){return{enterDuration:150}},checkbox_c2=["*"],MAT_CHECKBOX_DEFAULT_OPTIONS=new InjectionToken("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),MAT_CHECKBOX_CLICK_ACTION=new InjectionToken("mat-checkbox-click-action");let checkbox_nextUniqueId=0;const MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>checkbox_MatCheckbox),multi:!0};class MatCheckboxChange{}class MatCheckboxBase{constructor(_elementRef){this._elementRef=_elementRef}}const _MatCheckboxMixinBase=mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(MatCheckboxBase))));let checkbox_MatCheckbox=(()=>{class MatCheckbox extends _MatCheckboxMixinBase{constructor(elementRef,_changeDetectorRef,_focusMonitor,_ngZone,tabIndex,_clickAction,_animationMode,_options){super(elementRef),this._changeDetectorRef=_changeDetectorRef,this._focusMonitor=_focusMonitor,this._ngZone=_ngZone,this._clickAction=_clickAction,this._animationMode=_animationMode,this._options=_options,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++checkbox_nextUniqueId,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new EventEmitter,this.indeterminateChange=new EventEmitter,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this.defaultColor=this._options.color),this.tabIndex=parseInt(tabIndex)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(value){this._required=coerceBooleanProperty(value)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(focusOrigin=>{focusOrigin||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(value){value!=this.checked&&(this._checked=value,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(value){const newValue=coerceBooleanProperty(value);newValue!==this.disabled&&(this._disabled=newValue,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(value){const changed=value!=this._indeterminate;this._indeterminate=coerceBooleanProperty(value),changed&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(value){this.checked=!!value}registerOnChange(fn){this._controlValueAccessorChangeFn=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(newState){let oldState=this._currentCheckState,element=this._elementRef.nativeElement;if(oldState!==newState&&(this._currentAnimationClass.length>0&&element.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(oldState,newState),this._currentCheckState=newState,this._currentAnimationClass.length>0)){element.classList.add(this._currentAnimationClass);const animationClass=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{element.classList.remove(animationClass)},1e3)})}}_emitChangeEvent(){const event=new MatCheckboxChange;event.source=this,event.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(event)}toggle(){this.checked=!this.checked}_onInputClick(event){event.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(origin="keyboard",options){this._focusMonitor.focusVia(this._inputElement,origin,options)}_onInteractionEvent(event){event.stopPropagation()}_getAnimationClassForCheckStateTransition(oldState,newState){if("NoopAnimations"===this._animationMode)return"";let animSuffix="";switch(oldState){case 0:if(1===newState)animSuffix="unchecked-checked";else{if(3!=newState)return"";animSuffix="unchecked-indeterminate"}break;case 2:animSuffix=1===newState?"unchecked-checked":"unchecked-indeterminate";break;case 1:animSuffix=2===newState?"checked-unchecked":"checked-indeterminate";break;case 3:animSuffix=1===newState?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${animSuffix}`}_syncIndeterminate(value){const nativeCheckbox=this._inputElement;nativeCheckbox&&(nativeCheckbox.nativeElement.indeterminate=value)}}return MatCheckbox.fac=function(t){return new(t||MatCheckbox)(directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(a11y_FocusMonitor),directiveInject(NgZone),injectAttribute("tabindex"),directiveInject(MAT_CHECKBOX_CLICK_ACTION,8),directiveInject(ANIMATION_MODULE_TYPE,8),directiveInject(MAT_CHECKBOX_DEFAULT_OPTIONS,8))},MatCheckbox.cmp=defineComponent({type:MatCheckbox,selectors:[["mat-checkbox"]],viewQuery:function(rf,ctx){if(1&rf&&(viewQuery(checkbox_c0,1),viewQuery(core_MatRipple,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._inputElement=_t.first),queryRefresh(_t=loadQuery())&&(ctx.ripple=_t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(rf,ctx){2&rf&&(hostProperty("id",ctx.id),attribute("tabindex",null),classProp("mat-checkbox-indeterminate",ctx.indeterminate)("mat-checkbox-checked",ctx.checked)("mat-checkbox-disabled",ctx.disabled)("mat-checkbox-label-before","before"==ctx.labelPosition)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[ProvidersFeature([MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR]),InheritDefinitionFeature],ngContentSelectors:checkbox_c2,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(rf,ctx){if(1&rf&&(projectionDef(),elementStart(0,"label",0,1),elementStart(2,"div",2),elementStart(3,"input",3,4),listener("change",function($event){return ctx._onInteractionEvent($event)})("click",function($event){return ctx._onInputClick($event)}),elementEnd(),elementStart(5,"div",5),element(6,"div",6),elementEnd(),element(7,"div",7),elementStart(8,"div",8),instructionState.lFrame.currentNamespace="http://www.w3.org/2000/svg",elementStart(9,"svg",9),element(10,"path",10),elementEnd(),instructionState.lFrame.currentNamespace=null,element(11,"div",11),elementEnd(),elementEnd(),elementStart(12,"span",12,13),listener("cdkObserveContent",function(){return ctx._onLabelTextChange()}),elementStart(14,"span",14),text(15,""),elementEnd(),projection(16),elementEnd(),elementEnd()),2&rf){const _r0=reference(1),_r2=reference(13);attribute("for",ctx.inputId),advance(2),classProp("mat-checkbox-inner-container-no-side-margin",!_r2.textContent||!_r2.textContent.trim()),advance(1),property("id",ctx.inputId)("required",ctx.required)("checked",ctx.checked)("disabled",ctx.disabled)("tabIndex",ctx.tabIndex),attribute("value",ctx.value)("name",ctx.name)("aria-label",ctx.ariaLabel||null)("aria-labelledby",ctx.ariaLabelledby)("aria-checked",ctx._getAriaChecked())("aria-describedby",ctx.ariaDescribedby),advance(2),property("matRippleTrigger",_r0)("matRippleDisabled",ctx._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(slotOffset,pureFn,thisArg){const bindingIndex=getBindingRoot()+19,lView=getLView();return lView[bindingIndex]===NO_CHANGE?updateBinding(lView,bindingIndex,pureFn()):function(lView,bindingIndex){return lView[bindingIndex]}(lView,bindingIndex)}(0,checkbox_c1))}},directives:[core_MatRipple,observers_CdkObserveContent],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),MatCheckbox})(),checkbox_MatCheckboxRequiredValidatorModule=(()=>{class _MatCheckboxRequiredValidatorModule{}return _MatCheckboxRequiredValidatorModule.mod=defineNgModule({type:_MatCheckboxRequiredValidatorModule}),_MatCheckboxRequiredValidatorModule.inj=defineInjector({factory:function(t){return new(t||_MatCheckboxRequiredValidatorModule)}}),_MatCheckboxRequiredValidatorModule})(),checkbox_MatCheckboxModule=(()=>{class MatCheckboxModule{}return MatCheckboxModule.mod=defineNgModule({type:MatCheckboxModule}),MatCheckboxModule.inj=defineInjector({factory:function(t){return new(t||MatCheckboxModule)},imports:[[core_MatRippleModule,core_MatCommonModule,observers_ObserversModule,checkbox_MatCheckboxRequiredValidatorModule],core_MatCommonModule,checkbox_MatCheckboxRequiredValidatorModule]}),MatCheckboxModule})();const slider_c0=["sliderWrapper"],activeEventOptions=normalizePassiveListenerOptions({passive:!1}),MAT_SLIDER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>slider_MatSlider),multi:!0};class MatSliderChange{}class MatSliderBase{constructor(_elementRef){this._elementRef=_elementRef}}const _MatSliderMixinBase=mixinTabIndex(mixinColor(mixinDisabled(MatSliderBase),"accent"));let slider_MatSlider=(()=>{class MatSlider extends _MatSliderMixinBase{constructor(elementRef,_focusMonitor,_changeDetectorRef,_dir,tabIndex,_ngZone,_document,_animationMode){super(elementRef),this._focusMonitor=_focusMonitor,this._changeDetectorRef=_changeDetectorRef,this._dir=_dir,this._ngZone=_ngZone,this._animationMode=_animationMode,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new EventEmitter,this.input=new EventEmitter,this.valueChange=new EventEmitter,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Subscription_Subscription.EMPTY,this._pointerDown=event=>{this.disabled||this._isSliding||!slider_isTouchEvent(event)&&0!==event.button||this._ngZone.run(()=>{const oldValue=this.value,pointerPosition=getPointerPositionOnPage(event);this._isSliding=!0,this._lastPointerEvent=event,event.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(event),this._focusHostElement(),this._updateValueFromPosition(pointerPosition),this._valueOnSlideStart=oldValue,oldValue!=this.value&&this._emitInputEvent()})},this._pointerMove=event=>{if(this._isSliding){event.preventDefault();const oldValue=this.value;this._lastPointerEvent=event,this._updateValueFromPosition(getPointerPositionOnPage(event)),oldValue!=this.value&&this._emitInputEvent()}},this._pointerUp=event=>{this._isSliding&&(event.preventDefault(),this._removeGlobalEvents(),this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=_document,this.tabIndex=parseInt(tabIndex)||0,_ngZone.runOutsideAngular(()=>{const element=elementRef.nativeElement;element.addEventListener("mousedown",this._pointerDown,activeEventOptions),element.addEventListener("touchstart",this._pointerDown,activeEventOptions)})}get invert(){return this._invert}set invert(value){this._invert=coerceBooleanProperty(value)}get max(){return this._max}set max(v){this._max=coerceNumberProperty(v,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(v){this._min=coerceNumberProperty(v,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(v){this._step=coerceNumberProperty(v,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(value){this._thumbLabel=coerceBooleanProperty(value)}get tickInterval(){return this._tickInterval}set tickInterval(value){this._tickInterval="auto"===value?"auto":"number"==typeof value||"string"==typeof value?coerceNumberProperty(value,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(v){if(v!==this._value){let value=coerceNumberProperty(v);this._roundToDecimal&&(value=parseFloat(value.toFixed(this._roundToDecimal))),this._value=value,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(value){this._vertical=coerceBooleanProperty(value)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(options){this._focusHostElement(options)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const scale=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${scale})`}}_getTrackFillStyles(){const percent=this.percent,scale=this.vertical?`1, ${percent}, 1`:`${percent}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${scale})`,display:0===percent?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let tickSize=100*this._tickIntervalPercent,styles={backgroundSize:this.vertical?`2px ${tickSize}%`:`${tickSize}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${tickSize/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const shouldInvertAxis=this._shouldInvertAxis();let side;side=this.vertical?shouldInvertAxis?"Bottom":"Top":shouldInvertAxis?"Right":"Left",styles[`padding${side}`]=`${this._getThumbGap()}px`}return styles}_getThumbContainerStyles(){const shouldInvertAxis=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?shouldInvertAxis:!shouldInvertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const shouldInvertAxis=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?shouldInvertAxis:!shouldInvertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(origin=>{this._isActive=!!origin&&"keyboard"!==origin,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const element=this._elementRef.nativeElement;element.removeEventListener("mousedown",this._pointerDown,activeEventOptions),element.removeEventListener("touchstart",this._pointerDown,activeEventOptions),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(event){if(this.disabled||hasModifierKey(event))return;const oldValue=this.value;switch(event.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}oldValue!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,event.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(triggerEvent){const document=this._document,isTouch=slider_isTouchEvent(triggerEvent),endEventName=isTouch?"touchend":"mouseup";document.addEventListener(isTouch?"touchmove":"mousemove",this._pointerMove,activeEventOptions),document.addEventListener(endEventName,this._pointerUp,activeEventOptions),isTouch&&document.addEventListener("touchcancel",this._pointerUp,activeEventOptions);const window=this._getWindow();void 0!==window&&window&&window.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const document=this._document;document.removeEventListener("mousemove",this._pointerMove,activeEventOptions),document.removeEventListener("mouseup",this._pointerUp,activeEventOptions),document.removeEventListener("touchmove",this._pointerMove,activeEventOptions),document.removeEventListener("touchend",this._pointerUp,activeEventOptions),document.removeEventListener("touchcancel",this._pointerUp,activeEventOptions);const window=this._getWindow();void 0!==window&&window&&window.removeEventListener("blur",this._windowBlur)}_increment(numSteps){this.value=this._clamp((this.value||0)+this.step*numSteps,this.min,this.max)}_updateValueFromPosition(pos){if(!this._sliderDimensions)return;let percent=this._clamp(((this.vertical?pos.y:pos.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(percent=1-percent),0===percent)this.value=this.min;else if(1===percent)this.value=this.max;else{const exactValue=this._calculateValue(percent),closestValue=Math.round((exactValue-this.min)/this.step)*this.step+this.min;this.value=this._clamp(closestValue,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let trackSize=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,stepsPerTick=Math.ceil(30/(trackSize*this.step/(this.max-this.min)));this._tickIntervalPercent=stepsPerTick*this.step/trackSize}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(value=this.value){let event=new MatSliderChange;return event.source=this,event.value=value,event}_calculatePercentage(value){return((value||0)-this.min)/(this.max-this.min)}_calculateValue(percentage){return this.min+percentage*(this.max-this.min)}_clamp(value,min=0,max=1){return Math.max(min,Math.min(value,max))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(options){this._elementRef.nativeElement.focus(options)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(value){this.value=value}registerOnChange(fn){this._controlValueAccessorChangeFn=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled}}return MatSlider.fac=function(t){return new(t||MatSlider)(directiveInject(ElementRef),directiveInject(a11y_FocusMonitor),directiveInject(ChangeDetectorRef),directiveInject(bidi_Directionality,8),injectAttribute("tabindex"),directiveInject(NgZone),directiveInject(common_DOCUMENT),directiveInject(ANIMATION_MODULE_TYPE,8))},MatSlider.cmp=defineComponent({type:MatSlider,selectors:[["mat-slider"]],viewQuery:function(rf,ctx){if(1&rf&&viewQuery(slider_c0,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._sliderWrapper=_t.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(rf,ctx){1&rf&&listener("focus",function(){return ctx._onFocus()})("blur",function(){return ctx._onBlur()})("keydown",function($event){return ctx._onKeydown($event)})("keyup",function(){return ctx._onKeyup()})("mouseenter",function(){return ctx._onMouseenter()})("selectstart",function($event){return $event.preventDefault()}),2&rf&&(hostProperty("tabIndex",ctx.tabIndex),attribute("aria-disabled",ctx.disabled)("aria-valuemax",ctx.max)("aria-valuemin",ctx.min)("aria-valuenow",ctx.value)("aria-orientation",ctx.vertical?"vertical":"horizontal"),classProp("mat-slider-disabled",ctx.disabled)("mat-slider-has-ticks",ctx.tickInterval)("mat-slider-horizontal",!ctx.vertical)("mat-slider-axis-inverted",ctx._shouldInvertAxis())("mat-slider-invert-mouse-coords",ctx._shouldInvertMouseCoords())("mat-slider-sliding",ctx._isSliding)("mat-slider-thumb-label-showing",ctx.thumbLabel)("mat-slider-vertical",ctx.vertical)("mat-slider-min-value",ctx._isMinValue())("mat-slider-hide-last-tick",ctx.disabled||ctx._isMinValue()&&ctx._getThumbGap()&&ctx._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[ProvidersFeature([MAT_SLIDER_VALUE_ACCESSOR]),InheritDefinitionFeature],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(rf,ctx){1&rf&&(elementStart(0,"div",0,1),elementStart(2,"div",2),element(3,"div",3),element(4,"div",4),elementEnd(),elementStart(5,"div",5),element(6,"div",6),elementEnd(),elementStart(7,"div",7),element(8,"div",8),element(9,"div",9),elementStart(10,"div",10),elementStart(11,"span",11),text(12),elementEnd(),elementEnd(),elementEnd(),elementEnd()),2&rf&&(advance(3),property("ngStyle",ctx._getTrackBackgroundStyles()),advance(1),property("ngStyle",ctx._getTrackFillStyles()),advance(1),property("ngStyle",ctx._getTicksContainerStyles()),advance(1),property("ngStyle",ctx._getTicksStyles()),advance(1),property("ngStyle",ctx._getThumbContainerStyles()),advance(5),textInterpolate(ctx.displayValue))},directives:[common_NgStyle],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),MatSlider})();function slider_isTouchEvent(event){return"t"===event.type[0]}function getPointerPositionOnPage(event){const point=slider_isTouchEvent(event)?event.touches[0]||event.changedTouches[0]:event;return{x:point.clientX,y:point.clientY}}let slider_MatSliderModule=(()=>{class MatSliderModule{}return MatSliderModule.mod=defineNgModule({type:MatSliderModule}),MatSliderModule.inj=defineInjector({factory:function(t){return new(t||MatSliderModule)},imports:[[common_CommonModule,core_MatCommonModule],core_MatCommonModule]}),MatSliderModule})();const dynamic_form_component_c0=["keyboard"],dynamic_form_component_c1=["input"];function DynamicFormComponent_div_1_div_8_mat_form_field_3_Template(rf,ctx){if(1&rf){const _r10=getCurrentView();elementStart(0,"mat-form-field"),elementStart(1,"mat-label"),text(2),pipe(3,"titlecase"),elementEnd(),elementStart(4,"div",14),elementStart(5,"div"),elementStart(6,"input",15,16),listener("focusout",function($event){restoreView(_r10);const question_r2=nextContext().$implicit;return nextContext(2).onInputFocusOut($event,question_r2.key)}),elementEnd(),elementEnd(),element(8,"div"),elementEnd(),elementEnd()}if(2&rf){const question_r2=nextContext().$implicit,ctx_r3=nextContext(2);advance(2),textInterpolate1(" ",pipeBind1(3,4,question_r2.label),": "),advance(4),propertyInterpolate("value",ctx_r3.value),property("formControlName",question_r2.key)("id",question_r2.key)}}function DynamicFormComponent_div_1_div_8_div_4_Template(rf,ctx){if(1&rf){const _r14=getCurrentView();elementStart(0,"div"),elementStart(1,"mat-checkbox",17),listener("change",function($event){restoreView(_r14);const question_r2=nextContext().$implicit;return nextContext(2).checkingChecks(question_r2.key,$event.checked)}),elementStart(2,"label"),text(3),pipe(4,"titlecase"),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const question_r2=nextContext().$implicit;advance(1),property("formControlName",question_r2.key)("checked",question_r2.checked),advance(2),textInterpolate1(" ",pipeBind1(4,3,question_r2.label)," ")}}function DynamicFormComponent_div_1_div_8_div_5_Template(rf,ctx){if(1&rf){const _r18=getCurrentView();elementStart(0,"div",14),elementStart(1,"div",18),elementStart(2,"label"),text(3),pipe(4,"titlecase"),elementEnd(),elementEnd(),elementStart(5,"div"),elementStart(6,"mat-slider",19),listener("change",function($event){restoreView(_r18);const question_r2=nextContext().$implicit;return nextContext(2).showQuestionValue(question_r2.key,$event.value)}),elementEnd(),elementEnd(),elementStart(7,"div"),elementStart(8,"label",20),text(9),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const question_r2=nextContext().$implicit;advance(3),textInterpolate3("",pipeBind1(4,10,question_r2.label)," (",question_r2.min," - ",question_r2.max,"): "),advance(3),property("formControlName",question_r2.key)("max",question_r2.max)("min",question_r2.min)("thumbLabel",!0)("value",question_r2.min),advance(2),propertyInterpolate("id",question_r2.key),advance(1),textInterpolate1(" ",question_r2.value," ")}}function DynamicFormComponent_div_1_div_8_select_6_option_1_Template(rf,ctx){if(1&rf&&(elementStart(0,"option",23),text(1),elementEnd()),2&rf){const opt_r21=ctx.$implicit;property("value",opt_r21.key),advance(1),textInterpolate(opt_r21.value)}}function DynamicFormComponent_div_1_div_8_select_6_Template(rf,ctx){if(1&rf&&(elementStart(0,"select",21),template(1,DynamicFormComponent_div_1_div_8_select_6_option_1_Template,2,2,"option",22),elementEnd()),2&rf){const question_r2=nextContext().$implicit;property("id",question_r2.key)("formControlName",question_r2.key),advance(1),property("ngForOf",question_r2.options)}}function DynamicFormComponent_div_1_div_8_Template(rf,ctx){if(1&rf&&(elementStart(0,"div",8),elementStart(1,"div",9),elementStart(2,"div",10),template(3,DynamicFormComponent_div_1_div_8_mat_form_field_3_Template,9,6,"mat-form-field",11),template(4,DynamicFormComponent_div_1_div_8_div_4_Template,5,5,"div",11),template(5,DynamicFormComponent_div_1_div_8_div_5_Template,10,12,"div",12),template(6,DynamicFormComponent_div_1_div_8_select_6_Template,2,3,"select",13),elementEnd(),elementEnd(),elementEnd()),2&rf){const question_r2=ctx.$implicit,ctx_r1=nextContext(2);advance(1),property("formGroup",ctx_r1.form),advance(1),property("ngSwitch",question_r2.controlType),advance(1),property("ngSwitchCase","textbox"),advance(1),property("ngSwitchCase","checkbox"),advance(1),property("ngSwitchCase","slider"),advance(1),property("ngSwitchCase","dropdown")}}function DynamicFormComponent_div_1_Template(rf,ctx){if(1&rf){const _r24=getCurrentView();elementStart(0,"div",2),elementStart(1,"mat-card"),elementStart(2,"mat-card-title-group"),elementStart(3,"mat-card-title"),text(4,"Beschreibung"),elementEnd(),elementEnd(),element(5,"mat-divider",3),elementStart(6,"form",4),listener("ngSubmit",function(){return restoreView(_r24),nextContext().onSubmit()}),elementStart(7,"div"),template(8,DynamicFormComponent_div_1_div_8_Template,7,6,"div",5),elementStart(9,"div",6),elementStart(10,"button",7),text(11,"Ok"),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();advance(6),property("formGroup",ctx_r0.form),advance(2),property("ngForOf",ctx_r0.sQuestions),advance(2),property("disabled",!ctx_r0.form.valid)}}let dynamic_form_component_DynamicFormComponent=(()=>{class DynamicFormComponent{constructor(questionService,snackBar){this.questionService=questionService,this.snackBar=snackBar,this.formSubmitted=new EventEmitter,this.payLoad="",this.value="",this.checkBoxChecked=!1,this.payLoadSource=new Subject_Subject,this.payLoad$=this.payLoadSource.asObservable(),this.onChange=input=>{this.value=input},this.onKeyPress=button=>{"{shift}"!==button&&"{lock}"!==button||this.handleShift()},this.onInputChange=(event,questionKey)=>{try{this.keyboard&&this.keyboard.setInput(event.target.value)}catch(e){console.log(e,"Perhaps the virtual keyboard is not being used?")}},this.handleShift=()=>{this.keyboard.setOptions({layoutName:"default"===this.keyboard.options.layoutName?"shift":"default"})}}ngOnInit(){this.showForm$=of(!1),this.keyboardVisible=!0,this.questionsSubscription=this.questions.subscribe(data=>{this.sQuestions=data,this.form=this.questionService.toFormGroup(data)},error=>console.log("Error in subscription to questions ",error)),this.showFormSubscription=this.showForm.subscribe(data=>{this.showForm$=of(data)},error=>console.log("error showing form",error));const div=document.createElement("div");div.className+="simple-keyboard",document.body.appendChild(div)}ngAfterViewInit(){this.payLoadSource.next(!0),this.keyboardVisible=!1}showKeyboard(){if(this.keyboardVisible)return this.keyboardVisible=!1,void(this.elRef.nativeElement.innerHTML="");this.keyboardVisible=!0,this.keyboard=new build_default.a({onChange:input=>this.onChange(input),onKeyPress:button=>this.onKeyPress(button)})}onInputFocusOut(event,questionKey){this.controlInput=this.form.get(questionKey)}closeForm(){this.showForm$=of(!1)}onSubmit(){this.input&&this.input.nativeElement.value.length>0&&this.controlInput.setValue(this.input.nativeElement.value),this.payLoad=this.form.getRawValue(),this.dataForm=this.payLoad,this.payLoadSource.next(this.payLoad),this.formSubmitted.emit({payload:this.payLoad,feature:this.featureLayer.feature,layerName:this.featureLayer.layerName}),this.keyboardVisible=!1}showQuestionValue(elementID,value){const label=document.getElementById(elementID);label&&(label.innerHTML=value)}stopMoving($event){$event.stopImmediatePropagation()}checkingChecks(questionKey,value){const peersToCheck=["auto","schiene","sonstiges"],questions_source=peersToCheck.map(x=>"laermquelle_".concat(x)),subFix=(peersToCheck.map(x=>"intensitaet_".concat(x)),questionKey.substring("intensitaet_".length,questionKey.length));if(questions_source.findIndex(x=>x===questionKey)>=0){let controlIntensity=this.form.get("intensitaet_".concat(subFix));if(this.form.get("laermquelle_".concat(subFix)),value)return controlIntensity.setValidators(forms_Validators.compose([forms_Validators.min(1),forms_Validators.required])),void controlIntensity.updateValueAndValidity();value||(controlIntensity.setValue(0),this.showQuestionValue("intensitaet_".concat(subFix),0),controlIntensity.clearValidators(),controlIntensity.updateValueAndValidity())}}ngOnDestroy(){this.questionsSubscription.unsubscribe()}}return DynamicFormComponent.fac=function(t){return new(t||DynamicFormComponent)(directiveInject(question_service_service_QuestionService),directiveInject(snack_bar_MatSnackBar))},DynamicFormComponent.cmp=defineComponent({type:DynamicFormComponent,selectors:[["app-dynamic-form"]],viewQuery:function(rf,ctx){if(1&rf&&(viewQuery(dynamic_form_component_c0,1),viewQuery(dynamic_form_component_c1,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.elRef=_t.first),queryRefresh(_t=loadQuery())&&(ctx.input=_t.first)}},inputs:{questions:"questions",showForm:"showForm",featureLayer:"featureLayer",dataForm:"dataForm"},outputs:{formSubmitted:"formSubmitted"},decls:3,vars:3,consts:[[1,"parent"],["class","example-list","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".parent",4,"ngIf"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".parent",1,"example-list"],[1,"toolbarDivider"],[3,"formGroup","ngSubmit"],["class","form-row",4,"ngFor","ngForOf"],[1,"closingButton"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[1,"form-row"],[3,"formGroup"],[1,"inputField",3,"ngSwitch"],[4,"ngSwitchCase"],["class","container",4,"ngSwitchCase"],[3,"id","formControlName",4,"ngSwitchCase"],[1,"container"],["matInput","","autocomplete","off","placeholder","Details",1,"input",3,"formControlName","id","value","focusout"],["input",""],["labelPosition","after","color","primary",3,"formControlName","checked","change"],[1,"sliderLabel"],["color","primary",3,"formControlName","max","min","thumbLabel","value","change"],[3,"id"],[3,"id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(rf,ctx){1&rf&&(elementStart(0,"div",0),template(1,DynamicFormComponent_div_1_Template,12,3,"div",1),pipe(2,"async"),elementEnd()),2&rf&&(advance(1),property("ngIf",pipeBind1(2,1,ctx.showForm$)))},directives:[common_NgIf,drag_drop_CdkDrag,card_MatCard,card_MatCardTitleGroup,card_MatCardTitle,divider_MatDivider,forms_NgNoValidate,forms_NgControlStatusGroup,forms_FormGroupDirective,common_NgForOf,button_MatButton,common_NgSwitch,common_NgSwitchCase,form_field_MatFormField,form_field_MatLabel,input_MatInput,forms_DefaultValueAccessor,forms_NgControlStatus,forms_FormControlName,checkbox_MatCheckbox,slider_MatSlider,forms_SelectControlValueAccessor,forms_NgSelectOption,forms_NgSelectMultipleOption],pipes:[common_AsyncPipe,common_TitleCasePipe],styles:[".example-list[_ngcontent-%COMP%]{left:40%!important;max-width:28%;width:22%;top:40%!important;opacity:.9;background-color:#fff}.label[_ngcontent-%COMP%]{padding-left:5px;max-width:80%}.inputField[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{display:inline-block}.inputField[_ngcontent-%COMP%]{padding:0 10px}.tittle[_ngcontent-%COMP%]{text-align:center}.sliderLabel[_ngcontent-%COMP%]{padding-top:10px;padding-right:8px}.form-row[_ngcontent-%COMP%]{padding-top:5px}.container[_ngcontent-%COMP%]{display:flex}.closingButton[_ngcontent-%COMP%]{text-align:right}input[type=range][_ngcontent-%COMP%]{width:4vw}input[type=text][_ngcontent-%COMP%]{width:12vw;padding:40px 10px!important;border:2px solid red}.parent[_ngcontent-%COMP%]{width:100%;height:100%}.simple-keyboard-hidden[_ngcontent-%COMP%]{display:none}.hide-keyboard[_ngcontent-%COMP%]{overflow:hidden;height:0}.mat-input-element[_ngcontent-%COMP%]{width:12vw}"]}),DynamicFormComponent})();const select_c0=["trigger"],select_c1=["panel"];function MatSelect_span_4_Template(rf,ctx){if(1&rf&&(elementStart(0,"span",8),text(1),elementEnd()),2&rf){const ctx_r2=nextContext();advance(1),textInterpolate(ctx_r2.placeholder||"")}}function MatSelect_span_5_span_1_Template(rf,ctx){if(1&rf&&(elementStart(0,"span"),text(1),elementEnd()),2&rf){const ctx_r5=nextContext(2);advance(1),textInterpolate(ctx_r5.triggerValue||"")}}function MatSelect_span_5_ng_content_2_Template(rf,ctx){1&rf&&projection(0,0,["*ngSwitchCase","true"])}function MatSelect_span_5_Template(rf,ctx){1&rf&&(elementStart(0,"span",9),template(1,MatSelect_span_5_span_1_Template,2,1,"span",10),template(2,MatSelect_span_5_ng_content_2_Template,1,0,"ng-content",11),elementEnd()),2&rf&&(property("ngSwitch",!!nextContext().customTrigger),advance(2),property("ngSwitchCase",!0))}function MatSelect_ng_template_8_Template(rf,ctx){if(1&rf){const _r9=getCurrentView();elementStart(0,"div",12),elementStart(1,"div",13,14),listener("@transformPanel.done",function($event){return restoreView(_r9),nextContext()._panelDoneAnimatingStream.next($event.toState)})("keydown",function($event){return restoreView(_r9),nextContext()._handleKeydown($event)}),projection(3,1),elementEnd(),elementEnd()}if(2&rf){const ctx_r4=nextContext();property("@transformPanelWrap",void 0),advance(1),prefix="mat-select-panel ",v0=ctx_r4._getPanelTheme(),suffix="",function(keyValueArraySet,stringParser,value,isClassBased){const tView=getTView(),bindingIndex=incrementBindingIndex(2);tView.firstUpdatePass&&stylingFirstUpdatePass(tView,null,bindingIndex,!0);const lView=getLView();if(value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){const tNode=tView.data[getSelectedIndex()];if(hasStylingInputShadow(tNode,!0)&&!isInHostBindings(tView,bindingIndex)){let staticPrefix=tNode.classesWithoutHost;null!==staticPrefix&&(value=concatStringsWithSpace(staticPrefix,value||"")),setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,!0)}else!function(tView,tNode,lView,renderer,oldKeyValueArray,newKeyValueArray,isClassBased,bindingIndex){oldKeyValueArray===NO_CHANGE&&(oldKeyValueArray=EMPTY_ARRAY$3);let oldIndex=0,newIndex=0,oldKey=0<oldKeyValueArray.length?oldKeyValueArray[0]:null,newKey=0<newKeyValueArray.length?newKeyValueArray[0]:null;for(;null!==oldKey||null!==newKey;){const oldValue=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex+1]:void 0,newValue=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex+1]:void 0;let setValue,setKey=null;oldKey===newKey?(oldIndex+=2,newIndex+=2,oldValue!==newValue&&(setKey=newKey,setValue=newValue)):null===newKey||null!==oldKey&&oldKey<newKey?(oldIndex+=2,setKey=oldKey):(newIndex+=2,setKey=newKey,setValue=newValue),null!==setKey&&updateStyling(tView,tNode,lView,renderer,setKey,setValue,!0,bindingIndex),oldKey=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex]:null,newKey=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex]:null}}(tView,tNode,lView,lView[11],lView[bindingIndex+1],lView[bindingIndex+1]=function(keyValueArraySet,stringParser,value){if(null==value||""===value)return EMPTY_ARRAY$3;const styleKeyValueArray=[],unwrappedValue=unwrapSafeValue(value);if(Array.isArray(unwrappedValue))for(let i=0;i<unwrappedValue.length;i++)keyValueArraySet(styleKeyValueArray,unwrappedValue[i],!0);else if("object"==typeof unwrappedValue)for(const key in unwrappedValue)unwrappedValue.hasOwnProperty(key)&&keyValueArraySet(styleKeyValueArray,key,unwrappedValue[key]);else"string"==typeof unwrappedValue&&stringParser(styleKeyValueArray,unwrappedValue);return styleKeyValueArray}(keyValueArraySet,stringParser,value),0,bindingIndex)}}(keyValueArraySet,classStringParser,interpolation1(getLView(),prefix,v0,suffix)),styleProp("transform-origin",ctx_r4._transformOrigin)("font-size",ctx_r4._triggerFontSize,"px"),property("ngClass",ctx_r4.panelClass)("@transformPanel",ctx_r4.multiple?"showing-multiple":"showing"),attribute("id",ctx_r4.id+"-panel")("aria-multiselectable",ctx_r4.multiple)("aria-label",ctx_r4.ariaLabel||null)("aria-labelledby",ctx_r4._getPanelAriaLabelledby())}var prefix,v0,suffix}const select_c2=[[["mat-select-trigger"]],"*"],select_c3=["mat-select-trigger","*"],matSelectAnimations={transformPanelWrap:trigger("transformPanelWrap",[animations_transition("* => void",animations_query("@transformPanel",[animateChild()],{optional:!0}))]),transformPanel:trigger("transformPanel",[animations_state("void",animations_style({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),animations_state("showing",animations_style({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),animations_state("showing-multiple",animations_style({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),animations_transition("void => *",animate("120ms cubic-bezier(0, 0, 0.2, 1)")),animations_transition("* => void",animate("100ms 25ms linear",animations_style({opacity:0})))])};let select_nextUniqueId=0;const MAT_SELECT_SCROLL_STRATEGY=new InjectionToken("mat-select-scroll-strategy"),MAT_SELECT_CONFIG=new InjectionToken("MAT_SELECT_CONFIG"),MAT_SELECT_SCROLL_STRATEGY_PROVIDER={provide:MAT_SELECT_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition()}};class MatSelectChange{constructor(source,value){this.source=source,this.value=value}}class MatSelectBase{constructor(_elementRef,_defaultErrorStateMatcher,_parentForm,_parentFormGroup,ngControl){this._elementRef=_elementRef,this._defaultErrorStateMatcher=_defaultErrorStateMatcher,this._parentForm=_parentForm,this._parentFormGroup=_parentFormGroup,this.ngControl=ngControl}}const _MatSelectMixinBase=mixinDisableRipple(mixinTabIndex(mixinDisabled(mixinErrorState(MatSelectBase)))),MAT_SELECT_TRIGGER=new InjectionToken("MatSelectTrigger");let select_MatSelect=(()=>{class MatSelect extends _MatSelectMixinBase{constructor(_viewportRuler,_changeDetectorRef,_ngZone,_defaultErrorStateMatcher,elementRef,_dir,_parentForm,_parentFormGroup,_parentFormField,ngControl,tabIndex,scrollStrategyFactory,_liveAnnouncer,defaults){super(elementRef,_defaultErrorStateMatcher,_parentForm,_parentFormGroup,ngControl),this._viewportRuler=_viewportRuler,this._changeDetectorRef=_changeDetectorRef,this._ngZone=_ngZone,this._dir=_dir,this._parentFormField=_parentFormField,this.ngControl=ngControl,this._liveAnnouncer=_liveAnnouncer,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(o1,o2)=>o1===o2,this._uid="mat-select-"+select_nextUniqueId++,this._triggerAriaLabelledBy=null,this._destroy=new Subject_Subject,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+select_nextUniqueId++,this._transformOrigin="top",this._panelDoneAnimatingStream=new Subject_Subject,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=defer(()=>{const options=this.options;return options?options.changes.pipe(startWith(options),switchMap(()=>merge(...options.map(option=>option.onSelectionChange)))):this._ngZone.onStable.pipe(take(1),switchMap(()=>this.optionSelectionChanges))}),this.openedChange=new EventEmitter,this._openedStream=this.openedChange.pipe(filter_filter(o=>o),map_map(()=>{})),this._closedStream=this.openedChange.pipe(filter_filter(o=>!o),map_map(()=>{})),this.selectionChange=new EventEmitter,this.valueChange=new EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=scrollStrategyFactory,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(tabIndex)||0,this.id=this.id,defaults&&(null!=defaults.disableOptionCentering&&(this.disableOptionCentering=defaults.disableOptionCentering),null!=defaults.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=defaults.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(value){this._placeholder=value,this.stateChanges.next()}get required(){return this._required}set required(value){this._required=coerceBooleanProperty(value),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(value){this._multiple=coerceBooleanProperty(value)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(value){this._disableOptionCentering=coerceBooleanProperty(value)}get compareWith(){return this._compareWith}set compareWith(fn){this._compareWith=fn,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(newValue){newValue!==this._value&&(this.options&&this._setSelectionByValue(newValue),this._value=newValue)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(value){this._typeaheadDebounceInterval=coerceNumberProperty(value)}get id(){return this._id}set id(value){this._id=value||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new collections_SelectionModel(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(distinctUntilChanged(),takeUntil(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(takeUntil(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(takeUntil(this._destroy)).subscribe(event=>{event.added.forEach(option=>option.select()),event.removed.forEach(option=>option.deselect())}),this.options.changes.pipe(startWith(null),takeUntil(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const newAriaLabelledby=this._getTriggerAriaLabelledby();if(newAriaLabelledby!==this._triggerAriaLabelledBy){const element=this._elementRef.nativeElement;this._triggerAriaLabelledBy=newAriaLabelledby,newAriaLabelledby?element.setAttribute("aria-labelledby",newAriaLabelledby):element.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(changes){changes.disabled&&this.stateChanges.next(),changes.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(take(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(value){this.value=value}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const selectedOptions=this._selectionModel.selected.map(option=>option.viewValue);return this._isRtl()&&selectedOptions.reverse(),selectedOptions.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(event){this.disabled||(this.panelOpen?this._handleOpenKeydown(event):this._handleClosedKeydown(event))}_handleClosedKeydown(event){const keyCode=event.keyCode,isArrowKey=40===keyCode||38===keyCode||37===keyCode||39===keyCode,isOpenKey=13===keyCode||32===keyCode,manager=this._keyManager;if(!manager.isTyping()&&isOpenKey&&!hasModifierKey(event)||(this.multiple||event.altKey)&&isArrowKey)event.preventDefault(),this.open();else if(!this.multiple){const previouslySelectedOption=this.selected;manager.onKeydown(event);const selectedOption=this.selected;selectedOption&&previouslySelectedOption!==selectedOption&&this._liveAnnouncer.announce(selectedOption.viewValue,1e4)}}_handleOpenKeydown(event){const manager=this._keyManager,keyCode=event.keyCode,isArrowKey=40===keyCode||38===keyCode,isTyping=manager.isTyping();if(isArrowKey&&event.altKey)event.preventDefault(),this.close();else if(isTyping||13!==keyCode&&32!==keyCode||!manager.activeItem||hasModifierKey(event))if(!isTyping&&this._multiple&&65===keyCode&&event.ctrlKey){event.preventDefault();const hasDeselectedOptions=this.options.some(opt=>!opt.disabled&&!opt.selected);this.options.forEach(option=>{option.disabled||(hasDeselectedOptions?option.select():option.deselect())})}else{const previouslyFocusedIndex=manager.activeItemIndex;manager.onKeydown(event),this._multiple&&isArrowKey&&event.shiftKey&&manager.activeItem&&manager.activeItemIndex!==previouslyFocusedIndex&&manager.activeItem._selectViaInteraction()}else event.preventDefault(),manager.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(take(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(value){if(this.multiple&&value)Array.isArray(value),this._selectionModel.clear(),value.forEach(currentValue=>this._selectValue(currentValue)),this._sortValues();else{this._selectionModel.clear();const correspondingOption=this._selectValue(value);correspondingOption?this._keyManager.updateActiveItem(correspondingOption):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(value){const correspondingOption=this.options.find(option=>{try{return null!=option.value&&this._compareWith(option.value,value)}catch(error){return!1}});return correspondingOption&&this._selectionModel.select(correspondingOption),correspondingOption}_initKeyManager(){this._keyManager=new ActiveDescendantKeyManager(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(takeUntil(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(takeUntil(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const changedOrDestroyed=merge(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(takeUntil(changedOrDestroyed)).subscribe(event=>{this._onSelect(event.source,event.isUserInput),event.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),merge(...this.options.map(option=>option._stateChanges)).pipe(takeUntil(changedOrDestroyed)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(option,isUserInput){const wasSelected=this._selectionModel.isSelected(option);null!=option.value||this._multiple?(wasSelected!==option.selected&&(option.selected?this._selectionModel.select(option):this._selectionModel.deselect(option)),isUserInput&&this._keyManager.setActiveItem(option),this.multiple&&(this._sortValues(),isUserInput&&this.focus())):(option.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(option.value)),wasSelected!==this._selectionModel.isSelected(option)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const options=this.options.toArray();this._selectionModel.sort((a,b)=>this.sortComparator?this.sortComparator(a,b,options):options.indexOf(a)-options.indexOf(b)),this.stateChanges.next()}}_propagateChanges(fallbackValue){let valueToEmit=null;valueToEmit=this.multiple?this.selected.map(option=>option.value):this.selected?this.selected.value:fallbackValue,this._value=valueToEmit,this.valueChange.emit(valueToEmit),this._onChange(valueToEmit),this.selectionChange.emit(new MatSelectChange(this,valueToEmit)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const activeOptionIndex=this._keyManager.activeItemIndex||0,labelCount=_countGroupLabelsBeforeOption(activeOptionIndex,this.options,this.optionGroups),itemHeight=this._getItemHeight();var optionOffset,optionHeight,currentScrollPosition;this.panel.nativeElement.scrollTop=(optionHeight=itemHeight,256,(optionOffset=(activeOptionIndex+labelCount)*itemHeight)<(currentScrollPosition=this.panel.nativeElement.scrollTop)?optionOffset:optionOffset+optionHeight>currentScrollPosition+256?Math.max(0,optionOffset-256+optionHeight):currentScrollPosition)}focus(options){this._elementRef.nativeElement.focus(options)}_getOptionIndex(option){return this.options.reduce((result,current,index)=>void 0!==result?result:option===current?index:void 0,void 0)}_calculateOverlayPosition(){const itemHeight=this._getItemHeight(),items=this._getItemCount(),panelHeight=Math.min(items*itemHeight,256),maxScroll=items*itemHeight-panelHeight;let selectedOptionOffset=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);selectedOptionOffset+=_countGroupLabelsBeforeOption(selectedOptionOffset,this.options,this.optionGroups);const scrollBuffer=panelHeight/2;this._scrollTop=this._calculateOverlayScroll(selectedOptionOffset,scrollBuffer,maxScroll),this._offsetY=this._calculateOverlayOffsetY(selectedOptionOffset,scrollBuffer,maxScroll),this._checkOverlayWithinViewport(maxScroll)}_calculateOverlayScroll(selectedIndex,scrollBuffer,maxScroll){const itemHeight=this._getItemHeight();return Math.min(Math.max(0,itemHeight*selectedIndex-scrollBuffer+itemHeight/2),maxScroll)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const labelId=this._getLabelId();return this.ariaLabelledby?labelId+" "+this.ariaLabelledby:labelId}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var _a;return(null===(_a=this._parentFormField)||void 0===_a?void 0:_a.getLabelId())||""}_calculateOverlayOffsetX(){const overlayRect=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),viewportSize=this._viewportRuler.getViewportSize(),isRtl=this._isRtl(),paddingWidth=this.multiple?56:32;let offsetX;if(this.multiple)offsetX=40;else{let selected=this._selectionModel.selected[0]||this.options.first;offsetX=selected&&selected.group?32:16}isRtl||(offsetX*=-1);const leftOverflow=0-(overlayRect.left+offsetX-(isRtl?paddingWidth:0)),rightOverflow=overlayRect.right+offsetX-viewportSize.width+(isRtl?0:paddingWidth);leftOverflow>0?offsetX+=leftOverflow+8:rightOverflow>0&&(offsetX-=rightOverflow+8),this.overlayDir.offsetX=Math.round(offsetX),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(selectedIndex,scrollBuffer,maxScroll){const itemHeight=this._getItemHeight(),optionHeightAdjustment=(itemHeight-this._triggerRect.height)/2,maxOptionsDisplayed=Math.floor(256/itemHeight);let optionOffsetFromPanelTop;return this._disableOptionCentering?0:(optionOffsetFromPanelTop=0===this._scrollTop?selectedIndex*itemHeight:this._scrollTop===maxScroll?(selectedIndex-(this._getItemCount()-maxOptionsDisplayed))*itemHeight+(itemHeight-(this._getItemCount()*itemHeight-256)%itemHeight):scrollBuffer-itemHeight/2,Math.round(-1*optionOffsetFromPanelTop-optionHeightAdjustment))}_checkOverlayWithinViewport(maxScroll){const itemHeight=this._getItemHeight(),viewportSize=this._viewportRuler.getViewportSize(),topSpaceAvailable=this._triggerRect.top-8,bottomSpaceAvailable=viewportSize.height-this._triggerRect.bottom-8,panelHeightTop=Math.abs(this._offsetY),panelHeightBottom=Math.min(this._getItemCount()*itemHeight,256)-panelHeightTop-this._triggerRect.height;panelHeightBottom>bottomSpaceAvailable?this._adjustPanelUp(panelHeightBottom,bottomSpaceAvailable):panelHeightTop>topSpaceAvailable?this._adjustPanelDown(panelHeightTop,topSpaceAvailable,maxScroll):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(panelHeightBottom,bottomSpaceAvailable){const distanceBelowViewport=Math.round(panelHeightBottom-bottomSpaceAvailable);this._scrollTop-=distanceBelowViewport,this._offsetY-=distanceBelowViewport,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(panelHeightTop,topSpaceAvailable,maxScroll){const distanceAboveViewport=Math.round(panelHeightTop-topSpaceAvailable);if(this._scrollTop+=distanceAboveViewport,this._offsetY+=distanceAboveViewport,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=maxScroll)return this._scrollTop=maxScroll,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const itemHeight=this._getItemHeight(),optionHeightAdjustment=(itemHeight-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-optionHeightAdjustment+itemHeight/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let value=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(value+=" "+this.ariaLabelledby),value}setDescribedByIds(ids){this._ariaDescribedby=ids.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return MatSelect.fac=function(t){return new(t||MatSelect)(directiveInject(scrolling_ViewportRuler),directiveInject(ChangeDetectorRef),directiveInject(NgZone),directiveInject(core_ErrorStateMatcher),directiveInject(ElementRef),directiveInject(bidi_Directionality,8),directiveInject(forms_NgForm,8),directiveInject(forms_FormGroupDirective,8),directiveInject(MAT_FORM_FIELD,8),directiveInject(NgControl,10),injectAttribute("tabindex"),directiveInject(MAT_SELECT_SCROLL_STRATEGY),directiveInject(a11y_LiveAnnouncer),directiveInject(MAT_SELECT_CONFIG,8))},MatSelect.cmp=defineComponent({type:MatSelect,selectors:[["mat-select"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&(contentQuery(dirIndex,MAT_SELECT_TRIGGER,1),contentQuery(dirIndex,core_MatOption,1),contentQuery(dirIndex,MAT_OPTGROUP,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.customTrigger=_t.first),queryRefresh(_t=loadQuery())&&(ctx.options=_t),queryRefresh(_t=loadQuery())&&(ctx.optionGroups=_t)}},viewQuery:function(rf,ctx){if(1&rf&&(viewQuery(select_c0,1),viewQuery(select_c1,1),viewQuery(overlay_CdkConnectedOverlay,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.trigger=_t.first),queryRefresh(_t=loadQuery())&&(ctx.panel=_t.first),queryRefresh(_t=loadQuery())&&(ctx.overlayDir=_t.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(rf,ctx){1&rf&&listener("keydown",function($event){return ctx._handleKeydown($event)})("focus",function(){return ctx._onFocus()})("blur",function(){return ctx._onBlur()}),2&rf&&(attribute("id",ctx.id)("tabindex",ctx.tabIndex)("aria-controls",ctx.panelOpen?ctx.id+"-panel":null)("aria-expanded",ctx.panelOpen)("aria-label",ctx.ariaLabel||null)("aria-required",ctx.required.toString())("aria-disabled",ctx.disabled.toString())("aria-invalid",ctx.errorState)("aria-describedby",ctx._ariaDescribedby||null)("aria-activedescendant",ctx._getAriaActiveDescendant()),classProp("mat-select-disabled",ctx.disabled)("mat-select-invalid",ctx.errorState)("mat-select-required",ctx.required)("mat-select-empty",ctx.empty)("mat-select-multiple",ctx.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[ProvidersFeature([{provide:form_field_MatFormFieldControl,useExisting:MatSelect},{provide:MAT_OPTION_PARENT_COMPONENT,useExisting:MatSelect}]),InheritDefinitionFeature,NgOnChangesFeature],ngContentSelectors:select_c3,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(rf,ctx){if(1&rf&&(projectionDef(select_c2),elementStart(0,"div",0,1),listener("click",function(){return ctx.toggle()}),elementStart(3,"div",2),template(4,MatSelect_span_4_Template,2,1,"span",3),template(5,MatSelect_span_5_Template,3,2,"span",4),elementEnd(),elementStart(6,"div",5),element(7,"div",6),elementEnd(),elementEnd(),template(8,MatSelect_ng_template_8_Template,4,14,"ng-template",7),listener("backdropClick",function(){return ctx.close()})("attach",function(){return ctx._onAttached()})("detach",function(){return ctx.close()})),2&rf){const _r0=reference(1);advance(3),property("ngSwitch",ctx.empty),attribute("id",ctx._valueId),advance(1),property("ngSwitchCase",!0),advance(1),property("ngSwitchCase",!1),advance(3),property("cdkConnectedOverlayScrollStrategy",ctx._scrollStrategy)("cdkConnectedOverlayOrigin",_r0)("cdkConnectedOverlayOpen",ctx.panelOpen)("cdkConnectedOverlayPositions",ctx._positions)("cdkConnectedOverlayMinWidth",null==ctx._triggerRect?null:ctx._triggerRect.width)("cdkConnectedOverlayOffsetY",ctx._offsetY)}},directives:[overlay_CdkOverlayOrigin,common_NgSwitch,common_NgSwitchCase,overlay_CdkConnectedOverlay,common_NgSwitchDefault,common_NgClass],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[matSelectAnimations.transformPanelWrap,matSelectAnimations.transformPanel]},changeDetection:0}),MatSelect})(),select_MatSelectModule=(()=>{class MatSelectModule{}return MatSelectModule.mod=defineNgModule({type:MatSelectModule}),MatSelectModule.inj=defineInjector({factory:function(t){return new(t||MatSelectModule)},providers:[MAT_SELECT_SCROLL_STRATEGY_PROVIDER],imports:[[common_CommonModule,overlay_OverlayModule,core_MatOptionModule,core_MatCommonModule],scrolling_CdkScrollableModule,form_field_MatFormFieldModule,core_MatOptionModule,core_MatCommonModule]}),MatSelectModule})();function DialogPopulationExposedComponent_mat_option_9_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",9),text(1),pipe(2,"titlecase"),elementEnd()),2&rf){const layer_r3=ctx.$implicit;property("value",layer_r3),advance(1),textInterpolate1(" ",pipeBind1(2,2,layer_r3)," ")}}function DialogPopulationExposedComponent_mat_option_14_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",9),text(1),elementEnd()),2&rf){const level_r4=ctx.$implicit;property("value",level_r4),advance(1),textInterpolate1(" ",level_r4," ")}}function DialogPopulationExposedComponent_mat_option_19_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",9),text(1),elementEnd()),2&rf){const level_r5=ctx.$implicit;property("value",level_r5),advance(1),textInterpolate1(" ",level_r5," ")}}let dialog_population_exposed_component_DialogPopulationExposedComponent=(()=>{class DialogPopulationExposedComponent{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data,this.noiseLevels=[45,50,55,60,65,70,75,80,85],this.formGroup=new FormGroup({selectedLayer:new FormControl,selectedNoiseLayer:new FormControl,lowLevel:new FormControl,highLevel:new FormControl})}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return DialogPopulationExposedComponent.fac=function(t){return new(t||DialogPopulationExposedComponent)(directiveInject(dialog_MatDialogRef),directiveInject(MAT_DIALOG_DATA))},DialogPopulationExposedComponent.cmp=defineComponent({type:DialogPopulationExposedComponent,selectors:[["app-dialog-population-exposed"]],decls:25,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","fill"],["id","selectedLayer","formControlName","selectedLayer","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["id","lowLevel","formControlName","lowLevel","required","",1,"form-control"],["id","highLevel","formControlName","highLevel","required","",1,"form-control"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","color","primary",3,"click"],[3,"value"]],template:function(rf,ctx){1&rf&&(elementStart(0,"h2",0),text(1,"Bewertung"),elementEnd(),elementStart(2,"mat-dialog-content"),text(3," Whlen Sie eine Ebene: "),elementStart(4,"div",1),elementStart(5,"mat-form-field",2),elementStart(6,"mat-label"),text(7,"Laermkarten"),elementEnd(),elementStart(8,"mat-select",3),template(9,DialogPopulationExposedComponent_mat_option_9_Template,3,4,"mat-option",4),elementEnd(),elementEnd(),elementStart(10,"mat-form-field",2),elementStart(11,"mat-label"),text(12,"Untere Laermgrenze auswaehlen (>=)"),elementEnd(),elementStart(13,"mat-select",5),template(14,DialogPopulationExposedComponent_mat_option_14_Template,2,2,"mat-option",4),elementEnd(),elementEnd(),elementStart(15,"mat-form-field",2),elementStart(16,"mat-label"),text(17,"Obere Laermgrenze auswaehlen (<)"),elementEnd(),elementStart(18,"mat-select",6),template(19,DialogPopulationExposedComponent_mat_option_19_Template,2,2,"mat-option",4),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementStart(20,"mat-dialog-actions"),elementStart(21,"button",7),text(22,"Ok"),elementEnd(),elementStart(23,"button",8),listener("click",function(){return ctx.onNoClick()}),text(24,"Cancel"),elementEnd(),elementEnd()),2&rf&&(advance(4),property("formGroup",ctx.formGroup),advance(5),property("ngForOf",ctx.data.layerList),advance(5),property("ngForOf",ctx.noiseLevels),advance(5),property("ngForOf",ctx.noiseLevels),advance(2),property("mat-dialog-close",ctx.formGroup.getRawValue()))},directives:[dialog_MatDialogTitle,dialog_MatDialogContent,forms_NgControlStatusGroup,forms_FormGroupDirective,form_field_MatFormField,form_field_MatLabel,select_MatSelect,forms_NgControlStatus,forms_FormControlName,forms_RequiredValidator,common_NgForOf,dialog_MatDialogActions,button_MatButton,dialog_MatDialogClose,core_MatOption],pipes:[common_TitleCasePipe],styles:[""]}),DialogPopulationExposedComponent})();function DialogResultExposedComponent_tr_11_Template(rf,ctx){if(1&rf&&(elementStart(0,"tr"),elementStart(1,"td"),text(2),elementEnd(),elementStart(3,"td"),text(4),elementEnd(),elementEnd()),2&rf){const item_r1=ctx.$implicit;advance(2),textInterpolate(item_r1.key),advance(2),textInterpolate(item_r1.value)}}let dialog_result_exposed_component_DialogResultExposedComponent=(()=>{class DialogResultExposedComponent{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data}ngOnInit(){}onClick(){this.dialogRef.close()}}return DialogResultExposedComponent.fac=function(t){return new(t||DialogResultExposedComponent)(directiveInject(dialog_MatDialogRef),directiveInject(MAT_DIALOG_DATA))},DialogResultExposedComponent.cmp=defineComponent({type:DialogResultExposedComponent,selectors:[["app-dialog-result-exposed"]],decls:15,vars:2,consts:[["mat-dialog-title",""],["border","0","width","100%"],[4,"ngFor","ngForOf"],["mat-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(rf,ctx){1&rf&&(elementStart(0,"h2",0),text(1,"Zusammenfassung"),elementEnd(),elementStart(2,"mat-dialog-content"),elementStart(3,"div"),text(4),element(5,"br"),elementStart(6,"table",1),elementStart(7,"th"),text(8,"Bezirke"),elementEnd(),elementStart(9,"th"),text(10,"Institutionen"),elementEnd(),template(11,DialogResultExposedComponent_tr_11_Template,5,2,"tr",2),elementEnd(),elementEnd(),elementEnd(),elementStart(12,"mat-dialog-actions"),elementStart(13,"button",3),listener("click",function(){return ctx.onClick()}),text(14,"Ok"),elementEnd(),elementEnd()),2&rf&&(advance(4),textInterpolate1(" Wurden gefunden: ",ctx.data.totalCount,", Raeumliche Ergebnisse sind in der Kartenuebersicht zu sehen."),advance(7),property("ngForOf",ctx.data.summary))},directives:[dialog_MatDialogTitle,dialog_MatDialogContent,common_NgForOf,dialog_MatDialogActions,button_MatButton],styles:[""]}),DialogResultExposedComponent})();var dist=__webpack_require__("6FLb");function DialogOrgExposedComponent_mat_option_9_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",10),text(1),pipe(2,"titlecase"),elementEnd()),2&rf){const layer_r4=ctx.$implicit;property("value",layer_r4),advance(1),textInterpolate1(" ",pipeBind1(2,2,layer_r4)," ")}}function DialogOrgExposedComponent_mat_option_14_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",10),text(1),pipe(2,"titlecase"),elementEnd()),2&rf){const noiseLayer_r5=ctx.$implicit;property("value",noiseLayer_r5),advance(1),textInterpolate1(" ",pipeBind1(2,2,noiseLayer_r5)," ")}}function DialogOrgExposedComponent_mat_option_19_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",10),text(1),elementEnd()),2&rf){const level_r6=ctx.$implicit;property("value",level_r6),advance(1),textInterpolate1(" ",level_r6," ")}}function DialogOrgExposedComponent_mat_option_24_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-option",10),text(1),elementEnd()),2&rf){const level_r7=ctx.$implicit;property("value",level_r7),advance(1),textInterpolate1(" ",level_r7," ")}}let dialog_org_exposed_component_DialogOrgExposedComponent=(()=>{class DialogOrgExposedComponent{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data,this.noiseLevels=[45,50,55,60,65,70,75,80,85],this.formGroup=new FormGroup({selectedLayer:new FormControl,selectedNoiseLayer:new FormControl,lowLevel:new FormControl,highLevel:new FormControl})}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return DialogOrgExposedComponent.fac=function(t){return new(t||DialogOrgExposedComponent)(directiveInject(dialog_MatDialogRef),directiveInject(MAT_DIALOG_DATA))},DialogOrgExposedComponent.cmp=defineComponent({type:DialogOrgExposedComponent,selectors:[["app-dialog-org-exposed"]],decls:30,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","fill"],["id","selectedLayer","formControlName","selectedLayer","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["id","selectedNoiseLayer","formControlName","selectedNoiseLayer","required","",1,"form-control"],["id","lowLevel","formControlName","lowLevel","required","",1,"form-control"],["id","highLevel","formControlName","highLevel","required","",1,"form-control"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","color","primary",3,"click"],[3,"value"]],template:function(rf,ctx){1&rf&&(elementStart(0,"h2",0),text(1,"Bewertung"),elementEnd(),elementStart(2,"mat-dialog-content"),text(3," Whlen Sie eine Ebene: "),elementStart(4,"div",1),elementStart(5,"mat-form-field",2),elementStart(6,"mat-label"),text(7,"Institutionen"),elementEnd(),elementStart(8,"mat-select",3),template(9,DialogOrgExposedComponent_mat_option_9_Template,3,4,"mat-option",4),elementEnd(),elementEnd(),elementStart(10,"mat-form-field",2),elementStart(11,"mat-label"),text(12,"Laermkarten"),elementEnd(),elementStart(13,"mat-select",5),template(14,DialogOrgExposedComponent_mat_option_14_Template,3,4,"mat-option",4),elementEnd(),elementEnd(),elementStart(15,"mat-form-field",2),elementStart(16,"mat-label"),text(17,"Untere Laermgrenze auswaehlen (>=)"),elementEnd(),elementStart(18,"mat-select",6),template(19,DialogOrgExposedComponent_mat_option_19_Template,2,2,"mat-option",4),elementEnd(),elementEnd(),elementStart(20,"mat-form-field",2),elementStart(21,"mat-label"),text(22," Obere Laermgrenze auswaehlen (<)"),elementEnd(),elementStart(23,"mat-select",7),template(24,DialogOrgExposedComponent_mat_option_24_Template,2,2,"mat-option",4),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementStart(25,"mat-dialog-actions"),elementStart(26,"button",8),text(27,"Ok"),elementEnd(),elementStart(28,"button",9),listener("click",function(){return ctx.onNoClick()}),text(29,"Cancel"),elementEnd(),elementEnd()),2&rf&&(advance(4),property("formGroup",ctx.formGroup),advance(5),property("ngForOf",ctx.data.layerList),advance(5),property("ngForOf",ctx.data.noiseMapList),advance(5),property("ngForOf",ctx.noiseLevels),advance(5),property("ngForOf",ctx.noiseLevels),advance(2),property("mat-dialog-close",ctx.formGroup.getRawValue()))},directives:[dialog_MatDialogTitle,dialog_MatDialogContent,forms_NgControlStatusGroup,forms_FormGroupDirective,form_field_MatFormField,form_field_MatLabel,select_MatSelect,forms_NgControlStatus,forms_FormControlName,forms_RequiredValidator,common_NgForOf,dialog_MatDialogActions,button_MatButton,dialog_MatDialogClose,core_MatOption],pipes:[common_TitleCasePipe],styles:[""]}),DialogOrgExposedComponent})();var FileSaver_min=__webpack_require__("Iab2"),has=__webpack_require__("YX0d"),xml2js=__webpack_require__("CDzl");let map_qgs_style_service_MapQgsStyleService=(()=>{class MapQgsStyleService{constructor(sanitizer){this.sanitizer=sanitizer,this.svgFolder=AppConfiguration.svgFolder,this.nodes={},this.layerStyles={},this.sessionLayerLegend={},this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.svgToOlParam={fill:"color",stroke:"color","stroke-width":"width","stroke-linejoin":"lineJoin"}}findJsonStyle(feature,layerName){const styleLyr=this.layerStyles[layerName];if("Single symbol"===styleLyr.symbolType)return styleLyr.style.default.style}findStyle(feature,layerName){const styleLyr=this.nodes[layerName];if(Object.keys(styleLyr).length>0){const attr=styleLyr[Object.keys(styleLyr)[0]].attr,featValue=feature.get(attr);for(const key of Object.getOwnPropertyNames(styleLyr))if(styleLyr[key].value==featValue)return styleLyr[key].style}}createLinePattern(fillColor,angle,spacing,line_width){const pixelRatio=has.a;switch(this.canvas.width=8*pixelRatio,this.canvas.height=8*pixelRatio,this.context.fillStyle="rgba(255,255,255,0.8)",this.context.beginPath(),this.context.fillRect(0,0,this.canvas.width,this.canvas.width),this.context.fill(),this.context.beginPath(),angle){case 45:this.context.moveTo(0,this.canvas.height),this.context.lineTo(this.canvas.width,0);break;case 90:this.context.moveTo(2,0),this.context.lineTo(2,this.canvas.height);break;case 135:this.context.moveTo(0,0),this.context.lineTo(this.canvas.width,this.canvas.height);break;case 180:this.context.moveTo(0,0),this.context.lineTo(this.canvas.width,0);break;default:for(let i=10;i<200;i+=20)this.context.moveTo(0,i),this.context.lineTo(this.canvas.width,i)}return this.context.lineWidth=2*line_width,this.context.strokeStyle=fillColor,this.context.stroke(),this.context.fill(),this.context.createPattern(this.canvas,"repeat")}getRGBAcolor(color,transparency="1"){let rgbaColor=color.split(",");return rgbaColor="rgba(".concat(rgbaColor[0],", ",rgbaColor[1],", ",rgbaColor[2],",",transparency,")"),rgbaColor}findDefaultStyleProvisional(geometry,layerName){return this.defineSketchStyle()}mapQsJsonPointSymbol(format,onlineResource,mark,size){const color=mark["se:Fill"][0]["se:SvgParameter"][0]._,fill=new Fill.a({color:color});let newStyle;switch(format){case"image/svg+xml":{let svg=onlineResource.$["xlink:href"];svg=svg.substring(7,svg.length);const newIcon=new Icon.a({opacity:1,crossOrigin:"anonymous",src:"data:image/svg+xml;base64,"+svg,scale:1.2,color:color});newIcon.load(),newStyle=new Style.c({image:newIcon,fill:fill});break}}return newStyle}mapQsJsonPolygonSymbol(svgParamFill,svgParamStroke){const fillColor=svgParamFill["se:SvgParameter"][0]._,olStrokeParam={};for(let i=0;i<svgParamStroke["se:SvgParameter"].length;i++)olStrokeParam[svgParamStroke["se:SvgParameter"][i].$.name]=svgParamStroke["se:SvgParameter"][i]._;const fill=new Fill.a({color:fillColor}),stroke=new Stroke.a(olStrokeParam);return new Style.c({fill:fill,stroke:stroke})}createWFSlayerStyles(xmlTextStyle){(new xml2js.Parser).parseString(xmlTextStyle,(err,result)=>{const jsonStyle=result;for(let i=0;i<jsonStyle.StyledLayerDescriptor.NamedLayer.length;i++){const layerStyle=jsonStyle.StyledLayerDescriptor.NamedLayer[i],layerName=layerStyle["se:Name"][0];for(let j=0;j<layerStyle.UserStyle[0]["se:FeatureTypeStyle"][0]["se:Rule"].length;j++){const featureStyleRule=layerStyle.UserStyle[0]["se:FeatureTypeStyle"][0]["se:Rule"][j],styleType=featureStyleRule["se:Name"][0];if("Single symbol"===styleType){if(featureStyleRule.hasOwnProperty("se:PointSymbolizer")){const seGraphic=featureStyleRule["se:PointSymbolizer"][0]["se:Graphic"][0];if(seGraphic.hasOwnProperty("se:ExternalGraphic")){const theStyle=this.mapQsJsonPointSymbol(seGraphic["se:ExternalGraphic"][1]["se:Format"][0],seGraphic["se:ExternalGraphic"][1]["se:OnlineResource"][0],seGraphic["se:Mark"][0],seGraphic["se:Size"][0]);let symbolLabel="default";"laute_orte"===layerName.toLowerCase()&&(symbolLabel="Lauter Ort"),"leise_orte"===layerName.toLowerCase()&&(symbolLabel="Leiser Ort"),"massnahmen"===layerName.toLowerCase()&&(symbolLabel="Massnahmen"),this.layerStyles[layerName]={symbolType:styleType,style:{default:{style:theStyle,label:symbolLabel,value:"default",attr:"default",symbol:"default"}}}}}if(featureStyleRule.hasOwnProperty("se:PolygonSymbolizer")){const theStyle=this.mapQsJsonPolygonSymbol(featureStyleRule["se:PolygonSymbolizer"][0]["se:Fill"][0],featureStyleRule["se:PolygonSymbolizer"][0]["se:Stroke"][0]);this.layerStyles[layerName]={symbolType:styleType,style:{default:{style:theStyle,label:"default",value:"default",attr:"default",symbol:"default"}}}}}else featureStyleRule["ogc:Filter"].length>0&&console.log("TODO categorized symbol")}}})}createAllLayerStyles(qGsServerUrl,qgsProjectFile,layerList){fetch(qGsServerUrl+"SERVICE=WMS&VERSION="+AppConfiguration.wmsVersion+"&REQUEST=GetStyles&map="+qgsProjectFile+"&LAYERS="+layerList).then(response=>response.text()).then(text=>{this.createWFSlayerStyles(text)}).catch(error=>console.error(error))}setSketchStyle(layerName){this.layerStyles[layerName]={symbolType:"Single Symbol",style:{default:{style:this.defineSketchStyle(),label:"default",value:"default",attr:"default",symbol:"default"}}}}defineSketchStyle(){const newIcon=new Icon.a({opacity:1,crossOrigin:"anonymous",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgaGVpZ2h0PSIyNHB4IgogICB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgIHdpZHRoPSIyNHB4IgogICBmaWxsPSIjMDAwMDAwIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc2IgogICBzb2RpcG9kaTpkb2NuYW1lPSJ3aGVyZV90b192b3RlX2JsYWNrXzI0ZHAuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEgKGM2OGUyMmMzODcsIDIwMjEtMDUtMjMpIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMxMCIgLz4KCiAgPHBhdGgKICAgICBkPSJNMCAwaDI0djI0SDBWMHoiCiAgICAgZmlsbD0ibm9uZSIKICAgICBpZD0icGF0aDIiIC8+CiAgPHBhdGgKICAgICBkPSJNIDEyLDEgQyA3LjU5LDEgNCw0LjU5IDQsOSBjIDAsNS41NyA2Ljk2LDEzLjM0IDcuMjYsMTMuNjcgTCAxMiwyMy40OSAxMi43NCwyMi42NyBDIDEzLjA0LDIyLjM0IDIwLDE0LjU3IDIwLDkgMjAsNC41OSAxNi40MSwxIDEyLDEgWiBtIDAsMTkuNDcgQyA5LjgyLDE3Ljg2IDYsMTIuNTQgNiw5IDYsNS42OSA4LjY5LDMgMTIsMyBjIDMuMzEsMCA2LDIuNjkgNiw2IDAsMy44MyAtNC4yNSw5LjM2IC02LDExLjQ3IHoiCiAgICAgaWQ9InBhdGg0IgogICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0ic3NjY2Nzc2Nzc3NjIgogICAgIHN0eWxlPSJmaWxsOiNkZDFjNzc7ZmlsbC1vcGFjaXR5OjEiIC8+Cjwvc3ZnPgo=",scale:1,color:"#dd1c77"});newIcon.load();const fill=new Fill.a({color:"rgba(255,0,255,0.4)"}),stroke=new Stroke.a({color:"#dd1c77",width:1.25});return new Style.c({stroke:stroke,fill:fill,image:newIcon})}getLayerStyle(layerName){return this.layerStyles[layerName]?this.layerStyles[layerName]:this.defineSketchStyle()}sanitizeImageUrl(imageUrl){return this.sanitizer.bypassSecurityTrustUrl(imageUrl)}getLegendSessionLayer(layerName){console.log("layerName, index sessionLayerLegend['pop']",layerName,layerName.toLowerCase().indexOf("pop"),this.sessionLayerLegend.pop);let legend=[{iconSrc:"",title:"Population Exposed"}];return layerName.toLowerCase().indexOf("pop")>=0&&this.sessionLayerLegend.pop&&(legend=this.sessionLayerLegend.pop),legend}createLegendSessionLayers(){let symbolList=[];symbolList.push({iconSrc:this.sanitizeImageUrl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAClJREFUSIlj/P3z738GOgImelo2auGohaMWjlo4auGohaMWjlo4XCwEABRjBBwEN+HZAAAAAElFTkSuQmCC"),title:"1.6 - 5.6"}),symbolList.push({iconSrc:this.sanitizeImageUrl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAClJREFUSIljvHPnzX8GOgImelo2auGohaMWjlo4auGohaMWjlo4XCwEACkEA89t4W+GAAAAAElFTkSuQmCC"),title:"5.6 - 9.5"}),symbolList.push({iconSrc:this.sanitizeImageUrl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAClJREFUSIljXLzg9H8GOgImelo2auGohaMWjlo4auGohaMWjlo4XCwEAHkaAznXdxYzAAAAAElFTkSuQmCC"),title:"9.5 - 13.5"}),symbolList.push({iconSrc:this.sanitizeImageUrl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAChJREFUSIljzApc/J+BjoCJnpaNWjhq4aiFoxaOWjhq4aiFoxYOFwsBzOACiRSWSXsAAAAASUVORK5CYII="),title:"13.5 - 17.5"}),symbolList.push({iconSrc:this.sanitizeImageUrl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAChJREFUSIljtGeo/c9AR8BET8tGLRy1cNTCUQtHLRy1cNTCUQuHi4UAqJkB5+FF58MAAAAASUVORK5CYII="),title:" >= 17.5"}),this.sessionLayerLegend.pop=symbolList}createStyleExposedPop(){return feature=>{let defaultStyle=new Style.c({fill:new Fill.a({color:"red"})});const valuePop=+feature.get("value");return valuePop>1.6&&valuePop<5.6?(defaultStyle=new Style.c({fill:new Fill.a({color:"#fbf9fd"})}),defaultStyle):valuePop>=5.6&&valuePop<9.5?(defaultStyle=new Style.c({fill:new Fill.a({color:"#dcdcec"})}),defaultStyle):valuePop>=9.5&&valuePop<13.5?(defaultStyle=new Style.c({fill:new Fill.a({color:"#a3a0cb"})}),defaultStyle):valuePop>=13.5&&valuePop<17.5?(defaultStyle=new Style.c({fill:new Fill.a({color:"#6a51a3"})}),defaultStyle):valuePop>=17.5?(defaultStyle=new Style.c({fill:new Fill.a({color:"#3f007d"})}),defaultStyle):void 0}}createStyleExposedOrg(layerNameLong){let color="#3f007d",layerName="";layerNameLong.indexOf("schulen")>=0&&(layerName="schulen"),layerNameLong.indexOf("tagesstatten")>=0&&(layerName="tagesstatten"),layerNameLong.indexOf("krankenhaus")>=0&&(layerName="krankenhaus");const colors={schulen:"#67a9cf",tagesstatten:"#ef8a62",krankenhaus:"#d7191c"},svgs={schulen:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgaGVpZ2h0PSIyNHB4IgogICB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgIHdpZHRoPSIyNHB4IgogICBmaWxsPSIjMDAwMDAwIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcyNDkiCiAgIHNvZGlwb2RpOmRvY25hbWU9InNjaG9vbHMuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEgKGM2OGUyMmMzODcsIDIwMjEtMDUtMjMpIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMyNTMiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJuYW1lZHZpZXcyNTEiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iNy44NDM3NSIKICAgICBpbmtzY2FwZTpjeD0iLTMxLjEwNzU3IgogICAgIGlua3NjYXBlOmN5PSIxOS4zMTQ3NDEiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwMDEiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii05IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIxMTkxIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0iSWNvbnMiIC8+CiAgPGcKICAgICBpZD0iTGF5ZXJfMiIKICAgICBkYXRhLW5hbWU9IkxheWVyIDIiCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC40MjA5ODI3NCwwLDAsMC40MTU2NzA2NiwyLjI2Mjk0ODQsMi4wMDc5Njc5KSI+CiAgICA8ZwogICAgICAgaWQ9Ikljb25zIj4KICAgICAgPHBhdGgKICAgICAgICAgaWQ9InBhdGgxOTciCiAgICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC40MTgzMTg7ZmlsbDojRkZGRkZGIgogICAgICAgICBjbGFzcz0iY2xzLTEiCiAgICAgICAgIGQ9Ik0gMTIuMTA1NDY5IDIuMDQ4ODI4MSBBIDAuODQxOTY1NDggMC44MzEzNDEzMiAwIDAgMCAxMS41MjUzOTEgMi44Mzk4NDM4IEwgMTEuNTI1MzkxIDYuODkyNTc4MSBMIDguNTc4MTI1IDkuMDc0MjE4OCBMIDQuMzY3MTg3NSA5LjA3NDIxODggQSAwLjQyMjE5NTE3IDAuNDE2ODY3NzkgMCAwIDAgMy45NDcyNjU2IDkuNDkwMjM0NCBMIDMuOTQ3MjY1NiAxOS44ODA4NTkgTCAxMC42ODE2NDEgMTkuODgwODU5IEwgMTAuNjgxNjQxIDE1LjcyNDYwOSBBIDAuODQ0NDE5ODEgMC44MzM3NjQ2OCAwIDAgMSAxMS41MjUzOTEgMTQuODk0NTMxIEwgMTMuMjA4OTg0IDE0Ljg5NDUzMSBBIDAuODQ0NDE5ODEgMC44MzM3NjQ2OCAwIDAgMSAxNC4wNTA3ODEgMTUuNzI0NjA5IEwgMTQuMDUwNzgxIDE5Ljg4MDg1OSBMIDIwLjc4NzEwOSAxOS44ODA4NTkgTCAyMC43ODcxMDkgOS40OTAyMzQ0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAwIDIwLjM2NTIzNCA5LjA3NDIxODggTCAxNi4xNTYyNSA5LjA3NDIxODggTCAxMy4yMDg5ODQgNi44OTI1NzgxIEwgMTMuMjA4OTg0IDUuMzMzOTg0NCBMIDE2Ljk5ODA0NyA1LjMzMzk4NDQgTCAxNi45OTgwNDcgMi44Mzk4NDM4IEwgMTMuMjA4OTg0IDIuODM5ODQzOCBBIDAuODQxOTY1NDggMC44MzEzNDEzMiAwIDAgMCAxMi4xMDU0NjkgMi4wNDg4MjgxIHogTSAxMi4zNjcxODggOS4wNzQyMTg4IEEgMS42ODM0ODg5IDEuNjYyMjQ2MiAwIDAgMSAxNC4wNTA3ODEgMTAuNzM2MzI4IEEgMS42ODM5MzEgMS42NjI2ODI2IDAgMSAxIDEyLjM2NzE4OCA5LjA3NDIxODggeiBNIDYuNDcyNjU2MiAxMC43MzYzMjggTCA3LjMxNDQ1MzEgMTAuNzM2MzI4IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDcuNzM2MzI4MSAxMS4xNTIzNDQgTCA3LjczNjMyODEgMTMuMjMwNDY5IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDcuMzE0NDUzMSAxMy42NDY0ODQgTCA2LjQ3MjY1NjIgMTMuNjQ2NDg0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDYuMDUyNzM0NCAxMy4yMzA0NjkgTCA2LjA1MjczNDQgMTEuMTUyMzQ0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDYuNDcyNjU2MiAxMC43MzYzMjggeiBNIDE3LjQxNzk2OSAxMC43MzYzMjggTCAxOC4yNTk3NjYgMTAuNzM2MzI4IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDE4LjY4MTY0MSAxMS4xNTIzNDQgTCAxOC42ODE2NDEgMTMuMjMwNDY5IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDE4LjI1OTc2NiAxMy42NDY0ODQgTCAxNy40MTc5NjkgMTMuNjQ2NDg0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDE2Ljk5ODA0NyAxMy4yMzA0NjkgTCAxNi45OTgwNDcgMTEuMTUyMzQ0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDE3LjQxNzk2OSAxMC43MzYzMjggeiBNIDYuNDcyNjU2MiAxNS4zMDg1OTQgTCA3LjMxNDQ1MzEgMTUuMzA4NTk0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDcuNzM2MzI4MSAxNS43MjQ2MDkgTCA3LjczNjMyODEgMTcuODAyNzM0IEEgMC40MjIxOTUxNyAwLjQxNjg2Nzc5IDAgMCAxIDcuMzE0NDUzMSAxOC4yMTg3NSBMIDYuNDcyNjU2MiAxOC4yMTg3NSBBIDAuNDIyMTk1MTcgMC40MTY4Njc3OSAwIDAgMSA2LjA1MjczNDQgMTcuODAyNzM0IEwgNi4wNTI3MzQ0IDE1LjcyNDYwOSBBIDAuNDIyMTk1MTcgMC40MTY4Njc3OSAwIDAgMSA2LjQ3MjY1NjIgMTUuMzA4NTk0IHogTSAxNy40MTc5NjkgMTUuMzA4NTk0IEwgMTguMjU5NzY2IDE1LjMwODU5NCBBIDAuNDIyMTk1MTcgMC40MTY4Njc3OSAwIDAgMSAxOC42ODE2NDEgMTUuNzI0NjA5IEwgMTguNjgxNjQxIDE3LjgwMjczNCBBIDAuNDIyMTk1MTcgMC40MTY4Njc3OSAwIDAgMSAxOC4yNTk3NjYgMTguMjE4NzUgTCAxNy40MTc5NjkgMTguMjE4NzUgQSAwLjQyMjE5NTE3IDAuNDE2ODY3NzkgMCAwIDEgMTYuOTk4MDQ3IDE3LjgwMjczNCBMIDE2Ljk5ODA0NyAxNS43MjQ2MDkgQSAwLjQyMjE5NTE3IDAuNDE2ODY3NzkgMCAwIDEgMTcuNDE3OTY5IDE1LjMwODU5NCB6IE0gMi44OTQ1MzEyIDIwLjcxMjg5MSBBIDAuNjMxNDc0MTEgMC42MjM1MDU5OSAwIDAgMCAyLjg5NDUzMTIgMjEuOTYwOTM4IEwgMjEuODM3ODkxIDIxLjk2MDkzOCBBIDAuNjMxNDc0MTEgMC42MjM1MDU5OSAwIDAgMCAyMS44Mzc4OTEgMjAuNzEyODkxIEwgMi44OTQ1MzEyIDIwLjcxMjg5MSB6ICIKICAgICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMi4zNzUzOTQzLDAsMCwyLjQwNTc1MDcsLTUuMzc1Mzk0NywtNC44MzA2NzAzKSIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=",tagesstatten:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjQgMjQiCiAgIGhlaWdodD0iMjRweCIKICAgdmlld0JveD0iMCAwIDI0IDI0IgogICB3aWR0aD0iMjRweCIKICAgZmlsbD0iIzAwMDAwMCIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnNDU2OCIKICAgc29kaXBvZGk6ZG9jbmFtZT0ia2luZGVyZ2FyZGVuLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xIChjNjhlMjJjMzg3LCAyMDIxLTA1LTIzKSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDU3NCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczQ1NzIiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwMDEiCiAgICAgaWQ9Im5hbWVkdmlldzQ1NzAiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjI3LjgxMjg2NyIKICAgICBpbmtzY2FwZTpjeD0iMy4yMzU5MTI0IgogICAgIGlua3NjYXBlOmN5PSIxMi41NjYxMjYiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii05IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIxMTkxIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnNDU2OCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIiAvPgogIDxyZWN0CiAgICAgZmlsbD0ibm9uZSIKICAgICBoZWlnaHQ9IjI0IgogICAgIHdpZHRoPSIyNCIKICAgICBpZD0icmVjdDQ1NjQiIC8+CiAgPHBhdGgKICAgICBpZD0icGF0aDQ1NjYiCiAgICAgZD0iTSAxMiAzIEwgMiAxMiBMIDIuMDM5MDYyNSAyMCBMIDUgMjAgTCA1IDEyIEwgMTIgNS42ODk0NTMxIEwgMTkgMTIgTCAxOSAyMCBMIDIxLjk5ODA0NyAyMCBMIDIyIDEyIEwgMTIgMyB6IE0gOS45OTYwOTM4IDEwLjQ2Mjg5MSBDIDguNjE2MDkzOCAxMC40NjI4OTEgNy40OTYwOTM4IDExLjU4Mjg5MSA3LjQ5NjA5MzggMTIuOTYyODkxIEMgNy40OTYwOTM4IDE0LjM0Mjg5MSA4LjYxNjA5MzggMTUuNDYyODkxIDkuOTk2MDkzOCAxNS40NjI4OTEgQyAxMS4zNzYwOTQgMTUuNDYyODkxIDEyLjQ5NjA5NCAxNC4zNDI4OTEgMTIuNDk2MDk0IDEyLjk2Mjg5MSBDIDEyLjQ5NjA5NCAxMS41ODI4OTEgMTEuMzc2MDk0IDEwLjQ2Mjg5MSA5Ljk5NjA5MzggMTAuNDYyODkxIHogTSA5LjMxMDU0NjkgMTEuNDA0Mjk3IEMgOS43NjMwNDY5IDEyLjA0NDI5NyAxMC41MDcxMDkgMTIuNDYyODkxIDExLjM0OTYwOSAxMi40NjI4OTEgQyAxMS41NDQ2MDkgMTIuNDYyODkxIDExLjczMjEwOSAxMi40Mzg5ODQgMTEuOTEyMTA5IDEyLjM5NjQ4NCBDIDExLjk2NDYwOSAxMi41NzM5ODQgMTEuOTk2MDk0IDEyLjc2NTM5MSAxMS45OTYwOTQgMTIuOTYyODkxIEMgMTEuOTk2MDk0IDE0LjA2NTM5MSAxMS4wOTg1OTQgMTQuOTYyODkxIDkuOTk2MDkzOCAxNC45NjI4OTEgQyA4Ljg5MzU5MzggMTQuOTYyODkxIDcuOTk2MDkzOCAxNC4wNjUzOTEgNy45OTYwOTM4IDEyLjk2Mjg5MSBDIDcuOTk2MDkzOCAxMi44OTAzOTEgOC4wMDAzMTI1IDEyLjgxNjA5NCA4LjAwNzgxMjUgMTIuNzQ2MDk0IEMgOC41OTc4MTI1IDEyLjQ4MzU5NCA5LjA2NTU0NjkgMTIuMDAxNzk3IDkuMzEwNTQ2OSAxMS40MDQyOTcgeiBNIDkuMjQ2MDkzOCAxMi45MDAzOTEgQyA5LjA3MzU5MzggMTIuOTAwMzkxIDguOTMzNTkzOCAxMy4wNDAzOTEgOC45MzM1OTM4IDEzLjIxMjg5MSBDIDguOTMzNTkzOCAxMy4zODUzOTEgOS4wNzM1OTM4IDEzLjUyNTM5MSA5LjI0NjA5MzggMTMuNTI1MzkxIEMgOS40MTg1OTM3IDEzLjUyNTM5MSA5LjU1ODU5MzggMTMuMzg1MzkxIDkuNTU4NTkzOCAxMy4yMTI4OTEgQyA5LjU1ODU5MzggMTMuMDQwMzkxIDkuNDE4NTkzNyAxMi45MDAzOTEgOS4yNDYwOTM4IDEyLjkwMDM5MSB6IE0gMTAuNzQ2MDk0IDEyLjkwMDM5MSBDIDEwLjU3MzU5NCAxMi45MDAzOTEgMTAuNDMzNTk0IDEzLjA0MDM5MSAxMC40MzM1OTQgMTMuMjEyODkxIEMgMTAuNDMzNTk0IDEzLjM4NTM5MSAxMC41NzM1OTQgMTMuNTI1MzkxIDEwLjc0NjA5NCAxMy41MjUzOTEgQyAxMC45MTg1OTQgMTMuNTI1MzkxIDExLjA1ODU5NCAxMy4zODUzOTEgMTEuMDU4NTk0IDEzLjIxMjg5MSBDIDExLjA1ODU5NCAxMy4wNDAzOTEgMTAuOTE4NTk0IDEyLjkwMDM5MSAxMC43NDYwOTQgMTIuOTAwMzkxIHogTSAxMy44NDE3OTcgMTUuMDk5NjA5IEMgMTIuNDYxNzk3IDE1LjA5OTYwOSAxMS4zNDE3OTcgMTYuMjE5NjA5IDExLjM0MTc5NyAxNy41OTk2MDkgQyAxMS4zNDE3OTcgMTguOTc5NjA5IDEyLjQ2MTc5NyAyMC4wOTk2MDkgMTMuODQxNzk3IDIwLjA5OTYwOSBDIDE1LjIyMTc5NyAyMC4wOTk2MDkgMTYuMzQxNzk3IDE4Ljk3OTYwOSAxNi4zNDE3OTcgMTcuNTk5NjA5IEMgMTYuMzQxNzk3IDE2LjIxOTYwOSAxNS4yMjE3OTcgMTUuMDk5NjA5IDEzLjg0MTc5NyAxNS4wOTk2MDkgeiBNIDEzLjE1ODIwMyAxNi4wNDI5NjkgQyAxMy42MTA3MDMgMTYuNjgyOTY5IDE0LjM1NDc2NiAxNy4wOTk2MDkgMTUuMTk3MjY2IDE3LjA5OTYwOSBDIDE1LjM5MjI2NiAxNy4wOTk2MDkgMTUuNTc5NzY2IDE3LjA3NzY1NiAxNS43NTk3NjYgMTcuMDM1MTU2IEMgMTUuODEyMjY2IDE3LjIxMjY1NiAxNS44NDE3OTcgMTcuNDAyMTA5IDE1Ljg0MTc5NyAxNy41OTk2MDkgQyAxNS44NDE3OTcgMTguNzAyMTA5IDE0Ljk0NDI5NyAxOS41OTk2MDkgMTMuODQxNzk3IDE5LjU5OTYwOSBDIDEyLjczOTI5NyAxOS41OTk2MDkgMTEuODQxNzk3IDE4LjcwMjEwOSAxMS44NDE3OTcgMTcuNTk5NjA5IEMgMTEuODQxNzk3IDE3LjUyNzEwOSAxMS44NDc5NjkgMTcuNDU0NzY2IDExLjg1NTQ2OSAxNy4zODQ3NjYgQyAxMi40NDU0NjkgMTcuMTIyMjY2IDEyLjkxMzIwMyAxNi42NDA0NjkgMTMuMTU4MjAzIDE2LjA0Mjk2OSB6IE0gMTMuMDkxNzk3IDE3LjUzNzEwOSBDIDEyLjkxOTI5NyAxNy41MzcxMDkgMTIuNzc5Mjk3IDE3LjY3NzEwOSAxMi43NzkyOTcgMTcuODQ5NjA5IEMgMTIuNzc5Mjk3IDE4LjAyMjEwOSAxMi45MTkyOTcgMTguMTYyMTA5IDEzLjA5MTc5NyAxOC4xNjIxMDkgQyAxMy4yNjQyOTcgMTguMTYyMTA5IDEzLjQwNDI5NyAxOC4wMjIxMDkgMTMuNDA0Mjk3IDE3Ljg0OTYwOSBDIDEzLjQwNDI5NyAxNy42NzcxMDkgMTMuMjY0Mjk3IDE3LjUzNzEwOSAxMy4wOTE3OTcgMTcuNTM3MTA5IHogTSAxNC41OTE3OTcgMTcuNTM3MTA5IEMgMTQuNDE5Mjk3IDE3LjUzNzEwOSAxNC4yNzkyOTcgMTcuNjc3MTA5IDE0LjI3OTI5NyAxNy44NDk2MDkgQyAxNC4yNzkyOTcgMTguMDIyMTA5IDE0LjQxOTI5NyAxOC4xNjIxMDkgMTQuNTkxNzk3IDE4LjE2MjEwOSBDIDE0Ljc2NDI5NyAxOC4xNjIxMDkgMTQuOTA0Mjk3IDE4LjAyMjEwOSAxNC45MDQyOTcgMTcuODQ5NjA5IEMgMTQuOTA0Mjk3IDE3LjY3NzEwOSAxNC43NjQyOTcgMTcuNTM3MTA5IDE0LjU5MTc5NyAxNy41MzcxMDkgeiAiCiAgICAgc3R5bGU9ImZpbGw6cGFyYW0oZmlsbCkjZmZmZmZmIiAvPgo8L3N2Zz4K",krankenhaus:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iZmlsbDpwYXJhbShmaWxsKSNmZmZmZmYiPg0KPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPg0KPHBhdGggZD0iTTE5IDNINWMtMS4xIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnptLTEgMTFoLTR2NGgtNHYtNEg2di00aDRWNmg0djRoNHY0eiIgc3R5bGU9ImZpbGw6cGFyYW0oZmlsbCkjZmZmZmZmIi8+PC9zdmc+"};colors.hasOwnProperty(layerName)&&(color=colors[layerName]),svgs.hasOwnProperty(layerName);const newIcon=new Icon.a({opacity:1,crossOrigin:"anonymous",src:"data:image/svg+xml;base64,"+svgs[layerName],scale:1,color:color});return newIcon.load(),new Style.c({image:newIcon,fill:new Fill.a({color:color})})}}return MapQgsStyleService.fac=function(t){return new(t||MapQgsStyleService)(inject(platform_browser_DomSanitizer))},MapQgsStyleService.prov=defineInjectable({token:MapQgsStyleService,factory:MapQgsStyleService.fac,providedIn:"root"}),MapQgsStyleService})(),open_layers_service_OpenLayersService=(()=>{class OpenLayersService{constructor(){this.existingProject=new Subject_Subject,this.existingProject$=this.existingProject.asObservable(),this.showEditToolbarSource=new Subject_Subject,this.showEditToolbar$=this.showEditToolbarSource.asObservable(),this.layerEditingSource=new Subject_Subject,this.layerEditing$=this.layerEditingSource.asObservable(),this.shapeEditTypeSource=new Subject_Subject,this.shapeEditType$=this.shapeEditTypeSource.asObservable(),this.showSymbolPanelSource=new Subject_Subject,this.showSymbolPanel$=this.showSymbolPanelSource.asObservable(),this.showEditLayerPanelSource=new Subject_Subject,this.showEditLayerPanel$=this.showEditLayerPanelSource.asObservable(),this.currentSymbolSource=new Subject_Subject,this.currentSymbol$=this.currentSymbolSource.asObservable(),this.saveCurrentLayerSource=new Subject_Subject,this.saveCurrentLayer$=this.saveCurrentLayerSource.asObservable(),this.saveAllLayersSource=new Subject_Subject,this.saveAllLayers$=this.saveAllLayersSource.asObservable(),this.deleteFeatsSource=new Subject_Subject,this.deleteFeats$=this.deleteFeatsSource.asObservable(),this.editActionSource=new Subject_Subject,this.editAction$=this.editActionSource.asObservable(),this.zoomHomeSource=new Subject_Subject,this.zoomHome$=this.zoomHomeSource.asObservable(),this.qgsProjectUrlSource=new Subject_Subject,this.qgsProjectUrl$=this.qgsProjectUrlSource.asObservable(),this.findPopExposedSource=new Subject_Subject,this.findPopExposed$=this.findPopExposedSource.asObservable(),this.findInstitutionsExposedSource=new Subject_Subject,this.findInstitutionsExposed$=this.findInstitutionsExposedSource.asObservable(),this.addSketchLayerSource=new Subject_Subject,this.addSketchLayer$=this.addSketchLayerSource.asObservable()}updateExistingProject(projectOpened){this.existingProject.next(projectOpened)}updateAddSketchLayer(value){this.addSketchLayerSource.next(value)}updateZoomHome(value=!0){this.zoomHomeSource.next(value)}updateShapeEditType(shapeEdit){this.shapeEditTypeSource.next(shapeEdit)}updateDeleteFeats(active){this.deleteFeatsSource.next(active)}updateEditAction(action){this.editActionSource.next(action)}updateSaveCurrentLayer(save){this.saveCurrentLayerSource.next(save)}updateSaveAllLayers(save){this.saveAllLayersSource.next(save)}updateShowEditToolbar(visible){this.showEditToolbarSource.next(visible)}updateQgsProjectUrl(url){this.qgsProjectUrlSource.next(url)}updateShowLayerPanel(visible){this.showEditLayerPanelSource.next(visible)}updateLayerEditing(layerName,layerGeom){this.layerEditingSource.next({layerName:layerName,layerGeom:layerGeom})}updateShowSymbolPanel(visible){this.showSymbolPanelSource.next(visible)}updateCurrentSymbol(symbol){this.currentSymbolSource.next(symbol)}updateFindPopExposed(data){this.findPopExposedSource.next(data)}updateFindInstitutionsExposed(data){this.findInstitutionsExposedSource.next(data)}}return OpenLayersService.fac=function(t){return new(t||OpenLayersService)},OpenLayersService.prov=defineInjectable({token:OpenLayersService,factory:OpenLayersService.fac,providedIn:"root"}),OpenLayersService})(),query_db_service_QueryDBService=(()=>{class QueryDBService{constructor(){}getOrgExposed(data){return __awaiter(this,void 0,void 0,function*(){const lowLevel=+data.lowLevel,highLevel=+data.highLevel,selectedLayer=data.selectedLayer.toLowerCase(),selectedNoiseLayer=data.selectedNoiseLayer.toLowerCase();let queryResult=null;data.selectedLayer.toLowerCase();const queryName=selectedLayer+"Bezirke"+{strassenlaerm_lden:"StrassenlaermLden",strassenlaerm_lnight:"StrassenlaermLnight",gesamtlaerm_lden:"GesamtlaermLden",industrielaerm_lden:"IndustrielaermLden",industrielaerm_lnight:"IndustrielaermLnight",zuglaerm_bogestra_lden:"ZuglaermBogestraLden",zuglaerm_bogestra_lnight:"ZuglaermBogestraLnight",zuglaerm_db_lden:"ZuglaermDbLden"}[selectedNoiseLayer.toLowerCase()],query=dist.gql`
      query { `+queryName+" (dblow: "+lowLevel+", dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id,\n        bezirkeName,\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";return console.log("query",query,"queryName",queryName),queryResult=Object(dist.request)("https://ogito.itc.utwente.nl/graphql",query).then(result=>(queryResult=result[queryName],queryResult)).then(resultQuery=>resultQuery),queryResult})}}return QueryDBService.fac=function(t){return new(t||QueryDBService)},QueryDBService.prov=defineInjectable({token:QueryDBService,factory:QueryDBService.fac,providedIn:"root"}),QueryDBService})(),accordion_nextId=0;const CDK_ACCORDION=new InjectionToken("CdkAccordion");let accordion_CdkAccordion=(()=>{class CdkAccordion{constructor(){this._stateChanges=new Subject_Subject,this._openCloseAllActions=new Subject_Subject,this.id="cdk-accordion-"+accordion_nextId++,this._multi=!1}get multi(){return this._multi}set multi(multi){this._multi=coerceBooleanProperty(multi)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(changes){this._stateChanges.next(changes)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(expanded){this.multi&&this._openCloseAllActions.next(expanded)}}return CdkAccordion.fac=function(t){return new(t||CdkAccordion)},CdkAccordion.dir=defineDirective({type:CdkAccordion,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[ProvidersFeature([{provide:CDK_ACCORDION,useExisting:CdkAccordion}]),NgOnChangesFeature]}),CdkAccordion})(),nextId$1=0,accordion_CdkAccordionItem=(()=>{class CdkAccordionItem{constructor(accordion,_changeDetectorRef,_expansionDispatcher){this.accordion=accordion,this._changeDetectorRef=_changeDetectorRef,this._expansionDispatcher=_expansionDispatcher,this._openCloseAllSubscription=Subscription_Subscription.EMPTY,this.closed=new EventEmitter,this.opened=new EventEmitter,this.destroyed=new EventEmitter,this.expandedChange=new EventEmitter,this.id="cdk-accordion-child-"+nextId$1++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=_expansionDispatcher.listen((id,accordionId)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===accordionId&&this.id!==id&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(expanded){expanded=coerceBooleanProperty(expanded),this._expanded!==expanded&&(this._expanded=expanded,this.expandedChange.emit(expanded),expanded?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(disabled){this._disabled=coerceBooleanProperty(disabled)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(expanded=>{this.disabled||(this.expanded=expanded)})}}return CdkAccordionItem.fac=function(t){return new(t||CdkAccordionItem)(directiveInject(CDK_ACCORDION,12),directiveInject(ChangeDetectorRef),directiveInject(collections_UniqueSelectionDispatcher))},CdkAccordionItem.dir=defineDirective({type:CdkAccordionItem,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ProvidersFeature([{provide:CDK_ACCORDION,useValue:void 0}])]}),CdkAccordionItem})(),accordion_CdkAccordionModule=(()=>{class CdkAccordionModule{}return CdkAccordionModule.mod=defineNgModule({type:CdkAccordionModule}),CdkAccordionModule.inj=defineInjector({factory:function(t){return new(t||CdkAccordionModule)}}),CdkAccordionModule})();const expansion_c0=["body"];function MatExpansionPanel_ng_template_5_Template(rf,ctx){}const expansion_c1=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],expansion_c2=["mat-expansion-panel-header","*","mat-action-row"];function MatExpansionPanelHeader_span_4_Template(rf,ctx){1&rf&&element(0,"span",2),2&rf&&property("@indicatorRotate",nextContext()._getExpandedState())}const expansion_c3=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],expansion_c4=["mat-panel-title","mat-panel-description","*"],MAT_ACCORDION=new InjectionToken("MAT_ACCORDION"),matExpansionAnimations={indicatorRotate:trigger("indicatorRotate",[animations_state("collapsed, void",animations_style({transform:"rotate(0deg)"})),animations_state("expanded",animations_style({transform:"rotate(180deg)"})),animations_transition("expanded <=> collapsed, void => collapsed",animate("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:trigger("bodyExpansion",[animations_state("collapsed, void",animations_style({height:"0px",visibility:"hidden"})),animations_state("expanded",animations_style({height:"*",visibility:"visible"})),animations_transition("expanded <=> collapsed, void => collapsed",animate("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let expansion_MatExpansionPanelContent=(()=>{class MatExpansionPanelContent{constructor(_template){this._template=_template}}return MatExpansionPanelContent.fac=function(t){return new(t||MatExpansionPanelContent)(directiveInject(TemplateRef))},MatExpansionPanelContent.dir=defineDirective({type:MatExpansionPanelContent,selectors:[["ng-template","matExpansionPanelContent",""]]}),MatExpansionPanelContent})(),expansion_uniqueId=0;const MAT_EXPANSION_PANEL_DEFAULT_OPTIONS=new InjectionToken("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let expansion_MatExpansionPanel=(()=>{class MatExpansionPanel extends accordion_CdkAccordionItem{constructor(accordion,_changeDetectorRef,_uniqueSelectionDispatcher,_viewContainerRef,_document,_animationMode,defaultOptions){super(accordion,_changeDetectorRef,_uniqueSelectionDispatcher),this._viewContainerRef=_viewContainerRef,this._animationMode=_animationMode,this._hideToggle=!1,this.afterExpand=new EventEmitter,this.afterCollapse=new EventEmitter,this._inputChanges=new Subject_Subject,this._headerId="mat-expansion-panel-header-"+expansion_uniqueId++,this._bodyAnimationDone=new Subject_Subject,this.accordion=accordion,this._document=_document,this._bodyAnimationDone.pipe(distinctUntilChanged((x,y)=>x.fromState===y.fromState&&x.toState===y.toState)).subscribe(event=>{"void"!==event.fromState&&("expanded"===event.toState?this.afterExpand.emit():"collapsed"===event.toState&&this.afterCollapse.emit())}),defaultOptions&&(this.hideToggle=defaultOptions.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(value){this._hideToggle=coerceBooleanProperty(value)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(value){this._togglePosition=value}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(startWith(null),filter_filter(()=>this.expanded&&!this._portal),take(1)).subscribe(()=>{this._portal=new TemplatePortal(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(changes){this._inputChanges.next(changes)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const focusedElement=this._document.activeElement,bodyElement=this._body.nativeElement;return focusedElement===bodyElement||bodyElement.contains(focusedElement)}return!1}}return MatExpansionPanel.fac=function(t){return new(t||MatExpansionPanel)(directiveInject(MAT_ACCORDION,12),directiveInject(ChangeDetectorRef),directiveInject(collections_UniqueSelectionDispatcher),directiveInject(ViewContainerRef),directiveInject(common_DOCUMENT),directiveInject(ANIMATION_MODULE_TYPE,8),directiveInject(MAT_EXPANSION_PANEL_DEFAULT_OPTIONS,8))},MatExpansionPanel.cmp=defineComponent({type:MatExpansionPanel,selectors:[["mat-expansion-panel"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&contentQuery(dirIndex,expansion_MatExpansionPanelContent,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._lazyContent=_t.first)}},viewQuery:function(rf,ctx){if(1&rf&&viewQuery(expansion_c0,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._body=_t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(rf,ctx){2&rf&&classProp("mat-expanded",ctx.expanded)("_mat-animation-noopable","NoopAnimations"===ctx._animationMode)("mat-expansion-panel-spacing",ctx._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ProvidersFeature([{provide:MAT_ACCORDION,useValue:void 0}]),InheritDefinitionFeature,NgOnChangesFeature],ngContentSelectors:expansion_c2,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(rf,ctx){1&rf&&(projectionDef(expansion_c1),projection(0),elementStart(1,"div",0,1),listener("@bodyExpansion.done",function($event){return ctx._bodyAnimationDone.next($event)}),elementStart(3,"div",2),projection(4,1),template(5,MatExpansionPanel_ng_template_5_Template,0,0,"ng-template",3),elementEnd(),projection(6,2),elementEnd()),2&rf&&(advance(1),property("@bodyExpansion",ctx._getExpandedState())("id",ctx.id),attribute("aria-labelledby",ctx._headerId),advance(4),property("cdkPortalOutlet",ctx._portal))},directives:[portal_CdkPortalOutlet],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[matExpansionAnimations.bodyExpansion]},changeDetection:0}),MatExpansionPanel})(),expansion_MatExpansionPanelHeader=(()=>{class MatExpansionPanelHeader{constructor(panel,_element,_focusMonitor,_changeDetectorRef,defaultOptions,_animationMode){this.panel=panel,this._element=_element,this._focusMonitor=_focusMonitor,this._changeDetectorRef=_changeDetectorRef,this._animationMode=_animationMode,this._parentChangeSubscription=Subscription_Subscription.EMPTY;const accordionHideToggleChange=panel.accordion?panel.accordion._stateChanges.pipe(filter_filter(changes=>!(!changes.hideToggle&&!changes.togglePosition))):empty_EMPTY;this._parentChangeSubscription=merge(panel.opened,panel.closed,accordionHideToggleChange,panel._inputChanges.pipe(filter_filter(changes=>!!(changes.hideToggle||changes.disabled||changes.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),panel.closed.pipe(filter_filter(()=>panel._containsFocus())).subscribe(()=>_focusMonitor.focusVia(_element,"program")),defaultOptions&&(this.expandedHeight=defaultOptions.expandedHeight,this.collapsedHeight=defaultOptions.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const isExpanded=this._isExpanded();return isExpanded&&this.expandedHeight?this.expandedHeight:!isExpanded&&this.collapsedHeight?this.collapsedHeight:null}_keydown(event){switch(event.keyCode){case 32:case 13:hasModifierKey(event)||(event.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(event))}}focus(origin="program",options){this._focusMonitor.focusVia(this._element,origin,options)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(origin=>{origin&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return MatExpansionPanelHeader.fac=function(t){return new(t||MatExpansionPanelHeader)(directiveInject(expansion_MatExpansionPanel,1),directiveInject(ElementRef),directiveInject(a11y_FocusMonitor),directiveInject(ChangeDetectorRef),directiveInject(MAT_EXPANSION_PANEL_DEFAULT_OPTIONS,8),directiveInject(ANIMATION_MODULE_TYPE,8))},MatExpansionPanelHeader.cmp=defineComponent({type:MatExpansionPanelHeader,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(rf,ctx){1&rf&&listener("click",function(){return ctx._toggle()})("keydown",function($event){return ctx._keydown($event)}),2&rf&&(attribute("id",ctx.panel._headerId)("tabindex",ctx.disabled?-1:0)("aria-controls",ctx._getPanelId())("aria-expanded",ctx._isExpanded())("aria-disabled",ctx.panel.disabled),styleProp("height",ctx._getHeaderHeight()),classProp("mat-expanded",ctx._isExpanded())("mat-expansion-toggle-indicator-after","after"===ctx._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===ctx._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===ctx._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:expansion_c4,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(rf,ctx){1&rf&&(projectionDef(expansion_c3),elementStart(0,"span",0),projection(1),projection(2,1),projection(3,2),elementEnd(),template(4,MatExpansionPanelHeader_span_4_Template,1,1,"span",1)),2&rf&&(advance(4),property("ngIf",ctx._showToggle()))},directives:[common_NgIf],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[matExpansionAnimations.indicatorRotate]},changeDetection:0}),MatExpansionPanelHeader})(),expansion_MatExpansionPanelTitle=(()=>{class MatExpansionPanelTitle{}return MatExpansionPanelTitle.fac=function(t){return new(t||MatExpansionPanelTitle)},MatExpansionPanelTitle.dir=defineDirective({type:MatExpansionPanelTitle,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),MatExpansionPanelTitle})(),expansion_MatAccordion=(()=>{class MatAccordion extends accordion_CdkAccordion{constructor(){super(...arguments),this._ownHeaders=new QueryList,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(show){this._hideToggle=coerceBooleanProperty(show)}ngAfterContentInit(){this._headers.changes.pipe(startWith(this._headers)).subscribe(headers=>{this._ownHeaders.reset(headers.filter(header=>header.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new FocusKeyManager(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(event){this._keyManager.onKeydown(event)}_handleHeaderFocus(header){this._keyManager.updateActiveItem(header)}}return MatAccordion.fac=function(t){return MatAccordion_BaseFactory(t||MatAccordion)},MatAccordion.dir=defineDirective({type:MatAccordion,selectors:[["mat-accordion"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&contentQuery(dirIndex,expansion_MatExpansionPanelHeader,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._headers=_t)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(rf,ctx){2&rf&&classProp("mat-accordion-multi",ctx.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[ProvidersFeature([{provide:MAT_ACCORDION,useExisting:MatAccordion}]),InheritDefinitionFeature]}),MatAccordion})();const MatAccordion_BaseFactory=getInheritedFactory(expansion_MatAccordion);let expansion_MatExpansionModule=(()=>{class MatExpansionModule{}return MatExpansionModule.mod=defineNgModule({type:MatExpansionModule}),MatExpansionModule.inj=defineInjector({factory:function(t){return new(t||MatExpansionModule)},imports:[[common_CommonModule,accordion_CdkAccordionModule,portal_PortalModule]]}),MatExpansionModule})();const list_c0=["*"],list_c1='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',list_c2=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],list_c3=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],list_c4=["text"];function MatListOption_mat_pseudo_checkbox_2_Template(rf,ctx){if(1&rf&&element(0,"mat-pseudo-checkbox",5),2&rf){const ctx_r0=nextContext();property("state",ctx_r0.selected?"checked":"unchecked")("disabled",ctx_r0.disabled)}}const list_c5=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],_c6=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];class MatListBase{}const _MatListMixinBase=mixinDisabled(mixinDisableRipple(MatListBase));class MatListItemBase{}const _MatListItemMixinBase=mixinDisableRipple(MatListItemBase),MAT_LIST=new InjectionToken("MatList"),MAT_NAV_LIST=new InjectionToken("MatNavList");let list_MatNavList=(()=>{class MatNavList extends _MatListMixinBase{constructor(){super(...arguments),this._stateChanges=new Subject_Subject}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return MatNavList.fac=function(t){return MatNavList_BaseFactory(t||MatNavList)},MatNavList.cmp=defineComponent({type:MatNavList,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[ProvidersFeature([{provide:MAT_NAV_LIST,useExisting:MatNavList}]),InheritDefinitionFeature,NgOnChangesFeature],ngContentSelectors:list_c0,decls:1,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(),projection(0))},styles:[list_c1],encapsulation:2,changeDetection:0}),MatNavList})();const MatNavList_BaseFactory=getInheritedFactory(list_MatNavList);let list_MatList=(()=>{class MatList extends _MatListMixinBase{constructor(_elementRef){super(),this._elementRef=_elementRef,this._stateChanges=new Subject_Subject,"action-list"===this._getListType()&&_elementRef.nativeElement.classList.add("mat-action-list")}_getListType(){const nodeName=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===nodeName?"list":"mat-action-list"===nodeName?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return MatList.fac=function(t){return new(t||MatList)(directiveInject(ElementRef))},MatList.cmp=defineComponent({type:MatList,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[ProvidersFeature([{provide:MAT_LIST,useExisting:MatList}]),InheritDefinitionFeature,NgOnChangesFeature],ngContentSelectors:list_c0,decls:1,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(),projection(0))},styles:[list_c1],encapsulation:2,changeDetection:0}),MatList})(),list_MatListAvatarCssMatStyler=(()=>{class MatListAvatarCssMatStyler{}return MatListAvatarCssMatStyler.fac=function(t){return new(t||MatListAvatarCssMatStyler)},MatListAvatarCssMatStyler.dir=defineDirective({type:MatListAvatarCssMatStyler,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),MatListAvatarCssMatStyler})(),list_MatListIconCssMatStyler=(()=>{class MatListIconCssMatStyler{}return MatListIconCssMatStyler.fac=function(t){return new(t||MatListIconCssMatStyler)},MatListIconCssMatStyler.dir=defineDirective({type:MatListIconCssMatStyler,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),MatListIconCssMatStyler})(),list_MatListItem=(()=>{class MatListItem extends _MatListItemMixinBase{constructor(_element,_changeDetectorRef,navList,list){super(),this._element=_element,this._isInteractiveList=!1,this._destroyed=new Subject_Subject,this._disabled=!1,this._isInteractiveList=!!(navList||list&&"action-list"===list._getListType()),this._list=navList||list;const element=this._getHostElement();"button"!==element.nodeName.toLowerCase()||element.hasAttribute("type")||element.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(takeUntil(this._destroyed)).subscribe(()=>{_changeDetectorRef.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(value){this._disabled=coerceBooleanProperty(value)}ngAfterContentInit(){setLines(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return MatListItem.fac=function(t){return new(t||MatListItem)(directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(MAT_NAV_LIST,8),directiveInject(MAT_LIST,8))},MatListItem.cmp=defineComponent({type:MatListItem,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&(contentQuery(dirIndex,list_MatListAvatarCssMatStyler,1),contentQuery(dirIndex,list_MatListIconCssMatStyler,1),contentQuery(dirIndex,core_MatLine,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._avatar=_t.first),queryRefresh(_t=loadQuery())&&(ctx._icon=_t.first),queryRefresh(_t=loadQuery())&&(ctx._lines=_t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(rf,ctx){2&rf&&classProp("mat-list-item-disabled",ctx.disabled)("mat-list-item-avatar",ctx._avatar||ctx._icon)("mat-list-item-with-avatar",ctx._avatar||ctx._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[InheritDefinitionFeature],ngContentSelectors:list_c3,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(rf,ctx){1&rf&&(projectionDef(list_c2),elementStart(0,"div",0),element(1,"div",1),projection(2),elementStart(3,"div",2),projection(4,1),elementEnd(),projection(5,2),elementEnd()),2&rf&&(advance(1),property("matRippleTrigger",ctx._getHostElement())("matRippleDisabled",ctx._isRippleDisabled()))},directives:[core_MatRipple],encapsulation:2,changeDetection:0}),MatListItem})();class MatSelectionListBase{}const _MatSelectionListMixinBase=mixinDisableRipple(MatSelectionListBase);class MatListOptionBase{}const _MatListOptionMixinBase=mixinDisableRipple(MatListOptionBase),MAT_SELECTION_LIST_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>list_MatSelectionList),multi:!0};class MatSelectionListChange{constructor(source,option,options){this.source=source,this.option=option,this.options=options}}let list_MatListOption=(()=>{class MatListOption extends _MatListOptionMixinBase{constructor(_element,_changeDetector,selectionList){super(),this._element=_element,this._changeDetector=_changeDetector,this.selectionList=selectionList,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(newValue){this._color=newValue}get value(){return this._value}set value(newValue){this.selected&&!this.selectionList.compareWith(newValue,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=newValue}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(value){const newValue=coerceBooleanProperty(value);newValue!==this._disabled&&(this._disabled=newValue,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(value){const isSelected=coerceBooleanProperty(value);isSelected!==this._selected&&(this._setSelected(isSelected),this.selectionList._reportValueChange())}ngOnInit(){const list=this.selectionList;list._value&&list._value.some(value=>list.compareWith(value,this._value))&&this._setSelected(!0);const wasSelected=this._selected;Promise.resolve().then(()=>{(this._selected||wasSelected)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){setLines(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const hadFocus=this._hasFocus,newActiveItem=this.selectionList._removeOptionFromList(this);hadFocus&&newActiveItem&&newActiveItem.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(selected){return selected!==this._selected&&(this._selected=selected,selected?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return MatListOption.fac=function(t){return new(t||MatListOption)(directiveInject(ElementRef),directiveInject(ChangeDetectorRef),directiveInject(forwardRef(()=>list_MatSelectionList)))},MatListOption.cmp=defineComponent({type:MatListOption,selectors:[["mat-list-option"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&(contentQuery(dirIndex,list_MatListAvatarCssMatStyler,1),contentQuery(dirIndex,list_MatListIconCssMatStyler,1),contentQuery(dirIndex,core_MatLine,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._avatar=_t.first),queryRefresh(_t=loadQuery())&&(ctx._icon=_t.first),queryRefresh(_t=loadQuery())&&(ctx._lines=_t)}},viewQuery:function(rf,ctx){if(1&rf&&viewQuery(list_c4,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx._text=_t.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(rf,ctx){1&rf&&listener("focus",function(){return ctx._handleFocus()})("blur",function(){return ctx._handleBlur()})("click",function(){return ctx._handleClick()}),2&rf&&(attribute("aria-selected",ctx.selected)("aria-disabled",ctx.disabled)("tabindex",-1),classProp("mat-list-item-disabled",ctx.disabled)("mat-list-item-with-avatar",ctx._avatar||ctx._icon)("mat-primary","primary"===ctx.color)("mat-accent","primary"!==ctx.color&&"warn"!==ctx.color)("mat-warn","warn"===ctx.color)("mat-list-single-selected-option",ctx.selected&&!ctx.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[InheritDefinitionFeature],ngContentSelectors:_c6,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(rf,ctx){1&rf&&(projectionDef(list_c5),elementStart(0,"div",0),element(1,"div",1),template(2,MatListOption_mat_pseudo_checkbox_2_Template,1,2,"mat-pseudo-checkbox",2),elementStart(3,"div",3,4),projection(5),elementEnd(),projection(6,1),elementEnd()),2&rf&&(classProp("mat-list-item-content-reverse","after"==ctx.checkboxPosition),advance(1),property("matRippleTrigger",ctx._getHostElement())("matRippleDisabled",ctx._isRippleDisabled()),advance(1),property("ngIf",ctx.selectionList.multiple))},directives:[core_MatRipple,common_NgIf,core_MatPseudoCheckbox],encapsulation:2,changeDetection:0}),MatListOption})(),list_MatSelectionList=(()=>{class MatSelectionList extends _MatSelectionListMixinBase{constructor(_element,tabIndex,_changeDetector,_focusMonitor){super(),this._element=_element,this._changeDetector=_changeDetector,this._focusMonitor=_focusMonitor,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new EventEmitter,this.tabIndex=0,this.color="accent",this.compareWith=(a1,a2)=>a1===a2,this._disabled=!1,this.selectedOptions=new collections_SelectionModel(this._multiple),this._tabIndex=-1,this._onChange=_=>{},this._destroyed=new Subject_Subject,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(value){const newValue=coerceBooleanProperty(value);newValue!==this._multiple&&(this._multiple=newValue,this.selectedOptions=new collections_SelectionModel(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var _a;this._contentInitialized=!0,this._keyManager=new FocusKeyManager(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(takeUntil(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(startWith(null),takeUntil(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(takeUntil(this._destroyed)).subscribe(event=>{if(event.added)for(let item of event.added)item.selected=!0;if(event.removed)for(let item of event.removed)item.selected=!1}),null===(_a=this._focusMonitor)||void 0===_a||_a.monitor(this._element).pipe(takeUntil(this._destroyed)).subscribe(origin=>{if("keyboard"===origin||"program"===origin){const activeIndex=this._keyManager.activeItemIndex;activeIndex&&-1!==activeIndex?this._keyManager.setActiveItem(activeIndex):this._keyManager.setFirstItemActive()}})}ngOnChanges(changes){const disableRippleChanges=changes.disableRipple,colorChanges=changes.color;(disableRippleChanges&&!disableRippleChanges.firstChange||colorChanges&&!colorChanges.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var _a;null===(_a=this._focusMonitor)||void 0===_a||_a.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(options){this._element.nativeElement.focus(options)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(option){this._keyManager.updateActiveItem(option)}_removeOptionFromList(option){const optionIndex=this._getOptionIndex(option);return optionIndex>-1&&this._keyManager.activeItemIndex===optionIndex&&(optionIndex>0?this._keyManager.updateActiveItem(optionIndex-1):0===optionIndex&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(optionIndex+1,this.options.length-1))),this._keyManager.activeItem}_keydown(event){const keyCode=event.keyCode,manager=this._keyManager,previousFocusIndex=manager.activeItemIndex,hasModifier=hasModifierKey(event);switch(keyCode){case 32:case 13:hasModifier||manager.isTyping()||(this._toggleFocusedOption(),event.preventDefault());break;default:if(65===keyCode&&this.multiple&&hasModifierKey(event,"ctrlKey")&&!manager.isTyping()){const shouldSelect=this.options.some(option=>!option.disabled&&!option.selected);this._setAllOptionsSelected(shouldSelect,!0,!0),event.preventDefault()}else manager.onKeydown(event)}this.multiple&&(38===keyCode||40===keyCode)&&event.shiftKey&&manager.activeItemIndex!==previousFocusIndex&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const value=this._getSelectedOptionValues();this._onChange(value),this._value=value}}_emitChangeEvent(options){this.selectionChange.emit(new MatSelectionListChange(this,options[0],options))}writeValue(values){this._value=values,this.options&&this._setOptionsFromValues(values||[])}setDisabledState(isDisabled){this.disabled=isDisabled}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}_setOptionsFromValues(values){this.options.forEach(option=>option._setSelected(!1)),values.forEach(value=>{const correspondingOption=this.options.find(option=>!option.selected&&this.compareWith(option.value,value));correspondingOption&&correspondingOption._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(option=>option.selected).map(option=>option.value)}_toggleFocusedOption(){let focusedIndex=this._keyManager.activeItemIndex;if(null!=focusedIndex&&this._isValidIndex(focusedIndex)){let focusedOption=this.options.toArray()[focusedIndex];!focusedOption||focusedOption.disabled||!this._multiple&&focusedOption.selected||(focusedOption.toggle(),this._emitChangeEvent([focusedOption]))}}_setAllOptionsSelected(isSelected,skipDisabled,isUserInput){const changedOptions=[];this.options.forEach(option=>{skipDisabled&&option.disabled||!option._setSelected(isSelected)||changedOptions.push(option)}),changedOptions.length&&(this._reportValueChange(),isUserInput&&this._emitChangeEvent(changedOptions))}_isValidIndex(index){return index>=0&&index<this.options.length}_getOptionIndex(option){return this.options.toArray().indexOf(option)}_markOptionsForCheck(){this.options&&this.options.forEach(option=>option._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return MatSelectionList.fac=function(t){return new(t||MatSelectionList)(directiveInject(ElementRef),injectAttribute("tabindex"),directiveInject(ChangeDetectorRef),directiveInject(a11y_FocusMonitor))},MatSelectionList.cmp=defineComponent({type:MatSelectionList,selectors:[["mat-selection-list"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&contentQuery(dirIndex,list_MatListOption,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.options=_t)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(rf,ctx){1&rf&&listener("keydown",function($event){return ctx._keydown($event)}),2&rf&&attribute("aria-multiselectable",ctx.multiple)("aria-disabled",ctx.disabled.toString())("tabindex",ctx._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[ProvidersFeature([MAT_SELECTION_LIST_VALUE_ACCESSOR]),InheritDefinitionFeature,NgOnChangesFeature],ngContentSelectors:list_c0,decls:1,vars:0,template:function(rf,ctx){1&rf&&(projectionDef(),projection(0))},styles:[list_c1],encapsulation:2,changeDetection:0}),MatSelectionList})(),list_MatListModule=(()=>{class MatListModule{}return MatListModule.mod=defineNgModule({type:MatListModule}),MatListModule.inj=defineInjector({factory:function(t){return new(t||MatListModule)},imports:[[core_MatLineModule,core_MatRippleModule,core_MatCommonModule,core_MatPseudoCheckboxModule,common_CommonModule],core_MatLineModule,core_MatCommonModule,core_MatPseudoCheckboxModule,divider_MatDividerModule]}),MatListModule})();const matTooltipAnimations={tooltipState:trigger("state",[animations_state("initial, void, hidden",animations_style({opacity:0,transform:"scale(0)"})),animations_state("visible",animations_style({transform:"scale(1)"})),animations_transition("* => visible",animate("200ms cubic-bezier(0, 0, 0.2, 1)",animations_keyframes([animations_style({opacity:0,transform:"scale(0)",offset:0}),animations_style({opacity:.5,transform:"scale(0.99)",offset:.5}),animations_style({opacity:1,transform:"scale(1)",offset:1})]))),animations_transition("* => hidden",animate("100ms cubic-bezier(0, 0, 0.2, 1)",animations_style({opacity:0})))])},passiveListenerOptions=normalizePassiveListenerOptions({passive:!0}),MAT_TOOLTIP_SCROLL_STRATEGY=new InjectionToken("mat-tooltip-scroll-strategy"),MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER={provide:MAT_TOOLTIP_SCROLL_STRATEGY,deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition({scrollThrottle:20})}},MAT_TOOLTIP_DEFAULT_OPTIONS=new InjectionToken("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let tooltip_MatTooltip=(()=>{class MatTooltip{constructor(_overlay,_elementRef,_scrollDispatcher,_viewContainerRef,_ngZone,_platform,_ariaDescriber,_focusMonitor,scrollStrategy,_dir,_defaultOptions){this._overlay=_overlay,this._elementRef=_elementRef,this._scrollDispatcher=_scrollDispatcher,this._viewContainerRef=_viewContainerRef,this._ngZone=_ngZone,this._platform=_platform,this._ariaDescriber=_ariaDescriber,this._focusMonitor=_focusMonitor,this._dir=_dir,this._defaultOptions=_defaultOptions,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Subject_Subject,this._handleKeydown=event=>{this._isTooltipVisible()&&27===event.keyCode&&!hasModifierKey(event)&&(event.preventDefault(),event.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=scrollStrategy,_defaultOptions&&(_defaultOptions.position&&(this.position=_defaultOptions.position),_defaultOptions.touchGestures&&(this.touchGestures=_defaultOptions.touchGestures)),_ngZone.runOutsideAngular(()=>{_elementRef.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(value){value!==this._position&&(this._position=value,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(value){this._disabled=coerceBooleanProperty(value),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(value){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=value?String(value).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(value){this._tooltipClass=value,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(takeUntil(this._destroyed)).subscribe(origin=>{origin?"keyboard"===origin&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const nativeElement=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),nativeElement.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([event,listener])=>{nativeElement.removeEventListener(event,listener,passiveListenerOptions)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(nativeElement,this.message),this._focusMonitor.stopMonitoring(nativeElement)}show(delay=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const overlayRef=this._createOverlay();this._detach(),this._portal=this._portal||new ComponentPortal(tooltip_TooltipComponent,this._viewContainerRef),this._tooltipInstance=overlayRef.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(takeUntil(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(delay)}hide(delay=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(delay)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const scrollableAncestors=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),strategy=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(scrollableAncestors);return strategy.positionChanges.pipe(takeUntil(this._destroyed)).subscribe(change=>{this._tooltipInstance&&change.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:strategy,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(takeUntil(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const position=this._overlayRef.getConfig().positionStrategy,origin=this._getOrigin(),overlay=this._getOverlayPosition();position.withPositions([Object.assign(Object.assign({},origin.main),overlay.main),Object.assign(Object.assign({},origin.fallback),overlay.fallback)])}_getOrigin(){const isLtr=!this._dir||"ltr"==this._dir.value,position=this.position;let originPosition;"above"==position||"below"==position?originPosition={originX:"center",originY:"above"==position?"top":"bottom"}:"before"==position||"left"==position&&isLtr||"right"==position&&!isLtr?originPosition={originX:"start",originY:"center"}:("after"==position||"right"==position&&isLtr||"left"==position&&!isLtr)&&(originPosition={originX:"end",originY:"center"});const{x:x,y:y}=this._invertPosition(originPosition.originX,originPosition.originY);return{main:originPosition,fallback:{originX:x,originY:y}}}_getOverlayPosition(){const isLtr=!this._dir||"ltr"==this._dir.value,position=this.position;let overlayPosition;"above"==position?overlayPosition={overlayX:"center",overlayY:"bottom"}:"below"==position?overlayPosition={overlayX:"center",overlayY:"top"}:"before"==position||"left"==position&&isLtr||"right"==position&&!isLtr?overlayPosition={overlayX:"end",overlayY:"center"}:("after"==position||"right"==position&&isLtr||"left"==position&&!isLtr)&&(overlayPosition={overlayX:"start",overlayY:"center"});const{x:x,y:y}=this._invertPosition(overlayPosition.overlayX,overlayPosition.overlayY);return{main:overlayPosition,fallback:{overlayX:x,overlayY:y}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(take(1),takeUntil(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(tooltipClass){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=tooltipClass,this._tooltipInstance._markForCheck())}_invertPosition(x,y){return"above"===this.position||"below"===this.position?"top"===y?y="bottom":"bottom"===y&&(y="top"):"end"===x?x="start":"start"===x&&(x="end"),{x:x,y:y}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const exitListeners=[];if(this._platformSupportsMouseEvents())exitListeners.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const touchendListener=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};exitListeners.push(["touchend",touchendListener],["touchcancel",touchendListener])}this._addListeners(exitListeners),this._passiveListeners.push(...exitListeners)}_addListeners(listeners){listeners.forEach(([event,listener])=>{this._elementRef.nativeElement.addEventListener(event,listener,passiveListenerOptions)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const gestures=this.touchGestures;if("off"!==gestures){const element=this._elementRef.nativeElement,style=element.style;("on"===gestures||"INPUT"!==element.nodeName&&"TEXTAREA"!==element.nodeName)&&(style.userSelect=style.msUserSelect=style.webkitUserSelect=style.MozUserSelect="none"),"on"!==gestures&&element.draggable||(style.webkitUserDrag="none"),style.touchAction="none",style.webkitTapHighlightColor="transparent"}}}return MatTooltip.fac=function(t){return new(t||MatTooltip)(directiveInject(overlay_Overlay),directiveInject(ElementRef),directiveInject(scrolling_ScrollDispatcher),directiveInject(ViewContainerRef),directiveInject(NgZone),directiveInject(platform_Platform),directiveInject(a11y_AriaDescriber),directiveInject(a11y_FocusMonitor),directiveInject(MAT_TOOLTIP_SCROLL_STRATEGY),directiveInject(bidi_Directionality,8),directiveInject(MAT_TOOLTIP_DEFAULT_OPTIONS,8))},MatTooltip.dir=defineDirective({type:MatTooltip,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),MatTooltip})(),tooltip_TooltipComponent=(()=>{class TooltipComponent{constructor(_changeDetectorRef,_breakpointObserver){this._changeDetectorRef=_changeDetectorRef,this._breakpointObserver=_breakpointObserver,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Subject_Subject,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(delay){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},delay)}hide(delay){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},delay)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(event){const toState=event.toState;"hidden"!==toState||this.isVisible()||this._onHide.next(),"visible"!==toState&&"hidden"!==toState||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return TooltipComponent.fac=function(t){return new(t||TooltipComponent)(directiveInject(ChangeDetectorRef),directiveInject(layout_BreakpointObserver))},TooltipComponent.cmp=defineComponent({type:TooltipComponent,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(rf,ctx){1&rf&&listener("click",function(){return ctx._handleBodyInteraction()},!1,resolveBody),2&rf&&styleProp("zoom","visible"===ctx._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(rf,ctx){if(1&rf&&(elementStart(0,"div",0),listener("@state.start",function(){return ctx._animationStart()})("@state.done",function($event){return ctx._animationDone($event)}),pipe(1,"async"),text(2),elementEnd()),2&rf){let tmp_0_0=null;classProp("mat-tooltip-handset",null==(tmp_0_0=pipeBind1(1,5,ctx._isHandset))?null:tmp_0_0.matches),property("ngClass",ctx.tooltipClass)("@state",ctx._visibility),advance(2),textInterpolate(ctx.message)}},directives:[common_NgClass],pipes:[common_AsyncPipe],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[matTooltipAnimations.tooltipState]},changeDetection:0}),TooltipComponent})(),tooltip_MatTooltipModule=(()=>{class MatTooltipModule{}return MatTooltipModule.mod=defineNgModule({type:MatTooltipModule}),MatTooltipModule.inj=defineInjector({factory:function(t){return new(t||MatTooltipModule)},providers:[MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER],imports:[[a11y_A11yModule,common_CommonModule,overlay_OverlayModule,core_MatCommonModule],core_MatCommonModule,scrolling_CdkScrollableModule]}),MatTooltipModule})();function LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_button_12_Template(rf,ctx){if(1&rf){const _r11=getCurrentView();elementStart(0,"button",23),listener("click",function($event){restoreView(_r11);const layer_r5=nextContext().$implicit,group_r3=nextContext().$implicit;return nextContext(2).onEditLayerClick($event,layer_r5,group_r3)}),elementStart(1,"mat-icon"),text(2,"edit"),elementEnd(),elementEnd()}2&rf&&property("ngClass",nextContext().$implicit.onEdit?"activeAction":"normal")}function LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_button_18_Template(rf,ctx){if(1&rf){const _r16=getCurrentView();elementStart(0,"button",24),listener("click",function($event){restoreView(_r16);const layer_r5=nextContext().$implicit,group_r3=nextContext().$implicit;return nextContext(2).onRemoveLayerClick($event,layer_r5,group_r3.groupName)}),elementStart(1,"mat-icon"),text(2,"delete"),elementEnd(),elementEnd()}}function LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_mat_list_19_Template(rf,ctx){if(1&rf&&(elementStart(0,"mat-list"),elementStart(1,"div"),elementStart(2,"div",25),element(3,"img",26),elementEnd(),elementStart(4,"div",25),text(5),elementEnd(),elementEnd(),elementEnd()),2&rf){const icon_r18=ctx.$implicit;advance(3),property("src",icon_r18.iconSrc,sanitizeUrl),advance(2),textInterpolate1(" ",icon_r18.title," ")}}function LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_Template(rf,ctx){if(1&rf){const _r20=getCurrentView();elementContainerStart(0),elementStart(1,"mat-expansion-panel"),elementStart(2,"mat-expansion-panel-header",11),elementStart(3,"mat-panel-title"),elementStart(4,"mat-selection-list",15),listener("selectionChange",function($event){return restoreView(_r20),nextContext(3).onSelectedChanged($event)}),elementStart(5,"mat-list-option",16),listener("click",function($event){restoreView(_r20);const layer_r5=ctx.$implicit,group_r3=nextContext().$implicit;return nextContext(2).onLayerVisClick($event,layer_r5,group_r3.groupName)}),elementStart(6,"div",17),elementStart(7,"div",18),text(8),pipe(9,"titlecase"),elementEnd(),elementStart(10,"div",17),element(11,"span",19),template(12,LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_button_12_Template,3,1,"button",20),element(13,"span",19),elementStart(14,"button",21),listener("click",function($event){restoreView(_r20);const layer_r5=ctx.$implicit,group_r3=nextContext().$implicit;return nextContext(2).onIdentifyLayerClick($event,layer_r5,group_r3.groupName)}),elementStart(15,"mat-icon"),text(16,"info_outline"),elementEnd(),elementEnd(),element(17,"span",19),template(18,LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_button_18_Template,3,0,"button",22),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd(),template(19,LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_mat_list_19_Template,6,2,"mat-list",14),elementEnd(),elementContainerEnd()}if(2&rf){const layer_r5=ctx.$implicit,ctx_r4=nextContext(3);advance(2),property("collapsedHeight","2.5vw")("expandedHeight","2.5vw"),advance(3),property("value",layer_r5.layerName)("ngClass",ctx_r4.layerActive==layer_r5.layerName?"active":"normal")("selected",layer_r5.visible),advance(3),textInterpolate1(" ",pipeBind1(9,10,layer_r5.layerName)," "),advance(4),property("ngIf",layer_r5.wfs||layer_r5.sketch),advance(2),property("ngClass",layer_r5.onIdentify?"activeAction":"normal"),advance(4),property("ngIf",layer_r5.removable),advance(1),property("ngForOf",layer_r5.legendLayer)}}function LayerPanelComponent_div_0_mat_expansion_panel_11_Template(rf,ctx){if(1&rf){const _r26=getCurrentView();elementStart(0,"mat-expansion-panel",10),elementStart(1,"mat-expansion-panel-header",11),elementStart(2,"mat-panel-title"),elementStart(3,"mat-selection-list",12),elementStart(4,"mat-list-option",13),listener("click",function($event){restoreView(_r26);const group_r3=ctx.$implicit;return nextContext(2).onGroupLayerVisClick($event,group_r3)}),text(5),pipe(6,"titlecase"),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementStart(7,"mat-accordion"),template(8,LayerPanelComponent_div_0_mat_expansion_panel_11_ng_container_8_Template,20,12,"ng-container",14),elementEnd(),elementEnd()}if(2&rf){const group_r3=ctx.$implicit;advance(1),property("collapsedHeight","2.1vw")("expandedHeight","2.1vw"),advance(2),property("id",group_r3.groupName),advance(1),property("selected",group_r3.visible),advance(1),textInterpolate1(" ",pipeBind1(6,6,group_r3.groupName)," "),advance(3),property("ngForOf",group_r3.layers)}}function LayerPanelComponent_div_0_Template(rf,ctx){if(1&rf){const _r28=getCurrentView();elementStart(0,"div",1),elementStart(1,"mat-card",2),elementStart(2,"mat-card-title-group"),elementStart(3,"mat-card-title",3),text(4,"Layers "),elementEnd(),elementStart(5,"button",4),listener("click",function(){return restoreView(_r28),nextContext().closeLayerPanel(!1)}),elementStart(6,"mat-icon",5),text(7,"close"),elementEnd(),elementEnd(),elementEnd(),element(8,"mat-divider",6),elementStart(9,"mat-accordion",7,8),listener("cdkDropListDropped",function($event){return restoreView(_r28),nextContext().dropExpansion($event)}),template(11,LayerPanelComponent_div_0_mat_expansion_panel_11_Template,9,8,"mat-expansion-panel",9),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();advance(11),property("ngForOf",ctx_r0.sgroupLayers)}}let layer_panel_component_LayerPanelComponent=(()=>{class LayerPanelComponent{constructor(iconRegistry,sanitizer,openLayersService){this.openLayersService=openLayersService,this.layerVisClick=new EventEmitter,this.groupLayerVisClick=new EventEmitter,this.editLayerClick=new EventEmitter,this.layersOrder=new EventEmitter,this.identifyLayerClick=new EventEmitter,this.removeLayerClick=new EventEmitter,this.x=40,this.y=80,this.startX=0,this.startY=0,this.selectedOptions=[],this.layerActive=null,this.baseLayers=[]}dropExpansion(event){moveItemInArray(this.sgroupLayers,event.previousIndex,event.currentIndex),this.layersOrder.emit(this.sgroupLayers),console.log("event layersOrder emmited",this.sgroupLayers)}ngOnInit(){this.layerActive=null,this.showLayerPanel$=of(!0),this.showEditToolsSubscription=this.openLayersService.showEditLayerPanel$.subscribe(data=>{this.showLayerPanel$=of(data)},error=>console.log("error showing layer panel")),this.groupLayersSubscription=this.groupLayers.subscribe(data=>{this.sgroupLayers=data},error=>console.log("Error in subscription to groupLayers",error))}updateIdentifyActionInLayers(layerName){for(const group of this.sgroupLayers)group.layers.forEach(layer=>{layer.layerName.toLowerCase()===layerName.toLowerCase()&&layer.onIdentify&&(layer.onIdentify=!1,this.identifyLayerClick.emit(null))})}updateEditActionInLayers(layerName){for(const group of this.sgroupLayers)group.layers.forEach(layer=>{(layer.wfs||layer.sketch)&&layer.layerName.toLowerCase()===layerName.toLowerCase()&&layer.onEdit&&(layer.onEdit=!1)})}onEditLayerClick($event,layer,groupName){return $event.preventDefault(),$event.stopImmediatePropagation(),null===this.layerActive?(this.layerActive=layer.layerName,layer.onEdit=!0,this.openLayersService.updateShowEditToolbar(!0),void this.editLayerClick.emit({layer:layer,groupName:groupName})):this.layerActive===layer.layerName?layer.onEdit?(this.layerActive=null,layer.onEdit=!1,this.openLayersService.updateShowEditToolbar(!1),void this.editLayerClick.emit(null)):(layer.onIdentify=!1,layer.onEdit=!0,this.openLayersService.updateShowEditToolbar(!0),this.identifyLayerClick.emit(null),void this.editLayerClick.emit({layer:layer,groupName:groupName})):(this.updateEditActionInLayers(this.layerActive),this.updateIdentifyActionInLayers(this.layerActive),this.layerActive=layer.layerName,layer.onEdit=!0,this.openLayersService.updateShowEditToolbar(!0),void this.editLayerClick.emit({layer:layer,groupName:groupName}))}onRemoveLayerClick($event,layer,groupName){$event.preventDefault(),$event.stopImmediatePropagation(),console.log("remove the layer from the map and panel $event:",$event,layer,groupName),this.removeLayerClick.emit({layer:layer,groupName:groupName})}onIdentifyLayerClick($event,layer,groupName){return $event.preventDefault(),$event.stopImmediatePropagation(),null===this.layerActive?(this.layerActive=layer.layerName,layer.onIdentify=!0,console.log("{layer, groupName} in onIdentifyLayerClick",layer,groupName),void this.identifyLayerClick.emit({layer:layer,groupName:groupName})):this.layerActive===layer.layerName?layer.onIdentify?(this.layerActive=null,layer.onIdentify=!1,void this.identifyLayerClick.emit(null)):(layer.onEdit=!1,this.editLayerClick.emit(null),this.openLayersService.updateShowEditToolbar(!1),layer.onIdentify=!0,void this.identifyLayerClick.emit({layer:layer,groupName:groupName})):(this.updateIdentifyActionInLayers(this.layerActive),this.updateEditActionInLayers(this.layerActive),this.openLayersService.updateShowEditToolbar(!1),this.editLayerClick.emit(null),this.layerActive=layer.layerName,layer.onIdentify=!0,void this.identifyLayerClick.emit({layer:layer,groupName:groupName}))}closeLayerPanel(value){this.showLayerPanel$=of(value)}ngOnDestroy(){this.showEditToolsSubscription.unsubscribe(),this.groupLayersSubscription.unsubscribe()}onSelectedChanged($event){$event.option.value.isChecked&&($event.option.selected=!0,$event.stopImmediatePropagation())}findLayerinGroups(layerName){for(const group of this.sgroupLayers){const lyr=group.layers.find(x=>x.layerName.toLowerCase()===layerName.toLowerCase());if(lyr)return lyr}}onLayerVisClick($event,layer,groupName){$event.preventDefault(),$event.stopImmediatePropagation(),this.findLayerinGroups(layer.layerName).visible=!0,this.layerVisClick.emit({layer:layer,groupName:groupName})}onGroupLayerVisClick($event,layer){$event.preventDefault(),$event.stopImmediatePropagation(),this.sgroupLayers.find(x=>x.groupName===layer.groupName).visible=!0,this.groupLayerVisClick.emit(layer)}}return LayerPanelComponent.fac=function(t){return new(t||LayerPanelComponent)(directiveInject(icon_MatIconRegistry),directiveInject(platform_browser_DomSanitizer),directiveInject(open_layers_service_OpenLayersService))},LayerPanelComponent.cmp=defineComponent({type:LayerPanelComponent,selectors:[["app-layer-panel"]],inputs:{groupLayers:"groupLayers"},outputs:{layerVisClick:"layerVisClick",groupLayerVisClick:"groupLayerVisClick",editLayerClick:"editLayerClick",layersOrder:"layersOrder",identifyLayerClick:"identifyLayerClick",removeLayerClick:"removeLayerClick"},decls:2,vars:3,consts:[["id","third","class","example-list","cdkDrag","","cdkDragBoundary",".app-content",4,"ngIf"],["id","third","cdkDrag","","cdkDragBoundary",".app-content",1,"example-list"],[1,"layerPanelCard"],[1,"panelTitle"],["mat-flat-button","",3,"click"],["aria-label","Close layer Panel",1,"matCloseWrapper"],[1,"toolbarDivider"],["cdkDropList","",3,"cdkDropListDropped"],["groupsAccordion",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[3,"collapsedHeight","expandedHeight"],[3,"id"],["checkboxPosition","before",1,"group",3,"selected","click"],[4,"ngFor","ngForOf"],[3,"selectionChange"],["checkboxPosition","before",1,"example-box","mat-primary",3,"value","ngClass","selected","click"],[1,"selectLayer"],[2,"display","flex","align-items","center"],[1,"spacer"],["mat-icon-button","","matTooltip","Mit dem Kartieren beginnen","aria-label","Start drawing",3,"ngClass","click",4,"ngIf"],["mat-icon-button","","matTooltip","Elemente identifizieren","aria-label","Identify elements in the layer",3,"ngClass","click"],["mat-icon-button","","matTooltip","Layer loeschen","aria-label","Remove layer",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Mit dem Kartieren beginnen","aria-label","Start drawing",3,"ngClass","click"],["mat-icon-button","","matTooltip","Layer loeschen","aria-label","Remove layer",3,"click"],[1,"iconTitle"],["alt","legend",1,"iconLegend",3,"src"]],template:function(rf,ctx){1&rf&&(template(0,LayerPanelComponent_div_0_Template,12,1,"div",0),pipe(1,"async")),2&rf&&property("ngIf",pipeBind1(1,1,ctx.showLayerPanel$))},directives:[common_NgIf,drag_drop_CdkDrag,card_MatCard,card_MatCardTitleGroup,card_MatCardTitle,button_MatButton,icon_MatIcon,divider_MatDivider,expansion_MatAccordion,drag_drop_CdkDropList,common_NgForOf,expansion_MatExpansionPanel,expansion_MatExpansionPanelHeader,expansion_MatExpansionPanelTitle,list_MatSelectionList,list_MatListOption,common_NgClass,tooltip_MatTooltip,list_MatList],pipes:[common_AsyncPipe,common_TitleCasePipe],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto;width:.7vw}.toolbarDivider[_ngcontent-%COMP%]{padding-top:5px!important}.example-box[_ngcontent-%COMP%]{color:rgba(0,20,0,.87);display:flex;flex-direction:column;align-items:baseline;background:#fff;font-size:.8vw;width:100%;position:relative;padding-left:.1vw!important;align-self:center}.example-box[_ngcontent-%COMP%]:last-child{border:none}.group[_ngcontent-%COMP%]{color:rgba(0,20,0,.87);display:flex;flex-direction:column;align-items:baseline;background:#fff;font-size:.8vw;width:100%;position:relative;padding-top:1px!important;padding-bottom:0!important;height:1.2vw!important}.selectLayer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.iconLegend[_ngcontent-%COMP%]{max-width:20px;max-height:20px}.iconTitle[_ngcontent-%COMP%]{display:inline-block;padding-left:5px}.iconImage[_ngcontent-%COMP%]{display:inline-block;padding-left:0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-list-option[_ngcontent-%COMP%]{height:1.3vw!important;vertical-align:middle!important;padding-top:1px!important}[_nghost-%COMP%]     .mat-pseudo-checkbox{border:1px solid;width:14px;height:14px}[_nghost-%COMP%]     .mat-pseudo-checkbox:after{color:#8b0000!important}[_nghost-%COMP%]     .mat-list-item-content{padding-left:4px!important;height:1.2vw!important}[_nghost-%COMP%]     .mat-card{padding:0}[_nghost-%COMP%]     .mat-list-text{padding-left:4px!important;padding-top:0!important}[_nghost-%COMP%]     .mat-list-base{padding-top:9px!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{height:40px}.active[_ngcontent-%COMP%]{background:#fff2e1}.activeAction[_ngcontent-%COMP%]{background:#e35183}.onEdit[_ngcontent-%COMP%]{background:#d6c0c8}[_nghost-%COMP%]     .mat-expansion-panel-header{padding:0 8px;border-bottom:1px solid #e9e9e9;flex:1 1 auto}[_nghost-%COMP%]     .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 0 0 0}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0 24px 6px}[_nghost-%COMP%]     .mat-button{vertical-align:top!important}",'@charset "UTF-8";.ol-box[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.ol-mouse-position[_ngcontent-%COMP%]{top:8px;right:8px;position:absolute}.ol-scale-line[_ngcontent-%COMP%]{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner[_ngcontent-%COMP%]{border:1px solid #eee;border-top:none;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar[_ngcontent-%COMP%]{position:absolute;bottom:8px;left:8px}.ol-scale-step-marker[_ngcontent-%COMP%]{width:1px;height:15px;background-color:#000;float:right;z-Index:10}.ol-scale-step-text[_ngcontent-%COMP%]{bottom:-5px;font-size:12px;z-Index:11}.ol-scale-step-text[_ngcontent-%COMP%], .ol-scale-text[_ngcontent-%COMP%]{position:absolute;color:#000;text-shadow:-2px 0 #fff,0 2px #fff,2px 0 #fff,0 -2px #fff}.ol-scale-text[_ngcontent-%COMP%]{font-size:14px;text-align:center;bottom:25px}.ol-scale-singlebar[_ngcontent-%COMP%]{position:relative;height:10px;z-Index:9;box-sizing:border-box;border:1px solid #000}.ol-unsupported[_ngcontent-%COMP%]{display:none}.ol-unselectable[_ngcontent-%COMP%], .ol-viewport[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ol-selectable[_ngcontent-%COMP%]{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:grabbing}.ol-grab[_ngcontent-%COMP%]{cursor:move;cursor:-webkit-grab;cursor:grab}.ol-control[_ngcontent-%COMP%]{position:absolute;background-color:hsla(0,0%,100%,.4);border-radius:4px;padding:2px}.ol-control[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,100%,.6)}.ol-zoom[_ngcontent-%COMP%]{top:.5em;left:.5em}.ol-rotate[_ngcontent-%COMP%]{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent[_ngcontent-%COMP%]{top:4.643em;left:.5em}.ol-full-screen[_ngcontent-%COMP%]{right:.5em;top:.5em}.ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1.4em}.ol-compass[_ngcontent-%COMP%]{display:block;font-weight:400;font-size:1.2em;will-change:transform}.ol-touch[_ngcontent-%COMP%]   .ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5em}.ol-touch[_ngcontent-%COMP%]   .ol-zoom-extent[_ngcontent-%COMP%]{top:5.5em}.ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.ol-zoom[_ngcontent-%COMP%]   .ol-zoom-in[_ngcontent-%COMP%]{border-radius:2px 2px 0 0}.ol-zoom[_ngcontent-%COMP%]   .ol-zoom-out[_ngcontent-%COMP%]{border-radius:0 0 2px 2px}.ol-attribution[_ngcontent-%COMP%]{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em)}.ol-attribution[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 .5em;color:#000;text-shadow:0 0 2px #fff}.ol-attribution[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;list-style:none}.ol-attribution[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:" "}.ol-attribution[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ol-attribution[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-block}.ol-attribution.ol-collapsed[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}.ol-attribution[_ngcontent-%COMP%]:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-attribution.ol-uncollapsible[_ngcontent-%COMP%]{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.ol-zoomslider[_ngcontent-%COMP%]{top:4.5em;left:.5em;height:200px}.ol-zoomslider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;height:10px}.ol-touch[_ngcontent-%COMP%]   .ol-zoomslider[_ngcontent-%COMP%]{top:5.5em}.ol-overviewmap[_ngcontent-%COMP%]{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible[_ngcontent-%COMP%]{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap[_ngcontent-%COMP%]   .ol-overviewmap-map[_ngcontent-%COMP%], .ol-overviewmap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block}.ol-overviewmap[_ngcontent-%COMP%]   .ol-overviewmap-map[_ngcontent-%COMP%]{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.ol-overviewmap[_ngcontent-%COMP%]:not(.ol-collapsed)   button[_ngcontent-%COMP%]{bottom:1px;left:2px;position:absolute}.ol-overviewmap.ol-collapsed[_ngcontent-%COMP%]   .ol-overviewmap-map[_ngcontent-%COMP%], .ol-overviewmap.ol-uncollapsible[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.ol-overviewmap[_ngcontent-%COMP%]:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-overviewmap-box[_ngcontent-%COMP%]{border:2px dotted rgba(0,60,136,.7)}.ol-overviewmap[_ngcontent-%COMP%]   .ol-overviewmap-box[_ngcontent-%COMP%]:hover{cursor:move}.map[_ngcontent-%COMP%]{width:100%;height:93%;z-index:200;position:absolute;border:1px solid #e35183}  .ol-tooltip{position:relative;background:rgba(0,0,0,.5);border-radius:4px;color:#4a1f1f;opacity:.7;white-space:nowrap;font-size:12px}  .ol-tooltip-measure{opacity:1;font-weight:700}  .ol-tooltip-static{background-color:#fc3;color:#000;border:1px solid #fff}.ol-tooltip-static[_ngcontent-%COMP%]:before,   .ol-tooltip-measure:before{border-right:3px solid transparent;border-left:3px solid transparent;border-top:3px solid #fc3;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}  .ol-tooltip-static:before{border-top-color:#fc3}.hide[_ngcontent-%COMP%]{position:absolute;height:0;width:0;z-index:100;opacity:0}.cdkDrag[_ngcontent-%COMP%]{display:inline-block}.ol-popup[_ngcontent-%COMP%]{position:absolute;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.2);padding:10px;border-radius:10px;border:1px solid #ccc;bottom:12px;left:-50px;min-width:280px}.ol-popup[_ngcontent-%COMP%]:after, .ol-popup[_ngcontent-%COMP%]:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup[_ngcontent-%COMP%]:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup[_ngcontent-%COMP%]:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer[_ngcontent-%COMP%]{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer[_ngcontent-%COMP%]:after{content:"";font-size:x-large;color:#000}.imgInfo[_ngcontent-%COMP%]{width:100%;max-width:20px;max-height:20px}  th{text-align:left!important}th[scope=row][_ngcontent-%COMP%]{background-color:#d7d9f2}.star[_ngcontent-%COMP%]{margin:0;color:#a9a5a5;display:inline-block;cursor:pointer;transition:all .3s;transform:scale(1)}.star[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:30px;height:30px}.star-gold[_ngcontent-%COMP%]{color:orange}.star-rating-animation[_ngcontent-%COMP%]:hover   .star-hover[_ngcontent-%COMP%]{color:orange}.star-rating-animation[_ngcontent-%COMP%]   .star-hover[_ngcontent-%COMP%]:hover ~ .star-hover[_ngcontent-%COMP%]{color:#ddd}.star-rating-animation[_ngcontent-%COMP%]   .star-hover[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.simple-keyboard-hidden[_ngcontent-%COMP%]{display:none}.hide-keyboard[_ngcontent-%COMP%]{overflow:hidden;height:0}']}),LayerPanelComponent})();const map_component_c0=["popup"],map_component_c1=["content"],map_component_c2=["closer"];function MapComponent_div_7_Template(rf,ctx){if(1&rf){const _r6=getCurrentView();elementStart(0,"div"),elementStart(1,"app-layer-panel",10),listener("layerVisClick",function($event){return restoreView(_r6),nextContext().updateMapVisibleLayer($event)})("editLayerClick",function($event){return restoreView(_r6),nextContext().updateEditingLayer($event)})("groupLayerVisClick",function($event){return restoreView(_r6),nextContext().updateMapVisibleGroupLayer($event)})("layersOrder",function($event){return restoreView(_r6),nextContext().updateOrderGroupsLayers($event)})("identifyLayerClick",function($event){return restoreView(_r6),nextContext().startIdentifying($event)})("removeLayerClick",function($event){return restoreView(_r6),nextContext().removeSessionLayer($event)}),elementEnd(),elementEnd()}if(2&rf){const ctx_r3=nextContext();advance(1),property("groupLayers",ctx_r3.groupsLayersSubject.asObservable())}}const map_component_c3=function(a0){return[a0]};function DialogRatingDialog_div_5_Template(rf,ctx){if(1&rf){const _r3=getCurrentView();elementStart(0,"div",5),listener("click",function(){restoreView(_r3);const star_r1=ctx.$implicit;return nextContext().selectStar(star_r1.id)}),elementStart(1,"mat-icon"),text(2),elementEnd(),elementEnd()}if(2&rf){const star_r1=ctx.$implicit;property("ngClass",(2,pureFn=map_component_c3,exp=star_r1.class,pureFunction1Internal(getLView(),getBindingRoot(),2,pureFn,exp,undefined))),advance(2),textInterpolate(star_r1.icon)}var pureFn,exp}const map_component_c4='@charset "UTF-8";.ol-box[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.ol-mouse-position[_ngcontent-%COMP%]{top:8px;right:8px;position:absolute}.ol-scale-line[_ngcontent-%COMP%]{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner[_ngcontent-%COMP%]{border:1px solid #eee;border-top:none;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar[_ngcontent-%COMP%]{position:absolute;bottom:8px;left:8px}.ol-scale-step-marker[_ngcontent-%COMP%]{width:1px;height:15px;background-color:#000;float:right;z-Index:10}.ol-scale-step-text[_ngcontent-%COMP%]{bottom:-5px;font-size:12px;z-Index:11}.ol-scale-step-text[_ngcontent-%COMP%], .ol-scale-text[_ngcontent-%COMP%]{position:absolute;color:#000;text-shadow:-2px 0 #fff,0 2px #fff,2px 0 #fff,0 -2px #fff}.ol-scale-text[_ngcontent-%COMP%]{font-size:14px;text-align:center;bottom:25px}.ol-scale-singlebar[_ngcontent-%COMP%]{position:relative;height:10px;z-Index:9;box-sizing:border-box;border:1px solid #000}.ol-unsupported[_ngcontent-%COMP%]{display:none}.ol-unselectable[_ngcontent-%COMP%], .ol-viewport[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ol-selectable[_ngcontent-%COMP%]{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:grabbing}.ol-grab[_ngcontent-%COMP%]{cursor:move;cursor:-webkit-grab;cursor:grab}.ol-control[_ngcontent-%COMP%]{position:absolute;background-color:hsla(0,0%,100%,.4);border-radius:4px;padding:2px}.ol-control[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,100%,.6)}.ol-zoom[_ngcontent-%COMP%]{top:.5em;left:.5em}.ol-rotate[_ngcontent-%COMP%]{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent[_ngcontent-%COMP%]{top:4.643em;left:.5em}.ol-full-screen[_ngcontent-%COMP%]{right:.5em;top:.5em}.ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1.4em}.ol-compass[_ngcontent-%COMP%]{display:block;font-weight:400;font-size:1.2em;will-change:transform}.ol-touch[_ngcontent-%COMP%]   .ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5em}.ol-touch[_ngcontent-%COMP%]   .ol-zoom-extent[_ngcontent-%COMP%]{top:5.5em}.ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .ol-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.ol-zoom[_ngcontent-%COMP%]   .ol-zoom-in[_ngcontent-%COMP%]{border-radius:2px 2px 0 0}.ol-zoom[_ngcontent-%COMP%]   .ol-zoom-out[_ngcontent-%COMP%]{border-radius:0 0 2px 2px}.ol-attribution[_ngcontent-%COMP%]{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em)}.ol-attribution[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 .5em;color:#000;text-shadow:0 0 2px #fff}.ol-attribution[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;list-style:none}.ol-attribution[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:" "}.ol-attribution[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ol-attribution[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-block}.ol-attribution.ol-collapsed[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}.ol-attribution[_ngcontent-%COMP%]:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-attribution.ol-uncollapsible[_ngcontent-%COMP%]{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.ol-zoomslider[_ngcontent-%COMP%]{top:4.5em;left:.5em;height:200px}.ol-zoomslider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;height:10px}.ol-touch[_ngcontent-%COMP%]   .ol-zoomslider[_ngcontent-%COMP%]{top:5.5em}.ol-overviewmap[_ngcontent-%COMP%]{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible[_ngcontent-%COMP%]{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap[_ngcontent-%COMP%]   .ol-overviewmap-map[_ngcontent-%COMP%], .ol-overviewmap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block}.ol-overviewmap[_ngcontent-%COMP%]   .ol-overviewmap-map[_ngcontent-%COMP%]{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.ol-overviewmap[_ngcontent-%COMP%]:not(.ol-collapsed)   button[_ngcontent-%COMP%]{bottom:1px;left:2px;position:absolute}.ol-overviewmap.ol-collapsed[_ngcontent-%COMP%]   .ol-overviewmap-map[_ngcontent-%COMP%], .ol-overviewmap.ol-uncollapsible[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.ol-overviewmap[_ngcontent-%COMP%]:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-overviewmap-box[_ngcontent-%COMP%]{border:2px dotted rgba(0,60,136,.7)}.ol-overviewmap[_ngcontent-%COMP%]   .ol-overviewmap-box[_ngcontent-%COMP%]:hover{cursor:move}.map[_ngcontent-%COMP%]{width:100%;height:93%;z-index:200;position:absolute;border:1px solid #e35183}  .ol-tooltip{position:relative;background:rgba(0,0,0,.5);border-radius:4px;color:#4a1f1f;opacity:.7;white-space:nowrap;font-size:12px}  .ol-tooltip-measure{opacity:1;font-weight:700}  .ol-tooltip-static{background-color:#fc3;color:#000;border:1px solid #fff}.ol-tooltip-static[_ngcontent-%COMP%]:before,   .ol-tooltip-measure:before{border-right:3px solid transparent;border-left:3px solid transparent;border-top:3px solid #fc3;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}  .ol-tooltip-static:before{border-top-color:#fc3}.hide[_ngcontent-%COMP%]{position:absolute;height:0;width:0;z-index:100;opacity:0}.cdkDrag[_ngcontent-%COMP%]{display:inline-block}.ol-popup[_ngcontent-%COMP%]{position:absolute;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.2);padding:10px;border-radius:10px;border:1px solid #ccc;bottom:12px;left:-50px;min-width:280px}.ol-popup[_ngcontent-%COMP%]:after, .ol-popup[_ngcontent-%COMP%]:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup[_ngcontent-%COMP%]:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup[_ngcontent-%COMP%]:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer[_ngcontent-%COMP%]{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer[_ngcontent-%COMP%]:after{content:"";font-size:x-large;color:#000}.imgInfo[_ngcontent-%COMP%]{width:100%;max-width:20px;max-height:20px}  th{text-align:left!important}th[scope=row][_ngcontent-%COMP%]{background-color:#d7d9f2}.star[_ngcontent-%COMP%]{margin:0;color:#a9a5a5;display:inline-block;cursor:pointer;transition:all .3s;transform:scale(1)}.star[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:30px;height:30px}.star-gold[_ngcontent-%COMP%]{color:orange}.star-rating-animation[_ngcontent-%COMP%]:hover   .star-hover[_ngcontent-%COMP%]{color:orange}.star-rating-animation[_ngcontent-%COMP%]   .star-hover[_ngcontent-%COMP%]:hover ~ .star-hover[_ngcontent-%COMP%]{color:#ddd}.star-rating-animation[_ngcontent-%COMP%]   .star-hover[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.simple-keyboard-hidden[_ngcontent-%COMP%]{display:none}.hide-keyboard[_ngcontent-%COMP%]{overflow:hidden;height:0}';function DialogRatingMeasureDialog_div_12_Template(rf,ctx){if(1&rf){const _r3=getCurrentView();elementStart(0,"div"),elementStart(1,"label"),text(2),pipe(3,"titlecase"),elementEnd(),elementStart(4,"mat-slider",6),listener("change",function($event){restoreView(_r3);const field_r1=ctx.$implicit;return nextContext().showQuestionValue(field_r1,$event.value)}),text(5),elementEnd(),elementStart(6,"label",7),text(7," 0 "),elementEnd(),elementEnd()}if(2&rf){const field_r1=ctx.$implicit;advance(2),textInterpolate1("",pipeBind1(3,8,field_r1)," (0-5): "),advance(2),property("formControlName",field_r1)("max",5)("min",0)("thumbLabel",!0)("value",field_r1.min),advance(1),textInterpolate(field_r1.value),advance(1),propertyInterpolate("id",field_r1)}}let map_component_MapComponent=(()=>{class MapComponent{constructor(mapQgsStyleService,openLayersService,questionService,queryDBService,auth,snackBar,dialog,sanitizer){this.mapQgsStyleService=mapQgsStyleService,this.openLayersService=openLayersService,this.questionService=questionService,this.queryDBService=queryDBService,this.auth=auth,this.snackBar=snackBar,this.dialog=dialog,this.sanitizer=sanitizer,this.updateLayerList=new EventEmitter,this.questionsSubject=new Subject_Subject,this.showFormSubject=new Subject_Subject,this.groupsLayersSubject=new Subject_Subject,this.formOpen=!1,this.existingProject=!0,this.wgs84ID="EPSG:4326",this.mapCenterXY=[0,0],this.mapZoom=AppConfiguration.mapZoom,this.select=null,this.loadedWfsLayers=[],this.loadedSketchLayers=[],this.groupsLayers=[],this.loadedWmsLayers=[],this.formQuestions=[],this.curEditingLayer=null,this.curInfoLayer=null,this.cacheFeatures=[],this.canBeUndo=!1,this.editBuffer=[],this.layersGeometryType={},this.layersOrder=[],this.featId=1e3,this.horizontalPosition="start",this.verticalPosition="bottom",this.subsToShapeEdit=this.openLayersService.shapeEditType$.subscribe(data=>{null!=data?this.enableAddShape(data):this.removeInteractions()},error=>{console.log("Error in shapeEditType",error)}),this.subsTocurrentSymbol=this.openLayersService.currentSymbol$.subscribe(style=>{this.changeSymbol(style)},error=>{console.log("Error changing the style for drawing elements",error)}),this.subsToSaveCurrentLayer=this.openLayersService.saveCurrentLayer$.subscribe(data=>{data&&this.saveEdits(this.curEditingLayer)},error=>alert("Error saving layers"+error)),this.subsToSaveAllLayers=this.openLayersService.saveAllLayers$.subscribe(data=>{data&&this.saveAllEdits()},error=>alert("Error saving layer "+error)),this.subsToZoomHome=this.openLayersService.zoomHome$.subscribe(data=>{data&&this.zoomToHome()},error=>alert("Error starting zooming Home"+error)),this.subsToFindPopExposed=this.openLayersService.findPopExposed$.subscribe(data=>{data&&this.findPopExposed()},error=>alert("Error starting finding exposed people"+error)),this.subsToFindOrgExposed=this.openLayersService.findInstitutionsExposed$.subscribe(data=>{data&&this.findOrgExposed()},error=>alert("Error starting finding exposed people"+error)),this.subsToSelectProject=this.openLayersService.qgsProjectUrl$.subscribe(data=>{data&&this.updateSelectedProject(data)},error=>{console.log("Error in shapeEditType",error)}),this.subsToAddSketchLayer=this.openLayersService.addSketchLayer$.subscribe(data=>{data&&this.addNewSketchLayer(data)},error=>{console.log("Error creating sketch layer",error)}),this.openLayersService.editAction$.subscribe(data=>{if(this.removeInteractions(),this.helpTooltip&&(this.map.removeOverlay(this.helpTooltip),this.helpTooltipElement.innerHTML="",this.helpTooltip=null),null!==data)switch(data){case"ModifyBox":this.startTranslating();break;case"Rating":console.log("rating quiet areas hidden");break;case"Rotate":this.startRotating();break;case"Copy":this.startCopying();break;case"Identify":console.log("identifying?..");break;case"Delete":this.startDeletingV0();break;case"MeasureLine":this.startMeasuring("LineString");break;case"MeasureArea":this.startMeasuring("Polygon");break;case"Undo":this.undoLastEdit();break;case"RankingMeasures":this.startRankingMeasures()}},error=>alert("Error implementing action on features"+error)),this.auth.userProfile$.subscribe(data=>this.initializeUser(data),error=>{console.log("Error retrieving user credentials",error),alert("Error during authentication, try later")})}initializeUser(userProfile){}openDialogRankingMeasures(layerName,feature){const ratingName="massnahmen"===layerName?"Massnahmen Laute Orte":"Massnahmen Leise Orte",fieldsNames=AppConfiguration.ratingMeasureLayers[layerName];console.log("fieldsNames in openDialogRankingMeasures",fieldsNames);let fieldsToRank=[];fieldsNames.forEach(field=>{!0===feature.get(field)&&fieldsToRank.push(field)}),feature.get(AppConfiguration.fieldOther[layerName])&&feature.get(AppConfiguration.fieldOther[layerName]).length>0&&fieldsToRank.push(AppConfiguration.fieldOther[layerName]),console.log("fieldsNames and fieldstorank in openDialogRankingMeasures",fieldsNames,fieldsToRank),console.log("feature.get(AppConfiguration.fieldDesc[layerName]) "+layerName,feature.get(AppConfiguration.fieldDesc[layerName]));const measureDesc=feature.get(AppConfiguration.fieldDesc[layerName]);this.dialog.open(map_component_DialogRatingMeasureDialog,{width:"24vw",data:{layerNameDialog:ratingName,fieldNames:fieldsToRank,desc:measureDesc,ranking:this.ranking}}).afterClosed().subscribe(result=>{this.ranking=result,this.select.getFeatures().clear(),result&&this.saveRatingMeasures(layerName,feature,result)})}openDialogResult(count,summary){this.dialog.open(dialog_result_exposed_component_DialogResultExposedComponent,{width:"300px",data:{totalCount:count,summary:summary}})}openDialog(layerName,feature){this.dialog.open(map_component_DialogRatingDialog,{width:"300px",data:{layerNameDialog:"Leise Orte",rating:this.rating}}).afterClosed().subscribe(result=>{this.rating=result,this.select.getFeatures().clear(),result&&this.saveRating(layerName,feature)})}findOrgExposed(){const layerList=[],noiseMapList=[];let noiseGroup,orgGroup;console.log("al menos entra?"),this.map.getLayers().forEach(layer=>{layer.get("name").toLowerCase()!==AppConfiguration.institutionsGroupName.toLowerCase()||(orgGroup=layer)}),orgGroup?(orgGroup&&orgGroup.getLayers().forEach(lyr=>{layerList.push(lyr.get("name"))}),this.map.getLayers().forEach(layer=>{layer.get("name")!==AppConfiguration.noiseGroupName||(noiseGroup=layer)}),noiseGroup&&noiseGroup.getLayers().forEach(lyr=>{noiseMapList.push(lyr.get("name"))}),noiseGroup?this.dialog.open(dialog_org_exposed_component_DialogOrgExposedComponent,{width:"400px",data:{layerList:layerList,noiseMapList:noiseMapList,lowlevel:0,highlevel:0,selectedLayer:void 0,selectedNoiseLayer:void 0}}).afterClosed().subscribe(data=>{data&&this.queryOrgExposedNoise(data).then(r=>this.processOrgLden(r))}):this.snackBar.open("Noise maps not found","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})):this.snackBar.open("Institutions maps not found","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})}queryOrgExposedNoise(data){return __awaiter(this,void 0,void 0,function*(){let layerName;if(!(data.selectedLayer&&data.lowLevel&&data.highLevel&&data.selectedNoiseLayer))return void this.snackBar.open("Verify parameters","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});const lowLevel=+data.lowLevel,highLevel=+data.highLevel;if(layerName=data.selectedLayer.toLowerCase()+"_"+data.selectedNoiseLayer.toLowerCase()+"_"+lowLevel+"_"+highLevel,lowLevel>highLevel)return void this.snackBar.open("Lower level should be less than the higher level","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3});const groupSession=this.map.getLayers().getArray().find(x=>x.get("name").toLowerCase()===AppConfiguration.nameSessionGroup.toLowerCase());if(groupSession&&groupSession.getLayers().getArray().findIndex(x=>x.get("name").toLowerCase()===layerName.toLowerCase())>=0){const layer=this.findLayerWithGroup(layerName.toLowerCase(),AppConfiguration.nameSessionGroup.toLowerCase());this.map.removeLayer(layer)}return this.snackBar.open("Berechnung wird ausgefuehrt - bitte warten","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3}),{result:yield this.queryDBService.getOrgExposed(data),layerName:layerName}})}findPopExposed(){const layerList=[];let noiseGroup;this.map.getLayers().forEach(layer=>{layer.get("name")!==AppConfiguration.noiseGroupName||(noiseGroup=layer)}),noiseGroup&&noiseGroup.getLayers().forEach(lyr=>{layerList.push(lyr.get("name"))}),this.dialog.open(dialog_population_exposed_component_DialogPopulationExposedComponent,{width:"400px",data:{layerList:layerList,lowlevel:0,highlevel:0,selectedLayer:void 0}}).afterClosed().subscribe(data=>{data&&this.queryDBPopNoise(data)})}queryDBPopNoise(data){let query,queryName,layerName;const lowLevel=+data.lowLevel,highLevel=+data.highLevel;if(layerName="Pop"+data.selectedLayer.toLowerCase()+"_"+lowLevel+"_"+highLevel,!data.selectedLayer||!data.lowLevel||!data.highLevel)return;if(lowLevel>highLevel)return void this.snackBar.open("Lower level should be less than the higher level","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3});console.log("data in queryDBPopNoise",data);const groupSession=this.map.getLayers().getArray().find(x=>x.get("name").toLowerCase()===AppConfiguration.nameSessionGroup.toLowerCase());if(groupSession&&groupSession.getLayers().getArray().findIndex(x=>x.get("name").toLowerCase()===layerName.toLowerCase())>=0){const layer=this.findLayerWithGroup(layerName.toLowerCase(),AppConfiguration.nameSessionGroup.toLowerCase());this.map.removeLayer(layer)}switch(data.selectedLayer.toLowerCase()){case"strassenlaerm_lden":queryName="populationStrassenlaermLden",query=dist.gql`
      query {
      populationStrassenlaermLden (dblow: `+lowLevel+"dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";break;case"gesamtlaerm_lden":queryName="populationGesamtlaermLden",query=dist.gql`
      query {
      populationGesamtlaermLden (dblow: `+lowLevel+", dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        geom {\n          geojson\n          }\n          value\n       }\n      }\n    }\n    ";break;case"industrielaerm_lden":queryName="populationIndustrielaermLden",query=dist.gql`
      query {
      populationIndustrielaermLden (dblow: `+lowLevel+"dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";break;case"industrielaerm_lnight":queryName="populationIndustrielaermLnight",query=dist.gql`
      query {
      populationIndustrielaermLnight (dblow: `+lowLevel+"dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";break;case"strassenlaerm_lnight":queryName="populationStrassenlaermLnight",query=dist.gql`
      query {
      populationStrassenlaermLnight (dblow: `+lowLevel+", dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";break;case"zuglaerm_bogestra_lden":queryName="populationZuglaermBogestraLden",query=dist.gql`
      query {
      populationZuglaermBogestraLden (dblow: `+lowLevel+", dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";break;case"zuglaerm_bogestra_lnight":queryName="populationZuglaermBogestraLnight",query=dist.gql`
      query {
      populationZuglaermBogestraLnight (dblow: `+lowLevel+", dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    ";break;case"zuglaerm_db_lden":queryName="populationZuglaermDbLden",query=dist.gql`
      query {
      populationZuglaermDbLden (dblow: `+lowLevel+", dbhigh:"+highLevel+") {\n       totalCount\n       nodes {\n        id\n        value\n        geom {\n          geojson\n          srid\n        }\n       }\n      }\n    }\n    "}this.snackBar.open("Berechnung wird ausgefuehrt - bitte warten","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3}),console.log("query data pop",query),Object(dist.request)("https://ogito.itc.utwente.nl/graphql",query).then(result=>{this.processPopLden(result[queryName],layerName)})}processOrgLden(dataLayerName){if(!dataLayerName)return void this.snackBar.open("There was an error while retrieving the data, contact the administrator","ok",{horizontalPosition:"center",verticalPosition:"top",duration:1e4});const data=dataLayerName.result,layerName=dataLayerName.layerName;if(0===data.totalCount)return void this.snackBar.open("Keine Institution gefunden.","ok",{horizontalPosition:"center",verticalPosition:"top",duration:1e4});this.loadJsonPoint(data.nodes,layerName);const summary=this.summarizeOrgByDistrict(data.nodes,"bezirkeName");this.openDialogResult(data.totalCount,summary)}summarizeOrgByDistrict(nodes,districName){let lookup={},items=nodes,result=[];for(let i=0;i<items.length;i++){const name=items[i][districName];name in lookup?lookup[name]+=1:(lookup[name]=1,result.push(name))}console.log("items and result",items,lookup,result);let arr=[];for(const key in lookup)arr.push({key:key,value:lookup[key]});return arr}processPopLden(data,layerName){if(0===data.totalCount)return void this.snackBar.open("Nichts gefunden.","ok",{horizontalPosition:"center",verticalPosition:"top",duration:1e4});const popExposed=Math.round(100*data.nodes.reduce((sum,current)=>sum+Number(current.value),0)/100),popShare=Math.round(popExposed/AppConfiguration.totalPopBochumArea*100);this.loadJson(data.nodes,layerName),this.snackBar.open("Ungefaehre Bevoelkerung betroffen: "+popExposed+". Dies entspricht einem Anteil von: "+popShare+"%. Raeumliche Ergebnisse sind in der Kartenuebersicht zu sehen.","ok",{horizontalPosition:"center",verticalPosition:"bottom",duration:6e4})}loadJson(geoJsonArray,layerName){const features=[];geoJsonArray.forEach(f=>{const geojson=JSON.parse(f.geom.geojson);features.push({type:"Feature",geometry:{type:geojson.type,coordinates:geojson.coordinates,value:f.value},properties:{value:f.value,id:f.id}})});const geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:25832"}},features:features};this.popExposedStyle=this.mapQgsStyleService.createStyleExposedPop();const vectorSource=new Vector.a({features:(new GeoJSON.a).readFeatures(geojsonObject)}),vectorLayer=new layer_Vector.a({source:vectorSource,name:layerName,style:this.popExposedStyle,visible:!0,opacity:.5});this.addSessionLayer(vectorLayer,[{name:"value",type:"QString",typeName:"varchar",comment:""}],!1)}loadJsonPoint(geoJsonArray,layerName){const features=[];geoJsonArray.forEach(f=>{const geojson=JSON.parse(f.geom.geojson);features.push({type:"Feature",geometry:{type:geojson.type,coordinates:geojson.coordinates,bezirkeName:f.bezirkeName},properties:{bezirkeName:f.bezirkeName,id:f.id}})});const geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:25832"}},features:features},orgStyle=this.mapQgsStyleService.createStyleExposedOrg(layerName),vectorSource=new Vector.a({features:(new GeoJSON.a).readFeatures(geojsonObject)}),vectorLayer=new layer_Vector.a({source:vectorSource,name:layerName,style:orgStyle,visible:!0});this.addSessionLayer(vectorLayer,[{name:"id",type:"QString",typeName:"varchar",comment:""},{name:"bezirkeName",type:"QString",typeName:"varchar",comment:""}],!1)}addNewSketchLayer(sketchLayerName){if(!sketchLayerName)return void this.snackBar.open("Enter a valid name for sketch layer","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});this.mapQgsStyleService.setSketchStyle(sketchLayerName);const self=this,newSource=new Vector.a({wrapx:!1}),newVector=new layer_Vector.a({source:newSource,name:sketchLayerName,zIndex:101,visible:!0,style(feature){let layerStyle=self.mapQgsStyleService.findJsonStyle(feature,sketchLayerName);return layerStyle||(layerStyle=self.mapQgsStyleService.findDefaultStyleProvisional(feature.getGeometry().getType(),sketchLayerName)),layerStyle}});this.addSessionLayer(newVector,[{name:"detail",type:"QString",typeName:"varchar",comment:""},{name:"id",type:"QString",typeName:"varchar",comment:""}],!0),this.loadedSketchLayers.push({layerName:sketchLayerName,layerTitle:sketchLayerName,defaultSRS:AppConfiguration.srsName,operations:["insert","modify","delete"],geometryType:"Multi",source:newSource}),this.questionService.setSketchQuestions(sketchLayerName,[{name:"detail",type:"QString",typeName:"varchar",comment:""}])}addLayerGroupLayerPanel(layerName,fieldsToShow,sketch=!1){let newFeats=!1,geometryType=null,removable=!0;sketch&&(newFeats=!0,geometryType="multi",removable=!1);const legend=this.mapQgsStyleService.getLegendSessionLayer(layerName);console.log("legend in addLayerGroupLayerPanel",legend);const layers=[],layerItem={layerName:layerName,layerTittle:layerName,fields:fieldsToShow,geometryType:geometryType,layerForNewFeatures:newFeats,layerForRanking:!1,layerLegendUrl:null,legendLayer:legend,onEdit:!1,onIdentify:!1,onRanking:!1,visible:!0,wfs:!1,removable:removable,sketch:sketch};if(layers.push(layerItem),!(this.groupsLayers.findIndex(x=>x.groupName===AppConfiguration.nameSessionGroup)>=0))return this.groupsLayers.unshift({groupName:AppConfiguration.nameSessionGroup,groupTittle:AppConfiguration.nameSessionGroup,visible:!0,layers:layers}),void this.groupsLayersSubject.next(this.groupsLayers);this.groupsLayers.find(x=>x.groupName===AppConfiguration.nameSessionGroup).layers.push(layerItem),this.groupsLayersSubject.next(this.groupsLayers)}removeSessionLayer(layerToRemove){const layerName=layerToRemove.layer.layerName,groupName=layerToRemove.groupName;this.map.getLayers().forEach(group=>{if(groupName.toLowerCase()===group.get("name").toLowerCase()){const layersInGroup=group.getLayers().getArray(),lyr=layersInGroup.find(x=>x.get("name").toLowerCase()===layerName.toLowerCase());if(lyr){lyr.setVisible(!1),this.map.removeLayer(lyr),console.log("Encuentra la capa y borrada",lyr.get("name"));const index=layersInGroup.findIndex(x=>x.get("name").toLowerCase()===layerName.toLowerCase());layersInGroup.splice(index,1),console.log("Capa borrada",lyr.get("name"),"layersInGroup",layersInGroup)}}});const group=this.findGroupLayer(layerName);console.log("group",group.layers,"layerName",layerName);const indexInGroup=group.layers.findIndex(x=>x.layerName.toLowerCase()===layerName.toLowerCase());console.log("layername",layerName,"indexInGroup antes",indexInGroup,"grouplayers",this.groupsLayers),group.layers.splice(indexInGroup,1),console.log("indexInGroup despues",indexInGroup,"grouplayers",this.groupsLayers),this.groupsLayersSubject.next(this.groupsLayers)}addSessionLayer(layer,fieldstoShow,sketch=!1){if(!(this.map.getLayers().getArray().findIndex(x=>AppConfiguration.nameSessionGroup.toLowerCase()===x.get("name").toLowerCase())>0)){const newGroup=new Group.a({name:AppConfiguration.nameSessionGroup,layers:[],visible:!0,zIndex:100});return this.map.addLayer(newGroup),layer.setZIndex(newGroup.getZIndex()+1),newGroup.getLayers().push(layer),void this.addLayerGroupLayerPanel(layer.get("name"),fieldstoShow,sketch)}try{let group;this.map.getLayers().forEach(grp=>{grp.get("name").toLowerCase()===AppConfiguration.nameSessionGroup.toLowerCase()&&(group=grp)});const layerIndex=group.getLayers().length;layer.setZIndex(group.getZIndex()+layerIndex),group.getLayers().push(layer),this.addLayerGroupLayerPanel(layer.get("name"),fieldstoShow,sketch)}catch(e){return void this.snackBar.open("Error adding results","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})}}saveRating(layerName,feature){const attrRanking=AppConfiguration.ratingPrex[layerName]+this.rating.toString(),newRating=feature.get(attrRanking)+1;feature.set(attrRanking,newRating),this.saveFeatinBuffer(this.curEditingLayer.layerName,feature,"rating")}saveRatingMeasures(layerName,feature,rating){for(const key in rating)"sonstiges"!==key&&feature.set(key+"_rank",rating[key]);rating.sonstiges&&feature.set("sonstiges",this.replaceNull(rating.sonstiges)),this.saveFeatinBuffer(layerName,feature,"rating")}startRating(){if(!this.curEditingLayer)return void this.snackBar.open("Error retrieving current layer on edit","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});if(!AppConfiguration.ratingPrex[this.curEditingLayer.layerName])return void this.snackBar.open("Current layer is not available for rating","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});const lyr=this.findLayer(this.curEditingLayer.layerName);null!==lyr?(this.removeInteractions(),this.select=new Select.a({layers:[lyr],condition:events_condition.d,hitTolerance:7,style:this.selectStyle}),this.map.addInteraction(this.select),this.select.on("select",e=>{const selectedFeatures=e.target.getFeatures().getArray();selectedFeatures.length<=0?this.snackBar.open("No features selected","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3}):this.openDialog(this.curEditingLayer.layerName,selectedFeatures[0])})):this.snackBar.open("Error retrieving layer","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})}updateSelectedProject(qgsProject){if(qgsProject.file.length>0)return this.qgsProjectFile=qgsProject.file,this.qGsServerUrl=qgsProject.qGsServerUrl,this.srsID=qgsProject.srsID,void this.updateMap(this.qgsProjectFile)}requestProjectInfo(qgsfile){fetch(this.qGsServerUrl+"service=WMS&request=GetProjectSettings&MAP="+qgsfile).then(response=>response.text()).then(data=>{this.parseQgsProject(data).then(()=>{this.updateMapView(),this.workQgsProject(),this.setIdentifying()})}).catch(error=>console.error(error))}parseQgsProject(gqsProjectinfo){return __awaiter(this,void 0,void 0,function*(){const xmlText=(new DOMParser).parseFromString(gqsProjectinfo,"text/xml"),WFSLayers=xmlText.getElementsByTagName("WFSLayers")[0],wfsLayerList=[];if(void 0!==WFSLayers)for(let k=0;k<WFSLayers.getElementsByTagName("WFSLayer").length;k++)wfsLayerList.push(WFSLayers.getElementsByTagName("WFSLayer")[k].getAttribute("name"));const rootLayer=xmlText.getElementsByTagName("Layer")[0];let crs;if(rootLayer.getElementsByTagName("CRS").length>1){crs=rootLayer.getElementsByTagName("CRS")[1].childNodes[0].nodeValue;const projBBOX=rootLayer.getElementsByTagName("BoundingBox")[0];this.mapCanvasExtent=[Number(projBBOX.getAttribute("minx")),Number(projBBOX.getAttribute("maxx")),Number(projBBOX.getAttribute("miny")),Number(projBBOX.getAttribute("maxy"))],this.srsID=projBBOX.getAttribute("CRS"),lib.defs(this.srsID,AppConfiguration.projDefs[this.srsID.replace(/\D/g,"")]),function(proj4){var i,j,projCodes=Object.keys(proj4.defs),len=projCodes.length;for(i=0;i<len;++i){var code=projCodes[i];if(!Object(ol_proj.j)(code)){var def=proj4.defs(code),units=def.units;units||"longlat"!==def.projName||(units=Units.b.DEGREES),Object(ol_proj.d)(new proj_Projection.a({code:code,axisOrientation:def.axis,metersPerUnit:def.to_meter,units:units}))}}for(i=0;i<len;++i){var code1=projCodes[i],proj1=Object(ol_proj.j)(code1);for(j=0;j<len;++j){var code2=projCodes[j],proj2=Object(ol_proj.j)(code2);if(!Object(transforms.c)(code1,code2)){var def1=proj4.defs(code1),def2=proj4.defs(code2);if(def1===def2)Object(ol_proj.c)([proj1,proj2]);else{var transform=proj4(Object(ol_obj.a)({},def1,{axis:void 0}),Object(ol_obj.a)({},def2,{axis:void 0}));Object(ol_proj.b)(proj1,proj2,Object(ol_proj.f)(proj1,proj2,transform.forward),Object(ol_proj.f)(proj2,proj1,transform.inverse))}}}}}(lib)}else{const BBOX=rootLayer.getElementsByTagName("EX_GeographicBoundingBox")[0],westBoundLongitude=Number(BBOX.getElementsByTagName("westBoundLongitude")[0].childNodes[0].nodeValue),eastBoundLongitude=Number(BBOX.getElementsByTagName("eastBoundLongitude")[0].childNodes[0].nodeValue),southBoundLatitude=Number(BBOX.getElementsByTagName("southBoundLatitude")[0].childNodes[0].nodeValue),northBoundLatitude=Number(BBOX.getElementsByTagName("northBoundLatitude")[0].childNodes[0].nodeValue);this.srsID="EPSG:4326",this.mapCanvasExtent=[westBoundLongitude,eastBoundLongitude,northBoundLatitude,southBoundLatitude]}rootLayer.getElementsByTagName("Layer");const layerList=xmlText.querySelectorAll("Layer > Layer");for(let i=0;i<rootLayer.getElementsByTagName("Layer").length;i++)if(layerList[i].getElementsByTagName("Layer").length>0){const groupName=layerList[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue,groupTittle=layerList[i].getElementsByTagName("Title")[0].childNodes[0].nodeValue,layersinGroup=layerList[i].querySelectorAll("Layer > Layer"),listLayersinGroup=[];for(let j=0;j<layersinGroup.length;j++){let layerIsWfs=!1,layerForRanking=!1,layerForNewFeatures=!0;const layer=layersinGroup.item(j),geometryType=layer.getAttribute("geometryType"),layerName=layer.getElementsByTagName("Name")[0].childNodes[0].nodeValue,layerTittle=layer.getElementsByTagName("Title")[0].childNodes[0].nodeValue,urlResource=layer.querySelector("OnlineResource").getAttribute("xlink:href"),legendLayer=yield this.createLegendLayer(urlResource,layerName),fields=[];if(wfsLayerList.find(element=>element===layerName)){layerIsWfs=!0,AppConfiguration.noAddingFeatsLayers.findIndex(element=>element===layerName)>-1&&(layerForNewFeatures=!1);const attrs=layer.getElementsByTagName("Attributes")[0];for(let k=0;k<attrs.getElementsByTagName("Attribute").length;k++){const field=attrs.getElementsByTagName("Attribute")[k];fields.push({typeName:field.getAttribute("typeName"),editType:field.getAttribute("editType"),precision:field.getAttribute("precision"),type:field.getAttribute("type"),length:field.getAttribute("length"),name:field.getAttribute("name"),comment:field.getAttribute("comment")})}AppConfiguration.ratingMeasureLayers[layerName]&&(layerForRanking=!0)}listLayersinGroup.push({layerName:layerName,layerTittle:layerTittle,layerLegendUrl:urlResource,legendLayer:legendLayer,wfs:layerIsWfs,geometryType:geometryType,onEdit:!1,onIdentify:!1,onRanking:!1,visible:!1,layerForRanking:layerForRanking,layerForNewFeatures:layerForNewFeatures,fields:fields})}this.groupsLayers.push({groupName:groupName,groupTittle:groupTittle,visible:!1,layers:listLayersinGroup})}wfsLayerList.length>0&&this.mapQgsStyleService.createAllLayerStyles(this.qGsServerUrl,this.qgsProjectFile,wfsLayerList),this.groupsLayersSubject.next(this.groupsLayers),this.questionService.setQuestions(this.groupsLayers),this.mapQgsStyleService.createLegendSessionLayers()})}updateMap(qgsfile){this.requestProjectInfo(qgsfile)}sanitizeImageUrl(imageUrl){return this.sanitizer.bypassSecurityTrustUrl(imageUrl)}createIconSymbols(iconSymbols,layerName){if(0===iconSymbols.nodes.length)return[{iconSrc:this.sanitizeImageUrl(AppConfiguration.rasterIcon),title:layerName}];const symbolList=[];return iconSymbols.nodes.forEach(icon=>{icon.hasOwnProperty("icon")&&symbolList.push(""!==icon.icon?{iconSrc:"data:image/png;base64,"+icon.icon,title:icon.title}:{iconSrc:this.sanitizeImageUrl(AppConfiguration.rasterIcon),title:layerName}),icon.hasOwnProperty("symbols")&&icon.symbols.forEach(symbol=>{symbol.title.length>0&&symbolList.push({iconSrc:"data:image/png;base64,"+symbol.icon,title:symbol.title})})}),symbolList}createLegendLayer(urlResource,layerName){return __awaiter(this,void 0,void 0,function*(){const url=urlResource.replace(/([image/])*(?:jpeg|png)/g,"application/json");return fetch(url).then(response=>response.json()).then(json=>this.createIconSymbols(json,layerName)).then(symbols=>symbols).catch(error=>console.log("Error retrieving symbology",error))})}ngOnInit(){this.initializeMap()}setIdentifying(){this.map.on("singleclick",evt=>{evt.dragging||this.curInfoLayer&&(this.container.nativeElement.style.display="block",this.curInfoLayer.getSource()instanceof source_ImageWMS?this.displayFeatureInfoWMS(evt):this.curInfoLayer.getSource()instanceof Vector.a&&this.displayFeatureInfoWFS(evt))}),this.map.on("pointermove",evt=>{if(evt.dragging)return;if(!this.curInfoLayer)return;const layerOnIdentifyingName=this.curInfoLayer.get("name"),pixel=this.map.getEventPixel(evt.originalEvent),hit=this.map.forEachLayerAtPixel(pixel,()=>!0,{layerFilter:layer=>layer.get("name").toLowerCase()===layerOnIdentifyingName.toLowerCase(),hitTolerance:2});this.map.getTargetElement().style.cursor=hit?"pointer":""})}changeSymbol(style){if(null===style)return this.currentStyle=null,void(this.currentClass=null);this.currentStyle=style.value,this.currentClass=style.key}initializeMap(){this.pinchZoom=new PinchZoom.a({constrainResolution:!0}),this.pinchRotate=new PinchRotate.a({constrainResolution:!0}),this.dragPan=new DragPan.a,this.dragRotate=new DragRotate.a,this.dragZoom=new DragZoom.a,this.dragAndDropInteraction=new DragAndDrop.a({formatConstructors:[GeoJSON.a,format_KML]}),this.map=new ol_Map.a({interactions:Object(ol_interaction.a)({constrainResolution:!0}),target:"map",view:new View.a({projection:"EPSG:3857",center:[0,0],zoom:3})}),this.selectStyle=new Style.c({stroke:new Stroke.a({color:"rgba(255, 154, 131,0.9)",width:2,lineDash:[5,2]}),fill:new Fill.a({color:"rgba(234, 240, 216, 0.8)"}),image:new Circle.a({radius:7,fill:new Fill.a({color:"rgba(255, 154, 131, 0.1)"}),stroke:new Stroke.a({color:"#EE266D",width:2,lineDash:[8,5]})})}),this.pinchZoom=this.map.getInteractions().getArray().find(interaction=>interaction instanceof PinchZoom.a),this.pinchZoom.on("change",()=>{}),this.pinchZoom.on("change",()=>{})}createHelpTooltip(){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="ol-tooltip hidden",this.helpTooltip=new ol_Overlay({element:this.helpTooltipElement,offset:[15,0],positioning:"center-left"}),this.map.addOverlay(this.helpTooltip)}createMeasureTooltip(){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="ol-tooltip ol-tooltip-measure",this.measureTooltip=new ol_Overlay({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center",stopEvent:!1,insertFirst:!1}),this.map.addOverlay(this.measureTooltip)}updateMapView(){const leftMinCorner=new geom_Point.a([this.mapCanvasExtent[0],this.mapCanvasExtent[2]]),rightMinCorner=new geom_Point.a([this.mapCanvasExtent[1],this.mapCanvasExtent[2]]),leftMaxCorner=new geom_Point.a([this.mapCanvasExtent[0],this.mapCanvasExtent[3]]),hDistance=Object(ol_sphere.b)(Object(ol_proj.q)(leftMinCorner.getCoordinates(),this.srsID,this.wgs84ID),Object(ol_proj.q)(rightMinCorner.getCoordinates(),this.srsID,this.wgs84ID)),vDistance=Object(ol_sphere.b)(Object(ol_proj.q)(leftMaxCorner.getCoordinates(),this.srsID,this.wgs84ID),Object(ol_proj.q)(leftMinCorner.getCoordinates(),this.srsID,this.wgs84ID));this.mapCenterXY=[this.mapCanvasExtent[0]+hDistance/2,this.mapCanvasExtent[2]+vDistance/2],this.view=new View.a({center:[this.mapCenterXY[0],this.mapCenterXY[1]],zoom:AppConfiguration.mapZoom,minZoom:AppConfiguration.minZoom,maxZoom:AppConfiguration.maxZoom,projection:this.srsID}),this.map.setView(this.view),this.map.addControl(new ZoomSlider.a),this.map.addControl(new ScaleLine.a)}ngAfterViewInit(){this.overlay=new ol_Overlay({element:this.container.nativeElement,autoPan:!0,autoPanAnimation:{duration:250}}),this.map.addOverlay(this.overlay),this.closer.nativeElement.onclick=()=>(this.overlay.setPosition(void 0),this.closer.nativeElement.blur(),!1)}zoomToHome(){this.map.getView().setRotation(0),this.map.getView().setZoom(AppConfiguration.mapZoom),this.map.getView().setCenter([this.mapCenterXY[0],this.mapCenterXY[1]])}prepareLoadWMSLayers(qGsServerUrl,capRequest,qGsProject){const wmsVersion="SERVICE=WMS&VERSION="+AppConfiguration.wmsVersion,urlWMS=qGsServerUrl+wmsVersion+capRequest+qGsProject;let parser;parser=new WMScapabilities,fetch(urlWMS).then(response=>response.text()).then(text=>{const xmlWMStext=parser.read(text);return this.loadWMSlayers(qGsServerUrl+wmsVersion+qGsProject,xmlWMStext),this.reorderingGroupsLayers(),xmlWMStext}).catch(error=>console.error(error))}workQgsProject(){const qGsProject="&map="+this.qgsProjectFile,qGsServerUrl=this.qGsServerUrl;fetch(qGsServerUrl+"SERVICE=WFS&VERSION="+AppConfiguration.wfsVersion+"&REQUEST=GetCapabilities"+qGsProject).then(response=>response.text()).then(text=>(this.loadWFSlayers(text),text)).then(text=>this.prepareLoadWMSLayers(qGsServerUrl,"&REQUEST=GetCapabilities",qGsProject)).catch(error=>console.error(error))}reorderingGroupsLayers(){const nGroups=this.groupsLayers.length;let nLysInGrp=0;this.groupsLayers.forEach(group=>{this.map.getLayers().forEach(layer=>{if(layer.get("name")===group.groupName){const grpZIndex=10*(nGroups-this.groupsLayers.indexOf(group));layer.setZIndex(grpZIndex),layer.getLayers().array_.length>0&&(nLysInGrp=layer.getLayers().array_.length,layer.getLayers().forEach(lyrInGrp=>{lyrInGrp.setZIndex(grpZIndex-(group.layers.findIndex(x=>x.layerName===lyrInGrp.get("name"))+1))}))}})})}loadWMSlayers(urlWMS,xmlCapabilities){try{if(!xmlCapabilities.Capability.Layer.Layer)return;xmlCapabilities.Capability.Layer.Layer.forEach(layer=>{if(-1===this.loadedWfsLayers.findIndex(x=>x.layerName.toLowerCase()===layer.Name.toLowerCase())){if(!layer.hasOwnProperty("Layer")){const WMSSource=new source_ImageWMS({url:urlWMS,params:{LAYERS:layer.Name},serverType:"qgis",crossOrigin:null}),WMSLayer=new Image({source:WMSSource,name:layer.Title});return this.addWebServLayer(layer.Title,WMSLayer),void this.loadedWmsLayers.push({layerName:layer.Name,layerTitle:layer.Title,source:WMSSource})}layer.Layer.length>0&&layer.Layer.forEach(lyr=>{if(-1===this.loadedWfsLayers.findIndex(x=>x.layerName.toLowerCase()===lyr.Name.toLowerCase())){const WMSSource=new source_ImageWMS({url:urlWMS,params:{LAYERS:lyr.Name},serverType:"qgis",crossOrigin:null}),WMSLayer=new Image({source:WMSSource,name:lyr.Title,visible:!1});this.addWebServLayer(lyr.Title,WMSLayer),this.loadedWmsLayers.push({layerName:lyr.Name,layerTitle:lyr.Title,source:WMSSource})}})}})}catch(e){console.log("Error retrieving WMS layers"),alert("Error loading WMS layers, please check the QGIS project configuration")}}addWebServLayer(layerName,webServlayer){let groupLayer,groupName="";if(this.groupsLayers.forEach(group=>{group.layers.findIndex(lyr=>lyr.layerName.toLowerCase()===layerName.toLowerCase())>-1&&(groupName=group.groupName)}),this.groupsLayers.findIndex(x=>x.layerName===layerName)>-1&&""===groupName){const newGroup=new Group.a({name:layerName,layers:[],visible:!1});return void this.map.addLayer(newGroup)}if(""===groupName)return void this.map.addLayer(webServlayer);if(this.map.getLayers().forEach(lyr=>{lyr.get("name").toLowerCase()!==groupName.toLowerCase()||(groupLayer=lyr)}),groupLayer)return void groupLayer.getLayers().push(webServlayer);const newGroup=new Group.a({name:groupName,layers:[webServlayer],visible:!1});this.map.addLayer(newGroup)}getEditingStyle(){return[new Style.c({fill:new Fill.a({color:"rgba(153, 202, 255, 0.5)"}),stroke:new Stroke.a({color:"blue",width:2,lineDash:[8,10]}),image:this.imageCircle(15)}),new Style.c({image:this.imageCircle(10)}),new Style.c({image:this.imageCircle(5)})]}imageCircle(radius){return new Circle.a({stroke:new Stroke.a({color:"red",width:2}),radius:radius})}updateFormQuestions(questionsData,layerName,feature){this.featureLayerForm={layerName:layerName,feature:feature},this.questionsSubject.next(questionsData)}popAttrForm(layer,feature){try{this.formOpen=!0,this.select=new Select.a({condition:events_condition.d,layers:[layer],hitTolerance:7}),this.map.addInteraction(this.select),this.select.getFeatures().push(feature),this.select.dispatchEvent("select"),this.formQuestions=this.questionService.getQuestions(layer.layerName),this.updateFormQuestions(this.formQuestions,layer.layerName,feature),this.updateShowForm(!0)}catch(e){alert("Error initializing form"+e)}}updateShowForm(showForm){this.showFormSubject.next(showForm)}getFormData(data){this.updateShowForm(!1),this.formOpen=!1,this.select.getFeatures().clear(),this.addingAttrFeature(data.layerName,data.feature,data.payload),this.saveFeatinBuffer(data.layerName,data.feature,"insert")}addingAttrFeature(layerName,feature,attr){const fields=this.findLayerinGroups(layerName).fields;if("undefined"!==attr)for(const key in attr){const type=fields.find(x=>x.name===key).type;feature.set(key,this.mapAttribute(type,attr[key]))}return feature}mapAttribute(type,value){let tvalue=null;switch(type){case"bool":tvalue=/true/i.test(value);break;case"QString":tvalue=value.trim().toLowerCase();break;case"int":case"double":tvalue=+value}return tvalue}saveFeatinBuffer(layerName,feature,operation){let tlayer;tlayer=this.findWfsLayer(layerName),tlayer||(tlayer=this.findSketchLayer(layerName),tlayer||alert("Layer not found in saving"));const layerSource=tlayer.source;this.editBuffer.push({layerName:layerName,transaction:operation,feats:feature,dirty:!0,source:layerSource}),this.canBeUndo=!0,this.cacheFeatures.push({layerName:layerName,transaction:operation,feats:feature,dirty:!0,source:layerSource})}enableAddShape(shape){if(!this.curEditingLayer)return void alert("No layer selected to edit");if(AppConfiguration.noAddingFeatsLayers.findIndex(x=>x.toLowerCase()===this.curEditingLayer.layerName.toLowerCase())>=0)return void this.snackBar.open("No more elements can be added to this layer","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3});const self=this,tsource=this.curEditingLayer.source;this.removeInteractions();try{switch(shape){case"Point":this.draw=new Draw.a({source:tsource,type:shape,freehand:!1,stopClick:!0,style:this.getEditingStyle()});break;case"LineString":this.draw=new Draw.a({source:tsource,type:shape,freehand:!0,stopClick:!0,style:this.getEditingStyle()}),this.removeDragPinchInteractions();break;case"Polygon":case"Multipoligon":case"MultipolygonZ":case"Square":this.draw=new Draw.a({source:tsource,type:shape,freehand:!0,stopClick:!0,style:this.getEditingStyle(),condition:olBrowserEvent=>!!olBrowserEvent.originalEvent.touches&&olBrowserEvent.originalEvent.touches.length<2});break;case"Circle":this.draw=new Draw.a({source:tsource,type:shape,freehand:!0,stopClick:!0,style:this.getEditingStyle(),condition:olBrowserEvent=>!!olBrowserEvent.originalEvent.touches&&olBrowserEvent.originalEvent.touches.length<2}),this.removeDragPinchInteractions()}let listener;this.map.addInteraction(this.draw),this.snap=new Snap.a({source:tsource}),this.map.addInteraction(this.snap),this.createMeasureTooltip(),this.draw.on("drawstart",evt=>{if(this.formOpen)return this.snackBar.open("There is a form open, close it first","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3}),void this.draw.abortDrawing();if(null==this.currentClass)return alert("Waehlen Sie ein Symbol"),void this.draw.abortDrawing();let tooltipCoord=evt.coordinate;listener=evt.feature.getGeometry().on("change",evt=>{const geom=evt.target;let output;if("LineString"===self.draw.type_&&self.curEditingLayer.geometryType.indexOf("Polygon")>-1){const last=geom.getLastCoordinate(),first=geom.getFirstCoordinate(),sourceProj=self.map.getView().getProjection(),distance=Object(ol_sphere.b)(Object(ol_proj.q)(first,sourceProj,"EPSG:4326"),Object(ol_proj.q)(last,sourceProj,"EPSG:4326"));distance<AppConfiguration.threshold&&(output=Math.round(100*distance)/100+" m",tooltipCoord=geom.getFirstCoordinate(),self.measureTooltipElement.innerHTML=output,self.measureTooltip.setPosition(tooltipCoord))}})}),this.draw.on("drawend",e=>__awaiter(this,void 0,void 0,function*(){if(e.feature.setId(this.curEditingLayer.layerName.concat(".",String(this.featId))),this.featId=this.featId+1,"Circle"===self.draw.type_&&"Polygon"!==e.feature.getGeometry().getType()&&e.feature.setGeometry(new Polygon.b(e.feature.getGeometry())),"LineString"===self.draw.type_&&self.curEditingLayer.geometryType.indexOf("Polygon")>-1){const geom=e.feature.getProperties().geometry,threshold=AppConfiguration.threshold,last=geom.getLastCoordinate(),first=geom.getFirstCoordinate(),sourceProj=this.map.getView().getProjection(),distance=Object(ol_sphere.b)(Object(ol_proj.q)(first,sourceProj,"EPSG:4326"),Object(ol_proj.q)(last,sourceProj,"EPSG:4326"));if(distance>threshold)return e.feature.setGeometry(null),void this.unsetMeasureToolTip();const newCoordinates=e.feature.getProperties().geometry.getCoordinates();newCoordinates.push(first);const tgeometry=new Polygon.a([newCoordinates]);if(!(tgeometry instanceof Polygon.a))return e.feature.setGeometry(null),void this.unsetMeasureToolTip();e.feature.setGeometry(tgeometry),self.measureTooltipElement.innerHTML=distance,self.measureTooltipElement.className="ol-tooltip ol-tooltip-static",self.measureTooltip.setOffset([0,-7])}("Point"===self.draw.type_||"LineString"===self.draw.type_||self.curEditingLayer.geometryType.indexOf("Polygon")>-1||"Circle"===self.draw.type_)&&setTimeout(()=>{self.addDragPinchInteractions()},1e3),this.unsetMeasureToolTip(),this.popAttrForm(this.curEditingLayer,e.feature)}))}catch(e){console.log("Error adding draw interactions",e)}}unsetMeasureToolTip(){this.measureTooltipElement.innerHTML="",this.measureTooltipElement=null,this.map.removeOverlay(this.measureTooltip),this.createMeasureTooltip()}startDeletingV0(){{const tlayer=this.findLayer(this.curEditingLayer.layerName);if(null===tlayer)return void alert("Error retrieving current layer in deleting features");const self=this,tsource=this.curEditingLayer.source;this.removeInteractions(),this.select=new Select.a({condition:events_condition.d,layers:[tlayer],hitTolerance:7,style:this.selectStyle}),this.select.getFeatures().clear(),this.map.addInteraction(this.select);const dirty=!0;"Point"!==this.curEditingLayer.geometryType&&"MultiPoint"!==this.curEditingLayer.geometryType||(this.dragBox=new DragBox.a({className:"boxSelect",condition:events_condition.n}),this.map.addInteraction(this.dragBox),this.dragBox.on("boxend",()=>{if(null==this.dragBox.getGeometry())return;const extent=this.dragBox.getGeometry().getExtent();tsource.forEachFeatureIntersectingExtent(extent,f=>{self.select.getFeatures().push(f)}),this.select.dispatchEvent("select")}),this.dragBox.on("boxstart",function(){self.select.getFeatures().clear()})),this.select.on("select",function(e){const selectedFeatures=e.target.getFeatures();if(!(selectedFeatures.getLength()<=0))return"Point"===self.curEditingLayer.geometryType||"Line"===self.curEditingLayer.geometryType||"MultiPoint"===self.curEditingLayer.geometryType||"Polygon"===self.curEditingLayer.geometryType?(selectedFeatures.forEach(f=>{const lastFeat=f.clone();lastFeat.setId(f.getId()),f.getId(),self.curEditingLayer.source.removeFeature(f),self.editBuffer.push({layerName:self.curEditingLayer.layerName,transaction:"delete",feats:lastFeat,dirty:dirty,source:self.curEditingLayer.source})}),self.select.getFeatures().clear(),void(self.canBeUndo=!0)):void selectedFeatures.forEach(f=>{self.editBuffer.push({layerName:self.curEditingLayer.layerName,transaction:"delete",feats:f.clone(),dirty:!0,source:self.curEditingLayer.source}),self.curEditingLayer.removeFeature(f)})}),this.select.getFeatures().clear(),this.canBeUndo=!0}}removeDragPinchInteractions(){try{this.map.getInteractions().forEach(interaction=>{(interaction instanceof DragPan.a||interaction instanceof DragZoom.a||interaction instanceof DragRotate.a||interaction instanceof PinchZoom.a||interaction instanceof PinchRotate.a)&&interaction.setActive(!1)})}catch(e){console.log("Error removing Drag/Pinch interactions",e)}}loadWFSlayers(XmlCapText){const self=this,featureTypeList=(new DOMParser).parseFromString(XmlCapText,"text/xml").getElementsByTagName("FeatureTypeList")[0],tnodes={},otherSrsLst=[],operationsLst=[];let srs,operation;const nLayers=featureTypeList.children.length-1;for(let i=0;i<nLayers;i++){const node=featureTypeList.getElementsByTagName("FeatureType")[i],layerName=node.getElementsByTagName("Name")[0].childNodes[0].nodeValue,layerTitle=node.getElementsByTagName("Title")[0].childNodes[0].nodeValue,defaultSRS=node.getElementsByTagName("DefaultSRS")[0].childNodes[0].nodeValue;defaultSRS!==AppConfiguration.srsName&&alert(`The layer ${layerName}has a different default SRS than the SRS of the project`);const otherSrs=node.getElementsByTagName("OtherSRS");for(let j=0;j<otherSrs.length;j++)srs=node.getElementsByTagName("OtherSRS")[j].childNodes[0].nodeValue,srs.length>0&&(otherSrsLst[j]=srs);const operations=node.getElementsByTagName("Operations")[0];for(let j=0;j<operations.children.length;j++)operation=operations.getElementsByTagName("Operation")[j].childNodes[0].nodeValue,operation.length>0&&(operationsLst[j]=operation);operationsLst.includes("Query")&&operationsLst.includes("Insert")&&operationsLst.includes("Update")&&operationsLst.includes("Delete");const bBox=node.getElementsByTagName("ows:WGS84BoundingBox")[0],lowCorner=(bBox.getAttribute("dimensions"),bBox.getElementsByTagName("ows:LowerCorner")[0].childNodes[0].nodeValue),upperCorner=bBox.getElementsByTagName("ows:UpperCorner")[0].childNodes[0].nodeValue;if("0"===lowCorner.split(" ")[0]&&"0"===lowCorner.split(" ")[1]&&"0"===upperCorner.split(" ")[0]&&upperCorner.split(" "),layerName.length>0){const geom=this.findGeometryType(layerName),urlWFS=this.qGsServerUrl+"SERVICE=WFS&VERSION="+AppConfiguration.wfsVersion+"&request=GetFeature&typename="+layerName+"&outputFormat=GeoJSON&srsname="+defaultSRS+"&map="+this.qgsProjectFile;try{const vectorSource=new Vector.a({format:new GeoJSON.a,url:extent=>urlWFS,crossOrigin:null}),wfsVectorLayer=new layer_Vector.a({source:vectorSource,name:layerName,visible:!1,zIndex:nLayers-i,style(feature){let layerStyle=self.mapQgsStyleService.findJsonStyle(feature,layerName);return layerStyle||(layerStyle=self.mapQgsStyleService.findDefaultStyleProvisional(feature.getGeometry().getType(),layerName)),layerStyle}});tnodes[layerName]={layerName:layerName,layerTitle:layerTitle,defaultSRS:defaultSRS,otherSrs:otherSrsLst,lowCorner:[lowCorner.split(" ")[0],lowCorner.split(" ")[1]],upperCorner:[upperCorner.split(" ")[0],upperCorner.split(" ")[1]],operations:operationsLst,geometryType:geom,source:vectorSource},this.addWebServLayer(layerName,wfsVectorLayer),this.loadedWfsLayers.push(tnodes[layerName])}catch(e){console.log(`An error occurred when adding the ${layerTitle}`,e)}}}return this.loadedWfsLayers}updateMapVisibleGroupLayer(selectedGroupLayer){this.map.getLayers().forEach(layer=>{selectedGroupLayer.groupName===layer.get("name")&&layer.setVisible(!layer.getVisible())})}updateMapVisibleLayer(selectedLayer){const layerName=selectedLayer.layer.layerName,groupName=selectedLayer.groupName;this.map.getLayers().forEach(layer=>{groupName!==layer.get("name")||layer.getLayers().forEach(lyrinGroup=>{layerName!==lyrinGroup.get("name")||lyrinGroup.setVisible(!lyrinGroup.getVisible())})})}findLayerinGroups(layerName){for(const group of this.groupsLayers){const lyr=group.layers.find(x=>x.layerName.toLowerCase()===layerName.toLowerCase());if(lyr)return lyr}}findGroupLayer(layerName){for(const group of this.groupsLayers)if(group.layers.find(x=>x.layerName.toLowerCase()===layerName.toLowerCase()))return group}updateEditingLayer(layerOnEdit){let layer;if(null===layerOnEdit)return this.curEditingLayer&&this.stopEditing(),void(this.curEditingLayer=null);if(this.curEditingLayer){if(this.stopEditing(),layer=this.loadedWfsLayers.find(x=>x.layerName===layerOnEdit.layer.layerName),!layer&&(layer=this.loadedSketchLayers.find(x=>x.layerName===layerOnEdit.layer.layerName),!layer))return void alert("Layer not found in starting editing");if(this.curEditingLayer===layer)return this.curEditingLayer=null,void this.stopEditing()}layer=this.loadedWfsLayers.find(x=>x.layerName===layerOnEdit.layer.layerName),layer||(layer=this.loadedSketchLayers.find(x=>x.layerName===layerOnEdit.layer.layerName),layer)?(this.curEditingLayer=layer,this.startEditing(layer)):alert("Layer not found in update editing ")}stopEditing(){this.currentClass=null,this.currentStyle=null,this.removeInteractions()}saveAllEdits(){this.editBuffer.length>0?(this.loadedWfsLayers.forEach(layer=>{console.log("saving changes in ",layer.layerName),this.saveEdits(layer)}),this.loadedSketchLayers.length>0&&confirm("Wollen Sie alle Aenderungen speichern?")&&this.loadedSketchLayers.forEach(layer=>{console.log("saving changes in sketch layers",layer.layerName),this.saveEdits(layer)})):this.snackBar.open("Nothing to save","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}saveEdits(editLayer){if(this.editBuffer.length>0)if(-1!==this.editBuffer.findIndex(x=>x.layerName===editLayer.layerName))if("Point"===editLayer.geometryType||"Line"===editLayer.geometryType||"Polygon"===editLayer.geometryType||"MultiPolygon"===editLayer.geometryType||"MultiPolygonZ"===editLayer.geometryType||"MultiPoint"===editLayer.geometryType){const result=this.writeTransactWfs(editLayer);result&&result.then(()=>{this.snackBar.open("Aenderungen gespeichert ","ok",{horizontalPosition:"center",verticalPosition:"top",duration:1e4})})}else this.saveSketchLayer(editLayer);else this.snackBar.open("NNichts zu speichern","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3});else this.snackBar.open("Nichts zu speichern","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}saveSketchLayer(editLayer){if(this.editBuffer.length>0){if(confirm("Do you want to download changes in this session layer?"))try{const tsource=editLayer.source;if(!tsource)return void this.snackBar.open("No source found in current sketch layer","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});let data=(new GeoJSON.a).writeFeatures(tsource.getFeatures());const featJSON=JSON.parse(data);data=JSON.stringify(featJSON,null,4);const blob=new Blob([data],{type:"text/json;charset=UTF-8"});Object(FileSaver_min.saveAs)(blob,editLayer.layerName)}catch(e){console.log("Error saving sketchLayer"+e)}}else this.snackBar.open("Nichts zu speichern","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})}startEditing(layer){try{this.openLayersService.updateLayerEditing(layer.layerName,layer.geometryType),this.currentClass=null}catch(e){return console.log("Error starting editing..."+e),void this.snackBar.open("Error starting drawing","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})}}removeFeatEditBuffer(feat){this.editBuffer.forEach((item,index)=>{item.feats===feat&&this.editBuffer.splice(index,1)})}undoLastEdit(){if(!(this.editBuffer.filter(obj=>obj.layerName===this.curEditingLayer.layerName).length>0))return;const lastOperation=this.editBuffer.filter(obj=>obj.layerName===this.curEditingLayer.layerName).pop();switch(lastOperation.transaction){case"insert":this.curEditingLayer.source.removeFeature(lastOperation.feats);break;case"update":lastOperation.feats.forEach(feat=>{const oldFeat=feat.get("oldFeat");if(oldFeat){oldFeat.getGeometry();const curFeatGeomClone=feat.getGeometry().clone();feat.setGeometry(oldFeat.getGeometry()),feat.set("oldFeat",curFeatGeomClone)}});break;case"rating":console.log("The last record was done .. so check that the rating was not added");case"delete":lastOperation.feats.setStyle(null),this.curEditingLayer.source.addFeature(lastOperation.feats)}this.removeFeatEditBuffer(lastOperation.feats)}writeTransactWfs(editLayer){const layerTrs=[];layerTrs[editLayer.layerName]=[],layerTrs[editLayer.layerName].insert=[],layerTrs[editLayer.layerName].delete=[],layerTrs[editLayer.layerName].update=[],layerTrs[editLayer.layerName].source=editLayer.source,this.editBuffer.forEach(t=>{if(t.layerName===editLayer.layerName)switch(t.transaction){case"insert":layerTrs[editLayer.layerName].insert.push(t.feats);break;case"delete":layerTrs[editLayer.layerName].delete.push(t.feats);break;case"translate":case"rating":layerTrs[editLayer.layerName].update.push(t.feats);break;case"update":layerTrs[editLayer.layerName].update.push(t.feats[0])}}),console.log("array insert",layerTrs[editLayer.layerName].insert),console.log("array update",layerTrs[editLayer.layerName].update),console.log("array delete",layerTrs[editLayer.layerName].delete);const strUrl=this.qGsServerUrl+"SERVICE=WFS&VERSION="+AppConfiguration.wfsVersion+"&REQUEST=DescribeFeatureType&map="+this.qgsProjectFile,formatWFS=new format_WFS,formatGML=new format_GML({featureNS:"http://localhost:4200",featureType:editLayer.layerName,crossOrigin:null});let node;const xs=new XMLSerializer;let str;return layerTrs[editLayer.layerName].insert.length>0?(node=formatWFS.writeTransaction(layerTrs[editLayer.layerName].insert,null,null,formatGML),str=xs.serializeToString(node),fetch(strUrl,{method:"POST",mode:"no-cors",body:str}).then(textInsert=>{if(layerTrs[editLayer.layerName].insert=[],layerTrs[editLayer.layerName].update.length>0)return node=formatWFS.writeTransaction(null,layerTrs[editLayer.layerName].update,null,formatGML),str=xs.serializeToString(node),fetch(strUrl,{method:"POST",body:str}).then(respUpdate=>{if(console.log("text response update WFS",respUpdate.text()),layerTrs[editLayer.layerName].update=[],layerTrs[editLayer.layerName].delete.length>0)return node=formatWFS.writeTransaction(null,null,layerTrs[editLayer.layerName].delete,formatGML),str=xs.serializeToString(node),fetch(strUrl,{method:"POST",body:str}).then(respDelete=>respDelete.text()).then(textDelete=>{console.log("text response update WFS",textDelete),layerTrs[editLayer.layerName].delete=[]}).catch(error=>console.error(error))})}).then(()=>{this.editBuffer=this.editBuffer.filter(obj=>obj.layerName!==editLayer.layerName)})):layerTrs[editLayer.layerName].update.length>0?(node=formatWFS.writeTransaction(null,layerTrs[editLayer.layerName].update,null,formatGML),str=xs.serializeToString(node),fetch(strUrl,{method:"POST",body:str}).then(respUpdate=>{if(console.log("text response update WFS",respUpdate.text()),layerTrs[editLayer.layerName].update=[],layerTrs[editLayer.layerName].delete.length>0)return node=formatWFS.writeTransaction(null,null,layerTrs[editLayer.layerName].delete,formatGML),str=xs.serializeToString(node),fetch(strUrl,{method:"POST",body:str}).then(respDelete=>respDelete.text()).then(textDelete=>{console.log("text response update WFS",textDelete),layerTrs[editLayer.layerName].delete=[]})}).then(()=>{this.editBuffer=this.editBuffer.filter(obj=>obj.layerName!==editLayer.layerName)})):layerTrs[editLayer.layerName].delete.length>0?(node=formatWFS.writeTransaction(null,null,layerTrs[editLayer.layerName].delete,formatGML),str=xs.serializeToString(node),fetch(strUrl,{method:"POST",body:str}).then(respDelete=>respDelete.text()).then(respDelete=>{layerTrs[editLayer.layerName].delete=[],this.editBuffer=this.editBuffer.filter(obj=>obj.layerName!==editLayer.layerName)})):void 0}findSketchLayer(layerName){let tlayer=null;return tlayer=this.loadedSketchLayers.find(x=>x.layerName.toLowerCase()===layerName.toLowerCase()),tlayer}findWfsLayer(layerName){let tlayer=null;return tlayer=this.loadedWfsLayers.find(x=>x.layerName.toLowerCase()===layerName.toLowerCase()),tlayer}findLayerWithGroup(layerName,groupName){let tlayer=null;return this.map.getLayers().forEach(layer=>{groupName.toLowerCase()!==layer.get("name").toLowerCase()||layer.getLayers().forEach(lyrinGroup=>{layerName.toLowerCase()===lyrinGroup.get("name").toLowerCase()&&(tlayer=lyrinGroup)})}),tlayer}findLayer(layerName){let tlayer=null;const group=this.findGroupLayer(layerName);return this.map.getLayers().forEach(layer=>{group.groupName.toLowerCase()!==layer.get("name").toLowerCase()||layer.getLayers().forEach(lyrinGroup=>{layerName.toLowerCase()===lyrinGroup.get("name").toLowerCase()&&(tlayer=lyrinGroup)})}),tlayer}startTranslating(){const lyr=this.findLayer(this.curEditingLayer.layerName),updateFeats=[];if(null===lyr)return void this.snackBar.open("Error retrieving current layer","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});this.removeInteractions(),this.select=new Select.a({layers:[lyr],condition:events_condition.d,hitTolerance:7,style:this.selectStyle}),this.map.addInteraction(this.select),this.dragBox=new DragBox.a({condition:events_condition.n}),this.map.addInteraction(this.dragBox),console.log("interactions in the map in startTranslating two dragbox?",this.map.getInteractions());const self=this,tsource=this.curEditingLayer.source;this.dragBox.on("boxend",()=>{const extent=this.dragBox.getGeometry().getExtent();null!=this.dragBox.getGeometry()&&tsource.forEachFeatureIntersectingExtent(extent,f=>{const lastFeat=f.clone();lastFeat.setId(f.getId()),f.set("oldFeat",lastFeat),self.select.getFeatures().push(f),self.cacheFeatures.push({layerName:self.curEditingLayer.layerName,transaction:"translate",feats:lastFeat,source:self.curEditingLayer.source})})});const selectedFeatures=this.select.getFeatures();this.translate=new Translate.a({features:selectedFeatures}),this.map.addInteraction(this.translate),this.translate.on("translateend",()=>{selectedFeatures.forEach(f=>{updateFeats.push(f)}),self.editBuffer.push({layerName:self.curEditingLayer.layerName,transaction:"update",feats:updateFeats,source:tsource}),this.select.getFeatures().clear(),console.log("self.editBuffer",self.editBuffer),this.canBeUndo=!0}),this.dragBox.on("boxstart",function(){self.select.getFeatures().clear()})}startRotating(){}startCopying(){}replaceNull(field){return field||0}replaceNullString(field){return field||""}createReporMeasureLayer(layerOnIdentifyingName,featureValues){console.log("featureValues",featureValues);const measureList=AppConfiguration.ratingMeasureLayers[layerOnIdentifyingName.toLowerCase()];let totalCount=0,textMeasure="",text='<div id="popupDiv"><table border=0 width=100%>';return text=text.concat('<tr><th>Measures</th><th colspan="2">Rating</th></tr>'),measureList.forEach(measure=>{totalCount=featureValues[measure+"_rank"],textMeasure=measure.slice(0,measure.indexOf("_rank")),text=text.concat("<tr><td>"+measure+'</td><td><input type="range" min="1" max="5" value="'+this.replaceNull(totalCount)+'" disabled=true></td>')}),text=text.concat('<tr><td>Sonstiges</td><td  colspan="3">'+this.replaceNullString(featureValues.sonstiges).toString().slice(0,50)+"</td></tr>"),text=text.concat("</table></div>"),text}displayFeatureInfoWFS(evt){const hdms=Object(ol_coordinate.k)(evt.coordinate);this.content.nativeElement.innerHTML="<p>Searching at:</p><code>"+hdms+"</code>",this.overlay.setPosition(evt.coordinate);const layerOnIdentifyingName=this.curInfoLayer.get("name"),fieldsToShow=this.findLayerinGroups(layerOnIdentifyingName).fields,featureValues=this.map.forEachFeatureAtPixel(evt.pixel,feature=>{const valuesToShow={};for(const field of fieldsToShow)valuesToShow[field.name]=feature.get(field.name);return valuesToShow},{layerFilter:layer=>layer.get("name")===layerOnIdentifyingName,hitTolerance:10});if(featureValues){let text="";if(AppConfiguration.ratingMeasureLayers.hasOwnProperty(layerOnIdentifyingName))text+=this.createReporMeasureLayer(layerOnIdentifyingName,featureValues),this.content.nativeElement.innerHTML=text;else{for(const key in featureValues)"img"!==key&&(text=text.concat(featureValues[key]?"<tr><td>"+key+"</td><td>"+featureValues[key]+"</td></tr>":"<tr><td>"+key+"</td><td></td></tr>"));if(featureValues.img){console.log("pasa X AQUI");const folder=AppConfiguration.curProject.substring(0,AppConfiguration.curProject.lastIndexOf("/"));text=text.concat('<tr><img class=imgInfo src="'+folder+"/img/"+featureValues.img+'" alt="picture"></tr>')}this.content.nativeElement.innerHTML='<div id="popupDiv"><table border=0 width=100%><tr><th>Attribute</th><th>Value</th></tr>'+text+"</table></div>"}}else this.content.nativeElement.innerHTML="<p>Not elements found :</p>"}displayFeatureInfoWMS(evt){const layerOnIdentifying=this.curInfoLayer,hdms=Object(ol_coordinate.k)(evt.coordinate);this.content.nativeElement.innerHTML="<p>Searching at:</p><code>"+hdms+"</code>",this.overlay.setPosition(evt.coordinate),console.log("evt.coordinate",evt.coordinate);const viewResolution=Number(this.view.getResolution()),wmsUrl=layerOnIdentifying.getSource().getFeatureInfoUrl(evt.coordinate,viewResolution,AppConfiguration.srsName,{INFO_FORMAT:"application/json",FI_POINT_TOLERANCE:10,FI_LINE_TOLERANCE:5,FI_POLYGON_TOLERANCE:5});wmsUrl?fetch(wmsUrl).then(response=>response.text()).then(json=>{this.content.nativeElement.innerHTML=this.formatHtmlInfoResponse(json)}).catch(error=>{console.log("Error retrieving info",error),this.content.nativeElement.innerHTML="<p>Not elements found :</p>"}):this.content.nativeElement.innerHTML="<p>Not elements found :</p>"}searchLayer(layerName,groupName){let layer=null;const group=this.map.getLayers().getArray().find(x=>x.get("name")===groupName);return group&&(layer=group.getLayers().getArray().find(x=>x.get("name")===layerName)),layer}startIdentifying(layerOnIdentifying){if(null===layerOnIdentifying)return this.map.getTargetElement().style.cursor="",this.curInfoLayer=null,void(this.container.nativeElement.style.display="none");const layer=this.searchLayer(layerOnIdentifying.layer.layerName,layerOnIdentifying.groupName);layer&&(this.curInfoLayer=layer,console.log("layerOnIdentifying  startIdentifying",layerOnIdentifying,"name curInfoLayer",this.curInfoLayer.get("name")))}startRankingMeasures(){if(console.log("TODO move to editing Layer and validate that layer is for ranking",this.map.getLayers()),!this.curEditingLayer)return void this.snackBar.open("Current layer is not available for rating in Action Plan","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});if(-1===Object.keys(AppConfiguration.ratingMeasureLayers).findIndex(x=>x.toLowerCase()===this.curEditingLayer.layerName.toLowerCase()))return void this.snackBar.open("Current layer is not available for rating in Action Plan","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3});const lyr=this.findLayer(this.curEditingLayer.layerName);null!==lyr?(this.removeInteractions(),this.select=new Select.a({layers:[lyr],condition:events_condition.d,hitTolerance:9,style:this.selectStyle}),this.map.addInteraction(this.select),this.select.on("select",e=>{const selectedFeatures=e.target.getFeatures().getArray();selectedFeatures.length<=0?this.snackBar.open("No features selected","ok",{horizontalPosition:"center",verticalPosition:"top",duration:3e3}):this.openDialogRankingMeasures(this.curEditingLayer.layerName.toLowerCase(),selectedFeatures[0])})):this.snackBar.open("Error retrieving layer for rating measures in Action Plan","ok",{horizontalPosition:"center",verticalPosition:"top",duration:5e3})}formatHtmlInfoResponse(json){let text="No features found <br>";if(JSON.parse(json).features.length>0){text="";const properties=JSON.parse(json).features[0].properties;for(const key in properties)"img"!==key&&(text=text.concat("<tr><td>"+key+"</td><td>"+properties[key]+"</td></tr>"));if(properties.img){const folder=AppConfiguration.curProject.substring(0,AppConfiguration.curProject.lastIndexOf("/"));text=text.concat('<tr><img class=imgInfo src="'+folder+"/img/"+properties.img+'" alt="picture"></tr>')}text="<table border=0 width=92%><tr><th>Attribute</th><th>Value</th></tr>"+text+"</table></div>"}return text}startMeasuring(measureType="LineString"){const source=new Vector.a,vector=new layer_Vector.a({name:"measuringLayer",source:source,style:new Style.c({fill:new Fill.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Stroke.a({color:"#ffcc33",width:2}),image:new Circle.a({radius:7,fill:new Fill.a({color:"#ffcc33"})})})});let sketch;this.map.addLayer(vector);const keyMoveEvent=this.map.on("pointermove",evt=>{if(evt.dragging)return;let helpMsg="Click to start drawing";if(sketch){const geom=sketch.getGeometry();geom instanceof Polygon.a?helpMsg="Click to continue drawing the polygon":geom instanceof LineString.a&&(helpMsg="Click to continue drawing the line")}this.helpTooltipElement.innerHTML=helpMsg,this.helpTooltip.setPosition(evt.coordinate),this.helpTooltipElement.classList.remove("hidden")});let listener;this.map.getViewport().addEventListener("mouseout",()=>{this.helpTooltipElement.classList.add("hidden")}),this.draw=new Draw.a({source:source,type:measureType,style:new Style.c({fill:new Fill.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Stroke.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new Circle.a({radius:5,stroke:new Stroke.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new Fill.a({color:"rgba(255, 255, 255, 0.2)"})})})}),this.map.addInteraction(this.draw),this.createMeasureTooltip(),this.createHelpTooltip();const self=this;this.draw.on("drawstart",evt=>{sketch=evt.feature;let tooltipCoord=evt.coordinate;listener=sketch.getGeometry().on("change",evt=>{const geom=evt.target;let output;geom instanceof Polygon.a?(output=(polygon=>{const area=Object(ol_sphere.a)(polygon);let output;return output=area>1e4?Math.round(area/1e6*100)/100+" km<sup>2</sup>":Math.round(100*area)/100+" m<sup>2</sup>",output})(geom),tooltipCoord=geom.getInteriorPoint().getCoordinates()):geom instanceof LineString.a&&(output=(line=>{const length=Object(ol_sphere.c)(line);let output;return output=length>100?Math.round(length/1e3*100)/100+" km":Math.round(100*length)/100+" m",output})(geom),tooltipCoord=geom.getLastCoordinate()),self.measureTooltipElement.innerHTML=output,self.measureTooltip.setPosition(tooltipCoord)})}),this.draw.on("drawend",e=>{self.measureTooltipElement.className="ol-tooltip ol-tooltip-static",self.measureTooltip.setOffset([0,-7]),setTimeout(()=>{vector.getSource().removeFeature(e.feature),sketch=null,self.measureTooltipElement.innerHTML="",self.measureTooltipElement=null,self.createMeasureTooltip(),Object(ol_Observable.b)(listener),Object(ol_Observable.b)(keyMoveEvent)},3e3)})}updateOrderGroupsLayers(groupsLayers){const nGroups=groupsLayers.length;let nLysInGrp=0;groupsLayers.forEach(group=>{this.map.getLayers().forEach(layer=>{if(layer.get("name")===group.groupName){const grpZIndex=10*(nGroups-groupsLayers.indexOf(group));layer.setZIndex(grpZIndex),layer.getLayers().array_.length>0&&(nLysInGrp=layer.getLayers().array_.length,layer.getLayers().forEach(lyrInGrp=>{lyrInGrp.setZIndex(grpZIndex-(group.layers.findIndex(x=>x.layerName===lyrInGrp.get("name"))+1))}))}})}),this.printLayerOrder()}printLayerOrder(){this.map.getLayers().forEach(layer=>{layer.getLayers().array_.length>0&&layer.getLayers().forEach(lyrInGrp=>{})})}removeInteractions(){try{this.map.removeInteraction(this.draw),this.map.removeInteraction(this.select),this.map.removeInteraction(this.translate),this.map.removeInteraction(this.snap),this.map.removeInteraction(this.dragBox)}catch(e){console.log("Error removing interactions",e)}}findGeometryType(layerName){let geometryType=null;for(const group of this.groupsLayers){const lyr=group.layers.find(x=>x.layerName===layerName);if(lyr)return geometryType=lyr.geometryType,geometryType}return geometryType}addDragPinchInteractions(){try{this.map.getInteractions().forEach(interaction=>{(interaction instanceof DragPan.a||interaction instanceof DragZoom.a||interaction instanceof DragRotate.a||interaction instanceof PinchZoom.a||interaction instanceof PinchRotate.a)&&interaction.setActive(!0)}),this.pinchZoom||this.map.addInteraction(this.pinchZoom),this.pinchRotate||this.map.addInteraction(this.pinchRotate)}catch(e){console.log("Error readding Drag/Pinch interactions",e)}}ngOnDestroy(){const subscriptions=new Subscription_Subscription;subscriptions.add(this.subsTocurrentSymbol).add(this.subsToShapeEdit),subscriptions.unsubscribe()}}return MapComponent.fac=function(t){return new(t||MapComponent)(directiveInject(map_qgs_style_service_MapQgsStyleService),directiveInject(open_layers_service_OpenLayersService),directiveInject(question_service_service_QuestionService),directiveInject(query_db_service_QueryDBService),directiveInject(auth_service_AuthService),directiveInject(snack_bar_MatSnackBar),directiveInject(dialog_MatDialog),directiveInject(platform_browser_DomSanitizer))},MapComponent.cmp=defineComponent({type:MapComponent,selectors:[["app-map"]],viewQuery:function(rf,ctx){if(1&rf&&(viewQuery(map_component_c0,1),viewQuery(map_component_c1,1),viewQuery(map_component_c2,1),viewQuery(dynamic_form_component_DynamicFormComponent,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.container=_t.first),queryRefresh(_t=loadQuery())&&(ctx.content=_t.first),queryRefresh(_t=loadQuery())&&(ctx.closer=_t.first),queryRefresh(_t=loadQuery())&&(ctx.dynamicFormComponent=_t.first)}},outputs:{updateLayerList:"updateLayerList"},decls:10,vars:4,consts:[["id","map",1,"map"],["id","popup",1,"ol-popup"],["popup",""],["href","#",1,"ol-popup-closer"],["closer",""],["id","popup-content"],["content",""],[4,"ngIf"],[3,"questions","showForm","featureLayer","formSubmitted"],["dynamicForm",""],[3,"groupLayers","layerVisClick","editLayerClick","groupLayerVisClick","layersOrder","identifyLayerClick","removeLayerClick"]],template:function(rf,ctx){1&rf&&(element(0,"div",0),elementStart(1,"div",1,2),element(3,"a",3,4),element(5,"div",5,6),elementEnd(),template(7,MapComponent_div_7_Template,2,1,"div",7),elementStart(8,"app-dynamic-form",8,9),listener("formSubmitted",function($event){return ctx.getFormData($event)}),elementEnd()),2&rf&&(advance(7),property("ngIf",ctx.loadedWfsLayers),advance(1),property("questions",ctx.questionsSubject.asObservable())("showForm",ctx.showFormSubject.asObservable())("featureLayer",ctx.featureLayerForm))},directives:[common_NgIf,dynamic_form_component_DynamicFormComponent,layer_panel_component_LayerPanelComponent],styles:[map_component_c4]}),MapComponent})(),map_component_DialogRatingDialog=(()=>{class DialogRatingDialog{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data,this.selectedRating=0,this.stars=[{id:1,icon:"sentiment_very_satisfied",class:"star-gray star-hover star"},{id:2,icon:"sentiment_very_satisfied",class:"star-gray star-hover star"},{id:3,icon:"sentiment_very_satisfied",class:"star-gray star-hover star"},{id:4,icon:"sentiment_very_satisfied",class:"star-gray star-hover star"},{id:5,icon:"sentiment_very_satisfied",class:"star-gray star-hover star"}]}selectStar(value){0===this.selectedRating&&this.stars.filter(star=>(star.class=star.id<=value?"star-gold star":"star-gray star",star)),this.data.rating=value}onNoClick(){this.dialogRef.close()}}return DialogRatingDialog.fac=function(t){return new(t||DialogRatingDialog)(directiveInject(dialog_MatDialogRef),directiveInject(MAT_DIALOG_DATA))},DialogRatingDialog.cmp=defineComponent({type:DialogRatingDialog,selectors:[["dialog-rating-dialog"]],decls:11,vars:3,consts:[["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","start center",1,"star-rating-container","star-rating-animation"],[3,"ngClass","click",4,"ngFor","ngForOf"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","color","primary",3,"click"],[3,"ngClass","click"]],template:function(rf,ctx){1&rf&&(elementStart(0,"h2",0),text(1),elementEnd(),elementStart(2,"mat-dialog-content"),text(3," Enter your rating: "),elementStart(4,"div",1),template(5,DialogRatingDialog_div_5_Template,3,4,"div",2),elementEnd(),elementEnd(),elementStart(6,"mat-dialog-actions"),elementStart(7,"button",3),text(8,"Ok"),elementEnd(),elementStart(9,"button",4),listener("click",function(){return ctx.onNoClick()}),text(10,"Cancel"),elementEnd(),elementEnd()),2&rf&&(advance(1),textInterpolate1("Rating ",ctx.data.layerNameDialog,""),advance(4),property("ngForOf",ctx.stars),advance(2),property("mat-dialog-close",ctx.data.rating))},directives:[dialog_MatDialogTitle,dialog_MatDialogContent,common_NgForOf,dialog_MatDialogActions,button_MatButton,dialog_MatDialogClose,common_NgClass,icon_MatIcon],styles:[map_component_c4]}),DialogRatingDialog})(),map_component_DialogRatingMeasureDialog=(()=>{class DialogRatingMeasureDialog{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data,this.selectedRating=0;const group={};data.fieldNames.forEach(question=>{group[question]=new FormControl(question.value||"",forms_Validators.required)}),console.log("data.fieldNames ",data.fieldNames),group.sonstiges=new FormControl(""),this.formGroup=new FormGroup(group),this.measureDesc=data.desc}showQuestionValue(elementID,value){const label=document.getElementById(elementID);label&&(label.innerHTML=value)}onNoClick(){this.dialogRef.close()}}return DialogRatingMeasureDialog.fac=function(t){return new(t||DialogRatingMeasureDialog)(directiveInject(dialog_MatDialogRef),directiveInject(MAT_DIALOG_DATA))},DialogRatingMeasureDialog.cmp=defineComponent({type:DialogRatingMeasureDialog,selectors:[["dialog-rating-measure-dialog"]],decls:18,vars:5,consts:[["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","start center",1,"star-rating-container","star-rating-animation"],[3,"formGroup"],[4,"ngFor","ngForOf"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","color","primary",3,"click"],["color","primary",3,"formControlName","max","min","thumbLabel","value","change"],[3,"id"]],template:function(rf,ctx){1&rf&&(elementStart(0,"h2",0),text(1),elementEnd(),elementStart(2,"mat-dialog-content"),text(3," Geben Sie Ihre Bewertung fr die Manahmen ein:"),element(4,"br"),text(5," ein 0-Wert bedeutet, dass keine Bewertung vorliegt"),element(6,"br"),element(7,"br"),text(8),element(9,"br"),elementStart(10,"div",1),elementStart(11,"div",2),template(12,DialogRatingMeasureDialog_div_12_Template,8,10,"div",3),elementEnd(),elementEnd(),elementEnd(),elementStart(13,"mat-dialog-actions"),elementStart(14,"button",4),text(15,"Ok"),elementEnd(),elementStart(16,"button",5),listener("click",function(){return ctx.onNoClick()}),text(17,"Cancel"),elementEnd(),elementEnd()),2&rf&&(advance(1),textInterpolate1("Bewertung ",ctx.data.layerNameDialog,""),advance(7),textInterpolate1(" Massnahmen: ",ctx.measureDesc," "),advance(3),property("formGroup",ctx.formGroup),advance(1),property("ngForOf",ctx.data.fieldNames),advance(2),property("mat-dialog-close",ctx.formGroup.getRawValue()))},directives:[dialog_MatDialogTitle,dialog_MatDialogContent,forms_NgControlStatusGroup,forms_FormGroupDirective,common_NgForOf,dialog_MatDialogActions,button_MatButton,dialog_MatDialogClose,slider_MatSlider,forms_NgControlStatus,forms_FormControlName],pipes:[common_TitleCasePipe],styles:[map_component_c4,'.hg-theme-default[_ngcontent-%COMP%]{background-color:#ececec;border-radius:5px;box-sizing:border-box;font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;overflow:hidden;padding:5px;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.hg-theme-default[_ngcontent-%COMP%]   button.hg-button[_ngcontent-%COMP%]{border-width:0;font-size:inherit;outline:0}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{display:inline-block;flex-grow:1}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]{display:flex}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button-container[_ngcontent-%COMP%]{margin-right:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button-container[_ngcontent-%COMP%]{display:flex}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:rgba(0,0,0,0);align-items:center;background:#fff;border-bottom:1px solid #b5b5b5;border-radius:5px;box-shadow:0 0 3px -1px rgba(0,0,0,.3);box-sizing:border-box;cursor:pointer;display:flex;height:40px;justify-content:center;padding:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[_ngcontent-%COMP%]{width:20px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-activeButton[_ngcontent-%COMP%]{background:#efefef}.hg-theme-default.hg-layout-numeric[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{align-items:center;display:flex;height:60px;justify-content:center;width:33.3%}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpadadd[_ngcontent-%COMP%], .hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpadenter[_ngcontent-%COMP%]{height:85px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpad0[_ngcontent-%COMP%]{width:105px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-com[_ngcontent-%COMP%]{max-width:85px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn.hg-button-at[_ngcontent-%COMP%]{max-width:45px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-selectedButton[_ngcontent-%COMP%]{background:rgba(5,25,70,.53);color:#fff}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[data-skbtn=".com"][_ngcontent-%COMP%]{max-width:82px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[data-skbtn="@"][_ngcontent-%COMP%]{max-width:60px}.hg-candidate-box[_ngcontent-%COMP%]{background:#ececec;border-bottom:2px solid #b5b5b5;border-radius:5px;display:inline-flex;margin-top:-10px;max-width:272px;position:absolute;transform:translateY(-100%);-webkit-user-select:none;-moz-user-select:none;user-select:none}ul.hg-candidate-box-list[_ngcontent-%COMP%]{display:flex;flex:1;list-style:none;margin:0;padding:0}li.hg-candidate-box-list-item[_ngcontent-%COMP%]{align-items:center;display:flex;height:40px;justify-content:center;width:40px}li.hg-candidate-box-list-item[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.03);cursor:pointer}li.hg-candidate-box-list-item[_ngcontent-%COMP%]:active{background:rgba(0,0,0,.1)}.hg-candidate-box-prev[_ngcontent-%COMP%]:before{content:""}.hg-candidate-box-next[_ngcontent-%COMP%]:before{content:""}.hg-candidate-box-next[_ngcontent-%COMP%], .hg-candidate-box-prev[_ngcontent-%COMP%]{align-items:center;background:#d0d0d0;color:#969696;cursor:pointer;display:flex;padding:0 10px}.hg-candidate-box-next[_ngcontent-%COMP%]{border-bottom-right-radius:5px;border-top-right-radius:5px}.hg-candidate-box-prev[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-top-left-radius:5px}.hg-candidate-box-btn-active[_ngcontent-%COMP%]{color:#444}']}),DialogRatingMeasureDialog})();function ToolbarComponent_div_0_Template(rf,ctx){if(1&rf){const _r2=getCurrentView();elementStart(0,"div",1),elementStart(1,"mat-card",2),element(2,"mat-divider",3),elementStart(3,"mat-toolbar",4),elementStart(4,"button",5),listener("click",function(){return restoreView(_r2),nextContext().zoomHome()}),elementStart(5,"mat-icon"),text(6,"home"),elementEnd(),elementEnd(),elementStart(7,"button",6),listener("click",function(){return restoreView(_r2),nextContext().openLayerPanel()}),elementStart(8,"mat-icon",7),text(9,"layers"),elementEnd(),elementEnd(),elementStart(10,"button",8),listener("click",function(){return restoreView(_r2),nextContext().createScratchLayer()}),element(11,"mat-icon",9),elementEnd(),elementStart(12,"button",10),listener("click",function(){return restoreView(_r2),nextContext().findExposedPeople()}),element(13,"mat-icon",11),elementEnd(),elementStart(14,"button",12),listener("click",function(){return restoreView(_r2),nextContext().findExposedInstitutions()}),element(15,"mat-icon",13),elementEnd(),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();styleProp("left",ctx_r0.x,"px")("top",ctx_r0.y,"px")}}let toolbar_component_ToolbarComponent=(()=>{class ToolbarComponent{constructor(iconRegistry,sanitizer,openLayersService,dialog){this.openLayersService=openLayersService,this.dialog=dialog,this.x=0,this.y=0,this.startX=0,this.startY=0,this.existingProject=!0,iconRegistry.addSvgIcon("layerScratch",sanitizer.bypassSecurityTrustResourceUrl("assets/img/baseline-layers-new-24px.svg")),iconRegistry.addSvgIcon("noiseAnnoyance",sanitizer.bypassSecurityTrustResourceUrl("assets/img/noiseannoyance-24px.svg")),iconRegistry.addSvgIcon("noiseOrgAnnoyance",sanitizer.bypassSecurityTrustResourceUrl("assets/img/organnoyance-24px.svg"))}zoomHome(){this.openLayersService.updateZoomHome(!0)}createScratchLayer(){this.dialog.open(toolbar_component_DialogLayerNameDialog,{width:"250px"}).afterClosed().subscribe(result=>{result&&(console.log("the dialog layerName was closed",result,result.length),this.openLayersService.updateAddSketchLayer(result))})}openLayerPanel(){this.openLayersService.updateShowLayerPanel(!0)}searchOnMap(){alert("Search elements in a OSM layer #TODO")}findExposedPeople(){this.openLayersService.updateFindPopExposed(!0)}processPopLden(data){console.log("data.nodes[2]",data.nodes);const popExposed=data.nodes.reduce((sum,current)=>sum+Number(current.value),0);console.log("Sum Pop in query",Math.round(100*popExposed)/100,"Share =",popExposed/AppConfiguration.totalPopBochumArea)}findExposedInstitutions(){this.openLayersService.updateFindInstitutionsExposed(!0)}ngOnInit(){this.subscriptionExistingProject=this.openLayersService.existingProject$.subscribe(data=>this.existingProject=!0,error=>{alert("error retrieving existing project"),console.log(error)})}startAction(action){}}return ToolbarComponent.fac=function(t){return new(t||ToolbarComponent)(directiveInject(icon_MatIconRegistry),directiveInject(platform_browser_DomSanitizer),directiveInject(open_layers_service_OpenLayersService),directiveInject(dialog_MatDialog))},ToolbarComponent.cmp=defineComponent({type:ToolbarComponent,selectors:[["app-toolbar"]],decls:1,vars:1,consts:[["class","mapToolbar","cdkDrag","","cdkDragBoundary",".app-content",3,"left","top",4,"ngIf"],["cdkDrag","","cdkDragBoundary",".app-content",1,"mapToolbar"],["color","primary",1,"spacetitle"],[1,"toolbarDivider"],["color","primary"],["matTooltip","Gesamtgebiet zeigen","aria-labelledby","Zoom to the study area","mat-icon-button","",3,"click"],["mat-icon-button","","aria-labelledby","Show list of layers","matTooltip","Zeige Kartenuebersicht",3,"click"],[1,"svgIconToolbar"],["mat-icon-button","","aria-labelledby","Add a sketch layer","matTooltip","Einen Sketch layer hinzufuegen",3,"click"],["svgIcon","layerScratch",1,"svgIconToolbar"],["mat-icon-button","","aria-label","identify","matTooltip","Von Laerm betroffene Bevoelkerung ermitteln",3,"click"],["svgIcon","noiseAnnoyance",1,"svgIconToolbar"],["mat-icon-button","","aria-label","identify","matTooltip","Von Laerm betroffene Einrichtungen ermitteln",3,"click"],["svgIcon","noiseOrgAnnoyance",1,"svgIconToolbar"]],template:function(rf,ctx){1&rf&&template(0,ToolbarComponent_div_0_Template,16,4,"div",0),2&rf&&property("ngIf",ctx.existingProject)},directives:[common_NgIf,drag_drop_CdkDrag,card_MatCard,divider_MatDivider,toolbar_MatToolbar,button_MatButton,tooltip_MatTooltip,icon_MatIcon],styles:[".mapToolbar[_ngcontent-%COMP%]{z-index:200;width:3%;max-height:60%;margin-left:90%;margin-top:10%;flex-direction:column;position:absolute;border-radius:3px;background-color:#ad1457}.mapToolbar[_ngcontent-%COMP%]:hover{cursor:pointer}.mat-toolbar[_ngcontent-%COMP%]{flex-direction:column;height:100%}.mat-toolbar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#e35183}.spacetitle[_ngcontent-%COMP%]{padding-top:15px;padding-left:0;padding-right:0;margin:0;background-color:#ad1457!important}.toolbarTitle[_ngcontent-%COMP%]:hover{background-color:#0ff}.toolbarDivider[_ngcontent-%COMP%]{background-color:#fff}.svgIconToolbar[_ngcontent-%COMP%]{color:#fff}"]}),ToolbarComponent})(),toolbar_component_DialogLayerNameDialog=(()=>{class DialogLayerNameDialog{constructor(dialogRef){this.dialogRef=dialogRef}onNoClick(){this.dialogRef.close()}}return DialogLayerNameDialog.fac=function(t){return new(t||DialogLayerNameDialog)(directiveInject(dialog_MatDialogRef))},DialogLayerNameDialog.cmp=defineComponent({type:DialogLayerNameDialog,selectors:[["dialog-layer-name-dialog"]],decls:12,vars:2,consts:[["mat-dialog-title",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","color","primary",3,"click"]],template:function(rf,ctx){1&rf&&(elementStart(0,"h2",0),text(1,"Enter a name for the new sketch layer"),elementEnd(),elementStart(2,"mat-dialog-content"),elementStart(3,"mat-form-field",1),elementStart(4,"mat-label"),text(5,"Layer name?"),elementEnd(),elementStart(6,"input",2),listener("ngModelChange",function($event){return ctx.sketchName=$event}),elementEnd(),elementEnd(),elementEnd(),elementStart(7,"mat-dialog-actions"),elementStart(8,"button",3),text(9,"Ok"),elementEnd(),elementStart(10,"button",4),listener("click",function(){return ctx.onNoClick()}),text(11,"Cancel"),elementEnd(),elementEnd()),2&rf&&(advance(6),property("ngModel",ctx.sketchName),advance(2),property("mat-dialog-close",ctx.sketchName))},directives:[dialog_MatDialogTitle,dialog_MatDialogContent,form_field_MatFormField,form_field_MatLabel,input_MatInput,forms_DefaultValueAccessor,forms_NgControlStatus,forms_NgModel,dialog_MatDialogActions,button_MatButton,dialog_MatDialogClose],encapsulation:2}),DialogLayerNameDialog})();const editing_toolbar_component_c0=["symbolList"];function EditingToolbarComponent_div_0_button_6_Template(rf,ctx){if(1&rf){const _r8=getCurrentView();elementStart(0,"button",23),listener("click",function(){return restoreView(_r8),nextContext(2).drawingShapes("Point")}),elementStart(1,"mat-icon"),text(2,"add_location"),elementEnd(),elementEnd()}2&rf&&property("ngClass",nextContext(2).actionActive.Point?"active":"normal")}function EditingToolbarComponent_div_0_button_7_Template(rf,ctx){if(1&rf){const _r10=getCurrentView();elementStart(0,"button",24),listener("click",function(){return restoreView(_r10),nextContext(2).drawingShapes("LineString")}),element(1,"mat-icon",25),elementEnd()}2&rf&&property("ngClass",nextContext(2).actionActive.LineString?"active":"normal")}function EditingToolbarComponent_div_0_button_8_Template(rf,ctx){if(1&rf){const _r12=getCurrentView();elementStart(0,"button",26),listener("click",function(){return restoreView(_r12),nextContext(2).drawingShapes("Polygon")}),element(1,"mat-icon",27),elementEnd()}2&rf&&property("ngClass",nextContext(2).actionActive.Polygon?"active":"normal")}function EditingToolbarComponent_div_0_button_11_Template(rf,ctx){if(1&rf){const _r14=getCurrentView();elementStart(0,"button",28),listener("click",function(){restoreView(_r14);const ctx_r13=nextContext(2);return ctx_r13.startEditAction("Rating"),ctx_r13.showSymbolPanel(!1)}),element(1,"mat-icon",29),elementEnd()}2&rf&&property("ngClass",nextContext(2).actionActive.Rating?"active":"normal")}function EditingToolbarComponent_div_0_button_12_Template(rf,ctx){if(1&rf){const _r16=getCurrentView();elementStart(0,"button",30),listener("click",function(){restoreView(_r16);const ctx_r15=nextContext(2);return ctx_r15.startEditAction("RankingMeasures"),ctx_r15.showSymbolPanel(!1)}),element(1,"mat-icon",31),elementEnd()}2&rf&&property("ngClass",nextContext(2).actionActive.RankingMeasures?"active":"normal")}function EditingToolbarComponent_div_0_Template(rf,ctx){if(1&rf){const _r18=getCurrentView();elementStart(0,"div",1),listener("panstart",function($event){return restoreView(_r18),nextContext().onPanStart($event)})("panmove",function($event){return restoreView(_r18),nextContext().onPan($event)}),elementStart(1,"mat-card"),elementStart(2,"div",2),elementStart(3,"div",null,3),elementStart(5,"mat-toolbar"),template(6,EditingToolbarComponent_div_0_button_6_Template,3,1,"button",4),template(7,EditingToolbarComponent_div_0_button_7_Template,2,1,"button",5),template(8,EditingToolbarComponent_div_0_button_8_Template,2,1,"button",6),elementStart(9,"button",7),listener("click",function(){restoreView(_r18);const ctx_r20=nextContext();return ctx_r20.startEditAction("ModifyBox"),ctx_r20.showSymbolPanel(!1)}),element(10,"mat-icon",8),elementEnd(),template(11,EditingToolbarComponent_div_0_button_11_Template,2,1,"button",9),template(12,EditingToolbarComponent_div_0_button_12_Template,2,1,"button",10),elementStart(13,"button",11),listener("click",function(){restoreView(_r18);const ctx_r21=nextContext();return ctx_r21.startEditAction("MeasureLine"),ctx_r21.showSymbolPanel(!1)}),element(14,"mat-icon",12),elementEnd(),elementStart(15,"button",13),listener("click",function(){restoreView(_r18);const ctx_r22=nextContext();return ctx_r22.startEditAction("MeasureArea"),ctx_r22.showSymbolPanel(!1)}),element(16,"mat-icon",14),elementEnd(),elementStart(17,"button",15),listener("click",function(){restoreView(_r18);const ctx_r23=nextContext();return ctx_r23.startEditAction("Delete"),ctx_r23.showSymbolPanel(!1)}),elementStart(18,"mat-icon"),text(19,"delete_forever"),elementEnd(),elementEnd(),elementStart(20,"button",16),listener("click",function(){return restoreView(_r18),nextContext().startEditAction("Undo")}),elementStart(21,"mat-icon"),text(22,"undo"),elementEnd(),elementEnd(),elementStart(23,"button",17),listener("click",function(){return restoreView(_r18),nextContext().showSymbolPanel(!0)}),elementStart(24,"mat-icon"),text(25,"category"),elementEnd(),elementEnd(),elementStart(26,"button",18),listener("click",function(){return restoreView(_r18),nextContext().saveLayer()}),elementStart(27,"mat-icon"),text(28,"save_alt"),elementEnd(),elementEnd(),elementStart(29,"button",19),listener("click",function(){return restoreView(_r18),nextContext().saveAllLayer()}),elementStart(30,"mat-icon"),text(31,"save"),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementStart(32,"div",20),element(33,"span",21),elementStart(34,"button",22),listener("click",function(){return restoreView(_r18),nextContext().closeEditingToolbar()}),elementStart(35,"mat-icon"),text(36,"close"),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();styleProp("left",ctx_r0.x,"px")("top",ctx_r0.y,"px"),advance(6),property("ngIf","Point"==ctx_r0.layerTypeEdit$||"Multi"==ctx_r0.layerTypeEdit$||"MultiPoint"==ctx_r0.layerTypeEdit$),advance(1),property("ngIf","Line"==ctx_r0.layerTypeEdit$||"Multi"==ctx_r0.layerTypeEdit$||"Polygon"==ctx_r0.layerTypeEdit$||"MultiPolygon"==ctx_r0.layerTypeEdit$||"MultiPolygonZ"==ctx_r0.layerTypeEdit$),advance(1),property("ngIf","Polygon"==ctx_r0.layerTypeEdit$||"Multi"==ctx_r0.layerTypeEdit$||"MultiPolygon"==ctx_r0.layerTypeEdit$||"MultiPolygonZ"==ctx_r0.layerTypeEdit$),advance(1),property("ngClass",ctx_r0.actionActive.ModifyBox?"active":"normal"),advance(2),property("ngIf",ctx_r0.layerTypeRate$),advance(1),property("ngIf",ctx_r0.layerTypeRateMeasures$),advance(1),property("ngClass",ctx_r0.actionActive.MeasureLine?"active":"normal"),advance(2),property("ngClass",ctx_r0.actionActive.MeasureArea?"active":"normal"),advance(2),property("ngClass",ctx_r0.actionActive.Delete?"active":"normal"),advance(6),property("ngClass",ctx_r0.actionActive.showSymbols?"active":"normal"),advance(3),property("disabled",ctx_r0.stopSave),advance(3),property("disabled",ctx_r0.stopSaveAll)}}let editing_toolbar_component_EditingToolbarComponent=(()=>{class EditingToolbarComponent{constructor(iconRegistry,sanitizer,openLayersService){this.openLayersService=openLayersService,this.x=0,this.y=0,this.startX=0,this.startY=0,this.stopSave=!1,this.stopSaveAll=!1,this.layerTypeRateMeasures$=!1,this.layerTypeRate$=!1,this.actionActive={Point:!1,LineString:!1,Polygon:!1,Square:!1,Box:!1,Circle:!1,ModifyBox:!1,Rotate:!1,Copy:!1,Identify:!1,Delete:!1,MeasureLine:!1,MeasureArea:!1,ModifyAttribute:!1,RankingMeasures:!1,Rating:!1},iconRegistry.addSvgIcon("add_line",sanitizer.bypassSecurityTrustResourceUrl("assets/img/baseline-line-nodes-24px.svg")),iconRegistry.addSvgIcon("selectBoxFeature",sanitizer.bypassSecurityTrustResourceUrl("assets/img/baseline-select-box2-24px.svg")),iconRegistry.addSvgIcon("add_poly",sanitizer.bypassSecurityTrustResourceUrl("assets/img/add-poly-layer24px.svg")),iconRegistry.addSvgIcon("identify",sanitizer.bypassSecurityTrustResourceUrl("assets/img/identify-24px.svg")),iconRegistry.addSvgIcon("measureLine",sanitizer.bypassSecurityTrustResourceUrl("assets/img/measure-straighten-24px.svg")),iconRegistry.addSvgIcon("measureArea",sanitizer.bypassSecurityTrustResourceUrl("assets/img/measure-area-24px.svg")),iconRegistry.addSvgIcon("add_location_attr",sanitizer.bypassSecurityTrustResourceUrl("assets/img/add_location_attr-24px.svg")),iconRegistry.addSvgIcon("ratingQuietArea",sanitizer.bypassSecurityTrustResourceUrl("assets/img/rate_quiet_area.svg")),iconRegistry.addSvgIcon("ratingActionPlan",sanitizer.bypassSecurityTrustResourceUrl("assets/img/rate_action_plan2.svg")),this.subsToShowEditToolbar=this.openLayersService.showEditToolbar$.subscribe(data=>{this.showToolbar(data)},error=>{console.log("Error in subscription to openLayersService.showEditToolbar$")}),this.subsToGeomTypeEditing=this.openLayersService.layerEditing$.subscribe(data=>{this.updateLayerTypeRanking(data.layerName),this.updateLayerTypeRating(data.layerName),this.updateLayerTypeEdit(data.layerGeom)},error=>{console.log("Error in subscription openLayersService.geomTypeEditing$")})}onPanStart(event){this.startX=this.x,this.startY=this.y}onPan(event){event.preventDefault(),this.x=this.startX+event.deltaX,this.y=this.startY+event.deltaY}ngOnDestroy(){this.subsToShowEditToolbar.unsubscribe(),this.subsToGeomTypeEditing.unsubscribe()}updateLayerTypeRanking(layerName){this.layerTypeRateMeasures$=!1,Object.keys(AppConfiguration.ratingMeasureLayers).findIndex(x=>x.toLowerCase()===layerName.toLowerCase())>-1&&(this.layerTypeRateMeasures$=!0)}updateLayerTypeRating(layerName){this.layerTypeRate$=!1,Object.keys(AppConfiguration.ratingPrex).findIndex(x=>x.toLowerCase()===layerName.toLowerCase())>-1&&(this.layerTypeRate$=!0)}closeEditingToolbar(){this.isVisible$=of(!1),this.showSymbolPanel(!1)}updateLayerTypeEdit(geomType){this.layerTypeEdit$=geomType}drawingShapes(shapeType){!0===this.actionActive[shapeType]?(this.openLayersService.updateShapeEditType(null),this.showSymbolPanel(!1)):(this.openLayersService.updateShapeEditType(shapeType),this.showSymbolPanel(!0)),this.highlightAction(shapeType)}highlightAction(action){this.actionActive[action]=!this.actionActive[action];for(const key in this.actionActive)key!==action&&!0===this.actionActive[key]&&(this.actionActive[key]=!this.actionActive[key])}startEditAction(action){this.openLayersService.updateEditAction(!0===this.actionActive[action]?null:action),this.highlightAction(action)}showSymbolPanel(visible){this.openLayersService.updateShowSymbolPanel(visible)}deleteFeat(action){this.openLayersService.updateDeleteFeats(!0!==this.actionActive.Delete),this.highlightAction("Delete")}saveLayer(){this.openLayersService.updateSaveCurrentLayer(!0),this.stopSave=!0,setTimeout(()=>{this.stopSave=!1},1e4)}saveAllLayer(){confirm("Do you want to save all the edits in the all layers:?")&&(this.openLayersService.updateSaveAllLayers(!0),this.stopSaveAll=!0,setTimeout(()=>{this.stopSaveAll=!1},1e4))}ngOnInit(){this.isVisible$=of(!1)}showToolbar(visible){this.isVisible$=of(visible),visible||this.showSymbolPanel(!1);for(let key in this.actionActive)!0===this.actionActive[key]&&(this.actionActive[key]=!this.actionActive[key])}}return EditingToolbarComponent.fac=function(t){return new(t||EditingToolbarComponent)(directiveInject(icon_MatIconRegistry),directiveInject(platform_browser_DomSanitizer),directiveInject(open_layers_service_OpenLayersService))},EditingToolbarComponent.cmp=defineComponent({type:EditingToolbarComponent,selectors:[["app-editing-toolbar"]],viewQuery:function(rf,ctx){if(1&rf&&viewQuery(editing_toolbar_component_c0,1),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.symbolList=_t.first)}},decls:2,vars:3,consts:[["class","editToolbar",3,"left","top","panstart","panmove",4,"ngIf"],[1,"editToolbar",3,"panstart","panmove"],[1,"container"],["editToolbar",""],["mat-icon-button","","matTooltip","Punkt hinzufuegen","aria-label","Add point/marker",3,"ngClass","click",4,"ngIf"],["mat-icon-button","","matTooltip","Linie hinzufuegen","aria-label","Add line",3,"ngClass","click",4,"ngIf"],["mat-icon-button","","matTooltip","Flaeche hinzufuegen","aria-label","Add polygon",3,"ngClass","click",4,"ngIf"],["mat-icon-button","","matTooltip","Elemente verschieben","aria-label","Select element(s) to move",3,"ngClass","click"],["svgIcon","selectBoxFeature"],["mat-icon-button","","matTooltip","Rate element",3,"ngClass","click",4,"ngIf"],["mat-icon-button","","matTooltip","Prioritiere Massnahmen","aria-label","Rate measures action-plan",3,"ngClass","click",4,"ngIf"],["mat-icon-button","","matTooltip","Entfernung messen","aria-label","Measure lineal distance",3,"ngClass","click"],["svgIcon","measureLine"],["mat-icon-button","","matTooltip","Flaeche messen","aria-label","Measure areal distance",3,"ngClass","click"],["svgIcon","measureArea"],["mat-icon-button","","aria-label","delete a element","matTooltip","Element loeschen",3,"ngClass","click"],["mat-icon-button","","aria-label","UndoLastEdit","matTooltip","ungeschehen machen",3,"click"],["mat-icon-button","","matTooltip","List der Symbole oeffnen","aria-label","Open symbol list",3,"ngClass","click"],["mat-icon-button","","aria-label","Save edits into the active layer","matTooltip","Anderungen im aktiven layer speichern",3,"disabled","click"],["mat-icon-button","","aria-label","Save all edits in all layers","matTooltip","alle Aenderungen speichern",3,"disabled","click"],[1,"divClosing"],[1,"spacer"],["mat-flat-button","",1,"closeIcon",3,"click"],["mat-icon-button","","matTooltip","Punkt hinzufuegen","aria-label","Add point/marker",3,"ngClass","click"],["mat-icon-button","","matTooltip","Linie hinzufuegen","aria-label","Add line",3,"ngClass","click"],["svgIcon","add_line"],["mat-icon-button","","matTooltip","Flaeche hinzufuegen","aria-label","Add polygon",3,"ngClass","click"],["svgIcon","add_poly"],["mat-icon-button","","matTooltip","Rate element",3,"ngClass","click"],["svgIcon","ratingQuietArea"],["mat-icon-button","","matTooltip","Prioritiere Massnahmen","aria-label","Rate measures action-plan",3,"ngClass","click"],["svgIcon","ratingActionPlan"]],template:function(rf,ctx){1&rf&&(template(0,EditingToolbarComponent_div_0_Template,37,16,"div",0),pipe(1,"async")),2&rf&&property("ngIf",pipeBind1(1,1,ctx.isVisible$))},directives:[common_NgIf,card_MatCard,toolbar_MatToolbar,button_MatButton,tooltip_MatTooltip,common_NgClass,icon_MatIcon],pipes:[common_AsyncPipe],styles:[".editToolbar[_ngcontent-%COMP%]{z-index:200;#width:3%;max-width:45%;margin-left:30%;margin-top:5%;flex-direction:row;position:absolute;border-radius:3px;background:#fff}.editToolbar[_ngcontent-%COMP%]:hover{cursor:pointer}.mat-toolbar[_ngcontent-%COMP%]{flex-direction:row;height:100%;background:#fff}.container[_ngcontent-%COMP%]{display:flex}.closeIcon[_ngcontent-%COMP%]{font-size:.8vw;text-align:center;vertical-align:middle!important;min-width:32px!important;max-width:32px!important;padding-top:0;margin-top:0;padding-right:0}.matCloseWrapper[_ngcontent-%COMP%]{padding:0;width:1.7vw!important;height:1.7vw!important}.matCloseWrapper[_ngcontent-%COMP%]:hover{background-color:transparent}.mat-card[_ngcontent-%COMP%]{padding:1px}.divClosing[_ngcontent-%COMP%]{float:right;height:100%;max-width:1.5vw;padding-right:20px}.divClosing[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:transparent}.mat-flat-button[_ngcontent-%COMP%]{padding:0 1px!important}.editingTools[_ngcontent-%COMP%]{float:left;height:100%;background-color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.active[_ngcontent-%COMP%]{background:#e35183}button[_ngcontent-%COMP%]:focus{outline:none!important}.mat-button-focus-overlay[_ngcontent-%COMP%]{background-color:transparent!important}.normal[_ngcontent-%COMP%]{background:none;outline:none}.toolbarDivider[_ngcontent-%COMP%]{background-color:#e35183}"]}),EditingToolbarComponent})();var canvas_Immediate=__webpack_require__("yUaI");function toContext(context,opt_options){var canvas=context.canvas,options=opt_options||{},pixelRatio=options.pixelRatio||has.a,size=options.size;size&&(canvas.width=size[0]*pixelRatio,canvas.height=size[1]*pixelRatio,canvas.style.width=size[0]+"px",canvas.style.height=size[1]+"px");var extent=[0,0,canvas.width,canvas.height],transform=Object(ol_transform.g)(Object(ol_transform.c)(),pixelRatio,pixelRatio);return new canvas_Immediate.a(context,pixelRatio,extent,transform,0)}__webpack_require__("MNGd");const symbol_list_component_c0=["symbolList"],symbol_list_component_c1=["symbol"],symbol_list_component_c2=["cmp"];function SymbolListComponent_div_0_span_10_Template(rf,ctx){1&rf&&(elementStart(0,"span"),text(1," ..creating List of Symbols"),elementEnd())}function SymbolListComponent_div_0_div_13_Template(rf,ctx){if(1&rf){const _r8=getCurrentView();elementStart(0,"div",10,11),elementStart(2,"div",12),listener("click",function(){restoreView(_r8);const symbol_r4=ctx.$implicit;return nextContext(2).updateActivesymbol(symbol_r4)}),element(3,"canvas",13,14),elementStart(5,"span"),text(6),elementEnd(),elementEnd(),elementEnd()}if(2&rf){const symbol_r4=ctx.$implicit,ctx_r3=nextContext(2);advance(2),propertyInterpolate1("id","+",symbol_r4.key,""),property("ngClass",ctx_r3.symbolActiveKey==symbol_r4.key?"active":"normal"),advance(1),propertyInterpolate("id",symbol_r4.key),advance(3),textInterpolate1(" ",symbol_r4.value.label," ")}}function SymbolListComponent_div_0_Template(rf,ctx){if(1&rf){const _r10=getCurrentView();elementStart(0,"div",1),elementStart(1,"mat-card",2,3),elementStart(3,"mat-card-title-group"),elementStart(4,"mat-card-title",4),text(5,"Symbole"),elementEnd(),elementStart(6,"button",5),listener("click",function(){return restoreView(_r10),nextContext().showSymbolList(!1)}),elementStart(7,"mat-icon",6),text(8,"close"),elementEnd(),elementEnd(),elementEnd(),element(9,"mat-divider",7),template(10,SymbolListComponent_div_0_span_10_Template,2,0,"span",8),elementStart(11,"span"),text(12),elementEnd(),template(13,SymbolListComponent_div_0_div_13_Template,7,4,"div",9),pipe(14,"keyvalue"),elementEnd(),elementEnd()}if(2&rf){const ctx_r0=nextContext();advance(10),property("ngIf",0==ctx_r0.symbolsLength),advance(2),textInterpolate(ctx_r0.variable),advance(1),property("ngForOf",pipeBind1(14,3,ctx_r0.symbols$))}}let symbol_list_component_SymbolListComponent=(()=>{class SymbolListComponent{constructor(openLayersService,mapQgsStyleService){this.openLayersService=openLayersService,this.mapQgsStyleService=mapQgsStyleService,this.variable="",this.symbolActiveKey=null,this.x=0,this.y=0,this.startX=0,this.startY=0,this.symbols$={},this.symbolsLength=0,this.subscriptionToShowSymbols=this.openLayersService.showSymbolPanel$.subscribe(data=>{this.showSymbolList(data)},error=>{console.log("Error in subscription to showSymbolPanel",error)}),this.subscriptionToLayerEditing=this.openLayersService.layerEditing$.subscribe(data=>{this.styles=this.mapQgsStyleService.getLayerStyle(data.layerName),this.symbols$=this.getJsonSymbolList(this.styles),this.symbolsLength=Object.keys(this.symbols$).length,this.geometryTypeSymbols=data.layerGeom,this.unsetActiveSymbol()},error=>console.log("Error in subscription to Layer Editing in SymbolList",error))}showSymbolList(visible){!1===visible&&(this.symbolActiveKey=null,this.openLayersService.updateCurrentSymbol(null)),this.displaySymbolList$=of(visible)}ngOnInit(){}ngAfterViewInit(){this.myCanvas.changes.subscribe(()=>{this.createJsonSymbolsinCanvas()})}getSymbolList(styles){const symbolDict={};for(const key of Object.keys(styles))symbolDict[styles[key].value]={style:styles[key].style,label:styles[key].label};return symbolDict}getJsonSymbolList(layerStyle){const symbolDict={},styles=layerStyle.style;for(const key of Object.keys(styles))symbolDict[styles[key].value]={style:styles[key].style,label:styles[key].label};return symbolDict}createJsonSymbolsinCanvas(){try{let feature;const allCanvas=this.myCanvas.toArray();for(let i=0;i<allCanvas.length;i++){const factor=10,canvas=allCanvas[i];if(canvas.nativeElement.getContext("2d")){const key=canvas.nativeElement.id,width=canvas.nativeElement.width*devicePixelRatio,height=canvas.nativeElement.height*devicePixelRatio;canvas.nativeElement.width=width,canvas.nativeElement.height=height;const render=toContext(canvas.nativeElement.getContext("2d")),olStyle=this.symbols$[key].style;let cloneStyle;switch(cloneStyle=olStyle.clone(),this.geometryTypeSymbols){case"Multi":{let imageClone;return feature=new Feature.a(new geom_Point.a([width/2,height/2])),imageClone=olStyle.clone().getImage(),imageClone.setScale(5*imageClone.getScale()),cloneStyle=new Style.c({image:imageClone,fill:olStyle.getFill()}),void render.drawFeature(feature,cloneStyle)}case"Point":{let imageClone;feature=new Feature.a(new geom_Point.a([width/2,height/2])),imageClone=olStyle.clone().getImage(),imageClone.setScale(5*imageClone.getScale()),cloneStyle=new Style.c({image:imageClone,fill:olStyle.getFill()});break}case"Line":{let strokeClone,heigthStroke=height/2;strokeClone=cloneStyle.getStroke(),strokeClone.setWidth(strokeClone.getWidth()*factor),heigthStroke=(height-strokeClone.getWidth())/2,cloneStyle.setStroke(strokeClone),feature=new Feature.a(new LineString.a([[10,heigthStroke],[width-width/4,heigthStroke]]));break}case"Polygon":case"MultiPolygon":case"MultiPolygonZ":{render.lineWidth=5;const wide=width-width/4,high=height-height/4;feature=new Feature.a(new Polygon.a([[[0,0],[0,high],[wide,high],[wide,0],[0,0]]]));break}}render.drawFeature(feature,cloneStyle)}}}catch(e){console.log("Error creating symbol panel",e)}}unsetActiveSymbol(){this.symbolActiveKey=null}updateActivesymbol(symbol){this.symbolActiveKey=symbol.key,document.getElementById("+"+symbol.key).className=" active",this.openLayersService.updateCurrentSymbol(symbol)}}return SymbolListComponent.fac=function(t){return new(t||SymbolListComponent)(directiveInject(open_layers_service_OpenLayersService),directiveInject(map_qgs_style_service_MapQgsStyleService))},SymbolListComponent.cmp=defineComponent({type:SymbolListComponent,selectors:[["app-symbol-list"]],viewQuery:function(rf,ctx){if(1&rf&&(viewQuery(symbol_list_component_c0,1),viewQuery(symbol_list_component_c1,1),viewQuery(symbol_list_component_c2,1)),2&rf){let _t;queryRefresh(_t=loadQuery())&&(ctx.symbolList=_t.first),queryRefresh(_t=loadQuery())&&(ctx.symboldivs=_t.first),queryRefresh(_t=loadQuery())&&(ctx.myCanvas=_t)}},decls:2,vars:3,consts:[["class","example-list","cdkDrag","","cdkDragBoundary",".app-content",4,"ngIf"],["cdkDrag","","cdkDragBoundary",".app-content",1,"example-list"],[1,"symbol-list"],["symListCard",""],[1,"panelTitle"],["mat-flat-button","",3,"click"],["matTooltip","Close Symbol Panel",1,"matCloseWrapper"],[1,"toolbarDivider"],[4,"ngIf"],["class","symbol",4,"ngFor","ngForOf"],[1,"symbol"],["symbol",""],[3,"id","ngClass","click"],[1,"canvasSymbol",3,"id"],["cmp",""]],template:function(rf,ctx){1&rf&&(template(0,SymbolListComponent_div_0_Template,15,5,"div",0),pipe(1,"async")),2&rf&&property("ngIf",pipeBind1(1,1,ctx.displaySymbolList$))},directives:[common_NgIf,drag_drop_CdkDrag,card_MatCard,card_MatCardTitleGroup,card_MatCardTitle,button_MatButton,icon_MatIcon,tooltip_MatTooltip,divider_MatDivider,common_NgForOf,common_NgClass],pipes:[common_AsyncPipe,common_KeyValuePipe],styles:["[_nghost-%COMP%]     .mat-list-item-content{padding:0!important}[_nghost-%COMP%]     .mat-list-text{padding:0 5px!important}.example-list[_ngcontent-%COMP%]{margin-left:30%!important;max-width:20%;top:22%!important}.toolbarDivider[_ngcontent-%COMP%]{padding-top:5px!important;color:#8b0000}.closeIcon[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#e35183}.canvasSymbol[_ngcontent-%COMP%]{width:2vw;height:1vw}.symbol[_ngcontent-%COMP%]:hover{background-color:#fff2e1}.active[_ngcontent-%COMP%]{background-color:#f198b6}[_nghost-%COMP%]     .mat-card{padding:0 10px}"]}),SymbolListComponent})();function ProjlistComponent_div_0_ng_container_6_Template(rf,ctx){if(1&rf){const _r4=getCurrentView();elementContainerStart(0),elementStart(1,"mat-nav-list",5),elementStart(2,"mat-list-item",6),listener("click",function(){restoreView(_r4);const project_r2=ctx.$implicit;return nextContext(2).setProject(project_r2)}),element(3,"img",7),text(4),elementEnd(),elementEnd(),elementContainerEnd()}if(2&rf){const project_r2=ctx.$implicit,ctx_r1=nextContext(2);advance(1),property("id",project_r2.name),advance(2),property("src",ctx_r1.sanitizeImageUrl(project_r2.img),sanitizeUrl),advance(1),textInterpolate1(" ",project_r2.name," ")}}function ProjlistComponent_div_0_Template(rf,ctx){if(1&rf&&(elementStart(0,"div",1),elementStart(1,"mat-card"),elementStart(2,"mat-card-title-group"),elementStart(3,"mat-card-title",2),text(4,"Projects "),elementEnd(),elementEnd(),element(5,"mat-divider",3),template(6,ProjlistComponent_div_0_ng_container_6_Template,5,3,"ng-container",4),elementEnd(),elementEnd()),2&rf){const ctx_r0=nextContext();advance(6),property("ngForOf",ctx_r0.projects)}}let projlist_component_ProjlistComponent=(()=>{class ProjlistComponent{constructor(openLayersService,sanitizer){this.openLayersService=openLayersService,this.sanitizer=sanitizer,this.selectProject=new EventEmitter,this.projectFolder="/home/qgis/projects/",this.projects=[{name:"Noise Action Plan Bochum - City",url:AppConfiguration.hostname+"qgs_projects/noisebochumcity.qgs",file:this.projectFolder+"noisebochumcity.qgs",img:AppConfiguration.hostname+"qgs_projects/noise.png",qGsServerUrl:"https://ogito.itc.utwente.nl/cgi-bin/qgis_mapserv.fcgi?",srsID:"EPSG:3857"}]}ngOnInit(){this.showProjectList$=of(!0)}sanitizeImageUrl(imageUrl){return this.sanitizer.bypassSecurityTrustUrl(imageUrl)}updateShowProjectList(value){this.showProjectList$=of(value)}setProject(project){this.openLayersService.updateQgsProjectUrl(project),this.updateShowProjectList(!1)}}return ProjlistComponent.fac=function(t){return new(t||ProjlistComponent)(directiveInject(open_layers_service_OpenLayersService),directiveInject(platform_browser_DomSanitizer))},ProjlistComponent.cmp=defineComponent({type:ProjlistComponent,selectors:[["app-projlist"]],outputs:{selectProject:"selectProject"},decls:2,vars:3,consts:[["class","project-list","cdkDrag","","cdkDragBoundary",".app-content",4,"ngIf"],["cdkDrag","","cdkDragBoundary",".app-content",1,"project-list"],[1,"panelTitle"],[1,"toolbarDivider"],[4,"ngFor","ngForOf"],[3,"id"],[1,"group",3,"click"],["matListAvatar","",3,"src"]],template:function(rf,ctx){1&rf&&(template(0,ProjlistComponent_div_0_Template,7,1,"div",0),pipe(1,"async")),2&rf&&property("ngIf",pipeBind1(1,1,ctx.showProjectList$))},directives:[common_NgIf,drag_drop_CdkDrag,card_MatCard,card_MatCardTitleGroup,card_MatCardTitle,divider_MatDivider,common_NgForOf,list_MatNavList,list_MatListItem,list_MatListAvatarCssMatStyler],pipes:[common_AsyncPipe],styles:[".project-list[_ngcontent-%COMP%]{max-width:25%;border:1px solid #ccc;min-height:40px;display:block;border-radius:4px;overflow:auto;margin-left:0;margin-top:0;z-index:300;position:absolute;opacity:.95;left:40%;top:30%}.example-list[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]     .mat-button{vertical-align:top!important}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:14px}"]}),ProjlistComponent})();function HomeComponent_span_21_Template(rf,ctx){if(1&rf&&(elementStart(0,"span",14),elementStart(1,"code"),text(2),elementEnd(),elementEnd()),2&rf){const profile_r9=ctx.ngIf;advance(2),textInterpolate(profile_r9.nickname)}}function HomeComponent_button_25_Template(rf,ctx){if(1&rf){const _r11=getCurrentView();elementStart(0,"button",15),listener("click",function(){return restoreView(_r11),nextContext().auth.login()}),text(1," Log In"),elementEnd()}}function HomeComponent_button_26_Template(rf,ctx){if(1&rf){const _r13=getCurrentView();elementStart(0,"button",15),listener("click",function(){return restoreView(_r13),nextContext().auth.logout()}),text(1," Log Out"),elementEnd()}}function HomeComponent_app_map_31_Template(rf,ctx){1&rf&&element(0,"app-map")}function HomeComponent_app_toolbar_32_Template(rf,ctx){1&rf&&element(0,"app-toolbar")}function HomeComponent_app_editing_toolbar_33_Template(rf,ctx){1&rf&&element(0,"app-editing-toolbar")}function HomeComponent_app_symbol_list_34_Template(rf,ctx){1&rf&&element(0,"app-symbol-list")}function HomeComponent_app_projlist_35_Template(rf,ctx){1&rf&&element(0,"app-projlist")}const app_routing_module_routes=[{path:"",component:(()=>{class HomeComponent{constructor(auth){this.auth=auth}ngOnInit(){}showInfo(){alert("Your screen dimensions are: "+screen.width+"x"+screen.height)}editSettings(){console.log("add code to edit settings, e.g., project to edit..")}exitToApp(){confirm("Exiting app")}}return HomeComponent.fac=function(t){return new(t||HomeComponent)(directiveInject(auth_service_AuthService))},HomeComponent.cmp=defineComponent({type:HomeComponent,selectors:[["app-home"]],decls:36,vars:11,consts:[[1,"toolbarWrapper"],["role","banner",1,"toolbar"],["color","primary"],["mat-icon-button","","aria-label","Menu",3,"matMenuTriggerFor"],["myMenu","matMenu"],["mat-menu-item","","disabled","",3,"click"],["mat-menu-item","",3,"click"],[1,"title"],[1,"spacer"],["class","userNickName",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["id","app-content",1,"app-content"],[4,"ngIf"],[1,"userNickName"],["mat-button","",3,"click"]],template:function(rf,ctx){if(1&rf&&(elementStart(0,"div",0),elementStart(1,"div",1),elementStart(2,"mat-toolbar",2),elementStart(3,"button",3),elementStart(4,"mat-icon"),text(5,"menu"),elementEnd(),elementEnd(),elementStart(6,"mat-menu",null,4),elementStart(8,"button",5),listener("click",function(){return ctx.editSettings()}),elementStart(9,"mat-icon"),text(10,"settings "),elementEnd(),elementStart(11,"span"),text(12,"Settings"),elementEnd(),elementEnd(),elementStart(13,"button",6),listener("click",function(){return ctx.showInfo()}),elementStart(14,"mat-icon"),text(15,"info "),elementEnd(),elementStart(16,"span"),text(17,"About"),elementEnd(),elementEnd(),elementEnd(),elementStart(18,"span",7),text(19,"OGITO "),elementEnd(),element(20,"span",8),template(21,HomeComponent_span_21_Template,3,1,"span",9),pipe(22,"async"),elementStart(23,"pre"),text(24,"  "),elementEnd(),template(25,HomeComponent_button_25_Template,2,0,"button",10),template(26,HomeComponent_button_26_Template,2,0,"button",10),elementStart(27,"button",11),listener("click",function(){return ctx.exitToApp()}),elementStart(28,"mat-icon"),text(29," exit_to_app"),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementEnd(),elementStart(30,"div",12),template(31,HomeComponent_app_map_31_Template,1,0,"app-map",13),template(32,HomeComponent_app_toolbar_32_Template,1,0,"app-toolbar",13),template(33,HomeComponent_app_editing_toolbar_33_Template,1,0,"app-editing-toolbar",13),template(34,HomeComponent_app_symbol_list_34_Template,1,0,"app-symbol-list",13),template(35,HomeComponent_app_projlist_35_Template,1,0,"app-projlist",13),elementEnd()),2&rf){const _r0=reference(7);advance(3),property("matMenuTriggerFor",_r0),advance(18),property("ngIf",pipeBind1(22,9,ctx.auth.userProfile$)),advance(4),property("ngIf",!ctx.auth.loggedIn),advance(1),property("ngIf",ctx.auth.loggedIn),advance(5),property("ngIf",ctx.auth.loggedIn),advance(1),property("ngIf",ctx.auth.loggedIn),advance(1),property("ngIf",ctx.auth.loggedIn),advance(1),property("ngIf",ctx.auth.loggedIn),advance(1),property("ngIf",ctx.auth.loggedIn)}},directives:[toolbar_MatToolbar,button_MatButton,menu_MatMenuTrigger,icon_MatIcon,fesm2015_menu_MatMenu,menu_MatMenuItem,common_NgIf,map_component_MapComponent,toolbar_component_ToolbarComponent,editing_toolbar_component_EditingToolbarComponent,symbol_list_component_SymbolListComponent,projlist_component_ProjlistComponent],pipes:[common_AsyncPipe],styles:[".toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:7%;display:flex;align-items:center;font-weight:600}.toolbarWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:7%}.userNickName[_ngcontent-%COMP%]{font-size:.9vw}.title[_ngcontent-%COMP%]{padding-left:20px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{height:100%}footer[_ngcontent-%COMP%]{margin-top:8px;line-height:20px}footer[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.app-content[_ngcontent-%COMP%]{width:100%;height:93%;z-index:100}@media screen and (min-width:900px){.mat-toolbar[_ngcontent-%COMP%]{background-color:#78002e}.mat-icon[_ngcontent-%COMP%]{font-size:24px}.title[_ngcontent-%COMP%]{padding-left:25px}}@media screen and (min-width:1400px){.mat-toolbar[_ngcontent-%COMP%]{background-color:#ad1457}.mat-icon[_ngcontent-%COMP%]{font-size:36px}}@media screen and (min-width:1900px){.mat-toolbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:48px}}@media screen and (min-width:5200px){.mat-toolbar[_ngcontent-%COMP%]{background-color:#e35183}.mat-toolbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:72px}}@media screen and (min-width:5800px){.mat-toolbar[_ngcontent-%COMP%]{background-color:#8b0000}.mat-toolbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:72px}}"]}),HomeComponent})()},{path:"map",component:map_component_MapComponent}];let app_routing_module_AppRoutingModule=(()=>{class AppRoutingModule{}return AppRoutingModule.mod=defineNgModule({type:AppRoutingModule}),AppRoutingModule.inj=defineInjector({factory:function(t){return new(t||AppRoutingModule)},imports:[[router_RouterModule.forRoot(app_routing_module_routes,{relativeLinkResolution:"legacy"})],router_RouterModule]}),AppRoutingModule})(),app_component_AppComponent=(()=>{class AppComponent{constructor(){this.title="myOgito"}}return AppComponent.fac=function(t){return new(t||AppComponent)},AppComponent.cmp=defineComponent({type:AppComponent,selectors:[["app-root"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&element(0,"router-outlet")},directives:[router_RouterOutlet],styles:[""]}),AppComponent})(),clipboard_ClipboardModule=(()=>{class ClipboardModule{}return ClipboardModule.mod=defineNgModule({type:ClipboardModule}),ClipboardModule.inj=defineInjector({factory:function(t){return new(t||ClipboardModule)}}),ClipboardModule})(),stepper_CdkStepperModule=(()=>{class CdkStepperModule{}return CdkStepperModule.mod=defineNgModule({type:CdkStepperModule}),CdkStepperModule.inj=defineInjector({factory:function(t){return new(t||CdkStepperModule)},imports:[[bidi_BidiModule]]}),CdkStepperModule})(),table_CdkTableModule=(()=>{class CdkTableModule{}return CdkTableModule.mod=defineNgModule({type:CdkTableModule}),CdkTableModule.inj=defineInjector({factory:function(t){return new(t||CdkTableModule)},imports:[[scrolling_ScrollingModule]]}),CdkTableModule})(),tree_CdkTreeModule=(()=>{class CdkTreeModule{}return CdkTreeModule.mod=defineNgModule({type:CdkTreeModule}),CdkTreeModule.inj=defineInjector({factory:function(t){return new(t||CdkTreeModule)}}),CdkTreeModule})();const MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER={provide:new InjectionToken("mat-autocomplete-scroll-strategy"),deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition()}};let autocomplete_MatAutocompleteModule=(()=>{class MatAutocompleteModule{}return MatAutocompleteModule.mod=defineNgModule({type:MatAutocompleteModule}),MatAutocompleteModule.inj=defineInjector({factory:function(t){return new(t||MatAutocompleteModule)},providers:[MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER],imports:[[overlay_OverlayModule,core_MatOptionModule,core_MatCommonModule,common_CommonModule],scrolling_CdkScrollableModule,core_MatOptionModule,core_MatCommonModule]}),MatAutocompleteModule})(),badge_MatBadgeModule=(()=>{class MatBadgeModule{}return MatBadgeModule.mod=defineNgModule({type:MatBadgeModule}),MatBadgeModule.inj=defineInjector({factory:function(t){return new(t||MatBadgeModule)},imports:[[a11y_A11yModule,core_MatCommonModule],core_MatCommonModule]}),MatBadgeModule})(),bottom_sheet_MatBottomSheetModule=(()=>{class MatBottomSheetModule{}return MatBottomSheetModule.mod=defineNgModule({type:MatBottomSheetModule}),MatBottomSheetModule.inj=defineInjector({factory:function(t){return new(t||MatBottomSheetModule)},imports:[[overlay_OverlayModule,core_MatCommonModule,portal_PortalModule],core_MatCommonModule]}),MatBottomSheetModule})(),button_toggle_MatButtonToggleModule=(()=>{class MatButtonToggleModule{}return MatButtonToggleModule.mod=defineNgModule({type:MatButtonToggleModule}),MatButtonToggleModule.inj=defineInjector({factory:function(t){return new(t||MatButtonToggleModule)},imports:[[core_MatCommonModule,core_MatRippleModule],core_MatCommonModule]}),MatButtonToggleModule})();const MAT_CHIPS_DEFAULT_OPTIONS=new InjectionToken("mat-chips-default-options"),chips_0={separatorKeyCodes:[13]};let chips_MatChipsModule=(()=>{class MatChipsModule{}return MatChipsModule.mod=defineNgModule({type:MatChipsModule}),MatChipsModule.inj=defineInjector({factory:function(t){return new(t||MatChipsModule)},providers:[core_ErrorStateMatcher,{provide:MAT_CHIPS_DEFAULT_OPTIONS,useValue:chips_0}]}),MatChipsModule})(),stepper_MatStepperIntl=(()=>{class MatStepperIntl{constructor(){this.changes=new Subject_Subject,this.optionalLabel="Optional"}}return MatStepperIntl.fac=function(t){return new(t||MatStepperIntl)},MatStepperIntl.prov=defineInjectable({factory:function(){return new MatStepperIntl},token:MatStepperIntl,providedIn:"root"}),MatStepperIntl})();const MAT_STEPPER_INTL_PROVIDER={provide:stepper_MatStepperIntl,deps:[[new Optional,new SkipSelf,stepper_MatStepperIntl]],useFactory:function(parentIntl){return parentIntl||new stepper_MatStepperIntl}};let stepper_MatStepperModule=(()=>{class MatStepperModule{}return MatStepperModule.mod=defineNgModule({type:MatStepperModule}),MatStepperModule.inj=defineInjector({factory:function(t){return new(t||MatStepperModule)},providers:[MAT_STEPPER_INTL_PROVIDER,core_ErrorStateMatcher],imports:[[core_MatCommonModule,common_CommonModule,portal_PortalModule,button_MatButtonModule,stepper_CdkStepperModule,icon_MatIconModule,core_MatRippleModule],core_MatCommonModule]}),MatStepperModule})(),datepicker_MatDatepickerIntl=(()=>{class MatDatepickerIntl{constructor(){this.changes=new Subject_Subject,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(start,end){return`${start}  ${end}`}}return MatDatepickerIntl.fac=function(t){return new(t||MatDatepickerIntl)},MatDatepickerIntl.prov=defineInjectable({factory:function(){return new MatDatepickerIntl},token:MatDatepickerIntl,providedIn:"root"}),MatDatepickerIntl})();const MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER={provide:new InjectionToken("mat-datepicker-scroll-strategy"),deps:[overlay_Overlay],useFactory:function(overlay){return()=>overlay.scrollStrategies.reposition()}};let datepicker_MatDatepickerModule=(()=>{class MatDatepickerModule{}return MatDatepickerModule.mod=defineNgModule({type:MatDatepickerModule}),MatDatepickerModule.inj=defineInjector({factory:function(t){return new(t||MatDatepickerModule)},providers:[datepicker_MatDatepickerIntl,MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER],imports:[[common_CommonModule,button_MatButtonModule,dialog_MatDialogModule,overlay_OverlayModule,a11y_A11yModule,portal_PortalModule],scrolling_CdkScrollableModule]}),MatDatepickerModule})(),grid_list_MatGridListModule=(()=>{class MatGridListModule{}return MatGridListModule.mod=defineNgModule({type:MatGridListModule}),MatGridListModule.inj=defineInjector({factory:function(t){return new(t||MatGridListModule)},imports:[[core_MatLineModule,core_MatCommonModule],core_MatLineModule,core_MatCommonModule]}),MatGridListModule})(),paginator_MatPaginatorIntl=(()=>{class MatPaginatorIntl{constructor(){this.changes=new Subject_Subject,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(page,pageSize,length)=>{if(0==length||0==pageSize)return`0 of ${length}`;const startIndex=page*pageSize;return`${startIndex+1}  ${startIndex<(length=Math.max(length,0))?Math.min(startIndex+pageSize,length):startIndex+pageSize} of ${length}`}}}return MatPaginatorIntl.fac=function(t){return new(t||MatPaginatorIntl)},MatPaginatorIntl.prov=defineInjectable({factory:function(){return new MatPaginatorIntl},token:MatPaginatorIntl,providedIn:"root"}),MatPaginatorIntl})();const MAT_PAGINATOR_INTL_PROVIDER={provide:paginator_MatPaginatorIntl,deps:[[new Optional,new SkipSelf,paginator_MatPaginatorIntl]],useFactory:function(parentIntl){return parentIntl||new paginator_MatPaginatorIntl}};let paginator_MatPaginatorModule=(()=>{class MatPaginatorModule{}return MatPaginatorModule.mod=defineNgModule({type:MatPaginatorModule}),MatPaginatorModule.inj=defineInjector({factory:function(t){return new(t||MatPaginatorModule)},providers:[MAT_PAGINATOR_INTL_PROVIDER],imports:[[common_CommonModule,button_MatButtonModule,select_MatSelectModule,tooltip_MatTooltipModule]]}),MatPaginatorModule})(),progress_bar_MatProgressBarModule=(()=>{class MatProgressBarModule{}return MatProgressBarModule.mod=defineNgModule({type:MatProgressBarModule}),MatProgressBarModule.inj=defineInjector({factory:function(t){return new(t||MatProgressBarModule)},imports:[[common_CommonModule,core_MatCommonModule],core_MatCommonModule]}),MatProgressBarModule})(),progress_spinner_MatProgressSpinnerModule=(()=>{class MatProgressSpinnerModule{}return MatProgressSpinnerModule.mod=defineNgModule({type:MatProgressSpinnerModule}),MatProgressSpinnerModule.inj=defineInjector({factory:function(t){return new(t||MatProgressSpinnerModule)},imports:[[core_MatCommonModule,common_CommonModule],core_MatCommonModule]}),MatProgressSpinnerModule})(),radio_MatRadioModule=(()=>{class MatRadioModule{}return MatRadioModule.mod=defineNgModule({type:MatRadioModule}),MatRadioModule.inj=defineInjector({factory:function(t){return new(t||MatRadioModule)},imports:[[core_MatRippleModule,core_MatCommonModule],core_MatCommonModule]}),MatRadioModule})(),sidenav_MatSidenavModule=(()=>{class MatSidenavModule{}return MatSidenavModule.mod=defineNgModule({type:MatSidenavModule}),MatSidenavModule.inj=defineInjector({factory:function(t){return new(t||MatSidenavModule)},imports:[[common_CommonModule,core_MatCommonModule,platform_PlatformModule,scrolling_CdkScrollableModule],scrolling_CdkScrollableModule,core_MatCommonModule]}),MatSidenavModule})(),slide_toggle_MatSlideToggleRequiredValidatorModule=(()=>{class _MatSlideToggleRequiredValidatorModule{}return _MatSlideToggleRequiredValidatorModule.mod=defineNgModule({type:_MatSlideToggleRequiredValidatorModule}),_MatSlideToggleRequiredValidatorModule.inj=defineInjector({factory:function(t){return new(t||_MatSlideToggleRequiredValidatorModule)}}),_MatSlideToggleRequiredValidatorModule})(),slide_toggle_MatSlideToggleModule=(()=>{class MatSlideToggleModule{}return MatSlideToggleModule.mod=defineNgModule({type:MatSlideToggleModule}),MatSlideToggleModule.inj=defineInjector({factory:function(t){return new(t||MatSlideToggleModule)},imports:[[slide_toggle_MatSlideToggleRequiredValidatorModule,core_MatRippleModule,core_MatCommonModule,observers_ObserversModule],slide_toggle_MatSlideToggleRequiredValidatorModule,core_MatCommonModule]}),MatSlideToggleModule})(),sort_MatSortHeaderIntl=(()=>{class MatSortHeaderIntl{constructor(){this.changes=new Subject_Subject,this.sortButtonLabel=id=>`Change sorting for ${id}`}}return MatSortHeaderIntl.fac=function(t){return new(t||MatSortHeaderIntl)},MatSortHeaderIntl.prov=defineInjectable({factory:function(){return new MatSortHeaderIntl},token:MatSortHeaderIntl,providedIn:"root"}),MatSortHeaderIntl})();const MAT_SORT_HEADER_INTL_PROVIDER={provide:sort_MatSortHeaderIntl,deps:[[new Optional,new SkipSelf,sort_MatSortHeaderIntl]],useFactory:function(parentIntl){return parentIntl||new sort_MatSortHeaderIntl}};let sort_MatSortModule=(()=>{class MatSortModule{}return MatSortModule.mod=defineNgModule({type:MatSortModule}),MatSortModule.inj=defineInjector({factory:function(t){return new(t||MatSortModule)},providers:[MAT_SORT_HEADER_INTL_PROVIDER],imports:[[common_CommonModule]]}),MatSortModule})(),table_MatTableModule=(()=>{class MatTableModule{}return MatTableModule.mod=defineNgModule({type:MatTableModule}),MatTableModule.inj=defineInjector({factory:function(t){return new(t||MatTableModule)},imports:[[table_CdkTableModule,core_MatCommonModule],core_MatCommonModule]}),MatTableModule})(),tabs_MatTabsModule=(()=>{class MatTabsModule{}return MatTabsModule.mod=defineNgModule({type:MatTabsModule}),MatTabsModule.inj=defineInjector({factory:function(t){return new(t||MatTabsModule)},imports:[[common_CommonModule,core_MatCommonModule,portal_PortalModule,core_MatRippleModule,observers_ObserversModule,a11y_A11yModule],core_MatCommonModule]}),MatTabsModule})(),tree_MatTreeModule=(()=>{class MatTreeModule{}return MatTreeModule.mod=defineNgModule({type:MatTreeModule}),MatTreeModule.inj=defineInjector({factory:function(t){return new(t||MatTreeModule)},imports:[[tree_CdkTreeModule,core_MatCommonModule],core_MatCommonModule]}),MatTreeModule})(),material_module_DemoMaterialModule=(()=>{class DemoMaterialModule{}return DemoMaterialModule.mod=defineNgModule({type:DemoMaterialModule}),DemoMaterialModule.inj=defineInjector({factory:function(t){return new(t||DemoMaterialModule)},imports:[a11y_A11yModule,clipboard_ClipboardModule,stepper_CdkStepperModule,table_CdkTableModule,tree_CdkTreeModule,drag_drop_DragDropModule,autocomplete_MatAutocompleteModule,badge_MatBadgeModule,bottom_sheet_MatBottomSheetModule,button_MatButtonModule,button_toggle_MatButtonToggleModule,card_MatCardModule,checkbox_MatCheckboxModule,chips_MatChipsModule,stepper_MatStepperModule,datepicker_MatDatepickerModule,dialog_MatDialogModule,divider_MatDividerModule,expansion_MatExpansionModule,grid_list_MatGridListModule,icon_MatIconModule,input_MatInputModule,list_MatListModule,menu_MatMenuModule,core_MatNativeDateModule,paginator_MatPaginatorModule,progress_bar_MatProgressBarModule,progress_spinner_MatProgressSpinnerModule,radio_MatRadioModule,core_MatRippleModule,select_MatSelectModule,sidenav_MatSidenavModule,slider_MatSliderModule,slide_toggle_MatSlideToggleModule,snack_bar_MatSnackBarModule,sort_MatSortModule,table_MatTableModule,tabs_MatTabsModule,toolbar_MatToolbarModule,tooltip_MatTooltipModule,tree_MatTreeModule,portal_PortalModule,scrolling_ScrollingModule]}),DemoMaterialModule})(),app_module_AppModule=(()=>{class AppModule{}return AppModule.mod=defineNgModule({type:AppModule,bootstrap:[app_component_AppComponent]}),AppModule.inj=defineInjector({factory:function(t){return new(t||AppModule)},providers:[layer_panel_component_LayerPanelComponent],imports:[[platform_browser_BrowserModule,app_routing_module_AppRoutingModule,animations_BrowserAnimationsModule,material_module_DemoMaterialModule,forms_FormsModule,platform_browser_HammerModule,http_HttpClientModule,forms_ReactiveFormsModule]]}),AppModule})();__webpack_require__("yLV6"),function(){if(_runModeLocked)throw new Error("Cannot enable prod mode after platform setup.");_devMode=!1}(),platformBrowser().bootstrapModule(app_module_AppModule).catch(err=>console.error(err))},zX6e:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return CLASS_HIDDEN}),__webpack_require__.d(__webpack_exports__,"d",function(){return CLASS_SELECTABLE}),__webpack_require__.d(__webpack_exports__,"e",function(){return CLASS_UNSELECTABLE}),__webpack_require__.d(__webpack_exports__,"b",function(){return CLASS_CONTROL}),__webpack_require__.d(__webpack_exports__,"a",function(){return CLASS_COLLAPSED}),__webpack_require__.d(__webpack_exports__,"f",function(){return getFontParameters});var CLASS_HIDDEN="ol-hidden",CLASS_SELECTABLE="ol-selectable",CLASS_UNSELECTABLE="ol-unselectable",CLASS_CONTROL="ol-control",CLASS_COLLAPSED="ol-collapsed",fontRegEx=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),fontRegExMatchIndex=["style","variant","weight","size","lineHeight","family"],getFontParameters=function(fontSpec){var match=fontSpec.match(fontRegEx);if(!match)return null;for(var style={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,ii=fontRegExMatchIndex.length;i<ii;++i){var value=match[i+1];void 0!==value&&(style[fontRegExMatchIndex[i]]=value)}return style.families=style.family.split(/,\s?/),style}},zixo:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,ImageState=__webpack_require__("hp/u"),Image=__webpack_require__("qzVC"),ol_color=__webpack_require__("XDhV"),colorlike=__webpack_require__("6Y3p"),dom=__webpack_require__("CZmH"),canvas=__webpack_require__("3er3"),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),style_RegularShape=function(_super){function RegularShape(options){var _this=this;return(_this=_super.call(this,{opacity:1,rotateWithView:void 0!==options.rotateWithView&&options.rotateWithView,rotation:void 0!==options.rotation?options.rotation:0,scale:void 0!==options.scale?options.scale:1,displacement:void 0!==options.displacement?options.displacement:[0,0]})||this).canvas_={},_this.hitDetectionCanvas_=null,_this.fill_=void 0!==options.fill?options.fill:null,_this.origin_=[0,0],_this.points_=options.points,_this.radius_=void 0!==options.radius?options.radius:options.radius1,_this.radius2_=options.radius2,_this.angle_=void 0!==options.angle?options.angle:0,_this.stroke_=void 0!==options.stroke?options.stroke:null,_this.anchor_=null,_this.size_=null,_this.imageSize_=null,_this.hitDetectionImageSize_=null,_this.render(),_this}return __extends(RegularShape,_super),RegularShape.prototype.clone=function(){var scale=this.getScale(),style=new RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(scale)?scale.slice():scale,displacement:this.getDisplacement().slice()});return style.setOpacity(this.getOpacity()),style},RegularShape.prototype.getAnchor=function(){return this.anchor_},RegularShape.prototype.getAngle=function(){return this.angle_},RegularShape.prototype.getFill=function(){return this.fill_},RegularShape.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var renderOptions=this.createRenderOptions();this.createHitDetectionCanvas_(renderOptions)}return this.hitDetectionCanvas_},RegularShape.prototype.getImage=function(pixelRatio){if(!this.canvas_[pixelRatio||1]){var renderOptions=this.createRenderOptions(),context=Object(dom.a)(renderOptions.size*pixelRatio||1,renderOptions.size*pixelRatio||1);this.draw_(renderOptions,context,0,0,pixelRatio||1),this.canvas_[pixelRatio||1]=context.canvas}return this.canvas_[pixelRatio||1]},RegularShape.prototype.getPixelRatio=function(pixelRatio){return pixelRatio},RegularShape.prototype.getImageSize=function(){return this.imageSize_},RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},RegularShape.prototype.getImageState=function(){return ImageState.a.LOADED},RegularShape.prototype.getOrigin=function(){return this.origin_},RegularShape.prototype.getPoints=function(){return this.points_},RegularShape.prototype.getRadius=function(){return this.radius_},RegularShape.prototype.getRadius2=function(){return this.radius2_},RegularShape.prototype.getSize=function(){return this.size_},RegularShape.prototype.getStroke=function(){return this.stroke_},RegularShape.prototype.listenImageChange=function(listener){},RegularShape.prototype.load=function(){},RegularShape.prototype.unlistenImageChange=function(listener){},RegularShape.prototype.createRenderOptions=function(){var strokeStyle,lineCap=canvas.e,lineJoin=canvas.h,miterLimit=0,lineDash=null,lineDashOffset=0,strokeWidth=0;return this.stroke_&&(null===(strokeStyle=this.stroke_.getColor())&&(strokeStyle=canvas.l),strokeStyle=Object(colorlike.a)(strokeStyle),void 0===(strokeWidth=this.stroke_.getWidth())&&(strokeWidth=canvas.i),lineDash=this.stroke_.getLineDash(),lineDashOffset=this.stroke_.getLineDashOffset(),void 0===(lineJoin=this.stroke_.getLineJoin())&&(lineJoin=canvas.h),void 0===(lineCap=this.stroke_.getLineCap())&&(lineCap=canvas.e),void 0===(miterLimit=this.stroke_.getMiterLimit())&&(miterLimit=canvas.j)),{strokeStyle:strokeStyle,strokeWidth:strokeWidth,size:2*(this.radius_+strokeWidth)+1,lineCap:lineCap,lineDash:lineDash,lineDashOffset:lineDashOffset,lineJoin:lineJoin,miterLimit:miterLimit}},RegularShape.prototype.render=function(){var renderOptions=this.createRenderOptions(),context=Object(dom.a)(renderOptions.size,renderOptions.size);this.draw_(renderOptions,context,0,0,1),this.canvas_={},this.canvas_[1]=context.canvas;var size=context.canvas.width,imageSize=size,displacement=this.getDisplacement();this.hitDetectionImageSize_=[renderOptions.size,renderOptions.size],this.createHitDetectionCanvas_(renderOptions),this.anchor_=[size/2-displacement[0],size/2+displacement[1]],this.size_=[size,size],this.imageSize_=[imageSize,imageSize]},RegularShape.prototype.draw_=function(renderOptions,context,x,y,pixelRatio){var i,angle0,radiusC;context.setTransform(pixelRatio,0,0,pixelRatio,0,0),context.translate(x,y),context.beginPath();var points=this.points_;if(points===1/0)context.arc(renderOptions.size/2,renderOptions.size/2,this.radius_,0,2*Math.PI,!0);else{var radius2=void 0!==this.radius2_?this.radius2_:this.radius_;for(radius2!==this.radius_&&(points*=2),i=0;i<=points;i++)angle0=2*i*Math.PI/points-Math.PI/2+this.angle_,context.lineTo(renderOptions.size/2+(radiusC=i%2==0?this.radius_:radius2)*Math.cos(angle0),renderOptions.size/2+radiusC*Math.sin(angle0))}if(this.fill_){var color=this.fill_.getColor();null===color&&(color=canvas.c),context.fillStyle=Object(colorlike.a)(color),context.fill()}this.stroke_&&(context.strokeStyle=renderOptions.strokeStyle,context.lineWidth=renderOptions.strokeWidth,context.setLineDash&&renderOptions.lineDash&&(context.setLineDash(renderOptions.lineDash),context.lineDashOffset=renderOptions.lineDashOffset),context.lineCap=renderOptions.lineCap,context.lineJoin=renderOptions.lineJoin,context.miterLimit=renderOptions.miterLimit,context.stroke()),context.closePath()},RegularShape.prototype.createHitDetectionCanvas_=function(renderOptions){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var color=this.fill_.getColor(),opacity=0;if("string"==typeof color&&(color=Object(ol_color.a)(color)),null===color?opacity=1:Array.isArray(color)&&(opacity=4===color.length?color[3]:1),0===opacity){var context=Object(dom.a)(renderOptions.size,renderOptions.size);this.hitDetectionCanvas_=context.canvas,this.drawHitDetectionCanvas_(renderOptions,context,0,0)}}},RegularShape.prototype.drawHitDetectionCanvas_=function(renderOptions,context,x,y){context.translate(x,y),context.beginPath();var points=this.points_;if(points===1/0)context.arc(renderOptions.size/2,renderOptions.size/2,this.radius_,0,2*Math.PI,!0);else{var radius2=void 0!==this.radius2_?this.radius2_:this.radius_;radius2!==this.radius_&&(points*=2);var i=void 0,radiusC=void 0,angle0=void 0;for(i=0;i<=points;i++)angle0=2*i*Math.PI/points-Math.PI/2+this.angle_,context.lineTo(renderOptions.size/2+(radiusC=i%2==0?this.radius_:radius2)*Math.cos(angle0),renderOptions.size/2+radiusC*Math.sin(angle0))}context.fillStyle=canvas.c,context.fill(),this.stroke_&&(context.strokeStyle=renderOptions.strokeStyle,context.lineWidth=renderOptions.strokeWidth,renderOptions.lineDash&&(context.setLineDash(renderOptions.lineDash),context.lineDashOffset=renderOptions.lineDashOffset),context.stroke()),context.closePath()},RegularShape}(Image.a),Circle_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),CircleStyle=function(_super){function CircleStyle(opt_options){var options=opt_options||{};return _super.call(this,{points:1/0,fill:options.fill,radius:options.radius,stroke:options.stroke,scale:void 0!==options.scale?options.scale:1,rotation:void 0!==options.rotation?options.rotation:0,rotateWithView:void 0!==options.rotateWithView&&options.rotateWithView,displacement:void 0!==options.displacement?options.displacement:[0,0]})||this}return Circle_extends(CircleStyle,_super),CircleStyle.prototype.clone=function(){var scale=this.getScale(),style=new CircleStyle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(scale)?scale.slice():scale,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return style.setOpacity(this.getOpacity()),style},CircleStyle.prototype.setRadius=function(radius){this.radius_=radius,this.render()},CircleStyle}(style_RegularShape);__webpack_exports__.a=CircleStyle},zn8P:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e})}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id="zn8P"},zvco:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return stopPropagation});var BaseEvent=function(){function BaseEvent(type){this.type=type,this.target=null}return BaseEvent.prototype.preventDefault=function(){this.propagationStopped=!0},BaseEvent.prototype.stopPropagation=function(){this.propagationStopped=!0},BaseEvent}();function stopPropagation(evt){evt.stopPropagation()}__webpack_exports__.a=BaseEvent}},[[0,0]]]);