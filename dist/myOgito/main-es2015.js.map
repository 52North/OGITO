{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-configuration.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/editing-toolbar/editing-toolbar.component.ts","./src/app/editing-toolbar/editing-toolbar.component.html","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/layer-panel/layer-panel.component.ts","./src/app/layer-panel/layer-panel.component.html","./src/app/map-qgs-style.service.ts","./src/app/map/map.component.ts","./src/app/map/map.component.html","./src/app/material-module.ts","./src/app/open-layers.service.ts","./src/app/symbol-list/symbol-list.component.ts","./src/app/symbol-list/symbol-list.component.html","./src/app/toolbar/toolbar.component.ts","./src/app/toolbar/toolbar.component.html","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","\r\n\r\nexport class AppConfiguration{\r\n  static qGsServerUrl = 'http://localhost/qgis/qgis_mapserv.fcgi.exe?';\r\n  static wmsVersion  = '1.3.0' ;\r\n  static wfsVersion = '2.0';\r\n  static wmtsVersion = '1.0.0';\r\n  static qgsProject = 'qgs_projects/DenaiLama/mappingDenaiLama.qgs';  //mappingDenaiLama\r\n  static srsName = 'EPSG:32647'   // tomarlo de aqui o del projecto?\r\n  // la ruta para accederlo dentro de la app\r\n  static curProject =   'http://localhost/' + AppConfiguration.qgsProject;  // to fecth the xml project file\r\n  static svgFolder = '../../assets/svg/';\r\n  static qgsProjectFolder = 'D:/PhD/code/fromScratch/myOgito/src/assets/';\r\n  // la ruta para accederlo desde Qgs Server\r\n  static QgsFileProject = AppConfiguration.qgsProjectFolder + AppConfiguration.qgsProject; // to use with tqhe qgis server\r\n  static mapZoom = 13;\r\n  static maxZoom = 20 ;\r\n  static minZoom = 8 ;\r\n  static threshold = 1000; // Distance in meter to close a polygon being drawn with a line.\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {HomeComponent} from './home/home.component';\n\n\nconst routes: Routes = [\n  {path: '', component: HomeComponent},\n  {path: '**', redirectTo: ''}\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'myOgito';\n\n\n\n\n}\n","<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->\n<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->\n<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->\n<!-- * * * * * * * to get started with your project! * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n\n<style>\n  :host {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 8px 0;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .spacer {\n    flex: 1;\n  }\n\n  .toolbar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar img {\n    margin: 0 16px;\n  }\n\n  .toolbar #twitter-logo {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar #twitter-logo:hover {\n    opacity: 0.8;\n  }\n\n  .content {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card svg.material-icons path {\n    fill: #888;\n  }\n\n  .card-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card {\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container .card:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container .card:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container .card:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container .card:not(.highlight-card):hover .material-icons path {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card span {\n    margin-left: 60px;\n  }\n\n  svg#rocket {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a,\n  a:visited,\n  a:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a:hover {\n    color: #125699;\n  }\n\n  .terminal {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal::before {\n    content: \"\\2022 \\2022 \\2022\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal pre {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer a {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;\n  }\n\n  .github-star-badge:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge .material-icons {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n\n  /* Responsive Styles */\n  @media screen and (max-width: 767px) {\n\n    .card-container > *:not(.circle-link) ,\n    .terminal {\n      width: 100%;\n    }\n\n    .card:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card span {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke {\n      display: none;\n      visibility: hidden;\n    }\n  }\n</style>\n\n<router-outlet></router-outlet>\n\n<!-- Toolbar -->\n<!--\n<div class=\"toolbar\" role=\"banner\">\n  <img\n    width=\"40\"\n    alt=\"Angular Logo\"\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\"\n  />\n  <span>Welcome by {{ title }}</span>\n    <div class=\"spacer\"></div>\n    <a aria-label=\"Angular on twitter\" target=\"_blank\" rel=\"noopener\" href=\"https://twitter.com/angular\" title=\"Twitter\">\n      <svg id=\"twitter-logo\" height=\"24\" data-name=\"Logo\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 400 400\">\n        <rect width=\"400\" height=\"400\" fill=\"none\"/>\n        <path d=\"M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23\" fill=\"#fff\"/>\n      </svg>\n    </a>\n</div>\n-->\n<!--\n<div class=\"content\" role=\"main\">  -->\n\n   <!-- Highlight Card -->\n  <!--\n  <div class=\"card highlight-card card-small\">\n\n   <svg id=\"rocket\" alt=\"Rocket Ship\" xmlns=\"http://www.w3.org/2000/svg\" width=\"101.678\" height=\"101.678\" viewBox=\"0 0 101.678 101.678\">\n      <g id=\"Group_83\" data-name=\"Group 83\" transform=\"translate(-141 -696)\">\n        <circle id=\"Ellipse_8\" data-name=\"Ellipse 8\" cx=\"50.839\" cy=\"50.839\" r=\"50.839\" transform=\"translate(141 696)\" fill=\"#dd0031\"/>\n        <g id=\"Group_47\" data-name=\"Group 47\" transform=\"translate(165.185 720.185)\">\n          <path id=\"Path_33\" data-name=\"Path 33\" d=\"M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z\" transform=\"translate(0.371 3.363)\" fill=\"#fff\"/>\n          <path id=\"Path_34\" data-name=\"Path 34\" d=\"M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z\" transform=\"translate(0 0.005)\" fill=\"#fff\"/>\n        </g>\n      </g>\n    </svg>\n\n    <span>{{ title }} app is running!</span>\n\n    <svg id=\"rocket-smoke\" alt=\"Rocket Ship Smoke\" xmlns=\"http://www.w3.org/2000/svg\" width=\"516.119\" height=\"1083.632\" viewBox=\"0 0 516.119 1083.632\">\n      <path id=\"Path_40\" data-name=\"Path 40\" d=\"M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z\" transform=\"translate(-147.025 -140.939)\" fill=\"#f5f5f5\"/>\n    </svg>\n\n  </div> -->\n\n  <!-- Resources -->\n  <!--\n  <h2>Resources</h2>\n  <p>Here are some links to help you get started:</p>\n\n  <div class=\"card-container\">\n    <a class=\"card\" target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/tutorial\">\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\"/></svg>\n\n      <span>Learn Angular</span>\n\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/></svg>    </a>\n\n    <a class=\"card\" target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/cli\">\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/></svg>\n\n      <span>CLI Documentation</span>\n\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/></svg>\n    </a>\n\n    <a class=\"card\" target=\"_blank\" rel=\"noopener\" href=\"https://blog.angular.io/\">\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z\"/></svg>\n\n      <span>Angular Blog</span>\n\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/></svg>\n    </a>\n\n  </div>\n  -->\n\n  <!-- Next Steps -->\n <!--\n  <h2>Next Steps</h2>\n  <p>What do you want to do next with your app?</p>\n\n  <input type=\"hidden\" #selection>\n\n  <div class=\"card-container\">\n    <div class=\"card card-small\" (click)=\"selection.value = 'component'\" tabindex=\"0\">\n        <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n\n      <span>New Component</span>\n    </div>\n\n    <div class=\"card card-small\" (click)=\"selection.value = 'material'\" tabindex=\"0\">\n        <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n\n      <span>Angular Material</span>\n    </div>\n\n    <div class=\"card card-small\" (click)=\"selection.value = 'pwa'\" tabindex=\"0\">\n        <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n\n      <span>Add PWA Support</span>\n    </div>\n\n    <div class=\"card card-small\" (click)=\"selection.value = 'dependency'\" tabindex=\"0\">\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n\n      <span>Add Dependency</span>\n    </div>\n\n    <div class=\"card card-small\" (click)=\"selection.value = 'test'\" tabindex=\"0\">\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n\n      <span>Run and Watch Tests</span>\n    </div>\n\n    <div class=\"card card-small\" (click)=\"selection.value = 'build'\" tabindex=\"0\">\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n\n      <span>Build for Production</span>\n    </div>\n  </div>\n  -->\n  <!-- Terminal -->\n <!--\n  <div class=\"terminal\" [ngSwitch]=\"selection.value\">\n      <pre *ngSwitchDefault>ng generate component xyz</pre>\n      <pre *ngSwitchCase=\"'material'\">ng add @angular/material</pre>\n      <pre *ngSwitchCase=\"'pwa'\">ng add @angular/pwa</pre>\n      <pre *ngSwitchCase=\"'dependency'\">ng add _____</pre>\n      <pre *ngSwitchCase=\"'test'\">ng test</pre>\n      <pre *ngSwitchCase=\"'build'\">ng build --prod</pre>\n  </div>\n\n  <div class=\"terminal\" >\n    <span> Keeping alive to copy the style</span>\n  </div> !-->\n\n    <!-- Links -->\n  <!--\n <div class=\"card-container\">\n   <a class=\"circle-link\" title=\"Animations\" href=\"https://angular.io/guide/animations\" target=\"_blank\" rel=\"noopener\">\n     <svg id=\"Group_20\" data-name=\"Group 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.813\" height=\"23.453\" viewBox=\"0 0 21.813 23.453\">\n       <path id=\"Path_15\" data-name=\"Path 15\" d=\"M4099.584,972.736h0l-10.882,3.9,1.637,14.4,9.245,5.153,9.245-5.153,1.686-14.4Z\" transform=\"translate(-4088.702 -972.736)\" fill=\"#ffa726\"/>\n       <path id=\"Path_16\" data-name=\"Path 16\" d=\"M4181.516,972.736v23.453l9.245-5.153,1.686-14.4Z\" transform=\"translate(-4170.633 -972.736)\" fill=\"#fb8c00\"/>\n       <path id=\"Path_17\" data-name=\"Path 17\" d=\"M4137.529,1076.127l-7.7-3.723,4.417-2.721,7.753,3.723Z\" transform=\"translate(-4125.003 -1058.315)\" fill=\"#ffe0b2\"/>\n       <path id=\"Path_18\" data-name=\"Path 18\" d=\"M4137.529,1051.705l-7.7-3.723,4.417-2.721,7.753,3.723Z\" transform=\"translate(-4125.003 -1036.757)\" fill=\"#fff3e0\"/>\n       <path id=\"Path_19\" data-name=\"Path 19\" d=\"M4137.529,1027.283l-7.7-3.723,4.417-2.721,7.753,3.723Z\" transform=\"translate(-4125.003 -1015.199)\" fill=\"#fff\"/>\n     </svg>\n   </a>\n\n   <a class=\"circle-link\" title=\"CLI\" href=\"https://cli.angular.io/\" target=\"_blank\" rel=\"noopener\">\n     <svg alt=\"Angular CLI Logo\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.762\" height=\"23.447\" viewBox=\"0 0 21.762 23.447\">\n       <g id=\"Group_21\" data-name=\"Group 21\" transform=\"translate(0)\">\n         <path id=\"Path_20\" data-name=\"Path 20\" d=\"M2660.313,313.618h0l-10.833,3.9,1.637,14.4,9.2,5.152,9.244-5.152,1.685-14.4Z\" transform=\"translate(-2649.48 -313.618)\" fill=\"#37474f\"/>\n         <path id=\"Path_21\" data-name=\"Path 21\" d=\"M2741.883,313.618v23.447l9.244-5.152,1.685-14.4Z\" transform=\"translate(-2731.05 -313.618)\" fill=\"#263238\"/>\n         <path id=\"Path_22\" data-name=\"Path 22\" d=\"M2692.293,379.169h11.724V368.618h-11.724Zm11.159-.6h-10.608v-9.345h10.621v9.345Z\" transform=\"translate(-2687.274 -362.17)\" fill=\"#fff\"/>\n         <path id=\"Path_23\" data-name=\"Path 23\" d=\"M2709.331,393.688l.4.416,2.265-2.28-2.294-2.294-.4.4,1.893,1.893Z\" transform=\"translate(-2702.289 -380.631)\" fill=\"#fff\"/>\n         <rect id=\"Rectangle_12\" data-name=\"Rectangle 12\" width=\"3.517\" height=\"0.469\" transform=\"translate(9.709 13.744)\" fill=\"#fff\"/>\n       </g>\n     </svg>\n   </a>\n\n   <a class=\"circle-link\" title=\"Augury\" href=\"https://augury.rangle.io/\" target=\"_blank\" rel=\"noopener\">\n     <svg alt=\"Angular Augury Logo\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"21.81\" height=\"23.447\" viewBox=\"0 0 21.81 23.447\">\n       <defs>\n         <clipPath id=\"clip-path\">\n           <rect id=\"Rectangle_13\" data-name=\"Rectangle 13\" width=\"10.338\" height=\"10.27\" fill=\"none\"/>\n         </clipPath>\n       </defs>\n       <g id=\"Group_25\" data-name=\"Group 25\" transform=\"translate(0)\">\n         <path id=\"Path_24\" data-name=\"Path 24\" d=\"M3780.155,311.417h0l-10.881,3.9,1.637,14.4,9.244,5.152,9.244-5.152,1.685-14.4Z\" transform=\"translate(-3769.274 -311.417)\" fill=\"#4a3493\"/>\n         <path id=\"Path_25\" data-name=\"Path 25\" d=\"M3862.088,311.417v23.447l9.244-5.152,1.685-14.4Z\" transform=\"translate(-3851.207 -311.417)\" fill=\"#311b92\"/>\n         <g id=\"Group_24\" data-name=\"Group 24\" transform=\"translate(6.194 6.73)\" opacity=\"0.5\">\n           <g id=\"Group_23\" data-name=\"Group 23\" transform=\"translate(0 0)\">\n             <g id=\"Group_22\" data-name=\"Group 22\" clip-path=\"url(#clip-path)\">\n               <path id=\"Path_26\" data-name=\"Path 26\" d=\"M3832.4,373.252a5.168,5.168,0,1,1-5.828-4.383,5.216,5.216,0,0,1,2.574.3,3.017,3.017,0,1,0,3.252,4.086Z\" transform=\"translate(-3822.107 -368.821)\" fill=\"#fff\"/>\n             </g>\n           </g>\n         </g>\n         <path id=\"Path_27\" data-name=\"Path 27\" d=\"M3830.582,370.848a5.162,5.162,0,1,1-3.254-4.086,3.017,3.017,0,1,0,3.252,4.086Z\" transform=\"translate(-3814.311 -359.969)\" fill=\"#fff\"/>\n       </g>\n     </svg>\n   </a>\n\n   <a class=\"circle-link\" title=\"Protractor\" href=\"https://www.protractortest.org/\" target=\"_blank\" rel=\"noopener\">\n     <svg alt=\"Angular Protractor Logo\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.81\" height=\"23.447\" viewBox=\"0 0 21.81 23.447\">\n       <g id=\"Group_26\" data-name=\"Group 26\" transform=\"translate(0)\">\n         <path id=\"Path_28\" data-name=\"Path 28\" d=\"M4620.155,311.417h0l-10.881,3.9,1.637,14.4,9.244,5.152,9.244-5.152,1.685-14.4Z\" transform=\"translate(-4609.274 -311.417)\" fill=\"#e13439\"/>\n         <path id=\"Path_29\" data-name=\"Path 29\" d=\"M4702.088,311.417v23.447l9.244-5.152,1.685-14.4Z\" transform=\"translate(-4691.207 -311.417)\" fill=\"#b52f32\"/>\n         <path id=\"Path_30\" data-name=\"Path 30\" d=\"M4651.044,369.58v-.421h1.483a7.6,7.6,0,0,0-2.106-5.052l-1.123,1.123-.3-.3,1.122-1.121a7.588,7.588,0,0,0-4.946-2.055v1.482h-.421v-1.485a7.589,7.589,0,0,0-5.051,2.058l1.122,1.121-.3.3-1.123-1.123a7.591,7.591,0,0,0-2.106,5.052h1.482v.421h-1.489v1.734h15.241V369.58Zm-10.966-.263a4.835,4.835,0,0,1,9.67,0Z\" transform=\"translate(-4634.008 -355.852)\" fill=\"#fff\"/>\n       </g>\n     </svg>\n   </a>\n\n   <a class=\"circle-link\" title=\"Find a Local Meetup\" href=\"https://www.meetup.com/find/?keywords=angular\" target=\"_blank\" rel=\"noopener\">\n     <svg alt=\"Meetup Logo\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.607\" height=\"23.447\" viewBox=\"0 0 24.607 23.447\">\n       <path id=\"logo--mSwarm\" d=\"M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z\" transform=\"translate(0 0.123)\" fill=\"#f64060\"/>\n     </svg>\n   </a>\n\n   <a class=\"circle-link\" title=\"Join the Conversation on Gitter\" href=\"https://gitter.im/angular/angular\" target=\"_blank\" rel=\"noopener\">\n     <svg alt=\"Gitter Logo\" xmlns=\"http://www.w3.org/2000/svg\" width=\"19.447\" height=\"19.447\" viewBox=\"0 0 19.447 19.447\">\n       <g id=\"Group_40\" data-name=\"Group 40\" transform=\"translate(-1612 -405)\">\n         <rect id=\"Rectangle_19\" data-name=\"Rectangle 19\" width=\"19.447\" height=\"19.447\" transform=\"translate(1612 405)\" fill=\"#e60257\"/>\n         <g id=\"gitter\" transform=\"translate(1617.795 408.636)\">\n           <g id=\"Group_33\" data-name=\"Group 33\" transform=\"translate(0 0)\">\n             <rect id=\"Rectangle_15\" data-name=\"Rectangle 15\" width=\"1.04\" height=\"9.601\" transform=\"translate(2.304 2.324)\" fill=\"#fff\"/>\n             <rect id=\"Rectangle_16\" data-name=\"Rectangle 16\" width=\"1.04\" height=\"9.601\" transform=\"translate(4.607 2.324)\" fill=\"#fff\"/>\n             <rect id=\"Rectangle_17\" data-name=\"Rectangle 17\" width=\"1.04\" height=\"4.648\" transform=\"translate(6.91 2.324)\" fill=\"#fff\"/>\n             <rect id=\"Rectangle_18\" data-name=\"Rectangle 18\" width=\"1.04\" height=\"6.971\" transform=\"translate(0 0)\" fill=\"#fff\"/>\n           </g>\n         </g>\n       </g>\n     </svg>\n   </a>\n  </div>\n-->\n  <!-- Footer -->\n<!--\n  <footer>\n      Did you like OGITO?&nbsp;\n      <a href=\"https://github.com/angular/angular\" target=\"_blank\" rel=\"noopener\"> Give our repo a star.\n        <div class=\"github-star-badge\">\n            <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n          Star\n        </div>\n      </a>\n      <a href=\"ttps://github.com/rosaguilar/OGITO\" target=\"_blank\" rel=\"noopener\">\n        <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" fill=\"#1976d2\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>\n      </a>\n  </footer>\n  -->\n<!--\n  <svg id=\"clouds\" alt=\"Gray Clouds Background\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2611.084\" height=\"485.677\" viewBox=\"0 0 2611.084 485.677\">\n    <path id=\"Path_39\" data-name=\"Path 39\" d=\"M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z\" transform=\"translate(142.69 -634.312)\" fill=\"#eee\"/>\n  </svg> -->\n\n <!-- </div> -->\n\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->\n<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->\n<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n\n\n\n\n","import {BrowserModule, HammerModule} from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MapComponent } from './map/map.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HomeComponent } from './home/home.component';\nimport {DemoMaterialModule} from './material-module';\nimport { EditingToolbarComponent } from './editing-toolbar/editing-toolbar.component';\nimport { LayerPanelComponent } from './layer-panel/layer-panel.component';\nimport { SymbolListComponent } from './symbol-list/symbol-list.component';\nimport { ToolbarComponent } from './toolbar/toolbar.component';\nimport {FormsModule} from '@angular/forms';\nimport {HttpClientModule } from '@angular/common/http';\n@NgModule({\n  declarations: [\n    AppComponent,\n    MapComponent,\n    HomeComponent,\n    EditingToolbarComponent,\n    LayerPanelComponent,\n    SymbolListComponent,\n    ToolbarComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    DemoMaterialModule,\n    FormsModule,\n    HammerModule,\n    HttpClientModule\n  ],\n  providers: [LayerPanelComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {Observable, Subscription, of as observableOf, observable} from 'rxjs';\nimport {OpenLayersService} from '../open-layers.service';\nimport { MatIconRegistry } from \"@angular/material/icon\";\nimport {DomSanitizer} from \"@angular/platform-browser\";\nimport {observableToBeFn} from 'rxjs/internal/testing/TestScheduler';\nimport {MapQgsStyleService} from '../map-qgs-style.service';\n\n\n@Component({\n  selector: 'app-editing-toolbar',\n  templateUrl: './editing-toolbar.component.html',\n  styleUrls: ['./editing-toolbar.component.scss']\n})\nexport class EditingToolbarComponent implements OnInit {\n  @ViewChild('symbolList', { static: false })\n  symbolList?: ElementRef<HTMLElement>;\n  x = 0;\n  y = 0;\n  startX = 0;\n  startY = 0;\n  stopSave = false;\n  stopSaveAll = false;\n  isVisible$: Observable<boolean>;\n  layerTypeEdit$: string;  // type of geometry of the layer in editing\n  styles: any;\n  subsToShowEditToolbar: Subscription;\n  subsToGeomTypeEditing: Subscription;\n  actionActive = {\n    Point: false,\n    LineString: false,\n    Polygon: false,\n    Square: false,\n    Box: false,\n    Circle: false,\n    ModifyBox: false,  // it is translate with a box\n    Rotate: false,\n    Copy: false,\n    Identify: false,\n    Delete: false,\n    Measure: false\n  };\n  onPanStart(event: any): void {\n    this.startX = this.x;\n    this.startY = this.y;\n  }\n  onPan(event: any): void {\n    event.preventDefault();\n    this.x = this.startX + event.deltaX;\n    this.y = this.startY + event.deltaY;\n  }\n\nconstructor(iconRegistry: MatIconRegistry, sanitizer: DomSanitizer, private openLayersService: OpenLayersService) {\n  iconRegistry.addSvgIcon(\n    'add_line',\n    sanitizer.bypassSecurityTrustResourceUrl('assets/img/baseline-line-nodes-24px.svg')\n  );\n  iconRegistry.addSvgIcon(\n    'selectBoxFeature',\n    sanitizer.bypassSecurityTrustResourceUrl('assets/img/baseline-select-box2-24px.svg')\n  );\n  iconRegistry.addSvgIcon(\n    'add_poly',\n    sanitizer.bypassSecurityTrustResourceUrl('assets/img/add-poly-layer24px.svg')\n  );\n  iconRegistry.addSvgIcon(\n    'identify',\n    sanitizer.bypassSecurityTrustResourceUrl('assets/img/identify-24px.svg')\n  );\n  this.subsToShowEditToolbar = this.openLayersService.showEditToolbar$.subscribe(\n    (data) => {\n      this.showToolbar(data);\n    },\n    (error) => {console.log('Error in subscription to openLayersService.showEditToolbar$'); }\n  );\n  this.subsToGeomTypeEditing = this.openLayersService.layerEditing$.subscribe(\n    (data: any) => {\n      // console.log('data aqui', data);\n      this.updateLayerTypeEdit(data.layerGeom);\n    },\n    error => {\n      console.log('Error in subscription openLayersService.geomTypeEditing$');\n    }\n  );\n  }\n\n  closeEditingToolbar(){\n    this.isVisible$ = observableOf(false);\n  }\n\n  updateLayerTypeEdit(geomType){\n    /** Updates the observable layerTypeEdit$ that is used in the page to show editing symbols according to the\n     * geometry type of the layer\n     * @param geomType: string indicating the geometry type\n     */\n    this.layerTypeEdit$ = geomType;\n    // console.log('this.layerTypeEdit$', this.layerTypeEdit$);\n  }\n\n\n   drawingShapes(shapeType: any){\n     /**\n      *   Updates the observable in services to remove the interaction\n      */\n      if (true === this.actionActive[shapeType] ) {\n        // The layer was on editing\n        this.openLayersService.updateShapeEditType(null); //\n        this.showSymbolPanel(false);\n      }\n      else {\n        this.openLayersService.updateShapeEditType(shapeType);\n        this.showSymbolPanel(true);\n      }\n      this.highlightAction(shapeType);\n   }\n\n  highlightAction(action: string) {\n    // update the current action\n    this.actionActive[action] = !this.actionActive[action];\n    // change the rest of interactions to false\n    for (const key in this.actionActive ) {\n      // console.log(\"otra...this.actionActive[key]\",key,this.actionActive[key]);\n      if ((key !== action) && (true === this.actionActive[key]))\n      {\n        this.actionActive[key] = !this.actionActive[key];\n      }\n    }\n  }\n\n  startEditAction(action: string){\n    /**\n     * Select with a rectangle\n     */\n    if (true === this.actionActive[action]) {\n      // action was active --> it must be stopped\n      // console.log('que entra.. action', action, this.actionActive[action],true === this.actionActive[action]);\n      this.openLayersService.updateEditAction(null);\n    }\n    else {\n      this.openLayersService.updateEditAction(action);\n    }\n    // add an observable to control enable\n    // this.openLayersService.updateEditAction(action);\n    this.highlightAction(action);\n   }\n\n  // identifyFeatures(){\n    /**\n     * Identify Feautures, the user select element(s) and the information is retrieved\n     */\n  /*  alert(\"add Code to identify Features\");\n   }\n  copiarFeatures(){\n    /**\n     * Copiar Features, the user select element(s) and paste in the location when the click is released\n     */\n    //alert(\"add Code to copiar Features\");\n  /*}\n  rotateFeatures(){\n    /**\n     * Rotate\n     */\n   // alert(\"add Code to rotate Features\");\n  /*}\n  measureDistance(){\n    /**\n     * Measure Distance\n     */\n   /* alert(\"add Code to measure Distance\");\n  } */\n\n  showSymbolPanel(visible: boolean): void{\n    /**\n     * Updates the observable that allows to show/hide the symbolPanel\n     */\n    // #TODO add a validation to know if is visible or not?\n\n    this.openLayersService.updateShowSymbolPanel(visible);\n   }\n\n  deleteFeat(action: 'Delete'){\n    // #TODO remove the code was change to emit one event.\n    /**\n     * Updates the observable that allows to start deleting in the map,\n     * highlight the button and unselect the others\n     */\n    if (true === this.actionActive.Delete ) {\n      // The deleting was active\n      // console.log (\"stop interaction de delete\", this.actionActive['delete']);\n      this.openLayersService.updateDeleteFeats(false); //\n    }\n    else {\n      this.openLayersService.updateDeleteFeats(true);\n      console.log('first time here');\n    }\n    this.highlightAction('Delete');\n    }\n\n\n  saveLayer(){\n    /** Enable user to save edit in the layer being updated the observable to show the editing toolbar and\n     */\n    if (confirm('Do you want to save edits in the current layer:?')){\n      this.openLayersService.updateSaveCurrentLayer(true);\n      // disable the button\n      this.stopSave = true;\n      // add a timeout to enable the button\n      setTimeout(() => {\n        this.stopSave = false;\n      }, 10000);\n   }\n  }\n  saveAllLayer(){\n    alert('Add here the code to save all edits in all layers');\n    /** Enable user to save edit in all the layers\n     */\n    if (confirm('Do you want to save all the edits in the all layers:?')){\n     // this.openLayersService.updateSaveCurrentLayer(true);\n      // disable the button\n      this.stopSaveAll = true;\n      // add a timeout to enable the button\n      setTimeout(() => {\n        this.stopSaveAll = false;\n      }, 10000);\n    }\n  }\n  undoEdit(data){\n  }\n\n  ngOnInit(): void {\n    this.isVisible$ = observableOf(false);\n  }\n\n  showToolbar(visible: boolean){\n    /** Updates the observable to show the editing toolbar\n     *  @param visible: boolean\n     */\n  this.isVisible$ = observableOf(visible);\n  // desactivar todas las actions??\n  for (let key in this.actionActive ) {\n      // console.log(\"showing fresh tool ]\",key,this.actionActive[key]);\n      if (true === this.actionActive[key])\n      {\n        this.actionActive[key] = !this.actionActive[key];\n      }\n    }\n  }\n}\n","<!--suppress AngularUndefinedBinding -->  <!-- to fix a bug in webstorm -->\n<div class=\"editToolbar\"   *ngIf=\"isVisible$ | async\"  [style.left.px]=\"x\" [style.top.px]=\"y\"\n     (panstart)=\"onPanStart($event)\" (panmove)=\"onPan($event)\">\n<mat-card>\n   <mat-divider [vertical]=\"true\"></mat-divider>\n    <mat-toolbar>\n      <button   *ngIf= \" (layerTypeEdit$ == 'Point' || layerTypeEdit$ == 'Multi') \" mat-icon-button\n                (click)=\"drawingShapes('Point')\" matTooltip=\"Add point/marker\" [ngClass]=\"actionActive['Point'] ? 'active': 'normal'\">\n        <mat-icon>add_location</mat-icon>\n      </button>\n      <button mat-icon-button *ngIf=\"(layerTypeEdit$ == 'Line' || layerTypeEdit$ =='Multi' || layerTypeEdit$ == 'Polygon') \"\n              (click)=\"drawingShapes('LineString')\" matTooltip=\"Add line\" [ngClass]=\"actionActive['LineString'] ? 'active': 'normal'\">\n        <mat-icon    svgIcon=\"add_line\"></mat-icon>\n      </button>\n      <button *ngIf=\"(layerTypeEdit$ == 'Polygon' || layerTypeEdit$ == 'Multi') \" mat-icon-button\n              (click)=\"drawingShapes('Polygon')\" matTooltip=\"Add polygon\" [ngClass]=\"actionActive['Polygon'] ? 'active': 'normal'\">\n        <mat-icon svgIcon=\"add_poly\"></mat-icon>\n      </button>\n      <button *ngIf=\"(layerTypeEdit$ == 'Polygon' || layerTypeEdit$ == 'Multi') \" mat-icon-button\n              (click)=\"drawingShapes('Square')\" matTooltip=\"Add Square\" [ngClass]=\"actionActive['Square'] ? 'active': 'normal'\">\n        <mat-icon>crop_square</mat-icon>\n      </button>\n      <button *ngIf=\"(layerTypeEdit$ == 'Polygon' || layerTypeEdit$ == 'Multi') \" mat-icon-button\n              (click)=\"drawingShapes('Circle')\" matTooltip=\"Add Circle\" [ngClass]=\"actionActive['Circle'] ? 'active': 'normal'\">\n        <mat-icon>radio_button_unchecked</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"startEditAction('ModifyBox');showSymbolPanel(false);\" matTooltip=\"Select element(s)\"\n              [ngClass]=\"actionActive['ModifyBox'] ? 'active': 'normal'\" >\n        <mat-icon svgIcon=\"selectBoxFeature\"></mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"startEditAction('Copy');showSymbolPanel(false)\" matTooltip=\"Copiar element(s)\"\n              [ngClass]=\"actionActive['Copy'] ? 'active': 'normal'\" >\n        <mat-icon>content_copy</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"startEditAction('Rotate');showSymbolPanel(false)\" matTooltip=\"Rotate element(s)\"\n              [ngClass]=\"actionActive['Rotate'] ? 'active': 'normal'\" >\n        <mat-icon>rotate_right</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"startEditAction('Measure');showSymbolPanel(false)\" matTooltip=\"Measure Distance\"\n              [ngClass]=\"actionActive['Measure'] ? 'active': 'normal'\" >\n        <mat-icon>straighten</mat-icon>\n      </button>\n\n      <button mat-icon-button (click)=\"startEditAction('Delete'); showSymbolPanel(false)\"  aria-label=\"delete\" matTooltip=\"Delete element\"\n              [ngClass]=\"actionActive['Delete'] ? 'active': 'normal'\">\n        <mat-icon>delete_forever</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"startEditAction('Identify');showSymbolPanel(false)\"  aria-label=\"identify\" matTooltip=\"Identify element\"\n              [ngClass]=\"actionActive['Identify'] ? 'active': 'normal'\">\n        <mat-icon svgIcon=\"identify\"></mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"startEditAction('Identify');showSymbolPanel(false)\"  aria-label=\"identify\" matTooltip=\"Search in map\"\n              [ngClass]=\"actionActive['Search'] ? 'active': 'normal'\">\n        <mat-icon>search</mat-icon>\n      </button>\n      <button mat-icon-button aria-label=\"UndoLastEdit\" (click)=\"startEditAction('Undo');\" matTooltip=\"Undo\">\n        <mat-icon>undo</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"showSymbolPanel(true)\" matTooltip=\"Select/Change symbol\"\n              [ngClass]=\"actionActive['showSymbols'] ? 'active': 'normal'\">\n        <mat-icon   aria-label=\"\">category</mat-icon>\n      </button>\n      <button [disabled]=\"stopSave\" mat-icon-button (click)=\"saveLayer()\" matTooltip = \"Save all edits into the layers/disable pending #TODO\">\n        <mat-icon>save_alt</mat-icon>\n      </button>\n      <button  [disabled]=\"stopSaveAll\" mat-icon-button (click)=\"saveAllLayer()\" matTooltip = \"Save all edits in all layers\">\n        <mat-icon>save</mat-icon>\n      </button>\n      <span class = \"spacer\"></span>\n      <div class=\"divClosing\">\n        <button mat-mini-fab (click)=\"closeEditingToolbar()\" class=\"matCloseWrapper\" >\n          <mat-icon  class= \"closeIcon \">close</mat-icon>\n        </button>\n      </div>\n     </mat-toolbar>\n\n\n\n</mat-card>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n  openProject(){\n    console.log('add code to open a QGs Project');\n  }\n  showInfo(){\n    //alert(\"Aqui se muestra la info\");\n    alert(\"Your screen dimensions are: \" + screen.width + \"x\" + screen.height);\n  }\n  editSettings(){\n    // Here you can edit the project to be display\n    console.log('add code to edit settings, e.g., project to edit..');\n  }\n  exitToApp(){\n    confirm(\"Exiting app\");\n  }\n}\n","\n<div class=\"toolbarWrapper\">\n<!-- Toolbar -->\n\n  <div class=\"toolbar\" role=\"banner\">\n    <mat-toolbar color = \"primary\">\n\n    <button mat-icon-button   [matMenuTriggerFor]=\"myMenu\" aria-label=\"Menu\">\n      <mat-icon>menu</mat-icon>\n    </button>\n    <mat-menu  #myMenu=\"matMenu\">\n     <!-- <button mat-menu-item  (click)=\"openProject()\">\n        <mat-icon>folder_open</mat-icon>\n        <span>Open project</span>\n      </button> -->\n      <button mat-menu-item disabled (click) = \"editSettings()\">\n        <mat-icon>settings </mat-icon>\n        <span>Settings</span>\n      </button>\n      <button mat-menu-item (click)=\"showInfo()\">\n        <mat-icon>info </mat-icon>\n        <span>About</span>\n      </button>\n     </mat-menu>\n     <span class=\"title\">&nbsp;OGITO </span>\n     <span class=\"spacer\"></span>\n     <button mat-icon-button (click)=\"exitToApp()\">\n        <mat-icon> exit_to_app</mat-icon>\n     </button>\n     </mat-toolbar>\n   </div>\n<!--// here put the divs/cards and the design-->\n\n\n\n  <!--\n  <div class=\"terminal\" >\n    <span> Keeping alive to copy the style</span>\n  </div>\n-->\n</div>\n<app-map></app-map>\n<app-toolbar></app-toolbar>\n<app-editing-toolbar></app-editing-toolbar>\n<app-symbol-list></app-symbol-list>\n","import {Component, OnInit, Input, Output, SimpleChange, OnChanges, EventEmitter} from '@angular/core';\nimport {Observable, of as observableOf, Subject, Subscription} from 'rxjs';\nimport {CdkDragDrop, moveItemInArray} from '@angular/cdk/drag-drop';\nimport {OpenLayersService} from '../open-layers.service';\nimport {AppConfiguration} from '../app-configuration';\n\n@Component({\n  selector: 'app-layer-panel',\n  templateUrl: './layer-panel.component.html',\n  styleUrls: ['./layer-panel.component.scss']\n})\nexport class LayerPanelComponent implements OnInit {\n  @Input() editLayers: Array<any>;\n  @Output() layerVisClick = new EventEmitter<any>();   // emit an event when a layer is clicked in the list\n  @Output() editLayerClick = new EventEmitter<any>();   // emit an event when the edit button of a layer is clicked\n  @Output() layersOrder = new EventEmitter<any>();   // emit an event when layers were reordered (drop)\n  @Output() layersBackOrder = new EventEmitter<any>();  // emit an event when the order of base layers changes\n  @Output() layerBackVisClick = new EventEmitter<any>(); // emit an event when the edit button of a layer is clicked\n  x = 0;\n  y = 0;\n  startX = 0;\n  startY = 0;\n  selectedOptions = [];\n  layerActive:any;\n // preSelection = AppConfiguration.layerBaseList2.base_img.name; // ['name']];// 'OSM' The name\n//  editLayers = [['0'], ['1']];\n  baseLayers = []; // WMS layers as background; layers; too ?\n  showLayerPanel$: Observable<boolean>;\n  selectedLayersOptions$: Observable<any>;   // to keep the status of the layers in the layer panel\n\n\n\nconstructor(private openLayersService: OpenLayersService){}\n\n drop(event: CdkDragDrop<string[]>) {\n    /** Moves the layers in the panel after a drop gesture and emits a layersOrder event\n     * that is capture by the map component that effectively reorder the layers in the map.\n     * @param event --> cdkDragDrop event\n     */\n    moveItemInArray(this.editLayers, event.previousIndex, event.currentIndex);\n    this.layersOrder.emit(this.editLayers);\n   /* #TODO remove, this was changed because I used a child component.\n   this.openLayersService.updateOrderEditLayers(this.editLayers);\n    this.openLayersService.updateEditingLayer(this.editLayers[0]);  // debria ser true or false\n    this.openLayersService.updateShowEditTools(this.editLayers[0][2]); // pos 2 tiene el tipo\n    */\n  }\n  dropBase(event: CdkDragDrop<string[]>) {\n    moveItemInArray(this.baseLayers, event.previousIndex, event.currentIndex);\n    this.layersBackOrder.emit(this.baseLayers);\n  }\n\nngOnInit(): void {\n  this.showLayerPanel$ = observableOf(true);\n  }\n\n  onEditLayerClick($event: any, layer: any){\n  /** allows to start editing a particular layer in the layer panel\n   * @param $event for the future, doing nothing with it so far.\n   * @param item: item (layer) that was clicked on to start/stop editing\n   */\n  $event.preventDefault();\n  $event.stopImmediatePropagation();\n  console.log('que entra..getting better', $event, layer.layerName);\n  this.editLayerClick.emit(layer);  // with this the map should act accordingly to stop/start editing.\n    // tslint:disable-next-line:triple-equals\n  if (this.layerActive == layer.layerName) {\n    this.layerActive = null;\n    this.openLayersService.updateShowEditToolbar(false);\n  }\n  else {\n    this.layerActive = layer.layerName;\n  }\n}\ncloseLayerPanel(value: any) {\n  /** Updates the value of the observable $showLayerPanel$ that controls the layer Panel visibility\n   * @param value, type boolean\n   */\n  console.log(value);\n  this.showLayerPanel$ = observableOf(value);\n  }\n onPanStart(event: any): void {\n  /** Sets the current coordinates of the layerPanel to use later when setting a new position\n   * triggered when a pan event starts in the layerpanel card\n   * @param event, type event\n   */\n    this.startX = this.x;\n    this.startY = this.y;\n  }\nonPan(event: any): void {\n  /** Sets the new location of the layerPanel after a pan event was triggered in the layerPanel card\n   * @param event, type event\n   */\n    event.preventDefault();\n    this.x = this.startX + event.deltaX;\n    this.y = this.startY + event.deltaY;\n  }\n\n  onEditListChange($event, selectedList, options){\n    /**\n     * Updates layers order on the map. This is for editable layers\n     * @param $event: the event emitted\n     * @param selectedList: list of layers being selected to become visible\n     */\n    this.selectedOptions = selectedList.map(s => s.value);\n    console.log('sigo', this.selectedOptions);\n    // Actualizando las lista de las capas\n    //this.layerListChanged.emit(this.selectedOptions);  // emit the change\n    //console.log('que tiene this.layerListChanged ', this.layerListChanged);\n    // #TODO uncomment this.openLayersService.updateVisLayers(this.selectedOptions);\n    }\n\n  onBackListChange($event, selectedList){\n    /**\n     * Updates layers visibility on the map. This is for background layers\n     * @param $event: the event emitted\n     * @param selectedList: list of layers being selected to become visible\n     */\n    this.selectedOptions = selectedList.map(s => s.value);\n    console.log('sigo', this.selectedOptions);\n    // Actualizando las lista de las capas\n    this.layerBackVisClick.emit(this.selectedOptions);  // the order\n    // this.selectedOption =$event;\n  }\n\n  onLayerVisClick(  $event: any, layer: any){\n    /** This function emit an event to allow the map component to know that a layer was clicked\n     * @param $event: to stop event propagation\n     * @param layer: the layer that the user clicked on to show/hide\n     */\n    $event.preventDefault();\n    $event.stopImmediatePropagation();\n    this.layerVisClick.emit(layer);  // emit the change\n  }\n  onLayerBackVisClick(  $event: any, layer: any){\n    /** This function emit an event to allow the map component to know that a layer was clicked\n     * @param $event: to stop event propagation\n     * @param layer: the layer that the user clicked on to show/hide\n     */\n    $event.preventDefault();\n    $event.stopImmediatePropagation();\n    this.layerBackVisClick.emit(layer);  // emit the change\n  }\n}\n","<!--suppress AngularUndefinedBinding -->  <!-- to fix a bug in webstorm -->\n<div class =\"example-list\"   *ngIf=\"showLayerPanel$ | async\" [style.left.px]=\"x\" [style.top.px]=\"y\"\n     (panstart)=\"onPanStart($event)\" (panmove)=\"onPan($event)\">\n\n<mat-card class = 'layerPanelCard'>\n  <mat-card-title-group>\n      <mat-card-title class =\"panelTitle\">Layers  </mat-card-title>\n      <button mat-mini-fab   (click)=\"closeLayerPanel(false)\" class=\"matCloseWrapper\" >\n        <mat-icon  class= \"closeIcon\">close</mat-icon>\n      </button>\n  </mat-card-title-group>\n  <mat-divider class = \"toolbarDivider\"></mat-divider>\n   <div class=\"example-list-top\" cdkDropList (cdkDropListDropped)=\"drop($event)\">\n   <mat-selection-list #listElayer>\n      <mat-list-option class=\"example-box mat-primary\" *ngFor= \"let layer of editLayers\" [value]=\"layer['layerName']\"\n                       (click)=\"onLayerVisClick($event,layer)\" checkboxPosition=\"before\" cdkDrag\n                       [ngClass]=\"layerActive == layer['layerName']? 'active': 'normal'\">\n        <div class=\"selectList\">\n          <div style=\"display:flex;align-items:center\">\n          {{layer['layerTitle']}}\n          </div>\n          <div>\n            <button mat-icon-button (click)=\"onEditLayerClick($event, layer)\">\n              <mat-icon  class= \"editIcon\">edit</mat-icon>\n            </button>\n          </div>\n        </div>\n      </mat-list-option>\n  </mat-selection-list>\n  </div>\n\n  <mat-divider class = \"toolbarDivider\"></mat-divider>\n   <span>Background Layers</span>\n\n  <mat-selection-list   #sbLayers >\n   <!-- <span class = \"title-layer\">Citra satelit</span> -->\n    <div cdkDropList (cdkDropListDropped)=\"dropBase($event)\">\n      <!--\n     <ng-container   >\n\n       <mat-list-option class=\"example-box\" *ngFor= \"let layer of baseLayers\" [selected]=\"preSelection.indexOf(layer[0]) > -1\"\n                        [value]=\"layer[0]\" (click)=\"onLayerBackVisClick($event,layer)\"\n                        checkboxPosition=\"before\" cdkDrag>\n         {{layer[1]}}\n       </mat-list-option>\n     </ng-container>-->\n    </div>\n  </mat-selection-list>\n</mat-card>\n</div>\n","import { Injectable } from '@angular/core';\nimport CircleStyle from 'ol/style/Circle';\nimport {Fill, RegularShape, Stroke, Style, Icon, Text, Circle} from 'ol/style';\nimport {DEVICE_PIXEL_RATIO} from 'ol/has.js';\nimport {AppConfiguration} from './app-configuration';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapQgsStyleService {\n  /** Retrieves the styles for WFS layers in the Qgs project associated\n   *\n   */\n  svgFolder = AppConfiguration.svgFolder;\n  nodes = {};\n  canvas = document.createElement('canvas');\n  context = this.canvas.getContext('2d');\n  constructor() { }\n\n  findStyle(feature:any, layerName: any) {\n    /** Given a feature and the layerName it returns the corresponding style\n     * it is used to get the styles for WFS layers in the Qgs project associated\n     * @param { feature } the feature for which to find a rendering style  -- no needed apparently\n     * @param { layerName } the name of a WFS layer to be rendered\n     */\n    // console.log(\"layername in finding style\", layerName) ;\n    // const featType = feature.getGeometry().getType();\n    // here include a default value and styling for # resolution or just somethig reasonable\n    const styleLyr = this.nodes[layerName];\n    if (Object.keys(styleLyr).length > 0){\n      const attr = styleLyr[Object.keys(styleLyr)[0]][\"attr\"]; // Which is the attribute used in the simbology\n      const featValue = feature.get(attr);\n      for (let key of Object.getOwnPropertyNames(styleLyr))\n      {\n        if (styleLyr[key]['value'] == featValue){\n         // console.log (\"encontrado\",styleLyr[key]['style']);\n          return (styleLyr[key]['style']);    // and array of style is ok too\n        }\n      }\n    }\n  }\n\n  createLinePattern(fillColor:any, angle:number, spacing:number, line_width: number) {\n    const pixelRatio = DEVICE_PIXEL_RATIO;\n    this.canvas.width = 8 * pixelRatio;\n    this.canvas.height = 8 * pixelRatio;\n    this.context.fillStyle = 'rgba(255,255,255,0.8)';\n    this.context.beginPath();\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.width);  // just fill the pattern\n    this.context.fill();\n    // the stroke\n    this.context.beginPath();\n    switch (angle) {\n      case 45: {\n        this.context.moveTo(0, this.canvas.height);\n        this.context.lineTo(this.canvas.width, 0);\n        break;\n      }\n      case 90: {\n        this.context.moveTo(2, 0);\n        this.context.lineTo(2, this.canvas.height);\n        break;\n      }\n      case 135: {\n        this.context.moveTo(0, 0);\n        this.context.lineTo(this.canvas.width, this.canvas.height);\n        break;\n      }\n      case 180: {\n        this.context.moveTo(0, 0);\n        this.context.lineTo(this.canvas.width,0);\n        break;\n      }\n      default:\n        for (let i = 10; i < 200; i += 20)\n        {\n          this.context.moveTo(0, i);\n          this.context.lineTo(this.canvas.width, i);\n        }\n    }\n    this.context.lineWidth = line_width * 2;   // in qgis looks good but thinner in OL\n    this.context.strokeStyle = fillColor;\n    this.context.stroke();\n    this.context.fill();\n    const thePattern = this.context.createPattern(this.canvas, 'repeat');\n    return (thePattern);\n  }\n\n  getRGBAcolor(color: any, transparency: string = '1'){\n    /** takes a color and retunr in a rgba format used in OL\n     * @param color: string color as given in the qgs project file\n     * @param transparency: string containing de transparency from 0 to 1\n     * by default it put 1 as the transparency.\n     * return a string with the color in the rgba format\n     */\n    let rgbaColor = color .split(',');\n    rgbaColor = 'rgba('.concat(rgbaColor[0], ', ', rgbaColor[1], ', ', rgbaColor[2], ',', transparency , ')');\n    return(rgbaColor);\n  }\n\n  mapQgsSymbol(symType: any, symLyrCls: any, symAlpha: any, props: any){\n    /** Retrieves a OL style that is \"equivalent\" to the style described in a QGS project\n     * for now only categorized symbols are supported\n     * #TODO implement graduated symbols, it should not be hard\n     * @param {symType} type of symbol\n     * @param {symLyrCls} name of the symbol layer\n     * @param {symAlpha} value of the alfa layer for the symbol\n     * @param {props} name of the layer\n     * @returns {Olstyle} style in the format of a OL style (it could and array)e\n     */\n\n      let newStyle: any;\n      let color: string;\n      let outColor: string;\n      let stroke: any;\n      let fill: any;\n      let symText: any;\n      let symStyle = {};\n      for (let l = 0; l < props.length; l++) {\n        let propNode = props[l];\n        let clave = propNode.getAttribute('k');\n        let valor = propNode.getAttribute('v');\n        // console.log(\"que viene en symLyrCls\", symLyrCls);\n        symStyle[clave] = valor;\n      }\n      switch (symLyrCls) {\n        case \"SimpleFill\": {\n          stroke = new Stroke({\n            lineJoin: symStyle[\"joinstyle\"],\n            width: +symStyle[\"outline_width\"],\n          });\n          color = this.getRGBAcolor(symStyle[\"color\"], '0.7');\n          outColor = this.getRGBAcolor(symStyle[\"outline_color\"],'1');\n          stroke.setColor(outColor);\n          let fillStyle = symStyle[\"style\"];\n          switch (fillStyle)\n          {\n            case \"no\":{\n              newStyle = new Style({\n                stroke\n              });\n              break;\n            }\n            default: {\n              // by default fills the style\n              fill = new Fill({\n                color\n              });\n              newStyle = new Style({\n                stroke,\n                fill\n              });\n            }\n          }\n          break;\n        }\n        case 'LinePatternFill': {\n          stroke = new Stroke({\n            lineJoin: symStyle[\"joinstyle\"],\n            width: +symStyle[\"line_width\"],\n          });\n          color = this.getRGBAcolor(symStyle['color'],'0.7');\n          fill = new Fill();\n          let pattern = this.createLinePattern(color,+symStyle[\"angle\"] , symStyle[\"distance\"], +symStyle[\"line_width\"]); //\n          fill.setColor(pattern);\n          stroke.setColor(\"black\");\n          newStyle = new Style({\n            stroke,\n            fill\n          });\n          break;\n        }\n        case 'SimpleLine': {\n          let capStyle = symStyle[\"capstyle\"];\n          if (symStyle[\"capstyle\"] =='flat'){\n            capStyle ='butt'\n          }\n          let lineDash = '';\n          if (symStyle[\"use_custom_dash\"] == \"1\"){\n            lineDash = symStyle[\"customdash\"].split(\";\").map(Number);\n          }\n          color = this.getRGBAcolor(symStyle[\"line_color\"],'1');\n          stroke = new Stroke({\n            color: color,\n            lineCap: capStyle,    // symStyle[\"capstyle\"],\n            lineJoin: symStyle[\"joinstyle\"],\n            lineDash: lineDash,\n            lineDashOffset: symStyle[\"offset\"],\n            //miterLimit: symStyle[\"joinstyle\"],\n            width: +symStyle[\"line_width\"]\n          });\n          newStyle = new Style({\n            stroke: stroke\n          });\n          break;\n        }\n        case 'SimpleMarker': {\n          // console.log(\"THIS is NEEXXXXT\");\n          let offset = symStyle[\"offset\"].split(\",\");\n          color = this.getRGBAcolor(symStyle['color']);\n          outColor = this.getRGBAcolor(symStyle['outline_color']);\n          fill = new Fill({\n            color\n          });\n          stroke = new Stroke({\n            color: outColor,\n            lineJoin: symStyle['joinstyle'],\n            width: +symStyle ['outline_width'] * 2  // test *2\n          });\n          newStyle = new Style({\n            image: new CircleStyle({\n              radius: +symStyle['size']*2, // test *2 make it responsive..\n              fill,\n              stroke,\n            })\n          });\n          break;\n        }\n        case 'SvgMarker':\n        {\n        color = this.getRGBAcolor(symStyle['color']);   // this is symStyle[\"color\"]\n        outColor = this.getRGBAcolor(symStyle['outline_color']);\n        const filename = this.svgFolder.concat(symStyle['name']);\n        const size = symStyle['size'] ;\n        const  outlineWidth = +symStyle[\"outline_width\"];\n        const verticalAnchorPoint = symStyle['vertical_anchor_point'];\n        newStyle = new Style({\n           image: new Icon({\n             color,\n             crossOrigin: 'anonymous',\n             // imgSize: [50, 50],   // it was 20 #TODO responsive to zoom scale\n             scale: 0.03, // #TODO verificar size qgis/ol\n             src: filename })\n         });\n        // console.log('svgMarker in the case', newStyle);\n        break;\n        }\n        case 'FontMarker':\n          {\n\n          color = this.getRGBAcolor(symStyle['color']);\n          outColor = this.getRGBAcolor(symStyle['outline_color']);\n          stroke = new Stroke({\n            color,\n            lineJoin: symStyle['joinstyle'],\n            lineDashOffset: symStyle['offset'],\n            width: +symStyle[\"line_width\"]\n          });\n          let textBaseline ='top';\n          let offset = symStyle[\"offset\"].split(\",\");\n          let offsetY = offset[1];\n          if (symStyle[\"chr\"] ==\"o\" &&symStyle[\"font\"] ==\"Geosiana Desa\"){\n            offsetY = 2*19;\n            textBaseline = \"bottom\";\n            symStyle[\"chr\"] = '\\n'.concat(symStyle[\"chr\"]);\n          }\n          symText  = new Text({\n            font:   \"normal \".concat(symStyle[\"size\"], \"px \", symStyle[\"font\"]) ,    //symStyle[\"size\"]\n            offsetX: offset[0],\n            offsetY: offsetY, //offset[1],\n            textBaseline: textBaseline ,  // 'top' ,\n            // placement: ,   // lets keep the default that is point\n            scale: 2, //symStyle[\"size\"] ,\n            text: symStyle['chr'],\n            fill: new Fill({\n              color,   // equiv --> color:  color\n            }),\n          });\n          newStyle = new Style({\n            text: symText,\n            // stroke  # ? no se pq esta comentado?\n          });\n          break;\n        }\n        case 'FilledMarker': {\n          color = this.getRGBAcolor(symStyle['color']);\n          const size = symStyle['size'];\n          const scaleMethod = symStyle['diameter'];\n          const angle = symStyle['angle'];\n          fill = new Fill({color});\n          stroke = new Stroke({color: 'black', width: 2 });   //\n          switch (symStyle['name']) {\n            case 'star': {\n              newStyle = new Style({\n                image: new RegularShape({\n                fill,\n                stroke,\n                points: 5,\n                radius: size * 2,   // test * 2 #TODO make responsive\n                radius2: size,\n                angle: 0\n                })\n              });\n              break;\n            }\n            case 'cross_fill': {\n              newStyle = new Style({\n                image: new RegularShape({\n                  fill,\n                  stroke,\n                  points: 4,\n                  radius: size * 2,   // test * 2 #TODO make responsive\n                  radius2: 0,\n                  angle: 0\n                })\n              });\n              break;\n            }\n            case 'square': {\n              newStyle = new Style({\n                image: new RegularShape({\n                  fill,\n                  stroke,\n                  points: 4,\n                  radius: size * 2,   // test * 2 #TODO make responsive\n                  angle: Math.PI / 4\n                })\n              });\n              break;\n            }\n            case 'triangle': {\n              newStyle = new Style({\n                image: new RegularShape({\n                  fill,\n                  stroke,\n                  points: 3,\n                  radius: size * 2,   // test * 2 #TODO make responsive\n                  angle: 0\n                })\n              });\n              break;\n            }\n            default: {\n              // by default a x\n             newStyle = new Style({\n                image: new RegularShape({\n                  fill,\n                  stroke,\n                  points: 4,\n                  radius: 10,\n                  radius2: 0,\n                  angle: Math.PI / 4\n                })\n             });\n             break;\n            }\n          }\n          break;\n        }\n\n      }\n      return newStyle;\n  }\n\n\n  findDefaultStyleProvisional(geometry:any, layerName:any){\n    /** Retrieves a default style for a feature of the given geometry in the given layer\n     * This can be used to provide style for sketch layers..\n     * @param {geometry} geomtry type\n     * @param {layerName} name of the layer\n     * @returns {Style} default style to render the feature\n     */\n  }\n\n\n  createLayerStyles(layerName: string, xmlRendererV2: any){\n    /** Retrieves a default style for a feature of the given geometry in the given layer\n     * This function receives the content of the Xml project to parse it and get the symbology of each layer\n     * This is to avoid asking the user to fill the qml files per layer\n     * @param {xmlRendererV2} the portion of the xml related to styles - renderer-v2\n     * @returns {layerName} the name of the layerNames as keys and styles (symbology) as values\n     */\n    // console.log(`layerName ${ layerName }`);\n    let renderer = xmlRendererV2;\n    const symbolType = renderer.getAttribute(\"type\");\n    // const symbols = renderer.getElementsByTagName('symbols')[0];\n    if (symbolType == \"categorizedSymbol\") {\n      const attr = renderer.getAttribute('attr').split(\".\")[0];\n      let categories = renderer.getElementsByTagName(\"categories\");  // aqui tengo el id era el [1].\n      // console.log('cuantos valores', categories[0].children.length);\n      let tnodes = {};\n      for (let i = 0; i < categories[0].children.length; i++) {\n        let node = renderer.getElementsByTagName(\"category\")[i];\n        let label = node.getAttribute(\"label\");\n        let symbol = node.getAttribute(\"symbol\");\n        let value = node.getAttribute(\"value\");\n        // here, loading the different classes\n        if (value.length > 0) {\n          tnodes[symbol] = {\n            \"attr\": attr,\n            \"value\": value,\n            \"label\": label,\n            \"symbol\": symbol,\n            \"style\": \"\"\n          };\n        }\n      }\n      let symbols = renderer.getElementsByTagName(\"symbols\")[0];  // aqui tengo el id era el [1].\n      let syms = symbols.getElementsByTagName(\"symbol\");\n      for (let j = 0; j < syms.length; j++) {\n        let symNode = syms[j];\n        let symAlpha = symNode.getAttribute(\"alpha\");\n        let symName = symNode.getAttribute(\"name\"); // here is the real value of the symbol\n        let symType = symNode.getAttribute(\"type\");\n        if (tnodes.hasOwnProperty(symName))\n        {\n\n          let layers = symNode.getElementsByTagName(\"layer\");\n          let olStyleLst = [];\n          for (let l = 0; l < layers.length; l++) {\n            let symLyrCls = symNode.getElementsByTagName(\"layer\")[l].getAttribute(\"class\");\n            let props = symNode.getElementsByTagName(\"layer\")[l].getElementsByTagName(\"prop\");\n            let olStyle = this.mapQgsSymbol(symType, symLyrCls, symAlpha, props);  // #TODO add symbol inside filledMarker\n            if (olStyle) {\n              olStyleLst.push(olStyle);\n              tnodes[symName][\"symLyrCls\"] = symLyrCls;\n\n            }\n          }\n          if (olStyleLst.length > 1){\n            // switch the order of the styles   #TODO check if needed\n            let olStyleLst2 = [];\n            for (let s = 0; s < olStyleLst.length; s++){\n              olStyleLst2.push(olStyleLst[olStyleLst.length - 1 - s]); }\n             // olStyleLst = olStyleLst2;\n          }\n          tnodes[symName].style = olStyleLst;   // using the tnodes[symName].style is te same than tnodes[symName][\"style\"]\n          tnodes[symName].alpha = symAlpha;\n          tnodes[symName].type = symType;\n        }\n      }\n\n      this.nodes [layerName] = tnodes;\n    }\n    else if (symbolType == \"graduatedSymbol\") {\n      // For future versions  graduated color, this also includes\n      // SVG icons\n    }\n    else if (symbolType == \"singleSymbol\")  {\n      // For future versions  unique symbol, this also includes\n      // SVG icons\n      }\n\n  }\n  getLayerStyle(layerName: string){\n    /** return the style for a layer\n     * @param layername: string, the name of the layer\n     */\n    if (this.nodes[layerName]){\n      // console.log(\"consigue algo?\",this.nodes[layerName] );\n      return this.nodes[layerName];\n    }\n  }\n  getLayerStyles(){\n    /** Return the styles for all the layers\n     *  #TODO verify if is useful or not. apparently is not being used.\n     */\n    if (this.nodes){\n      return (this.nodes);\n    }\n    return null;\n  }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {AppConfiguration} from '../app-configuration';\nimport 'ol/ol.css';\nimport {Map, View} from 'ol';\nimport {getDistance} from 'ol/sphere';\nimport {transform} from 'ol/proj';\nimport proj4 from 'proj4';\nimport {register} from 'ol/proj/proj4';\nimport Projection from 'ol/proj/Projection';\nimport VectorSource from 'ol/source/Vector';\nimport VectorLayer from 'ol/layer/Vector';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport WMSCapabilities from 'ol/format/WMScapabilities.js';\nimport Overlay from 'ol/Overlay';\nimport {defaults as defaultInteractions, DragAndDrop, Draw, Modify, Select, Snap, DragBox} from 'ol/interaction';\nimport {Translate, DragPan, DragRotate, DragZoom, PinchZoom, PinchRotate} from 'ol/interaction';\nimport Point from 'ol/geom/Point';\nimport {Fill, Stroke, Style} from 'ol/style';\nimport CircleStyle from 'ol/style/Circle';\nimport {GeoJSON, KML} from 'ol/format';\nimport ZoomSlider from 'ol/control/ZoomSlider';\nimport ScaleLine from 'ol/control/ScaleLine';\nimport {Polygon} from 'ol/geom';\nimport {fromCircle} from 'ol/geom/Polygon';\nimport {OpenLayersService} from '../open-layers.service';\nimport {MapQgsStyleService} from '../map-qgs-style.service';\nimport WFS from 'ol/format/WFS';\nimport GML from 'ol/format/GML';\nimport {click} from 'ol/events/condition.js';\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss']\n})\n\nexport class MapComponent implements OnInit, OnDestroy {\n  public existingProject = true;\n  map: Map;\n  view: View;\n  srsID: any;  // ID of the SRS to be used in the map View\n  wgs84ID = 'EPSG:4326';\n  projectTitle: string;\n  mapCanvasExtent: any;\n  BBOX: any;\n  mapCenterXY: number[] = [0, 0];   // the center of the map in the project EPSG coordinates\n  projectProjection: Projection;\n  mapZoom: number = AppConfiguration.mapZoom;\n  fieldWFSLayers = {};\n  layerStyles = {};\n  selectStyle: any;\n  // map interactions\n  draw: any;\n  snap: any;\n  modify: any;\n  select: any = null;\n  translate: any;\n  pinchZoom: any;\n  pinchRotate: any;\n  dragPan: any;\n  dragRotate: any;\n  dragZoom: any;\n  dragBox: any;\n  dragAndDropInteraction: any;\n  loadedWfsLayers = []; // [{layerName: 'uno', layerTitle: 'Layer 1'}, {layerName: 'dos', layerTitle: 'layer 2'}];\n  curEditingLayer = null;\n  cacheFeatures = [];\n  canBeUndo = false;\n  editBuffer = [];   // Try one array for everything.\n  // cacheBuffer = [];\n  // editSketchBuffer = []; // #TDOD remove?\n  layersGeometryType = {};\n  layersOrder = [];\n  featId = 1000;   // to have an internal identifier for features when editing\n  private currentStyle: any;\n  private currentClass: any;\n  measureTooltipElement: any;\n  measureTooltip: any;\n  subsToShapeEdit: Subscription;\n  subsTocurrentSymbol: Subscription;\n  subsToSaveCurrentLayer: Subscription;\n  subsToZoomHome: Subscription;\n\n  constructor( private mapQgsStyleService: MapQgsStyleService,\n               private  openLayersService: OpenLayersService) {\n\n    this.subsToShapeEdit = this.openLayersService.shapeEditType$.subscribe(\n      data => {\n        if (data != null){\n          this.enableAddShape(data);\n        }\n        else {\n         this.removeInteractions();   // remove drawingInteractions\n        }\n\n      },\n      error => { console.log('Error in shapeEditType', error); }\n    );\n    this.subsTocurrentSymbol = this.openLayersService.currentSymbol$.subscribe(\n      style => {\n        this.changeSymbol(style);\n      },\n      error => {\n        console.log('Error changing the style for drawing elements', error);\n        alert('Error changing the style, select a symbol');\n      }\n    );\n    this.subsToSaveCurrentLayer = this.openLayersService.saveCurrentLayer$.subscribe(\n     data => {\n       console.log('que entra de la subscription...', data);\n       if (data) {                                    // (data) is equivalent to (data === true)\n         this.saveEdits(this.curEditingLayer);\n       }}\n     ,\n       error => alert('Error saving layer ' + error)\n     );\n    this.subsToZoomHome = this.openLayersService.zoomHome$.subscribe(\n     data => {\n      if (data) {\n        this.zoomToHome();\n      }\n     },\n      error => alert (\"Error starting zooming Home\" + error)\n    );\n    /*this.openLayersService.deleteFeats$.subscribe(\n      data => {\n        console.log('que viene', data);\n        this.removeInteractions();\n        if (true === data) {\n          this.startDeleting();\n        }\n      },\n      error => alert('Error deleting features' + error)\n    ); */\n\n    this.openLayersService.editAction$.subscribe(\n      // starts an action and stop the others..is this ready with stop interactions?\n    data => {\n    console.log('que viene', data);\n    this.removeInteractions();\n    if (data === null) {\n      return;\n    }\n    switch (data){\n      case 'ModifyBox': {\n        this.startTranslating();\n        break;\n      }\n      case 'Rotate':\n        {\n          this.startRotating();\n          break;\n        }\n      case 'Copy':\n        {\n          this.startCopying();\n          break;\n        }\n      case 'Identify':\n        {\n          this.startIdentifying();\n          break;\n        }\n      case 'Delete':\n        {\n          this.startDeleting();\n          break;\n        }\n      case 'Measure':\n        {\n          this.startMeasuring();\n          break;\n        }\n      case 'Undo':\n      {\n        this.undoLastEdit();\n        break;\n      }\n      }\n  },\n  error => alert('Error implementing action on features' + error)\n  );\n  }\n\n  ngOnInit(): void {\n    // initialize the map\n    this.initializeMap();\n   // read the project\n    const qgsProject = this.readProjectFile(AppConfiguration.curProject);\n    qgsProject.then(\n     data => {\n       this.parseProject(data);\n       this.updateMapView();  // uses the projection of the project file and extent to get a center\n       this.workQgsProject();\n       this.existingProject = true;\n       this.openLayersService.updateExistingProject(this.existingProject);\n       },\n      error  => {\n        this.loadDefaultMap();\n        console.log ('There is an error retrieving the qGis project of the application, please check the configuration');\n      }\n    );\n  }\n\n\n  changeSymbol(style: any){\n    this.currentStyle = style.value;\n    this.currentClass = style.key;\n   // console.log('current class and Style', style, this.currentClass, this.currentStyle );\n  }\n  initializeMap(){\n    // customized pinch interactions\n    this.pinchZoom = new PinchZoom ({constrainResolution: true});\n    this.pinchRotate = new PinchRotate({constrainResolution: true});\n    this.dragPan = new DragPan();\n    this.dragRotate = new DragRotate();\n    this.dragZoom = new DragZoom();\n\n    //\n    this.dragAndDropInteraction = new DragAndDrop({\n      formatConstructors: [\n        GeoJSON,\n        KML,\n      ]\n    });\n    this.map = new Map({\n      layers: [\n        new TileLayer({\n          source: new OSM({\n            crossOrigin: null\n          })\n        }),\n      ],\n      interactions: defaultInteractions ({pinchZoom: false, pinchRotate: false})\n        .extend([this.dragAndDropInteraction, this.pinchRotate, this.pinchZoom, this.dragRotate, this.dragZoom]),\n      target: 'map',\n      view: new View({\n        projection: 'EPSG:3857',\n        center: [0, 0],\n        zoom: 3\n      })\n    });\n    // initialize the select style\n    this.selectStyle = new Style({\n      stroke: new Stroke({ color: 'rgba(255, 154, 131,0.9)', width: 2, lineDash: [5, 2] }),    // #EE266D\n      fill: new Fill({color: 'rgba(234, 240, 216, 0.8)'}),   // 'rgba(0, 0, 0, 0.01)'\n      image: new CircleStyle({radius: 7,\n        fill: new Fill({color: 'rgba(255, 154, 131, 0.1)'}),\n        stroke: new Stroke({color: '#EE266D', width: 2, lineDash: [8, 5]})\n      })\n    });\n  }\n  createMeasureTooltip() {\n    if (this.measureTooltipElement) {\n      this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement);\n    }\n    this.measureTooltipElement = document.createElement('div');\n    this.measureTooltipElement.className = 'tooltip tooltip-measure';\n    this.measureTooltip = new Overlay({\n      element: this.measureTooltipElement,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    this.map.addOverlay(this.measureTooltip);\n  }\n\n  updateMapView(){\n    /** Uses the map extent and projection written in the Qgs project (this.mapCanvasExtent [xmin, xmax, ymin, ymax])\n     * to update the mapView after the map initialization.\n     *  To do that creates to point and calculate the center.\n     */\n      // get a center for the map\n    const leftMinCorner = new Point([this.mapCanvasExtent[0], this.mapCanvasExtent[2]]);\n    const rightMinCorner = new Point([this.mapCanvasExtent[1], this.mapCanvasExtent[3]]);\n    const leftMaxCorner = new Point([this.mapCanvasExtent[0], this.mapCanvasExtent[3]]);\n   // console.log ('extent and puntos', this.mapCanvasExtent, leftMinCorner.getCoordinates(),\n   //   rightMinCorner.getCoordinates(), leftMaxCorner.getCoordinates());\n    const hDistance = getDistance(transform(leftMinCorner.getCoordinates(), this.srsID, this.wgs84ID),\n                                  transform(rightMinCorner.getCoordinates(), this.srsID, this.wgs84ID));\n    const vDistance = getDistance(transform(leftMinCorner.getCoordinates(), this.srsID, this.wgs84ID),\n                                  transform(leftMaxCorner.getCoordinates(), this.srsID, this.wgs84ID));\n    this.mapCenterXY = [this.mapCanvasExtent[0] + hDistance / 2, this.mapCanvasExtent[2] + vDistance / 2];\n    // #TODO this works with projected coordinates --> check for others\n    this.view = new View({\n        center:  [this.mapCenterXY[0], this.mapCenterXY[1]],  // [-66,10] ,\n        // extent: this.mapCanvasExtent, // not sure if this will prevent the draggig outside the extent.\n        zoom: AppConfiguration.mapZoom, // this.mapZoom,\n        minZoom: AppConfiguration.minZoom,\n        maxZoom: AppConfiguration.maxZoom,\n        projection: this.srsID // this.projectProjection // 'EPSG:4326'\n      });\n    this.map.setView(this.view);\n    // this.view.fit(this.mapCanvasExtent);\n    this.map.addControl(new ZoomSlider());\n    this.map.addControl(new ScaleLine());\n    this.map.on('touchstart', function(e){\n      console.log('length', e.touches.length);\n    });\n    // console.log('this.view.getCenter', this.view.getCenter(), this.view.getProjection(), this.view.calculateExtent());\n  }\n  zoomToHome() {\n   /**\n    * Centers the map canvas view to the center and zoom specified in the Qgsprojec file extent and the appConfiguration\n    */\n    console.log('que entra zoomtoHome', [this.mapCenterXY[0], this.mapCenterXY[1]]);\n    this.map.getView().setRotation(0);\n    this.map.getView().setZoom (AppConfiguration.mapZoom);\n    this.map.getView().setCenter([this.mapCenterXY[0], this.mapCenterXY[1]]);\n  }\n  workQgsProject() {\n    /** Retrieves the capabilities WFS and WMS associated to the qgis project listed in AppConfiguration\n     * it send these capabilities to other functions to load the WMS and WFS layers\n     */\n    // request getCapabilities to load WMS images\n    const qGsProject = AppConfiguration.QgsFileProject;\n    const qGsServerUrl = AppConfiguration.qGsServerUrl;\n    // console.log(\"qGsServerUrl\",qGsServerUrl)\n    const wmsVersion = 'SERVICE=WMS&VERSION=' + AppConfiguration.wmsVersion;\n    const capRequest = '&REQUEST=GetCapabilities&map=';\n    const urlWMS = qGsServerUrl + wmsVersion + capRequest + qGsProject;\n    let parser: any;\n    // console.log('urlWMS', urlWMS);\n    parser = new WMSCapabilities;\n    const self = this;\n    const resultXml = fetch(urlWMS)\n      .then(response => {\n        return response.text();\n      })\n      .then(text => {\n        const xmlWMS = parser.read(text);\n        self.loadWMSlayers(xmlWMS);\n        return (xmlWMS);\n      })\n      .catch(error => console.error(error));\n\n    // now go to the WFS\n    const wfsVersion = 'SERVICE=WFS&VERSION=' + AppConfiguration.wfsVersion;\n    const urlWFS = qGsServerUrl + wfsVersion + capRequest + qGsProject;\n    // console.log('urlWFS', urlWFS);\n    const resultWfs = fetch(urlWFS)\n      .then(response => response.text())\n      .then(text => {\n        // console.log('result WFS Cap para continuar', text);\n        self.loadWFSlayers(text);\n        // self.layerPanel.updateLayerList(self.loadedWfsLayers);   // trying another approach with input\n        return (text);\n      })\n      .catch(error => console.error(error));\n\n    }\n\n  parseProject(qgsfile: string) {\n    /** uses the xml text of qgs project file listed in AppConfiguration to load\n     * it send part of the xml text to other functions to load part of the project\n     * 1. A dictionary of layer styles\n     * 2. A dictionary with the layer geometries\n     *\n     */\n    const fieldLayers = {};\n    const xmlParser = new DOMParser();\n    const xmlText = xmlParser.parseFromString(qgsfile, 'text/xml');\n    // console.log (\"xmlText\", xmlText);\n    this.projectTitle = xmlText.getElementsByTagName('title')[0].childNodes[0].nodeValue;\n    // register the project projection definion in proj4 format\n    const projectionDef = xmlText.getElementsByTagName('proj4')[0].childNodes[0].nodeValue;\n    this.srsID = xmlText.getElementsByTagName('authid')[0].childNodes[0].nodeValue;\n    proj4.defs(this.srsID, projectionDef);\n    register(proj4);\n    const mapcanvas = xmlText.getElementsByTagName('mapcanvas')[0];\n    const units = mapcanvas.getElementsByTagName('units')[0].childNodes[0].nodeValue;\n    const extent = mapcanvas.getElementsByTagName('extent')[0];\n    const xmin = Number(extent.getElementsByTagName('xmin')[0].childNodes[0].nodeValue);\n    const xmax = Number(extent.getElementsByTagName('xmax')[0].childNodes[0].nodeValue);\n    const ymin = Number(extent.getElementsByTagName('ymin')[0].childNodes[0].nodeValue);\n    const ymax = Number(extent.getElementsByTagName('ymax')[0].childNodes[0].nodeValue);\n    // console.log(`xmin xmax ymin ymax ${ xmin } ${ xmax } ${ ymin } ${ ymax } `);\n    // extent [minx, miny, maxx, maxy].\n    this.mapCanvasExtent = [xmin, xmax, ymin, ymax];\n    const projectionWKT = xmlText.getElementsByTagName('wkt');\n    if (projectionWKT.length > 0 ) {\n      const projectWKT = xmlText.getElementsByTagName('wkt')[0].childNodes[0].nodeValue\n        .replace('PROJCRS', 'PROJCS');\n      const m = projectWKT.indexOf('[', projectWKT.indexOf('BBOX'));\n      const n = projectWKT.indexOf(']', m);\n      const bbox = projectWKT.slice(m + 1, n).split(',');\n      this.BBOX = [Number(bbox[0]), Number(bbox[1]), Number(bbox[2]), Number(bbox[3])];\n      // console.log(`bbox ${ this.BBOX }`);\n    }\n    else {\n      this.BBOX = this.mapCanvasExtent;\n    }\n    this.projectProjection = new Projection({\n        code: this.srsID,\n        extent: this.BBOX,\n    });\n    const layerTreeGroup = xmlText.getElementsByTagName('layer-tree-group')[0];\n    // get the order in which layers are rendered\n    const nLayers = layerTreeGroup.getElementsByTagName('layer-tree-layer').length;\n    for (let i = 0; i < nLayers; i++) {\n      const node = layerTreeGroup.getElementsByTagName('layer-tree-layer')[i];\n      const layerName = node.getAttribute('name');\n      this.layersOrder.push(layerName); // #TODO evaluate if this is needed or worthy, it is not being used somewhere else\n     }\n    // get the map layers and symbology\n    const legendGroups = {};\n    for (let i = 0; i < xmlText.getElementsByTagName('legendgroup').length; i++) {\n        const legendGroup =  xmlText.getElementsByTagName('legendgroup')[i];\n        const groupName = legendGroup.getAttribute('name');\n        // console.log('groupName', groupName);\n        const layersinGroup = [];\n        for (let j = 0; j < legendGroup.getElementsByTagName('legendlayer').length; j++)\n        {\n          const layerInGroup =  legendGroup.getElementsByTagName('legendlayer')[j].getAttribute('name');\n          // console.log('layerInGroup', layerInGroup);\n          layersinGroup.push(layerInGroup);\n        }\n        legendGroups[groupName] = layersinGroup;\n    }\n    // #TODO implement something with the groups in the legend\n    const mapLayersLst = xmlText.getElementsByTagName('maplayer');\n    for (let i = 0; i < mapLayersLst.length; i++) {\n      const lyr = xmlText.getElementsByTagName('maplayer')[i];\n      const layerName = lyr.getElementsByTagName('layername')[0].childNodes[0].nodeValue;\n      const layerGeom = lyr.getAttribute('geometry');\n      this.layersGeometryType[layerName] = {layerName, layerGeom};\n      const renderer = lyr.getElementsByTagName('renderer-v2')[0];\n      // create the OL style for the renderer\n      if (renderer) {\n        this.mapQgsStyleService.createLayerStyles(layerName, renderer);\n      }\n      // get the fields, what to do with no-editable fields in QGIS?\n      // preferred option is not to edit or input data via keyboard, just select icons oas osm\n      const fieldLst = {};\n      const fieldsConf = lyr.getElementsByTagName('fieldConfiguration')[0];\n      if (fieldsConf) {\n        for (let k = 0; k < fieldsConf.children.length; k++) {\n          const field = lyr.getElementsByTagName('field')[k];\n          const fieldName = field.getAttribute('name');\n          fieldLst[fieldName] = field.getElementsByTagName('editWidget')[0].getAttribute('type');\n        }\n        fieldLayers [layerName] = fieldLst;\n      }\n    }\n    // console.log('fields of layer', fieldLayers);\n    // console.log('this.layersGeometryType', this.layersGeometryType);  // #TODO not sure if this is worthy layers migth be not published..\n    this.fieldWFSLayers = fieldLayers;\n    this.layerStyles = this.mapQgsStyleService.getLayerStyles(); // need to check if this is working well;\n    // console.log(this.layerStyles);\n  }\n  loadWMSlayers(XmlCapText){\n    // This function load the layers in the QGS project from a OL xmlCapabilities file\n   // console.log('Entra WMS', XmlCapText);\n  }\n  getEditingStyle(){\n    const editingstyle = [\n      new Style({\n        fill: new Fill({\n          color: 'rgba(153, 202, 255, 0.5)'\n        }),\n        stroke: new Stroke({\n          color: 'blue',\n          width: 2,\n          lineDash: [8, 10]\n        }),\n        image: this.imageCircle(15)\n      }),\n      new Style({\n        image: this.imageCircle(10)\n      }),\n      new Style({\n        image: this.imageCircle(5)\n      })\n    ];\n    return editingstyle;\n  }\n  imageCircle(radius) {\n    return new CircleStyle({\n      stroke: new Stroke({\n        color: 'red', width: 2\n      }),\n      radius  // equivale a radius: radius\n    });\n  }\n  enableAddShape(shape: string) {\n    /** enable the map to draw shape of the Shapetype\n     * @param shape: string, type of shape to add e.g., 'POINT', 'LINE', 'CIRCLE'\n     */\n      // previously addShapeToLayer check the API OL\n      // console.log ('shape', shape, this.curEditingLayer);\n    const self = this;\n    if (!this.curEditingLayer) {\n      alert('No layer selected to edit');\n      return;\n    }\n    /*  commented on 23/06\n    let tsource: any = null;\n    this.map.getLayers().forEach(\n      layer => {\n        if (layer.get('name') === self.curEditingLayer.layerName) {\n          tsource = layer.getSource();\n          // console.log('Finds the current layer to add shapes', tsource);\n        }\n      }); */\n    const tsource = this.curEditingLayer.source;\n    // console.log('Finds the current layer to add shapes', this.curEditingLayer, tsource);\n    let type: any;\n    let geometryFunction: any;\n    // deactivate tany interaction? or remove?\n    this.removeInteractions();  // remove select, modify, delete interactions\n    try {\n      // this.cacheFeatures = [];  // to remove whatever is there and only undo the last action\n      switch (shape) {\n        case 'Point': {\n          this.draw = new Draw({\n            source: tsource,\n            type: shape,\n            freehand: false,\n            stopClick: true,    // not clicks events will be fired when drawing points..\n            style: this.getEditingStyle()\n          });\n          this.removeDragPinchInteractions();  // a ver si el mapa deja de moverse cuando se dibuja\n          break;\n        }\n        case 'LineString': {\n          this.draw = new Draw({\n            source: tsource,\n            type: shape,\n            freehand: true,\n            stopClick: true,    // not clicks events will be fired when drawing points..\n            style: this.getEditingStyle(),\n            condition: olBrowserEvent => {\n              if (olBrowserEvent.originalEvent.touches) {\n                console.log('tocuhes legth', olBrowserEvent.originalEvent.touches.length);\n                return olBrowserEvent.originalEvent.touches.length < 2;\n              }   // dibuja si hay menos de undos dedos..--> mo working\n              return false;\n            }\n          });\n          this.removeDragPinchInteractions();  // to fix the zig zag lines #TODO test it\n          break;\n        }\n        case 'Polygon': {\n          this.draw = new Draw({\n            source: tsource,\n            type: shape,\n            freehand: true,\n            stopClick: true,    // not clicks events will be fired when drawing points..\n            style: this.getEditingStyle(),\n            condition: olBrowserEvent => {\n              if (olBrowserEvent.originalEvent.touches) {\n                return olBrowserEvent.originalEvent.touches.length < 2;\n              }   // dibuja si hay menos de undos dedos..--> mo working\n              return false;\n            }\n          });\n          break;\n        }\n        case 'Square': {\n          this.draw = new Draw({  // #TODO change code\n            source: tsource,\n            type: shape,\n            freehand: true,\n            stopClick: true,    // not clicks events will be fired when drawing points..\n            style: this.getEditingStyle(),\n            condition: olBrowserEvent => {\n              if (olBrowserEvent.originalEvent.touches) {\n                return olBrowserEvent.originalEvent.touches.length < 2;\n              }   // dibuja si hay menos de undos dedos..--> mo working\n              return false;\n            }\n          });\n          break;\n        }\n        case 'Circle': {   // #TODO change code\n          this.draw = new Draw({\n            source: tsource,\n            type: shape,\n            freehand: true,\n            stopClick: true,    // not clicks events will be fired when drawing points..\n            style: this.getEditingStyle(),\n            condition: olBrowserEvent => {\n              if (olBrowserEvent.originalEvent.touches) {\n                return olBrowserEvent.originalEvent.touches.length < 2;\n              }   // dibuja si hay menos de undos dedos..--> mo working\n              return false;\n            }\n          });\n          break;\n        }\n      }\n      this.map.addInteraction(this.draw);\n      // adding snap interaction always after th draw interaction\n      this.snap = new Snap({\n        source: tsource\n      });\n      this.map.addInteraction(this.snap);\n      this.createMeasureTooltip();\n      let listener;\n      this.draw.on('drawstart', function(evt) {\n        const sketch = evt.feature;\n        let tooltipCoord = evt.coordinate;\n        listener = sketch.getGeometry().on('change', evt => {\n          const geom = evt.target;\n          let output;\n          // show the tooltip only when drawing polys\n          if (self.draw.type_ === 'LineString' && self.curEditingLayer.geometry === 'Polygon') {  // self.curEditingLayer[2]\n            //    let geom = e.feature.getProperties().geometry;\n            const last = geom.getLastCoordinate();\n            const first = geom.getFirstCoordinate();\n            const sourceProj = self.map.getView().getProjection();\n            const distance = getDistance(transform(first, sourceProj, 'EPSG:4326'), transform(last, sourceProj, 'EPSG:4326'));\n            // # TODO aqui revisar el buffer y lo demas.\n            if (distance < AppConfiguration.threshold) {\n              output = (Math.round(distance * 100) / 100) + ' ' + 'm';  // round to 2 decimal places\n              tooltipCoord = geom.getFirstCoordinate();\n              self.measureTooltipElement.innerHTML = output;\n              self.measureTooltip.setPosition(tooltipCoord);\n            }\n          }\n        });\n      });\n\n      this.draw.on('drawend', (e: any) => {\n        // adding an temporal ID, to handle undo\n        e.feature.setId(this.curEditingLayer.layerName.concat('.', String(this.featId)));\n        this.featId = this.featId + 1;\n        // setting the class to set a style\n        if (this.currentClass) {\n          e.feature.set('class', this.currentClass);\n        } else {\n          alert('Select a symbol');\n          return;  // #TODO check this\n        }\n        // console.log('feat', e.feature, e.feature.getStyle());\n        // correct geometry when drawing circles\n        if (self.draw.type_ === 'Circle' && e.feature.getGeometry().getType() !== 'Polygon') {\n          e.feature.setGeometry(new fromCircle(e.feature.getGeometry()));\n        }\n        // automatic closing of lines to produce a polygon\n        if (self.draw.type_ === 'LineString' && self.curEditingLayer.geometry === 'Polygon') {\n          console.log('cuando entra aqui');\n          const geom = e.feature.getProperties().geometry;\n          const threshold = AppConfiguration.threshold;\n          const last = geom.getLastCoordinate();\n          const first = geom.getFirstCoordinate();\n          const sourceProj = this.map.getView().getProjection();\n          // transform coordinates to a 4326 to use getDistance\n          const distance = getDistance(transform(first, sourceProj, 'EPSG:4326'), transform(last, sourceProj, 'EPSG:4326'));    //\n          if (distance < threshold) {\n            const newCoordinates = e.feature.getProperties().geometry.getCoordinates();\n            newCoordinates.push(first);\n            // console.log(\"la crea o no antes ?\", newCoordinates[newCoordinates.length -1]);\n            const tgeometry = new Polygon([newCoordinates]);\n            if (tgeometry) {\n              e.feature.setGeometry(tgeometry);\n            }\n          }\n          self.measureTooltipElement.className = 'tooltip tooltip-static';  // #TODO styling is not working\n          self.measureTooltip.setOffset([0, -7]);\n        }\n        // adding the interactions that were stopped when drawing\n        if (self.draw.type_ === 'Point' || self.draw.type_ === 'Circle') {\n          // console.log('interaction en el timeout', self.map.getInteractions());\n          setTimeout(() => {\n            self.addDragPinchInteractions();\n          }, 1000);\n        }\n        // adding features to a buffer cache\n        self.editBuffer.push({\n          layerName: self.curEditingLayer.layerName,\n          transaction: 'insert',\n          feats: e.feature,\n          dirty: true,    // dirty is not in the WFS\n          // 'layer': self.curEditingLayer[0],\n          source: tsource\n        });\n        // console.log('editbuffer', self.editBuffer);\n        self.canBeUndo = true;\n        self.cacheFeatures.push({\n          layerName: self.curEditingLayer.layerName,\n          transaction: 'insert',\n          feats: e.feature,\n          dirty: true,    // dirty is not in the WFS\n          // 'layer': self.curEditingLayer[0],\n          source: tsource\n        });\n        // unset tooltip so that a new one can be created\n        self.measureTooltipElement.innerHTML = '';\n        self.measureTooltipElement = null;\n        self.map.removeOverlay(self.measureTooltip);\n        self.createMeasureTooltip();\n      });\n\n    } catch (e) {\n      console.log('Error adding draw interactions', e);\n    }\n   }\nstartDeleting(){\n  /** Creates a new select interaction that will be used to delete features\n   * in the current editing layer  #TODO: simplify if possible concerning wfs layers and sketch layers\n   */\n  let tlayer: any;\n  try{\n  this.map.getLayers().forEach(layer => {\n      if (layer.get('name') === this.curEditingLayer.layerName) {\n        console.log ('layer.get(\\'name\\')', layer.get('name'), this.curEditingLayer.layerName === layer.get('name'));\n        tlayer = layer;\n        return;\n      }\n    });\n  }\n  catch (e) {\n    console.log('error getting the layer in deleting', e);\n  }\n  this.select = new Select({\n    condition: click,  // check if this work on touch\n    layers : [tlayer],\n    hitTolerance: 7 // check if this is enough\n  });\n  this.map.addInteraction(this.select);\n  const self = this;\n  let dirty = true;\n  // HERE add code to delete from the source and add to the buffer\n  this.select.on('select', function(e){\n    const  selectedFeatures = e.target.getFeatures();\n    // const cacheFeatures = [];\n    if (selectedFeatures.getLength() <= 0) {\n      return;\n    }\n    if (self.curEditingLayer.geometry === 'Point' || self.curEditingLayer.geometry === 'Line'\n      || self.curEditingLayer.geometry === 'Polygon') {\n          selectedFeatures.forEach(f => {\n          const lastFeat = f.clone();\n          lastFeat.setId(f.getId()); // to enable adding the feat again?\n          const tempId = f.getId();\n          // cacheFeatures.push(lastFeat);\n          // remove feature from the source\n          self.curEditingLayer.source.removeFeature(f);\n          // insert feature in a cache --> for undo\n          self.editBuffer.push({\n              layerName: self.curEditingLayer.layerName,\n              transaction: 'delete',  // would it be better to add the opposite operation already, e.g., insert?\n              feats: lastFeat,\n              dirty,\n              source: self.curEditingLayer.source\n            });\n        });\n        // clear the selection --> the style will also be clear\n          self.select.getFeatures().clear();\n        // update the possibility to undo and the cache for that\n          self.canBeUndo = true;\n         // self.cacheFeatures.push(cacheFeatures); // this keep open the possibility to delete several an undo several actions\n          console.log ('cache', self.cacheFeatures );\n          console.log ('editBuffer', self.editBuffer );\n          return;\n    }\n    else {\n      // this.ediLayer.geometry is different .. so a sketch layer\n      selectedFeatures.forEach(f =>\n      {\n        // cacheFeatures.push(());\n        // insert feature in a cache --> for undo\n        self.editBuffer.push({\n          layerName: self.curEditingLayer.layerName,\n          transaction: 'delete',  // would it be better to add the opposite operation already, e.g., insert?\n          feats: f.clone(),   // #TODO check id\n          dirty: true,\n          source: self.curEditingLayer.source\n        });\n        self.curEditingLayer.removeFeature(f);\n      });\n      // clear the selection --> the style will also be clear\n      self.select.getFeatures().clear();\n      // self.curEditingLayer.source.refresh(); // #TODO is this needed?\n      // update the possibility to undo\n      self.canBeUndo = true;\n    }\n    });\n  }\n\nremoveDragPinchInteractions(){\n    try {\n      const self = this;\n      this.map.getInteractions().forEach(\n        interaction => {\n              if (interaction instanceof DragPan || interaction instanceof DragZoom || interaction instanceof DragRotate\n                || interaction instanceof PinchZoom   || interaction instanceof PinchRotate)\n              {\n                // self.map.removeInteraction(interaction);\n                interaction.setActive(false);\n              }\n             });\n      console.log ('es posible que aun quede pinchzoom? o se puede incluir en el if de arriba', this.map.getInteractions() );\n      if (this.pinchZoom){\n        this.map.removeInteraction(this.pinchZoom); // check if is there\n      }\n      if (this.pinchRotate){\n        this.map.removeInteraction(this.pinchRotate);   // check if is there\n      }\n    }\n\n    catch (e) {\n      console.log ('Error removing Drag/Pinch interactions', e);\n    }\n  }\n\n  loadWFSlayers(XmlCapText) {\n    /** This function load in the map, the layers available in the QGS project via WFS\n     * @param XmlCapText the xml text produced by the getCapabilities request\n     */\n    const self = this;\n    const xmlParser = new DOMParser();\n    const xmlText = xmlParser.parseFromString(XmlCapText, 'text/xml');\n    const featureTypeList = xmlText.getElementsByTagName('FeatureTypeList')[0];\n    // console.log('XmlCapText', XmlCapText);\n    const tnodes = {};\n    const otherSrsLst = [];\n    const operationsLst = [];\n    let srs: any ;\n    let operation: any ;\n    const nLayers = featureTypeList.children.length - 1;\n    // te feature list contains a set of operations too\n    for (let i = 0; i < nLayers ; i++) {\n     // let node = featureList[i];\n      const node = featureTypeList.getElementsByTagName('FeatureType')[i];\n      // console.log(\"node\",node);\n      const layerName = node.getElementsByTagName('Name')[0].childNodes[0].nodeValue;\n      const layerTitle = node.getElementsByTagName('Title')[0].childNodes[0].nodeValue;\n      const defaultSRS = node.getElementsByTagName('DefaultSRS')[0].childNodes[0].nodeValue;\n      // validation or warning\n      // tslint:disable-next-line:triple-equals\n      if (defaultSRS != AppConfiguration.srsName) {\n        // #TODO uncomment the following line\n        // alert(`The layer ${ layerName }has a different default SRS than the SRS of the project`);\n      }\n      const otherSrs = node.getElementsByTagName('OtherSRS');\n      // this will get a list\n      for (let j = 0; j < otherSrs.length; j++) {\n        srs = node.getElementsByTagName('OtherSRS')[j].childNodes[0].nodeValue;\n        if (srs.length > 0) {\n          otherSrsLst [j] = srs;\n        }\n      }\n      const operations = node.getElementsByTagName('Operations')[0];\n      // this will get a list\n      for (let j = 0; j < operations.children.length; j++) {\n        operation = operations.getElementsByTagName('Operation')[j].childNodes[0].nodeValue;\n        if (operation.length > 0) {\n          operationsLst [j] = operation;\n        }\n      }\n      // adding a log message for a warning concerning the operations available in the projects\n      if (!operationsLst.includes('Query') || !operationsLst.includes('Insert') ||\n         !operationsLst.includes('Update') || !operationsLst.includes('Delete')){\n         // #TODO uncomment alert (`The layer ${ layerTitle } is missing an updating operation, please check your WFS configuration`);\n      }\n      const bBox = node.getElementsByTagName('ows:WGS84BoundingBox')[0];\n      const  dimensions = bBox.getAttribute('dimensions');\n      const lowCorner = bBox.getElementsByTagName('ows:LowerCorner')[0].childNodes[0].nodeValue;   // x and y\n      const upperCorner = bBox.getElementsByTagName('ows:UpperCorner')[0].childNodes[0].nodeValue; // x and y\n      // adding a log message for a warning concerning the extension\n      // tslint:disable-next-line:triple-equals\n      if ((lowCorner.split(' ')[0] == '0' && lowCorner.split(' ')[1] == '0')\n        // tslint:disable-next-line:triple-equals\n      && (upperCorner.split(' ')[0] == '0' && upperCorner.split(' ')[1] == '0')){\n        // #TODO uncomment alert (`The BBOX of ${ layerTitle } might be misConfigured, please check the WFS service`);\n      }\n       // #TODO: raise a warning if the operations excludes Query, Insert, Update or delete\n      // console.log(\"bBox\", dimensions, [lowCorner.split(\" \")[0], lowCorner.split(\" \")[1]]);\n      if (layerName.length > 0) {\n        // store layer properties to use later\n        const geom = this.findGeometryType(layerName);\n        // check editable fields\n        // load the layer in the map\n        const qGsProject = AppConfiguration.QgsFileProject;\n        const qGsServerUrl = AppConfiguration.qGsServerUrl;\n        const outputFormat = '&outputFormat=GeoJSON';\n        const loadedLayers = [];\n        const wfsVersion = 'SERVICE=WFS&VERSION=' + AppConfiguration.wfsVersion;\n        // console.log('layername', layerName, 'urlWFS', urlWFS);\n        const urlWFS = qGsServerUrl + wfsVersion  + '&request=GetFeature&typename=' + layerName +\n          outputFormat  + '&srsname=' + defaultSRS + '&map=' + qGsProject;\n        try {\n          const vectorSource = new VectorSource ({\n          format: new GeoJSON(),\n          // the url can be setup to include extent, projection and resolution\n          url: urlWFS,\n          });\n          const wfsVectorLayer = new VectorLayer ({\n            source: vectorSource,\n            name: layerName,\n            // extent [minx, miny, maxx, maxy].\n            // extent: [lowCorner.split(' ')[0], lowCorner.split(' ')[1],\n            //  upperCorner.split(' ')[0], upperCorner.split(' ')[1]],\n            visible: true,   // #TODO comment this line, by default layers are not visible\n            zIndex: nLayers - i,   // highest zIndex for the first layer and so on.\n            style: function(feature) {    // this equiv to style: function(feature)\n             // console.log(feature.getGeometry().getType(), name);\n              let layerStyle = self.mapQgsStyleService.findStyle(feature, layerName);\n              if (!layerStyle) {\n                layerStyle =  self.mapQgsStyleService.findDefaultStyleProvisional(feature.getGeometry().getType(), layerName);\n              }\n              return(layerStyle);\n            }\n          });\n          tnodes[layerName] = {\n            layerName, // equivalent to \"layerName\" : layerName --> k:v\n            // layerGeom,\n            layerTitle,\n            defaultSRS,\n            otherSrs: otherSrsLst,\n            lowCorner: [lowCorner.split(' ')[0], lowCorner.split(' ')[1]],\n            upperCorner: [upperCorner.split(' ')[0], upperCorner.split(' ')[1]],\n            operations: operationsLst,\n            geometry: geom, // Dependent of QGIS project as the styles.\n            source: vectorSource\n            // dimensions: dimensions,\n            // bbox: bBox,\n          };\n          this.map.addLayer(wfsVectorLayer);\n          this.loadedWfsLayers.push(tnodes[layerName]);  // wfsVectorLayer\n          // console.log(`Layer added ${ layerName }`);\n\n        }\n        catch (e) {\n          console.log (`An error occurred when adding the ${ layerTitle }`, e);\n        }\n      }\n      }\n    // this.loadedWfsLayers = tnodes;\n    // console.log('loaded layers', this.loadedWfsLayers);\n    return(this.loadedWfsLayers);\n  }\n\n  loadDefaultMap(){\n    // aqui uun default Map #TODO\n  }\n  readProjectFile(projectFile): any\n  {\n    const qgsProj = fetch(projectFile, {\n      method: 'GET',\n    })\n      .then(response => {\n        return response.text();\n      })\n      .then(text => {\n        // console.log(text);\n        return (text);\n      })\n      .catch(err => {\n         console.log('Error', err);\n         return ('');\n      });\n    return(qgsProj);\n  }\n\n  updateMapVisibleLayer(selectedLayer){\n    /** update the visibility of a layer in the map\n     * @param selectedLayer the layer that was clicked to show/hide\n     */\n      // console.log('prueba event capture from child emitter', selectedLayer);\n      this.map.getLayers().forEach(layer => {\n        // tslint:disable-next-line:triple-equals\n        if (selectedLayer.layerName == layer.get('name')) {\n          layer.setVisible (!layer.getVisible());\n        }\n      });\n  }\n\n  updateEditingLayer(layer) {\n  // console.log('evento emitido, que llega', layer);\n    /**  starts or stops the editing mode for the layerName given\n     * if there were some edits --> asks for saving changes\n     * @param layerName: the layer that the user select to start/stop editing\n     */\n    // tslint:disable-next-line:triple-equals\n  if (this.curEditingLayer) {\n      // a layer was being edited - ask for saving changes\n      this.stopEditing(this.curEditingLayer);  // test is changes are save to the rigth layer, otherwise it should go #\n      if (this.curEditingLayer === layer) {\n        this.curEditingLayer = null;\n        return;\n      }\n    }\n      // the user wants to switch to another layer, already the edit was stopped with the previous layer\n  this.curEditingLayer = layer;\n  this.startEditing(layer);\n    }\n\n    stopEditing(editLayer) {\n      /** Disables the interactions on the map to start moving/panning and stop drawing\n       *  asks to save changes in the layer if any and call the function for it.\n       *  @param editLayer, the layer that was edited / #TODO editLayer is not required\n       */\n      // stop interactions\n\n      // clear current class and symbol --> it is necessary? when stopping editing but not for saving;\n      this.currentClass = null;\n      this.currentStyle = null;\n      this.removeInteractions();\n    }\n\n    saveEdits(editLayer: any){\n      // console.log('editBuffer.indexOf(editLayer.layerName', this.editBuffer.findIndex(x => x.layerName ===  editLayer.layerName) );\n      console.log('en save', this.editBuffer);\n      if (!(this.editBuffer.length > 0)) {  // nothing to save\n        return;\n      }\n      if (this.editBuffer.findIndex(x => x.layerName ===  editLayer.layerName) === -1)\n      { // nothing to save in the editLayer\n      return;\n      }\n      if (editLayer.geometry === 'Point' || editLayer.geometry === 'Line' || editLayer.geometry === 'Polygon') {\n         this.writeTransactWfs(editLayer);\n      }\n      else {\n          this.saveSketchLayer(editLayer);\n          // it is a 'multi' geometry --> sketch layer\n        }\n      }\n\n  saveSketchLayer(editLayer: any){\n    // #TODO\n    /** saves the changes in a sketch layer\n     * @param editLayer: name of the layer to be saved.\n     */\n    if (this.editBuffer.length > 0) {\n      if (!confirm('Do you want to save changes?')) {//  do not want to save changes\n        return;\n      }\n      this.saveSketchLayer(editLayer);  // save the changes\n      return;\n    }\n  }\n\n  startEditing(layer: any) {\n    /** Enables the interaction in the map to draw features\n     * and update two observables in openLayerService:\n     * the geometry type of the layer being edited, and\n     * the visibility of the editing toolbar\n     */\n    // console.log ('entra a startEditing', layer );\n    try {\n      // this.removeInteractions();  //#TODO verify this is done in addShape\n      // update the observables\n      this.openLayersService.updateShowEditToolbar(true);\n      this.openLayersService.updateLayerEditing(layer.layerName, layer.geometry);\n      // clear caches and styles  // #TODO best way to do...\n      // this.cacheFeatures = [];\n      this.currentClass = null;  // forcing the user to pick and style and cleaning previous style? check\n\n\n    } catch (e) {\n    alert('Error starting editing...');\n    }\n  }\n  removeFeatEditBuffer(feat: any) {\n    /**\n     * removes a feature from the editBuffer\n     * @param feat: the feat to be removed\n     */\n    this.editBuffer.forEach((item, index) => {\n      if (item.feats === feat) {\n        this.editBuffer.splice(index, 1);\n      }\n    });\n  }\n  undoLastEdit(){\n    /**\n     * Undo the last action (insert, update (move), delete)   #TODO update observable to disable button\n     * uses the this.editBuffer to do so and the cacheFeatures\n     */\n    // get only the records for the current layer\n    const curEdits = this.editBuffer.filter(obj => obj.layerName === this.curEditingLayer.layerName);\n    // console.log('curEdits and this.editBuffer', curEdits, this.editBuffer);\n    if (!(curEdits.length > 0 )) {\n      // nothing to save in current layer\n      return;\n    }\n    const lastOperation = this.editBuffer.filter(obj => obj.layerName === this.curEditingLayer.layerName).pop(); // curEdits.pop();\n    console.log ('lastOperatoion', lastOperation);\n    switch (lastOperation.transaction)\n    // rotate and translate are treated as update #TODO change attributes\n    {\n      case 'insert': {\n        // remove from the source\n        console.log('feat', lastOperation.feats);\n        this.curEditingLayer.source.removeFeature(lastOperation.feats);\n        break;\n      }\n      case 'update': {\n        // change to the oldFeat // there could be several features\n        lastOperation.feats.forEach( feat => {\n          const oldFeat = feat.get('oldFeat');\n          oldFeat.getGeometry();\n          const curFeatGeomClone = feat.getGeometry().clone();\n          // set the geometry to the old one\n          feat.setGeometry(oldFeat.getGeometry());\n          // set the new old geometry to the current one\n          feat.set('oldFeat', curFeatGeomClone);\n          // Changes should be available in the buffer\n        });\n        break;\n      }\n       case 'delete': {\n         // insert back\n         // console.log('temp feat', lastOperation.feats.getProperties().class);\n         lastOperation.feats.setStyle(null);  // to allow the style function of the layer to render the feat properly\n         this.curEditingLayer.source.addFeature(lastOperation.feats);  // TODO styling  //lastOperation.feats\n        // this.removeFeatEditBuffer(lastOperation.feats);\n       }\n    }\n    // remove from the edit Buffer\n    this.removeFeatEditBuffer(lastOperation.feats);\n    console.log('this.editBuffer', this.editBuffer);\n  }\n\n  writeTransactWfs(editLayer: any) {\n    console.log (\"entra a save...\", this.editBuffer);\n    /** saves changes on a wfs layer\n     * @param editLayer: layer to save changes stored in the editBuffer\n     */\n    // sacar los elementos de la capa y remover del arreglo.\n    const layerTrs = [];  // initialize\n    layerTrs[editLayer.layerName] = [];     // is this needed?\n    layerTrs[editLayer.layerName].insert = [];\n    layerTrs[editLayer.layerName].delete = [];\n    layerTrs[editLayer.layerName].update = [];\n    layerTrs[editLayer.layerName].source = editLayer.source;\n\n    this.editBuffer.forEach(t => {\n      // create the node for CRU\n      // console.log(\"la consigue o no\", layer.get('name'));\n      if (t.layerName === editLayer.layerName) {\n        // save edits in current edit layer\n        switch (t.transaction) {\n          case 'insert':\n            layerTrs[editLayer.layerName].insert.push(t.feats);   // t.feats is only one feat\n            break;\n          case 'delete':\n            layerTrs[editLayer.layerName].delete.push(t.feats); // t.feats is one feat #TODO next ver delete several\n            break;\n          case 'update':\n            /* t.feats.forEach(f => {\n              layerTrs[editLayer.layerName].update.push(f); // t.feats is an array with one or several feats\n            }); */\n            layerTrs[editLayer.layerName].update.push(t.feats[0]); // t.feats is an array with one or several feats\n            break;\n        }\n      }\n    });\n    console.log('array insert', layerTrs[editLayer.layerName].insert);\n    console.log('array update', layerTrs[editLayer.layerName].update);\n    console.log('array delete', layerTrs[editLayer.layerName].delete);\n    // Another solution can be to empty the editBuffer here --> it could be some data loss if the insertion fails\n    // configure nodes.\n    const strService = 'SERVICE=WFS&VERSION=' + AppConfiguration.wfsVersion + '&REQUEST=DescribeFeatureType';\n    const strUrl = AppConfiguration.qGsServerUrl + strService + '&map=' + AppConfiguration.QgsFileProject;\n    const formatWFS = new WFS();\n    const formatGML = new GML({\n      featureNS: 'http://localhost',\n      featureType: editLayer.layerName\n    });\n    let node: any;\n    const xs = new XMLSerializer();\n    let str: any;\n    let res: any;\n    // Edits should be done in chain... 1)insert, 2)updates, 3) deletes\n    if (layerTrs[editLayer.layerName].insert.length > 0) {\n      node = formatWFS.writeTransaction( layerTrs[editLayer.layerName].insert, null, null, formatGML);\n      str = xs.serializeToString(node);\n      return fetch(strUrl, {\n        method: 'POST', body: str\n      })\n        .then((textInsert) => {\n          console.log('text response insert WFS', textInsert.text());\n          layerTrs[editLayer.layerName].insert = [];\n          if (layerTrs[editLayer.layerName].update.length > 0) {\n            // Edits should be done in chain... 1)insert, 2)updates, 3) deletes\n            node = formatWFS.writeTransaction(null, layerTrs[editLayer.layerName].update, null, formatGML);\n            str = xs.serializeToString(node);\n            console.log('pasa x aqui?');\n            return fetch(strUrl, {\n              method: 'POST', body: str\n            })\n              .then(respUpdate => {\n                console.log('text response update WFS', respUpdate.text());\n                layerTrs[editLayer.layerName].update = [];\n                if (layerTrs[editLayer.layerName].delete.length > 0) {\n                  // Edits should be done in chain... 1)insert, 2)updates, 3) deletes // if enter here only deletes were done\n                  node = formatWFS.writeTransaction(null, null, layerTrs[editLayer.layerName].delete, formatGML);\n                  str = xs.serializeToString(node);\n                  return fetch(strUrl, {\n                    method: 'POST', body: str\n                  })\n                    .then(respDelete => {\n                      return respDelete.text();\n                    })\n                    .then(textDelete => {\n                      console.log('text response update WFS', textDelete);\n                      layerTrs[editLayer.layerName].delete = [];\n                    })\n                    .catch(error => console.error(error));\n                }\n              });\n          }\n        })\n        .then(() => {\n          // cleaning the editbuffer after inserting - updating and deleting\n          this.editBuffer = this.editBuffer.filter(obj => obj.layerName !== editLayer.layerName);\n          console.log('this.editBufferTemp after saving', this.editBuffer);\n        });\n    }\n    if (layerTrs[editLayer.layerName].update.length > 0) {\n      // Edits should be done in chain... 1)insert, 2)updates, 3) deletes // if enter here no inserts were done\n      node = formatWFS.writeTransaction(null, layerTrs[editLayer.layerName].update, null, formatGML);\n      str = xs.serializeToString(node);\n      return fetch(strUrl, {\n        method: 'POST', body: str\n      })\n        .then(respUpdate => {\n          console.log('text response update WFS', respUpdate.text());\n          layerTrs[editLayer.layerName].update = [];\n          if (layerTrs[editLayer.layerName].delete.length > 0) {\n            // Edits should be done in chain... 1)insert, 2)updates, 3) deletes // if enter here only deletes were done\n            node = formatWFS.writeTransaction(null, null, layerTrs[editLayer.layerName].delete, formatGML);\n            str = xs.serializeToString(node);\n            return fetch(strUrl, {\n              method: 'POST', body: str\n            })\n              .then(respDelete => {\n                return respDelete.text();\n              })\n              .then(textDelete => {\n                console.log('text response update WFS', textDelete);\n                layerTrs[editLayer.layerName].delete = [];\n                console.log('edit array', layerTrs[editLayer.layerName].delete);\n              });\n          }\n        })\n        .then(() => {\n          // cleaning the editbuffer when only updates and deletes where done\n          this.editBuffer = this.editBuffer.filter(obj => obj.layerName !== editLayer.layerName);\n          console.log('this.editBufferTemp after saving', this.editBuffer);\n        });\n    }\n    if (layerTrs[editLayer.layerName].delete.length > 0) {\n      console.log ('entra aqui?.. mientras espera la subscription..');\n      // Edits should be done in chain... 1)insert, 2)updates, 3) deletes // if enter here only deletes were done\n      node = formatWFS.writeTransaction(null, null, layerTrs[editLayer.layerName].delete, formatGML);\n      str = xs.serializeToString(node);\n      return fetch(strUrl, {\n        method: 'POST', body: str\n      })\n        .then(respDelete => {\n          return respDelete.text();\n        })\n        .then(respDelete => {\n          console.log('text response update WFS', respDelete);\n          layerTrs[editLayer.layerName].delete = [];\n          // cleaning the editbuffer when only deletes were done\n          this.editBuffer = this.editBuffer.filter(obj => obj.layerName !== editLayer.layerName);\n          console.log('this.editBufferTemp after saving', this.editBuffer);\n          });\n    }\n  }\n\n  saveWFSAll(){\n  /** this saves all the changes accumulated in the editWFSbuffer\n   * it helps to prevent any data loss\n   * #TODO\n   */\n  }\n\n  findLayer(layername: string) {\n    /**\n     * find the object layer with the name @layername\n     * @param layername: string, the name of the layer to find\n     * @return tlayer: the object layer found\n     */\n    let tlayer: any = null;\n    try{\n      this.map.getLayers().forEach(layer => {\n        if (layer.get('name') === layername) {\n          console.log ('layer.get(\\'name\\')', layer.get('name'), this.curEditingLayer.layerName === layer.get('name'));\n          tlayer = layer;\n          return (tlayer);\n        }\n      });\n    }\n    catch (e) {\n      console.log('error getting the layer', e);\n    }\n  }\n\n  startTranslating()\n  {\n    /** enables to move (translate features selected with a rectangle\n     * The user first select the features and then click in the location where those features will be located\n     * so far no difference in the code for sketch and WFS layers..\n     */\n   const lyr = this.findLayer(this.curEditingLayer.layerName);\n   const updateFeats = [];\n   if (lyr === null) {\n     alert('Error retrieving current layer');\n     return;\n   }\n   this.removeInteractions();\n   this.select = new Select({\n      layers: [lyr],   // avoid selecting in other layers..\n      condition: click,  // check if this work on touch\n      hitTolerance: 7,    // check if we should adjust for # types of geometries..\n      style: this.selectStyle,\n    });\n   this.map.addInteraction(this.select);\n   console.log('interactions in the map',this.map.getInteractions());\n   this.dragBox = new DragBox({className: 'boxSelect'});\n   this.map.addInteraction(this.dragBox);\n   const self = this;\n   const tsource = this.curEditingLayer.source;\n   // add #TODO here the rest of the code.\n   // clear a previous selection\n\n   this.dragBox.on('boxend', () => {\n    if (this.dragBox.getGeometry() == null) {\n      return;\n    }\n    const extent = this.dragBox.getGeometry().getExtent();\n    tsource.forEachFeatureIntersectingExtent(extent, f => {\n            const lastFeat = f.clone();\n            lastFeat.setId(f.getId());\n            f.set('oldFeat', lastFeat);\n            self.select.getFeatures().push(f);\n            self.cacheFeatures.push({\n            layerName: self.curEditingLayer.layerName,\n            transaction: 'translate',  // would it be better to add the opposite operation already, e.g., insert?\n            feats: lastFeat,\n            source: self.curEditingLayer.source\n            });\n          }\n        );\n     });\n    // Add the translation interaction to the selected features\n   const selectedFeatures = this.select.getFeatures();\n   this.translate = new Translate({\n      features: selectedFeatures\n    });\n   this.map.addInteraction(this.translate);\n   // insert features into the editBuffer and cacheFeatures\n   this.translate.on('translateend', () => {\n     console.log('selected features', selectedFeatures);\n     selectedFeatures.forEach( f => {\n       updateFeats.push(f);\n     });\n\n     // const tempId = f.getId();\n     // independently of old or new feat, just add the translation) #TODO check if the order is correct --> last position is saved\n     self.editBuffer.push({\n         layerName: self.curEditingLayer.layerName,\n         transaction: 'update',\n         feats: updateFeats,    // add all the features moved in a unique transaction --> check in saving WFS\n         source: tsource\n       });\n     this.select.getFeatures().clear();\n     });\n   console.log('self.editBuffer', self.editBuffer);\n     // clear the selection\n\n   //\n   // action can be undo\n   this.canBeUndo = true;\n\n   // each time of starting a box clear features\n   this.dragBox.on('boxstart', function() {\n      self.select.getFeatures().clear();\n   });\n  }\n\n\n  startRotating() {\n\n  }\n  startCopying()\n  {\n  }\n  startIdentifying()\n  {\n  }\n  startMeasuring() {\n  }\n\n  updateOrderVisibleLayers(editLayers) {\n    /** updates the order in which layers are rendered in the map\n     * @param editLayers: the list of layers to arrange the order (emitted by the layerPanel component)\n     */\n    const nLayers = editLayers.length;\n    let tIndex = 1;\n    for (const lyr of editLayers) {\n      this.map.getLayers().forEach(layer => {\n        if (layer.get('name') == lyr.layerName) {\n          layer.setZIndex(nLayers - tIndex);\n          tIndex = tIndex + 1;\n        }\n      });\n    }\n   }\n  removeInteractions(){\n    /**\n     * Remove the interactions to draw, select or move\n     */\n    try {\n      this.map.removeInteraction(this.draw);\n      this.map.removeInteraction(this.select);\n      this.map.removeInteraction(this.translate);\n      this.map.removeInteraction(this.snap);\n      this.map.removeInteraction(this.dragBox);\n     /* this.draw.setActive(false);\n      this.select.setActive(false);\n      this.translate.setActive(false);\n      this.snap.setActive(false);\n      this.dragBox.setActive(false); */\n    }\n    catch (e) {\n      console.log ('Error removing interactions', e);\n    }\n  }\n  findGeometryType(layerName){\n     /** Finds the geometry type of the layerName by looking in the dictionary filled when parsing the QGS project\n      * @oaram layerName: the name of the layer to look for the geometry type\n      */\n    let geometryType = null;\n    if (this.layersGeometryType[layerName]){\n      geometryType = this.layersGeometryType[layerName].layerGeom;\n    }\n    // console.log('geometryType', layerName, geometryType);\n    return (geometryType);\n  }\n  addDragPinchInteractions(){\n    // console.log(\"aqui agregando dragpinch\", this.map.getInteractions());\n    try {\n      const self = this;\n      this.map.getInteractions().forEach(\n        interaction => {\n          if (interaction instanceof DragPan || interaction instanceof DragZoom || interaction instanceof DragRotate\n            || interaction instanceof PinchZoom   || interaction instanceof PinchRotate)\n          {\n            interaction.setActive(true);\n           // self.map.removeInteraction(interaction);\n          }\n        });\n      if (!(this.pinchZoom)){\n        this.map.addInteraction(this.pinchZoom); // check if is there\n      }\n      if (!(this.pinchRotate)){\n        this.map.addInteraction(this.pinchRotate);   // check if is there\n      }\n    }\n    catch (e) {\n      console.log ('Error readding Drag/Pinch interactions', e);\n    }\n\n}\n\n\n  ngOnDestroy() {\n    // prevent memory leak when component destroyed\n    // unsubscribe all the subscriptions\n     const subscriptions = new Subscription();\n     subscriptions.add(this.subsTocurrentSymbol).add(this.subsToShapeEdit);\n     subscriptions.unsubscribe();\n  }\n\n}\n\n\n// have a default map? have a parameter in the cinfiguration file..\n\n","<div id=\"map\" class=\"map\">\n</div>\n<app-layer-panel [editLayers]=\"loadedWfsLayers\" (layerVisClick)=\"updateMapVisibleLayer($event)\"\n(editLayerClick)=\"updateEditingLayer($event)\"\n(layersOrder) = \"updateOrderVisibleLayers($event)\"></app-layer-panel>\n\n","import {NgModule} from '@angular/core';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {ClipboardModule} from '@angular/cdk/clipboard';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    ClipboardModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    PortalModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class DemoMaterialModule {}\r\n","import { Injectable } from '@angular/core';\nimport {Subject} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OpenLayersService {\n  private existingProject = new Subject<any>();\n  existingProject$ = this.existingProject.asObservable();\n  private showEditToolbarSource = new Subject<boolean>();\n  showEditToolbar$ = this.showEditToolbarSource.asObservable();\n // object: {[key: string]: string};\n  private layerEditingSource = new Subject <{layerName: any; layerGeom: any; }>();\n  layerEditing$ = this.layerEditingSource.asObservable();\n  private shapeEditTypeSource = new Subject<string>();\n  shapeEditType$ = this.shapeEditTypeSource.asObservable();\n  private showSymbolPanelSource = new Subject <boolean>();\n  showSymbolPanel$ = this.showSymbolPanelSource.asObservable();\n  private currentSymbolSource = new Subject<any>();\n  currentSymbol$ = this.currentSymbolSource.asObservable();\n  private saveCurrentLayerSource = new Subject<any>();\n  saveCurrentLayer$ = this.saveCurrentLayerSource.asObservable();\n  private deleteFeatsSource = new Subject<any>();\n  deleteFeats$ = this.deleteFeatsSource.asObservable();\n  private editActionSource = new Subject<any>();\n  editAction$ = this.editActionSource.asObservable();\n  private zoomHomeSource = new Subject<boolean>();\n  zoomHome$ = this.zoomHomeSource.asObservable();\n  constructor() { }\n\n  updateExistingProject(projectOpened: boolean){\n    /**\n     * @param projectOpened: indicates if there is a project opened (not a default view)\n     */\n    this.existingProject.next(projectOpened);\n  }\n\n  updateZoomHome(value= true){\n    /**\n     * sends a request to the map component to go to the Home\n     */\n    this.zoomHomeSource.next(value);\n  }\n\n  updateShapeEditType(shapeEdit: any){\n    this.shapeEditTypeSource.next(shapeEdit);\n  }\n\n  updateDeleteFeats(active: boolean){\n    /** Updates the observable to the next value\n     * active: boolean; true or false to allow delete features\n     */\n    this.deleteFeatsSource.next(active);\n  }\n\n  updateEditAction(action: string){\n    /** Updates the observable to the next value\n     * @parama action: string indicating the action 'ModifyBox', 'Delete', 'Copy' , etc to perform in the map\n     */\n    this.editActionSource.next(action);\n  }\n\n  updateSaveCurrentLayer(save: true){\n    /** Updates the observable to the next value\n     * visible: boolean; true or false to show/hide the editing toolbar\n     */\n    this.saveCurrentLayerSource.next(save);\n  }\n\n  updateShowEditToolbar(visible: boolean) {\n    /** Updates the observable to the next value\n     * visible: boolean; true or false to show/hide the editing toolbar\n     */\n    this.showEditToolbarSource.next(visible);\n  }\n\n  updateLayerEditing(layerName, layerGeom){\n    /** Updates the observable Geometry type for editing to the next value\n     * geom: string; the geometry type: point, line, polygons..\n     */\n    this.layerEditingSource.next({layerName, layerGeom});\n  }\n\n  updateShowSymbolPanel(visible: boolean) {\n    /** Updates the observable ShowSymbolPanel to the next value\n     * @param visible: boolean true or false to show/hide the editing toolbar\n     */\n    this.showSymbolPanelSource.next(visible);\n  }\n\n  updateCurrentSymbol(symbol: any) {\n    /** Updates the observable ShowSymbolPanel to the next value\n     * @param symbol: style to be used to draw current feature\n     */\n    this.currentSymbolSource.next(symbol);\n  }\n}\n","import {AfterViewInit, Component, Directive, ElementRef, Input, OnInit, QueryList, ViewChild, ViewChildren} from '@angular/core';\nimport { Observable, Subscription,  of as observableOf } from 'rxjs';\nimport {OpenLayersService} from '../open-layers.service';\nimport {MapQgsStyleService} from '../map-qgs-style.service';\nimport { DEVICE_PIXEL_RATIO } from 'ol/has.js';\nimport {toContext} from 'ol/render';\nimport Feature from 'ol/Feature';\nimport Polygon from 'ol/geom/Polygon';\nimport Point from 'ol/geom/Point';\nimport LineString from 'ol/geom/LineString';\nimport {AppConfiguration} from '../app-configuration';\nimport {Fill, Stroke, Style, Icon, Circle, RegularShape} from 'ol/style';\nimport {style} from '@angular/animations';\nimport {extend} from 'ol/extent';\n@Component({\n  selector: 'app-symbol-list',\n  templateUrl: './symbol-list.component.html',\n  styleUrls: ['./symbol-list.component.scss']\n})\nexport class SymbolListComponent implements OnInit, AfterViewInit {\n  @ViewChild('symbolList', {static: false}) symbolList: ElementRef <HTMLCanvasElement>;   // to access the properties of canvas\n  // @ViewChildren('canvas') myCanvas: ElementRef<HTMLCanvasElement>;   // to access the properties of canvas\n  @ViewChildren('cmp') myCanvas: QueryList<ElementRef<HTMLCanvasElement>>; // it works\n  variable = '';\n  symbolActiveKey: any = null;\n  x = 0;\n  y = 0;\n  startX = 0;\n  startY = 0;\n  symbols$ = {};\n  symbolsLength = 0;\n  geometryTypeSymbols: string;\n  displaySymbolList$: Observable<boolean>;\n  subscriptionToShowSymbols: Subscription;\n  editLayerName$: Observable<string>;\n  subscriptionToLayerEditing: Subscription;\n  styles: any;   // parece un dict\n  constructor(private openLayersService: OpenLayersService, private mapQgsStyleService: MapQgsStyleService) {\n  this.subscriptionToShowSymbols = this.openLayersService.showSymbolPanel$.subscribe(\n    data => {\n      this.displaySymbolList$ = observableOf(data);\n    },\n      error => {console.log ('Error in subscription to showSymbolPanel', error);}\n  );\n  this.subscriptionToLayerEditing = this.openLayersService.layerEditing$.subscribe(\n    data => {\n      this.styles = this.mapQgsStyleService.getLayerStyle(data.layerName);\n      // console.log('styles in symbolList.. pasito a pasito', this.styles);\n      this.symbols$ = this.getSymbolList (this.styles);\n      this.symbolsLength = Object.keys(this.symbols$).length;\n      this.geometryTypeSymbols = data.layerGeom;\n    },\n      error => console.log('Error in subscription to Layer Editing in SymbolList', error)\n  );\n  }\n  onPanStart(event: any): void {\n    /** Sets the current coordinates of the layerPanel to use later when setting a new position\n     * triggered when a pan event starts in the layerpanel card\n     * @param event, type event\n     */\n    this.startX = this.x;\n    this.startY = this.y;\n  }\n  onPan(event: any): void {\n    /** Sets the new location of the layerPanel after a pan event was triggered in the layerPanel card\n     * @param event, type event\n     */\n    event.preventDefault();\n    this.x = this.startX + event.deltaX;\n    this.y = this.startY + event.deltaY;\n  }\n\n  ngOnInit(): void {\n    this.displaySymbolList$ = observableOf(true);  // #Only for development purposes, #TODO put in fs\n  }\n\n  ngAfterViewInit(){\n   this.myCanvas.changes.subscribe((r) => {\n     // console.log('r', r);\n      this.createSymbolsinCanvas();\n    });\n  }\n\n  getSymbolList(styles: any) {\n    /** Creates a dictionary with the styles per class when needed\n     * @param styles: the array with the classes and styles\n     */\n    // console.log('que hay en styles', styles);\n    let symbolDict = {};\n    for (const key of Object.keys(styles)){\n      // console.log(`${key} -> ${styles[key].value}`);\n      symbolDict[styles[key].value] = styles[key].style;\n    }\n    // console.log('estilos en dict format', symbolDict);\n    return symbolDict;\n  }\n\n  closeListSymbols(){\n    this.displaySymbolList$ = observableOf(false);\n  }\n createSymbolsinCanvas(){\n    // to test layerGeom: string, styles: any\n   /** Edita los canvas creados for each symbol by adding a feature with the styles on it\n    * @param styles: array;\n    * @param layerGeom: geometry of the layer as specified in the QGIS project ;\n    */\n   // let canvas = this.myCanvas.toArray()[i].nativeElement;\n   let feature: any;\n   const allCanvas = this.myCanvas.toArray();\n   for (let i = 0 ; i < allCanvas.length ; i++) {\n     const factor = 10; // factor to use in scaling symbol in the canvas\n     const canvas = allCanvas[i];\n     if (canvas.nativeElement.getContext('2d')) {\n       let key = canvas.nativeElement.id;\n       const width = canvas.nativeElement.width * devicePixelRatio;\n       const height = canvas.nativeElement.height * devicePixelRatio;\n       canvas.nativeElement.width = width;\n       canvas.nativeElement.height = height;\n      // console.log('width and height', height, width, canvas.nativeElement.width , devicePixelRatio  );\n       const render = toContext(canvas.nativeElement.getContext('2d'));\n       let stylelayer = this.symbols$[key];\n       let stylelayerClone = [];   // clone the style hopefully deep copy\n       switch (this.geometryTypeSymbols) {\n         case 'Point': {\n           const cx = width / 2;\n           const cy = height / 2;\n           feature = new Feature(new Point([cx, cy]));\n           // possible solution or workaround for SVG\n           // https://stackoverflow.com/questions/54696758/how-do-i-draw-a-javascript-modified-svg-object-on-a-html5-canvas\n           const tempStyle = new Style({\n             image: new Icon({\n               color: '#8959A8',\n               crossOrigin: 'anonymous',\n               imgSize: [20, 20],\n               src: 'svg/religion/place_of_worship_christian3.svg'\n             })\n           });\n           render.drawFeature(feature, tempStyle);\n           feature = new Feature(new Point([cx + cx/3, cy]));  // only for testing\n           stylelayerClone.push(new Style({\n             image: new RegularShape({\n               fill: new Fill({color: 'yellow'}),\n               stroke: new Stroke({color: 'red'}),\n               points: 3,\n               radius: 30,\n               rotation: Math.PI / 4,\n               angle: 0 })\n           }));\n           /*  #TODO replace for the correct code\n            if ( img && img.getSize() != null) {\n                   // #TODO Temporal to replace\n                   const anchor = img.getAnchor();\n                   const si = img.getSize();\n                   console.log('anchor, size', anchor, si);\n                 }\n                 else {\n\n                 } */\n           break;\n         }\n         case 'Line': {\n           // calculate the start and end point and draw as styles are defined in the array\n           let heigthStroke = height / 2;\n           let cloneStyle: any;\n           let strokeClone: any;\n           for (const style of stylelayer) {\n             cloneStyle = style.clone();\n             strokeClone = cloneStyle.getStroke();\n             strokeClone.setWidth(strokeClone.getWidth() * factor);   // 10 to mkae the line visible.\n             heigthStroke =  (height - strokeClone.getWidth()) / 2 ;\n             cloneStyle.setStroke(strokeClone);\n             stylelayerClone.push(cloneStyle);\n           }\n           feature = new Feature(new LineString([[10, heigthStroke], [ width - (width / 4), heigthStroke ]]));\n           // console.log('height, width and feature', heigthStroke, strokeClone.getWidth(), feature.getProperties());\n           //render.drawFeature(feature, testStyle);\n           break;\n         }\n         case 'Polygon': {\n           // en landuse 9 es muy interesante, pattern is not visible\n           render.lineWidth = 5;\n           const wide = width - (width / 4);\n           const high = height - (height / 4);\n           feature = new Feature(new Polygon([[[0, 0], [0, high], [wide, high], [wide, 0], [0, 0]]]));\n           break;\n         }\n       }\n       // if stylelayerClone has something it will be drawn\n       if (stylelayerClone.length > 0 ){\n         for (let style of stylelayerClone) {\n           render.drawFeature(feature, style);\n         }\n       }\n       else\n       {\n         for (let style of stylelayer) {\n           // console.log('style', style );\n           render.drawFeature(feature, style);\n         }\n       }\n     }\n    }\n }\n\n  updateActivesymbol(symbol: any){\n    /**\n     * update the activeSymbol\n     * @param symbol: array of styles\n     * @key: the key o the div\n     *\n     */\n    //console.log('y ahora que sigue..activeKey, key, value.', this.symbolActiveKey, symbol.key, symbol );\n    this.symbolActiveKey = symbol.key;\n    let curDiv = document.getElementById('+' + symbol.key );\n    curDiv.className += \" active\";\n    // console.log('symbol in symbollist',symbol);\n    this.openLayersService.updateCurrentSymbol(symbol);\n  }\n\n\n}\n","<div class =\"example-list\"   *ngIf=\"displaySymbolList$ | async\" [style.left.px]=\"x\" [style.top.px]=\"y\"\n     (panstart)=\"onPanStart($event)\" (panmove)=\"onPan($event)\">\n<mat-card class=\"symbol-list\"  #symListCard>\n  <mat-card-title-group>\n    <mat-card-title class=\"panelTitle\">Symbols</mat-card-title>\n    <button mat-mini-fab (click)=\"closeListSymbols()\" class=\"matCloseWrapper\">\n      <mat-icon  class= \"closeIcon\">close</mat-icon>\n    </button>\n  </mat-card-title-group>\n  <mat-divider class = \"toolbarDivider\"></mat-divider>\n  <span *ngIf= \"symbolsLength == 0\"> ..creating List of Symbols</span>\n  <!--<mat-list-item *ngFor=\"let symbol of symbols | keyvalue\" class = \"mat-list-item active\" >\n    <button mat-icon-button (click)=\"changeCurrentSymbol(img)\" > <img src = {{img.value}} > {{ img.key}}\n    </button>\n  </mat-list-item>  !-->\n  <!--<canvas id=\"symbolList\" width=\"200\" height=\"200\"></canvas> -->\n  <span>{{variable}}</span>\n  <div class=\"symbol\" *ngFor=\"let symbol of symbols$ | keyvalue\">\n     <div id = \"+{{symbol.key}}\"  (click)=\"updateActivesymbol(symbol)\"\n      [ngClass]=\"symbolActiveKey == symbol.key? 'active': 'normal'\" >\n      <canvas id ={{symbol.key}} class=\"canvasSymbol\" #cmp></canvas>\n      <span> {{symbol.key}} </span>\n     </div>\n  </div>\n\n</mat-card>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {OpenLayersService} from '../open-layers.service';\nimport {MatIconRegistry} from '@angular/material/icon';\nimport {DomSanitizer} from '@angular/platform-browser';\n//import {Indicator, IndicatorAnimations} from '../indicator';\n\n@Component({\n  selector: 'app-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss']\n // animations: IndicatorAnimations\n})\nexport class ToolbarComponent implements OnInit {\n  x = 0;\n  y = 0;\n  startX = 0;\n  startY = 0;\n  subscriptionExistingProject: Subscription;\n  existingProject = true;\n\n  onPanStart(event: any): void {\n    this.startX = this.x;\n    this.startY = this.y;\n  }\n  onPan(event: any): void {\n    event.preventDefault();\n    this.x = this.startX + event.deltaX;\n    this.y = this.startY + event.deltaY;\n  }\n  zoomHome(){\n    this.openLayersService.updateZoomHome(true);\n  }\n   constructor(iconRegistry: MatIconRegistry, sanitizer: DomSanitizer, private openLayersService: OpenLayersService) {\n\n    iconRegistry.addSvgIcon(\n      'layerScratch',\n      sanitizer.bypassSecurityTrustResourceUrl('assets/img/baseline-layers-new-24px.svg')\n    );\n  }\n  createScratchLayer(){\n    /**\n     * #TODO  send a subscription? ...\n     */\n  }\n\n  ngOnInit(): void {\n    this.subscriptionExistingProject = this.openLayersService.existingProject$.subscribe(\n      (data: any) => this.existingProject = true,\n      (error) => {\n        alert('error retrieving existing project');\n        console.log(error);\n      });\n  }\n\n}\n","<!--suppress AngularUndefinedBinding -->  <!-- to fix a bug in webstorm -->\n\n<div class =\"mapToolbar\"   *ngIf=\"existingProject\" [style.left.px]=\"x\" [style.top.px]=\"y\"\n     (panstart)=\"onPanStart($event)\" (panmove)=\"onPan($event)\">\n<mat-card class=\"spacetitle\" color=\"primary\">\n <!-- <mat-card-title-group>\n    <mat-card-title class=\"toolbarTitle\">&nbsp;</mat-card-title>\n  </mat-card-title-group> -->\n  <mat-divider class = \"toolbarDivider\"></mat-divider>  <!-- to provide a space to drag -->\n  <mat-toolbar color=\"primary\">\n    <button matTooltip=\"Zoom to the study area\" aria-labelledby=\"Zoom to the study area\" mat-icon-button (click)=\"zoomHome()\">\n      <mat-icon>home</mat-icon>\n    </button>\n    <button mat-icon-button aria-labelledby=\"Show Layer Panel\" matTooltip=\"Show List of layers\" (click)=\"createScratchLayer()\" >\n      <mat-icon class=\"svgIconToolbar\">layers</mat-icon>\n    </button>\n    <!--<button mat-icon-button aria-labelledby=\"Edit layers\" matTooltip=\"Edit layers\" (click)=\"layerEditingChange()\">\n      <mat-icon>edit</mat-icon>\n    </button> !-->\n    <button mat-icon-button aria-labelledby=\"Add a scratch layer\" matTooltip=\"Add a scratch layer\" (click)=\"createScratchLayer()\" >\n    <mat-icon class=\"svgIconToolbar\" svgIcon=\"layerScratch\"></mat-icon>\n    </button>\n  </mat-toolbar>\n</mat-card>\n <!--  <div class=\"location\">({{x}}, {{y}})</div> esto muestra las coordenas que se usan para la nueva pos-->\n</div>\n\n\n\n\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n//import {DemoMaterialModule} from './app/material-module';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport 'hammerjs';  // make the gesture support globally available\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}